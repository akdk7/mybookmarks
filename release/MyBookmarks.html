<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }}</title>
  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAAEnCAYAAAD2JLvaAAAACXBIWXMAAAdiAAAHYgE4epnbAAAEt2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA5LTA3PC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmJlMWYwZTI1LWIzNTUtNDBlMi1iYjQyLWE4ZTllM2UxODUzNzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5EZXNpZ24gb2huZSBUaXRlbCAtIDE8L3JkZjpsaT4KICAgPC9yZGY6QWx0PgogIDwvZGM6dGl0bGU+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0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">
  <script>
/*! jQuery v4.0.0+7aa0179 | (c) OpenJS Foundation and other contributors | jquery.com/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,!0):t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";if(!e.document)throw Error("jQuery requires a window with a document");var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,u={},l=u.toString,c=u.hasOwnProperty,f=c.toString,p=f.call(Object),d={};function h(e){return null==e?e+"":"object"==typeof e?u[l.call(e)]||"object":typeof e}function g(e){return null!=e&&e===e.window}function v(e){var t=!!e&&e.length,n=h(e);return!("function"==typeof e||g(e))&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var y=e.document,m={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var r,i=(n=n||y).createElement("script");for(r in i.text=e,m)t&&t[r]&&(i[r]=t[r]);n.head.appendChild(i).parentNode&&i.parentNode.removeChild(i)}var b="4.0.0+7aa0179",w=/HTML$/i,T=function(e,t){return new T.fn.init(e,t)};function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}T.fn=T.prototype={jquery:b,constructor:T,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=T.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return T.each(this,e)},map:function(e){return this.pushStack(T.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(T.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()}},T.extend=T.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"!=typeof a&&"function"!=typeof a&&(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(T.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||T.isPlainObject(n)?n:{},i=!1,a[t]=T.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},T.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!!e&&"[object Object]"===l.call(e)&&(!(t=r(e))||"function"==typeof(n=c.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(v(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)while(t=e[r++])n+=T.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(v(Object(e))?T.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!w.test(t||n&&n.nodeName||"HTML")},contains:function(e,t){var n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,s=[];if(v(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o(s)},guid:1,support:d}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=n[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var j=n.pop,E="[\\x20\\t\\r\\n\\f]",k=y.documentMode,S=k&&RegExp(":enabled|:disabled|\\["+E+"*name"+E+"*="+E+"*(?:''|\"\")"),D=RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),A="(?:\\\\[\\da-fA-F]{1,6}"+E+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",N=RegExp("^"+E+"*([>+~]|"+E+")"+E+"*"),q=RegExp(E+"|>"),O=/[+~]/,L=y.documentElement,H=L.matches||L.msMatchesSelector;function P(){var e=[];function t(n,r){return e.push(n+" ")>T.expr.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function R(e){return e&&void 0!==e.getElementsByTagName&&e}var M="\\["+E+"*("+A+")(?:"+E+"*([*^$|!~]?=)"+E+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+A+"))|)"+E+"*\\]",W=":("+A+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",$={ID:RegExp("^#("+A+")"),CLASS:RegExp("^\\.("+A+")"),TAG:RegExp("^("+A+"|[*])"),ATTR:RegExp("^"+M),PSEUDO:RegExp("^"+W),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i")},I=new RegExp(W),F=RegExp("\\\\[\\da-fA-F]{1,6}"+E+"?|\\\\([^\\r\\n\\f])","g"),B=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))};function _(e){return e.replace(F,B)}function U(e){T.error("Syntax error, unrecognized expression: "+e)}var X=RegExp("^"+E+"*,"+E+"*"),z=P();function Y(e,t){var n,r,i,o,a,s,u,l=z[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=T.expr.preFilter;while(a){for(o in(!n||(r=X.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=N.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(D," ")}),a=a.slice(n.length)),$)(r=T.expr.match[o].exec(a))&&(!u[o]||(r=u[o](r)))&&(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?U(e):z(e,s).slice(0)}function G(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function V(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===h(n))for(s in i=!0,n)V(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,"function"!=typeof r&&(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(T(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o}var Q=/[^\x20\t\r\n\f]+/g;T.fn.extend({attr:function(e,t){return V(this,T.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){T.removeAttr(this,e)})}}),T.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?T.prop(e,t,n):(1===o&&T.isXMLDoc(e)||(i=T.attrHooks[t.toLowerCase()]),void 0!==n)?null===n||!1===n&&0!==t.toLowerCase().indexOf("aria-")?void T.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=e.getAttribute(t))?void 0:r},attrHooks:{},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Q);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),k&&(T.attrHooks.type={set:function(e,t){if("radio"===t&&C(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}});var J=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function K(e,t){return t?"\0"===e?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}T.escapeSelector=function(e){return(e+"").replace(J,K)};var Z=n.sort,ee=n.splice;function et(e,t){if(e===t)return en=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)?e==y||e.ownerDocument==y&&T.contains(y,e)?-1:t==y||t.ownerDocument==y&&T.contains(y,t)?1:0:4&n?-1:1}T.uniqueSort=function(e){var t,n=[],r=0,i=0;if(en=!1,Z.call(e,et),en){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)ee.call(e,n[r],1)}return e},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(i.apply(this)))};var en,er,ei,eo,ea,es,eu=0,el=0,ec=P(),ef=P(),ep=P(),ed=RegExp(E+"+","g"),eh=RegExp("^"+A+"$"),eg=T.extend({needsContext:RegExp("^"+E+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)","i")},$),ev=/^(?:input|select|textarea|button)$/i,ey=/^h\d$/i,em=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ex=function(){eE()},eb=eS(function(e){return!0===e.disabled&&C(e,"fieldset")},{dir:"parentNode",next:"legend"});function ew(e,t,n,r){var i,o,s,u,l,c,f,p=t&&t.ownerDocument,d=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!r&&(eE(t),t=t||eo,es)){if(11!==d&&(l=em.exec(e))){if(i=l[1]){if(9===d)return(s=t.getElementById(i))&&a.call(n,s),n;else if(p&&(s=p.getElementById(i))&&T.contains(t,s))return a.call(n,s),n}else if(l[2])return a.apply(n,t.getElementsByTagName(e)),n;else if((i=l[3])&&t.getElementsByClassName)return a.apply(n,t.getElementsByClassName(i)),n}if(!ep[e+" "]&&(!S||!S.test(e))){if(f=e,p=t,1===d&&(q.test(e)||N.test(e))){((p=O.test(e)&&R(t.parentNode)||t)!=t||k)&&((u=t.getAttribute("id"))?u=T.escapeSelector(u):t.setAttribute("id",u=T.expando)),o=(c=Y(e)).length;while(o--)c[o]=(u?"#"+u:":scope")+" "+G(c[o]);f=c.join(",")}try{return a.apply(n,p.querySelectorAll(f)),n}catch(t){ep(e,!0)}finally{u===T.expando&&t.removeAttribute("id")}}}return eq(e.replace(D,"$1"),t,n,r)}function eT(e){return e[T.expando]=!0,e}function eC(e){return function(t){if("form"in t){if(t.parentNode&&!1===t.disabled){if("label"in t)if("label"in t.parentNode)return t.parentNode.disabled===e;else return t.disabled===e;return t.isDisabled===e||!e!==t.isDisabled&&eb(t)===e}return t.disabled===e}return"label"in t&&t.disabled===e}}function ej(e){return eT(function(t){return t*=1,eT(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function eE(e){var t,n=e?e.ownerDocument||e:y;n!=eo&&9===n.nodeType&&(ea=(eo=n).documentElement,es=!T.isXMLDoc(eo),k&&y!=eo&&(t=eo.defaultView)&&t.top!==t&&t.addEventListener("unload",ex))}for(er in ew.matches=function(e,t){return ew(e,null,null,t)},ew.matchesSelector=function(e,t){if(eE(e),es&&!ep[t+" "]&&(!S||!S.test(t)))try{return H.call(e,t)}catch(e){ep(t,!0)}return ew(t,eo,null,[e]).length>0},T.expr={cacheLength:50,createPseudo:eT,match:eg,find:{ID:function(e,t){if(void 0!==t.getElementById&&es){var n=t.getElementById(e);return n?[n]:[]}},TAG:function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},CLASS:function(e,t){if(void 0!==t.getElementsByClassName&&es)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=_(e[1]),e[3]=_(e[3]||e[4]||e[5]||""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||U(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&U(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&I.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{ID:function(e){var t=_(e);return function(e){return e.getAttribute("id")===t}},TAG:function(e){var t=_(e).toLowerCase();return"*"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=ec[e+" "];return t||(t=RegExp("(^|"+E+")"+e+"("+E+"|$)"))&&ec(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=T.attr(r,e);return null==i?"!="===t:!t||((i+="","="===t)?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(ed," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,m=!1;if(g){if(o){while(h){f=t;while(f=f[h])if(s?C(f,v):1===f.nodeType)return!1;d=h="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){m=(p=(l=(c=g[T.expando]||(g[T.expando]={}))[e]||[])[0]===eu&&l[1])&&l[2],f=p&&g.childNodes[p];while(f=++p&&f&&f[h]||(m=p=0)||d.pop())if(1===f.nodeType&&++m&&f===t){c[e]=[eu,p,m];break}}else if(y&&(m=p=(l=(c=t[T.expando]||(t[T.expando]={}))[e]||[])[0]===eu&&l[1]),!1===m){while(f=++p&&f&&f[h]||(m=p=0)||d.pop())if((s?C(f,v):1===f.nodeType)&&++m&&(y&&((c=f[T.expando]||(f[T.expando]={}))[e]=[eu,m]),f===t))break}return(m-=i)===r||m%r==0&&m/r>=0}}},PSEUDO:function(e,t){var n=T.expr.pseudos[e]||T.expr.setFilters[e.toLowerCase()]||U("unsupported pseudo: "+e);return n[T.expando]?n(t):n}},pseudos:{not:eT(function(e){var t=[],n=[],r=eN(e.replace(D,"$1"));return r[T.expando]?eT(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:eT(function(e){return function(t){return ew(e,t).length>0}}),contains:eT(function(e){return e=_(e),function(t){return(t.textContent||T.text(t)).indexOf(e)>-1}}),lang:eT(function(e){return eh.test(e||"")||U("unsupported lang: "+e),e=_(e).toLowerCase(),function(t){var n;do if(n=es?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===ea},focus:function(e){return e===eo.activeElement&&eo.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:eC(!1),disabled:eC(!0),checked:function(e){return C(e,"input")&&!!e.checked||C(e,"option")&&!!e.selected},selected:function(e){return k&&e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.expr.pseudos.empty(e)},header:function(e){return ey.test(e.nodeName)},input:function(e){return ev.test(e.nodeName)},button:function(e){return C(e,"input")&&"button"===e.type||C(e,"button")},text:function(e){return C(e,"input")&&"text"===e.type},first:ej(function(){return[0]}),last:ej(function(e,t){return[t-1]}),eq:ej(function(e,t,n){return[n<0?n+t:n]}),even:ej(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ej(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ej(function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:ej(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T.expr.pseudos.nth=T.expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.expr.pseudos[er]=function(e){return function(t){return C(t,"input")&&t.type===e}}(er);for(er in{submit:!0,reset:!0})T.expr.pseudos[er]=function(e){return function(t){return(C(t,"input")||C(t,"button"))&&t.type===e}}(er);function ek(){}function eS(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=el++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f=[eu,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(c=t[T.expando]||(t[T.expando]={}),i&&C(t,i))t=t[r]||t;else{if((l=c[o])&&l[0]===eu&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=e(t,n,u))return!0}return!1}}function eD(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function eA(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function eN(e,t){var n,r,i,o,u=[],l=[],c=ef[e+" "];if(!c){t||(t=Y(e)),o=t.length;while(o--)(c=function e(t){for(var n,r,i,o=t.length,u=T.expr.relative[t[0].type],l=u||T.expr.relative[" "],c=+!!u,f=eS(function(e){return e===n},l,!0),p=eS(function(e){return s.call(n,e)>-1},l,!0),d=[function(e,t,r){var i=!u&&(r||t!=ei)||((n=t).nodeType?f(e,t,r):p(e,t,r));return n=null,i}];c<o;c++)if(r=T.expr.relative[t[c].type])d=[eS(eD(d),r)];else{if((r=T.expr.filter[t[c].type].apply(null,t[c].matches))[T.expando]){for(i=++c;i<o&&!T.expr.relative[t[i].type];i++);return function e(t,n,r,i,o,u){return i&&!i[T.expando]&&(i=e(i)),o&&!o[T.expando]&&(o=e(o,u)),eT(function(e,u,l,c){var f,p,d,h,g=[],v=[],y=u.length,m=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ew(e,t[r],n);return n}(n||"*",l.nodeType?[l]:l,[]),x=t&&(e||!n)?eA(m,g,t,l,c):m;if(r?r(x,h=o||(e?t:y||i)?[]:u,l,c):h=x,i){f=eA(h,v),i(f,[],l,c),p=f.length;while(p--)(d=f[p])&&(h[v[p]]=!(x[v[p]]=d))}if(e){if(o||t){if(o){f=[],p=h.length;while(p--)(d=h[p])&&f.push(x[p]=d);o(null,h=[],f,c)}p=h.length;while(p--)(d=h[p])&&(f=o?s.call(e,d):g[p])>-1&&(e[f]=!(u[f]=d))}}else h=eA(h===u?h.splice(y,h.length):h),o?o(null,u,h,c):a.apply(u,h)})}(c>1&&eD(d),c>1&&G(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(D,"$1"),r,c<i&&e(t.slice(c,i)),i<o&&e(t=t.slice(i)),i<o&&G(t))}d.push(r)}return eD(d)}(t[o]))[T.expando]?u.push(c):l.push(c);(c=ef(e,(n=u.length>0,r=l.length>0,i=function(e,t,i,o,s){var c,f,p,d=0,h="0",g=e&&[],v=[],y=ei,m=e||r&&T.expr.find.TAG("*",s),x=eu+=null==y?1:Math.random()||.1;for(s&&(ei=t==eo||t||s);null!=(c=m[h]);h++){if(r&&c){f=0,t||c.ownerDocument==eo||(eE(c),i=!es);while(p=l[f++])if(p(c,t||eo,i)){a.call(o,c);break}s&&(eu=x)}n&&((c=!p&&c)&&d--,e&&g.push(c))}if(d+=h,n&&h!==d){f=0;while(p=u[f++])p(g,v,t,i);if(e){if(d>0)while(h--)g[h]||v[h]||(v[h]=j.call(o));v=eA(v)}a.apply(o,v),s&&!e&&v.length>0&&d+u.length>1&&T.uniqueSort(o)}return s&&(eu=x,ei=y),g},n?eT(i):i))).selector=e}return c}function eq(e,t,n,r){var i,o,s,u,l,c="function"==typeof e&&e,f=!r&&Y(e=c.selector||e);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&es&&T.expr.relative[o[1].type]){if(!(t=(T.expr.find.ID(_(s.matches[0]),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=eg.needsContext.test(e)?0:o.length;while(i--){if(s=o[i],T.expr.relative[u=s.type])break;if((l=T.expr.find[u])&&(r=l(_(s.matches[0]),O.test(o[0].type)&&R(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&G(o)))return a.apply(n,r),n;break}}}return(c||eN(e,f))(r,t,!es,n,!t||O.test(e)&&R(t.parentNode)||t),n}function eO(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&T(e).is(n))break;r.push(e)}return r}function eL(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}ek.prototype=T.expr.pseudos,T.expr.setFilters=new ek,eE(),T.find=ew,ew.compile=eN,ew.select=eq,ew.setDocument=eE,ew.tokenize=Y;var eH=T.expr.match.needsContext,eP=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function eR(e){return"<"===e[0]&&">"===e[e.length-1]&&e.length>=3}function eM(e,t,n){return"function"==typeof t?T.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?T.grep(e,function(e){return e===t!==n}):"string"!=typeof t?T.grep(e,function(e){return s.call(t,e)>-1!==n}):T.filter(t,e,n)}T.filter=function(e,t,n){var r=t[0];return(n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType)?T.find.matchesSelector(r,e)?[r]:[]:T.find.matches(e,T.grep(t,function(e){return 1===e.nodeType}))},T.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(T(e).filter(function(){for(t=0;t<r;t++)if(T.contains(i[t],this))return!0}));for(t=0,n=this.pushStack([]);t<r;t++)T.find(e,i[t],n);return r>1?T.uniqueSort(n):n},filter:function(e){return this.pushStack(eM(this,e||[],!1))},not:function(e){return this.pushStack(eM(this,e||[],!0))},is:function(e){return!!eM(this,"string"==typeof e&&eH.test(e)?T(e):e||[],!1).length}});var eW,e$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t){var n,r;if(!e)return this;if(e.nodeType)return this[0]=e,this.length=1,this;if("function"==typeof e)return void 0!==eW.ready?eW.ready(e):e(T);if(eR(n=e+""))n=[null,e,null];else{if("string"!=typeof e)return T.makeArray(e,this);n=e$.exec(e)}if(n&&(n[1]||!t))if(!n[1])return(r=y.getElementById(n[2]))&&(this[0]=r,this.length=1),this;else{if(t=t instanceof T?t[0]:t,T.merge(this,T.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),eP.test(n[1])&&T.isPlainObject(t))for(n in t)"function"==typeof this[n]?this[n](t[n]):this.attr(n,t[n]);return this}return!t||t.jquery?(t||eW).find(e):this.constructor(t).find(e)}).prototype=T.fn,eW=T(y);var eI=/^(?:parents|prev(?:Until|All))/,eF={children:!0,contents:!0,next:!0,prev:!0};function eB(e,t){while((e=e[t])&&1!==e.nodeType);return e}function e_(e){return e}function eU(e){throw e}function eX(e,t,n,r){var i;try{e&&"function"==typeof(i=e.promise)?i.call(e).done(t).fail(n):e&&"function"==typeof(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n(e)}}T.fn.extend({has:function(e){var t=T(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(T.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&T(e);if(!eH.test(e)){for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,e))){o.push(n);break}}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(T(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return eO(e,"parentNode")},parentsUntil:function(e,t,n){return eO(e,"parentNode",n)},next:function(e){return eB(e,"nextSibling")},prev:function(e){return eB(e,"previousSibling")},nextAll:function(e){return eO(e,"nextSibling")},prevAll:function(e){return eO(e,"previousSibling")},nextUntil:function(e,t,n){return eO(e,"nextSibling",n)},prevUntil:function(e,t,n){return eO(e,"previousSibling",n)},siblings:function(e){return eL((e.parentNode||{}).firstChild,e)},children:function(e){return eL(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},function(e,t){T.fn[e]=function(n,r){var i=T.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=T.filter(r,i)),this.length>1&&(eF[e]||T.uniqueSort(i),eI.test(e)&&i.reverse()),this.pushStack(i)}}),T.Callbacks=function(e){e="string"==typeof e?(t=e,n={},T.each(t.match(Q)||[],function(e,t){n[t]=!0}),n):T.extend({},e);var t,n,r,i,o,a,s=[],u=[],l=-1,c=function(){for(a=a||e.once,o=r=!0;u.length;l=-1){i=u.shift();while(++l<s.length)!1===s[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=s.length,i=!1)}e.memory||(i=!1),r=!1,a&&(s=i?[]:"")},f={add:function(){return s&&(i&&!r&&(l=s.length-1,u.push(i)),!function t(n){T.each(n,function(n,r){"function"==typeof r?e.unique&&f.has(r)||s.push(r):r&&r.length&&"string"!==h(r)&&t(r)})}(arguments),i&&!r&&c()),this},remove:function(){return T.each(arguments,function(e,t){var n;while((n=T.inArray(t,s,n))>-1)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?T.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=i="",this},disabled:function(){return!s},lock:function(){return a=u=[],i||r||(s=i=""),this},locked:function(){return!!a},fireWith:function(e,t){return!a&&(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),r||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},T.extend({Deferred:function(t){var n=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return T.Deferred(function(t){T.each(n,function(n,r){var i="function"==typeof e[r[4]]&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&"function"==typeof e.promise?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw TypeError("Thenable self-resolution");"function"==typeof(l=e&&("object"==typeof e||"function"==typeof e)&&e.then)?i?l.call(e,a(o,n,e_,i),a(o,n,eU,i)):(o++,l.call(e,a(o,n,e_,i),a(o,n,eU,i),a(o,n,e_,n.notifyWith))):(r!==e_&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(e,c.error),t+1>=o&&(r!==eU&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(T.Deferred.getErrorHook&&(c.error=T.Deferred.getErrorHook()),e.setTimeout(c))}}return T.Deferred(function(e){n[0][3].add(a(0,e,"function"==typeof i?i:e_,e.notifyWith)),n[1][3].add(a(0,e,"function"==typeof t?t:e_)),n[2][3].add(a(0,e,"function"==typeof r?r:eU))}).promise()},promise:function(e){return null!=e?T.extend(e,i):i}},o={};return T.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),o=i.call(arguments),a=T.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?i.call(arguments):n,--t||a.resolveWith(r,o)}};if(t<=1&&(eX(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||"function"==typeof(o[n]&&o[n].then)))return a.then();while(n--)eX(o[n],s(n),a.reject);return a.promise()}});var ez=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,n){t&&ez.test(t.name)&&e.console.warn("jQuery.Deferred exception",t,n)},T.readyException=function(t){e.setTimeout(function(){throw t})};var eY=T.Deferred();function eG(){y.removeEventListener("DOMContentLoaded",eG),e.removeEventListener("load",eG),T.ready()}T.fn.ready=function(e){return eY.then(e).catch(function(e){T.readyException(e)}),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==e&&--T.readyWait>0||eY.resolveWith(y,[T]))}}),T.ready.then=eY.then,"loading"!==y.readyState?e.setTimeout(T.ready):(y.addEventListener("DOMContentLoaded",eG),e.addEventListener("load",eG));var eV=/-([a-z])/g;function eQ(e,t){return t.toUpperCase()}function eJ(e){return e.replace(eV,eQ)}function eK(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function eZ(){this.expando=T.expando+eZ.uid++}eZ.uid=1,eZ.prototype={cache:function(e){var t=e[this.expando];return!t&&(t=Object.create(null),eK(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[eJ(t)]=n;else for(r in t)i[eJ(r)]=t[r];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][eJ(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(eJ):(t=eJ(t))in r?[t]:t.match(Q)||[]).length;while(n--)delete r[t[n]]}(void 0===t||T.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var e0=new eZ,e1=new eZ,e2=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,e3=/[A-Z]/g;function e4(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(e3,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{i=n,n="true"===i||"false"!==i&&("null"===i?null:i===+i+""?+i:e2.test(i)?JSON.parse(i):i)}catch(e){}e1.set(e,t,n)}else n=void 0;return n}T.extend({hasData:function(e){return e1.hasData(e)||e0.hasData(e)},data:function(e,t,n){return e1.access(e,t,n)},removeData:function(e,t){e1.remove(e,t)},_data:function(e,t,n){return e0.access(e,t,n)},_removeData:function(e,t){e0.remove(e,t)}}),T.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=e1.get(o),1===o.nodeType&&!e0.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&e4(o,r=eJ(r.slice(5)),i[r]);e0.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){e1.set(this,e)}):V(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=e1.get(o,e))||void 0!==(n=e4(o,e))?n:void 0;this.each(function(){e1.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){e1.remove(this,e)})}}),T.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=e0.get(e,t),n&&(!r||Array.isArray(n)?r=e0.set(e,t,T.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=T.queue(e,t),r=n.length,i=n.shift(),o=T._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){T.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return e0.get(e,n)||e0.set(e,n,{empty:T.Callbacks("once memory").add(function(){e0.remove(e,[t+"queue",n])})})}}),T.fn.extend({queue:function(e,t){var n=2;return("string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n)?T.queue(this[0],e):void 0===t?this:this.each(function(){var n=T.queue(this,e,t);T._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&T.dequeue(this,e)})},dequeue:function(e){return this.each(function(){T.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=T.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=e0.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var e5=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,e9=RegExp("^(?:([+-])=|)("+e5+")([a-z%]*)$","i"),e6=["Top","Right","Bottom","Left"];function e8(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&"none"===T.css(e,"display")}var e7=/^[a-z]/,te=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;function tt(e){return e7.test(e)&&te.test(e[0].toUpperCase()+e.slice(1))}function tn(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return T.css(e,t,"")},u=s(),l=n&&n[3]||(tt(t)?"px":""),c=e.nodeType&&(!tt(t)||"px"!==l&&+u)&&e9.exec(T.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)T.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,T.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var tr=/^-ms-/;function ti(e){return eJ(e.replace(tr,"ms-"))}var to={};function ta(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=e0.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&e8(r)&&(i[o]=function(e){var t,n=e.ownerDocument,r=e.nodeName,i=to[r];return i||(t=n.body.appendChild(n.createElement(r)),i=T.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),to[r]=i),i}(r))):"none"!==n&&(i[o]="none",e0.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}T.fn.extend({show:function(){return ta(this,!0)},hide:function(){return ta(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){e8(this)?T(this).show():T(this).hide()})}});var ts=function(e){return T.contains(e.ownerDocument,e)||e.getRootNode(tu)===e.ownerDocument},tu={composed:!0};L.getRootNode||(ts=function(e){return T.contains(e.ownerDocument,e)});var tl=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,tc={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};function tf(e,t){var r;return(r=void 0!==e.getElementsByTagName?n.slice.call(e.getElementsByTagName(t||"*")):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t))?T.merge([e],r):r}tc.tbody=tc.tfoot=tc.colgroup=tc.caption=tc.thead,tc.th=tc.td;var tp=/^$|^module$|\/(?:java|ecma)script/i;function td(e,t){for(var n=0,r=e.length;n<r;n++)e0.set(e[n],"globalEval",!t||e0.get(t[n],"globalEval"))}var th=/<|&#?\w+;/;function tg(e,t,r,i,o){for(var a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,g=e.length;d<g;d++)if((a=e[d])||0===a)if("object"===h(a)&&(a.nodeType||v(a)))T.merge(p,a.nodeType?[a]:a);else if(th.test(a)){s=s||f.appendChild(t.createElement("div")),c=(u=tc[(tl.exec(a)||["",""])[1].toLowerCase()]||n).length;while(--c>-1)s=s.appendChild(t.createElement(u[c]));s.innerHTML=T.htmlPrefilter(a),T.merge(p,s.childNodes),(s=f.firstChild).textContent=""}else p.push(t.createTextNode(a));f.textContent="",d=0;while(a=p[d++]){if(i&&T.inArray(a,i)>-1){o&&o.push(a);continue}if(l=ts(a),s=tf(f.appendChild(a),"script"),l&&td(s),r){c=0;while(a=s[c++])tp.test(a.type||"")&&r.push(a)}}return f}function tv(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ty(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function tm(e,t,n,r){t=o(t);var i,a,s,u,l,c,f=0,p=e.length,d=p-1,h=t[0];if("function"==typeof h)return e.each(function(i){var o=e.eq(i);t[0]=h.call(this,i,o.html()),tm(o,t,n,r)});if(p&&(a=(i=tg(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(u=(s=T.map(tf(i,"script"),tv)).length;f<p;f++)l=i,f!==d&&(l=T.clone(l,!0,!0),u&&T.merge(s,tf(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,T.map(s,ty),f=0;f<u;f++)l=s[f],tp.test(l.type||"")&&!e0.get(l,"globalEval")&&T.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?T._evalUrl&&!l.noModule&&T._evalUrl(l.src,{nonce:l.nonce,crossOrigin:l.crossOrigin},c):x(l.textContent,l,c))}return e}var tx=/^(?:checkbox|radio)$/i,tb=/^([^.]*)(?:\.(.+)|)/;function tw(){return!0}function tT(){return!1}function tC(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)tC(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=tT;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return T().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=T.guid++)),e.each(function(){T.event.add(this,t,i,r,n)})}function tj(e,t,n){if(!n){void 0===e0.get(e,t)&&T.event.add(e,t,tw);return}e0.set(e,t,!1),T.event.add(e,t,{namespace:!1,handler:function(e){var n,r=e0.get(this,t);if(1&e.isTrigger&&this[t]){if(r.length)(T.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=i.call(arguments),e0.set(this,t,r),this[t](),n=e0.get(this,t),e0.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(e0.set(this,t,{value:T.event.trigger(r[0],r.slice(1),this)}),e.stopPropagation(),e.isImmediatePropagationStopped=tw)}})}T.event={add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=e0.get(e);if(eK(e)){n.handler&&(n=(o=n).handler,i=o.selector),i&&T.find.matchesSelector(L,i),n.guid||(n.guid=T.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(Q)||[""]).length;while(l--){if(d=g=(s=tb.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),!d)continue;f=T.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=T.event.special[d]||{},c=T.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,(!f.setup||!1===f.setup.call(e,r,h,a))&&e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c)}}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=e0.hasData(e)&&e0.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(Q)||[""]).length;while(l--){if(d=g=(s=tb.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),!d){for(d in u)T.event.remove(e,d+t[l],n,r,!0);continue}f=T.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],(i||g===c.origType)&&(!n||n.guid===c.guid)&&(!s||s.test(c.namespace))&&(!r||r===c.selector||"**"===r&&c.selector)&&(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||T.removeEvent(e,d,v.handle),delete u[d])}T.isEmptyObject(u)&&e0.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=Array(arguments.length),u=T.event.fix(e),l=(e0.get(this,"events")||Object.create(null))[u.type]||[],c=T.event.special[u.type]||{};for(t=1,s[0]=u;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=T.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())(!u.rnamespace||!1===o.namespace||u.rnamespace.test(o.namespace))&&(u.handleObj=o,u.data=o.data,void 0!==(r=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&!("click"===e.type&&e.button>=1)){for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(n=0,o=[],a={};n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?T(i,this).index(l)>-1:T.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:"function"==typeof t?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:T.extend(Object.create(null),{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return tx.test(t.type)&&t.click&&C(t,"input")&&tj(t,"click",!0),!1},trigger:function(e){var t=this||e;return tx.test(t.type)&&t.click&&C(t,"input")&&tj(t,"click"),!0},_default:function(e){var t=e.target;return tx.test(t.type)&&t.click&&C(t,"input")&&e0.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.preventDefault()}}})},T.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?tw:tT,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:tT,isPropagationStopped:tT,isImmediatePropagationStopped:tT,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=tw,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=tw,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=tw,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){var t=T.event.fix(e);t.type="focusin"===e.type?"focus":"blur",t.isSimulated=!0,t.target===t.currentTarget&&e0.get(this,"handle")(t)}T.event.special[e]={setup:function(){if(tj(this,e,!0),!k)return!1;this.addEventListener(t,n)},trigger:function(){return tj(this,e),!0},teardown:function(){if(!k)return!1;this.removeEventListener(t,n)},_default:function(t){return e0.get(t.target,e)},delegateType:t}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){T.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||T.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),T.fn.extend({on:function(e,t,n,r){return tC(this,e,t,n,r)},one:function(e,t,n,r){return tC(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,T(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=tT),this.each(function(){T.event.remove(this,e,n,t)})}});var tE=/<script|<style|<link/i;function tk(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function tS(e,t){var n,r,i,o=e0.get(e,"events");if(1===t.nodeType){if(o)for(n in e0.remove(t,"handle events"),o)for(r=0,i=o[n].length;r<i;r++)T.event.add(t,n,o[n][r]);e1.hasData(e)&&e1.set(t,T.extend({},e1.get(e)))}}function tD(e,t,n){for(var r,i=t?T.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||T.cleanData(tf(r)),r.parentNode&&(n&&ts(r)&&td(tf(r,"script")),r.parentNode.removeChild(r));return e}T.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=ts(e);if(k&&(1===e.nodeType||11===e.nodeType)&&!T.isXMLDoc(e))for(r=0,a=tf(s),i=(o=tf(e)).length;r<i;r++)C(a[r],"textarea")&&(a[r].defaultValue=o[r].defaultValue);if(t)if(n)for(r=0,o=o||tf(e),a=a||tf(s),i=o.length;r<i;r++)tS(o[r],a[r]);else tS(e,s);return(a=tf(s,"script")).length>0&&td(a,!u&&tf(e,"script")),s},cleanData:function(e){for(var t,n,r,i=T.event.special,o=0;void 0!==(n=e[o]);o++)if(eK(n)){if(t=n[e0.expando]){if(t.events)for(r in t.events)i[r]?T.event.remove(n,r):T.removeEvent(n,r,t.handle);n[e0.expando]=void 0}n[e1.expando]&&(n[e1.expando]=void 0)}}}),T.fn.extend({detach:function(e){return tD(this,e,!0)},remove:function(e){return tD(this,e)},text:function(e){return V(this,function(e){return void 0===e?T.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return tm(this,arguments,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&tk(this,e).appendChild(e)})},prepend:function(){return tm(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=tk(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return tm(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return tm(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(tf(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return T.clone(this,e,t)})},html:function(e){return V(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!tE.test(e)&&!tc[(tl.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(T.cleanData(tf(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return tm(this,arguments,function(t){var n=this.parentNode;0>T.inArray(this,e)&&(T.cleanData(tf(this)),n&&n.replaceChild(t,this))},e)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){T.fn[e]=function(e){for(var n,r=[],i=T(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),T(i[s])[t](n),a.apply(r,n);return this.pushStack(r)}});var tA=RegExp("^("+e5+")(?!px)[a-z%]+$","i"),tN=/^--/;function tq(t){var n=t.ownerDocument.defaultView;return n||(n=e),n.getComputedStyle(t)}function tO(e,t,n){var r,i=tN.test(t);return(n=n||tq(e))&&(r=n.getPropertyValue(t)||n[t],i&&r&&(r=r.replace(D,"$1")||void 0),""!==r||ts(e)||(r=T.style(e,t))),void 0!==r?r+"":r}var tL=["Webkit","Moz","ms"],tH=y.createElement("div").style;function tP(e){return e in tH?e:function(e){var t=e[0].toUpperCase()+e.slice(1),n=tL.length;while(n--)if((e=tL[n]+t)in tH)return e}(e)||e}var tR,tM,tW=y.createElement("table");function t$(){if(tW&&tW.style){var t,n=y.createElement("col"),r=y.createElement("tr"),i=y.createElement("td");if(tW.style.cssText="position:absolute;left:-11111px;border-collapse:separate;border-spacing:0",r.style.cssText="box-sizing:content-box;border:1px solid;height:1px",i.style.cssText="height:9px;width:9px;padding:0",n.span=2,L.appendChild(tW).appendChild(n).parentNode.appendChild(r).appendChild(i).parentNode.appendChild(i.cloneNode(!0)),0===tW.offsetWidth)return void L.removeChild(tW);t=e.getComputedStyle(r),tM=k||18===Math.round(parseFloat(e.getComputedStyle(n).width)),tR=Math.round(parseFloat(t.height)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth))===r.offsetHeight,L.removeChild(tW),tW=null}}T.extend(d,{reliableTrDimensions:function(){return t$(),tR},reliableColDimensions:function(){return t$(),tM}});var tI={position:"absolute",visibility:"hidden",display:"block"},tF={letterSpacing:"0",fontWeight:"400"};function tB(e,t,n){var r=e9.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function t_(e,t,n,r,i,o){var a=+("width"===t),s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=T.css(e,n+e6[a],!0,i)),r?("content"===n&&(u-=T.css(e,"padding"+e6[a],!0,i)),"margin"!==n&&(u-=T.css(e,"border"+e6[a]+"Width",!0,i))):(u+=T.css(e,"padding"+e6[a],!0,i),"padding"!==n?u+=T.css(e,"border"+e6[a]+"Width",!0,i):s+=T.css(e,"border"+e6[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function tU(e,t,n){var r=tq(e),i=(k||n)&&"border-box"===T.css(e,"boxSizing",!1,r),o=i,a=tO(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(tA.test(a)){if(!n)return a;a="auto"}return("auto"===a||k&&i||!d.reliableColDimensions()&&C(e,"col")||!d.reliableTrDimensions()&&C(e,"tr"))&&e.getClientRects().length&&(i="border-box"===T.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+t_(e,t,n||(i?"border":"content"),o,r,a)+"px"}function tX(e,t,n,r,i){return new tX.prototype.init(e,t,n,r,i)}T.extend({cssHooks:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ti(t),u=tN.test(t),l=e.style;if(u||(t=tP(s)),a=T.cssHooks[t]||T.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];if("string"==(o=typeof n)&&(i=e9.exec(n))&&i[1]&&(n=tn(e,t,i),o="number"),null!=n&&n==n)"number"===o&&(n+=i&&i[3]||(tt(s)?"px":"")),k&&""===n&&0===t.indexOf("background")&&(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n)}},css:function(e,t,n,r){var i,o,a,s=ti(t);return(tN.test(t)||(t=tP(s)),(a=T.cssHooks[t]||T.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=tO(e,t,r)),"normal"===i&&t in tF&&(i=tF[t]),""===n||n)?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),T.each(["height","width"],function(e,t){T.cssHooks[t]={get:function(e,n,r){if(n)return"none"===T.css(e,"display")?function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r}(e,tI,function(){return tU(e,t,r)}):tU(e,t,r)},set:function(e,n,r){var i,o=tq(e),a=r&&"border-box"===T.css(e,"boxSizing",!1,o),s=r?t_(e,t,r,a,o):0;return s&&(i=e9.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=T.css(e,t)),tB(e,n,s)}}}),T.each({margin:"",padding:"",border:"Width"},function(e,t){T.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+e6[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(T.cssHooks[e+t].set=tB)}),T.fn.extend({css:function(e,t){return V(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=tq(e),i=t.length;a<i;a++)o[t[a]]=T.css(e,t[a],!1,r);return o}return void 0!==n?T.style(e,t,n):T.css(e,t)},e,t,arguments.length>1)}}),T.Tween=tX,tX.prototype={constructor:tX,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(tt(n)?"px":"")},cur:function(){var e=tX.propHooks[this.prop];return e&&e.get?e.get(this):tX.propHooks._default.get(this)},run:function(e){var t,n=tX.propHooks[this.prop];return this.options.duration?this.pos=t=T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tX.propHooks._default.set(this),this}},tX.prototype.init.prototype=tX.prototype,tX.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=T.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1===e.elem.nodeType&&(T.cssHooks[e.prop]||null!=e.elem.style[tP(e.prop)])?T.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},T.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=tX.prototype.init,T.fx.step={};var tz,tY,tG=/^(?:toggle|show|hide)$/,tV=/queueHooks$/;function tQ(){return e.setTimeout(function(){tz=void 0}),tz=Date.now()}function tJ(e,t){var n,r=0,i={height:e};for(t=+!!t;r<4;r+=2-t)i["margin"+(n=e6[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function tK(e,t,n){for(var r,i=(tZ.tweeners[t]||[]).concat(tZ.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function tZ(e,t,n){var r,i,o=0,a=tZ.prefilters.length,s=T.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=tz||tQ(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return(s.notifyWith(e,[l,r,n]),r<1&&a)?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:t,originalOptions:n,startTime:tz||tQ(),duration:n.duration,tweens:[],createTween:function(t,n){var r=T.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=ti(n)],Array.isArray(o=e[n])&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=T.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=tZ.prefilters[o].call(l,e,c,l.opts))return"function"==typeof r.stop&&(T._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return T.map(c,tK,l),"function"==typeof l.opts.start&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),T.fx.timer(T.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}T.Animation=T.extend(tZ,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return tn(n.elem,e,e9.exec(t),n),n}]},tweener:function(e,t){"function"==typeof e?(t=e,e=["*"]):e=e.match(Q);for(var n,r=0,i=e.length;r<i;r++)n=e[r],tZ.tweeners[n]=tZ.tweeners[n]||[],tZ.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&e8(e),v=e0.get(e,"fxshow");for(r in n.queue||(null==(a=T._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,T.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],tG.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show"))if("show"!==i||!v||void 0===v[r])continue;else g=!0;d[r]=v&&v[r]||T.style(e,r)}if(!(!(u=!T.isEmptyObject(t))&&T.isEmptyObject(d)))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=e0.get(e,"display")),"none"===(c=T.css(e,"display"))&&(l?c=l:(ta([e],!0),l=e.style.display||l,c=T.css(e,"display"),ta([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===T.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(l="none"===(c=h.display)?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=e0.set(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&ta([e],!0),p.done(function(){for(r in g||ta([e]),e0.remove(e,"fxshow"),d)T.style(e,r,d[r])})),u=tK(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?tZ.prefilters.unshift(e):tZ.prefilters.push(e)}}),T.speed=function(e,t,n){var r=e&&"object"==typeof e?T.extend({},e):{complete:n||t||"function"==typeof e&&e,duration:e,easing:n&&t||t&&"function"!=typeof t&&t};return T.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in T.fx.speeds?r.duration=T.fx.speeds[r.duration]:r.duration=T.fx.speeds._default),(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){"function"==typeof r.old&&r.old.call(this),r.queue&&T.dequeue(this,r.queue)},r},T.fn.extend({fadeTo:function(e,t,n,r){return this.filter(e8).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=T.isEmptyObject(e),o=T.speed(t,n,r),a=function(){var t=tZ(this,T.extend({},e),o);(i||e0.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=T.timers,a=e0.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&tV.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem===this&&(null==e||o[i].queue===e)&&(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&T.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=e0.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=T.timers,a=r?r.length:0;for(n.finish=!0,T.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),T.each(["toggle","show","hide"],function(e,t){var n=T.fn[t];T.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(tJ(t,!0),e,r,i)}}),T.each({slideDown:tJ("show"),slideUp:tJ("hide"),slideToggle:tJ("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){T.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),T.timers=[],T.fx.tick=function(){var e,t=0,n=T.timers;for(tz=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||T.fx.stop(),tz=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.start=function(){tY||(tY=!0,function t(){tY&&(!1===y.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(t):e.setTimeout(t,13),T.fx.tick())}())},T.fx.stop=function(){tY=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,n){return t=T.fx&&T.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})};var t0=/^(?:input|select|textarea|button)$/i,t1=/^(?:a|area)$/i;function t2(e){return(e.match(Q)||[]).join(" ")}function t3(e){return e.getAttribute&&e.getAttribute("class")||""}function t4(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Q)||[]}T.fn.extend({prop:function(e,t){return V(this,T.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[T.propFix[e]||e]})}}),T.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return(1===o&&T.isXMLDoc(e)||(t=T.propFix[t]||t,i=T.propHooks[t]),void 0!==n)?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttribute("tabindex");return t?parseInt(t,10):t0.test(e.nodeName)||t1.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k&&(T.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(e){var t,n,r,i,o,a;return"function"==typeof e?this.each(function(t){T(this).addClass(e.call(this,t,t3(this)))}):(t=t4(e)).length?this.each(function(){if(r=t3(this),n=1===this.nodeType&&" "+t2(r)+" "){for(o=0;o<t.length;o++)i=t[o],0>n.indexOf(" "+i+" ")&&(n+=i+" ");r!==(a=t2(n))&&this.setAttribute("class",a)}}):this},removeClass:function(e){var t,n,r,i,o,a;return"function"==typeof e?this.each(function(t){T(this).removeClass(e.call(this,t,t3(this)))}):arguments.length?(t=t4(e)).length?this.each(function(){if(r=t3(this),n=1===this.nodeType&&" "+t2(r)+" "){for(o=0;o<t.length;o++){i=t[o];while(n.indexOf(" "+i+" ")>-1)n=n.replace(" "+i+" "," ")}r!==(a=t2(n))&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o;return"function"==typeof e?this.each(function(n){T(this).toggleClass(e.call(this,n,t3(this),t),t)}):"boolean"==typeof t?t?this.addClass(e):this.removeClass(e):(n=t4(e)).length?this.each(function(){for(i=0,o=T(this);i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r)}):this},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+t2(t3(n))+" ").indexOf(t)>-1)return!0;return!1}}),T.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length)return i?(t=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:null==(n=i.value)?"":n:void 0;return r="function"==typeof e,this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,T(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=T.map(i,function(e){return null==e?"":e+""})),(t=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})}}),T.extend({valHooks:{select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if((n=i[r]).selected&&!n.disabled&&(!n.parentNode.disabled||!C(n.parentNode,"optgroup"))){if(t=T(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=T.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=T.inArray(T(r).val(),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k&&(T.valHooks.option={get:function(e){var t=e.getAttribute("value");return null!=t?t:t2(T.text(e))}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=T.inArray(T(e).val(),t)>-1}}});var t5=/^(?:focusinfocus|focusoutblur)$/,t9=function(e){e.stopPropagation()};T.extend(T.event,{trigger:function(t,n,r,i){var o,a,s,u,l,f,p,d,h=[r||y],v=c.call(t,"type")?t.type:t,m=c.call(t,"namespace")?t.namespace.split("."):[];if((a=d=s=r=r||y,!(3===r.nodeType||8===r.nodeType||t5.test(v+T.event.triggered)))&&(v.indexOf(".")>-1&&(v=(m=v.split(".")).shift(),m.sort()),l=0>v.indexOf(":")&&"on"+v,(t=t[T.expando]?t:new T.Event(v,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:T.makeArray(n,[t]),p=T.event.special[v]||{},i||!p.trigger||!1!==p.trigger.apply(r,n))){if(!i&&!p.noBubble&&!g(r)){for(u=p.delegateType||v,!t5.test(u+v)&&(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||y)&&h.push(s.defaultView||s.parentWindow||e)}o=0;while((a=h[o++])&&!t.isPropagationStopped())d=a,t.type=o>1?u:p.bindType||v,(f=(e0.get(a,"events")||Object.create(null))[t.type]&&e0.get(a,"handle"))&&f.apply(a,n),(f=l&&a[l])&&f.apply&&eK(a)&&(t.result=f.apply(a,n),!1===t.result&&t.preventDefault());return t.type=v,!i&&!t.isDefaultPrevented()&&(!p._default||!1===p._default.apply(h.pop(),n))&&eK(r)&&l&&"function"==typeof r[v]&&!g(r)&&((s=r[l])&&(r[l]=null),T.event.triggered=v,t.isPropagationStopped()&&d.addEventListener(v,t9),r[v](),t.isPropagationStopped()&&d.removeEventListener(v,t9),T.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=T.extend(new T.Event,n,{type:e,isSimulated:!0});T.event.trigger(r,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each(function(){T.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return T.event.trigger(e,t,n,!0)}});var t6=e.location,t8={guid:Date.now()},t7=/\?/;T.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{n=new e.DOMParser().parseFromString(t,"text/xml")}catch(e){}return r=n&&n.getElementsByTagName("parsererror")[0],(!n||r)&&T.error("Invalid XML: "+(r?T.map(r.childNodes,function(e){return e.textContent}).join("\n"):t)),n};var ne=/\[\]$/,nt=/\r?\n/g,nn=/^(?:submit|button|image|reset|file)$/i,nr=/^(?:input|select|textarea|keygen)/i;T.param=function(e,t){var n,r=[],i=function(e,t){var n="function"==typeof t?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,function(){i(this.name,this.value)});else for(n in e)!function e(t,n,r,i){var o;if(Array.isArray(n))T.each(n,function(n,o){r||ne.test(t)?i(t,o):e(t+"["+("object"==typeof o&&null!=o?n:"")+"]",o,r,i)});else if(r||"object"!==h(n))i(t,n);else for(o in n)e(t+"["+o+"]",n[o],r,i)}(n,e[n],t,i);return r.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&nr.test(this.nodeName)&&!nn.test(e)&&(this.checked||!tx.test(e))}).map(function(e,t){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,function(e){return{name:t.name,value:e.replace(nt,"\r\n")}}):{name:t.name,value:n.replace(nt,"\r\n")}}).get()}});var ni=/%20/g,no=/#.*$/,na=/([?&])_=[^&]*/,ns=/^(.*?):[ \t]*([^\r\n]*)$/mg,nu=/^(?:GET|HEAD)$/,nl=/^\/\//,nc={},nf={},np="*/".concat("*"),nd=y.createElement("a");function nh(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Q)||[];if("function"==typeof n)while(r=o[i++])"+"===r[0]?(e[r=r.slice(1)||"*"]=e[r]||[]).unshift(n):(e[r]=e[r]||[]).push(n)}}function ng(e,t,n,r){var i={},o=e===nf;function a(s){var u;return i[s]=!0,T.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function nv(e,t){var n,r,i=T.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&T.extend(!0,e,r),e}nd.href=t6.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:t6.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(t6.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":np,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?nv(nv(e,T.ajaxSettings),t):nv(T.ajaxSettings,e)},ajaxPrefilter:nh(nc),ajaxTransport:nh(nf),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,i,o,a,s,u,l,c,f,p,d=T.ajaxSetup({},n),h=d.context||d,g=d.context&&(h.nodeType||h.jquery)?T(h):T.event,v=T.Deferred(),m=T.Callbacks("once memory"),x=d.statusCode||{},b={},w={},C="canceled",j={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a){a={};while(t=ns.exec(o))a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(b[e=w[e.toLowerCase()]=w[e.toLowerCase()]||e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)j.always(e[j.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),E(0,t),this}};if(v.promise(j),d.url=((t||d.url||t6.href)+"").replace(nl,t6.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Q)||[""],null==d.crossDomain){u=y.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=nd.protocol+"//"+nd.host!=u.protocol+"//"+u.host}catch(e){d.crossDomain=!0}}if(ng(nc,d,n,j),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=T.param(d.data,d.traditional)),l)return j;for(f in(c=T.event&&d.global)&&0==T.active++&&T.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!nu.test(d.type),i=d.url.replace(no,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(ni,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(t7.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(na,"$1"),p=(t7.test(i)?"&":"?")+"_="+t8.guid+++p),d.url=i+p),d.ifModified&&(T.lastModified[i]&&j.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&j.setRequestHeader("If-None-Match",T.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&j.setRequestHeader("Content-Type",d.contentType),j.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+np+"; q=0.01":""):d.accepts["*"]),d.headers)j.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,j,d)||l))return j.abort();if(C="abort",m.add(d.complete),j.done(d.success),j.fail(d.error),r=ng(nf,d,n,j)){if(j.readyState=1,c&&g.trigger("ajaxSend",[j,d]),l)return j;d.async&&d.timeout>0&&(s=e.setTimeout(function(){j.abort("timeout")},d.timeout));try{l=!1,r.send(b,E)}catch(e){if(l)throw e;E(-1,e)}}else E(-1,"No Transport");function E(t,n,a,u){var f,p,y,b,w,C=n;!l&&(l=!0,s&&e.clearTimeout(s),r=void 0,o=u||"",j.readyState=4*(t>0),f=t>=200&&t<300||304===t,a&&(b=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r){for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,j,a)),!f&&T.inArray("script",d.dataTypes)>-1&&0>T.inArray("json",d.dataTypes)&&(d.converters["text script"]=function(){}),b=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift()){if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o])){for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}}return{state:"success",data:t}}(d,b,j,f),f?(d.ifModified&&((w=j.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=w),(w=j.getResponseHeader("etag"))&&(T.etag[i]=w)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,f=!(y=b.error))):(y=C,(t||!C)&&(C="error",t<0&&(t=0))),j.status=t,j.statusText=(n||C)+"",f?v.resolveWith(h,[p,C,j]):v.rejectWith(h,[j,C,y]),j.statusCode(x),x=void 0,c&&g.trigger(f?"ajaxSuccess":"ajaxError",[j,d,f?p:y]),m.fireWith(h,[j,C]),c&&(g.trigger("ajaxComplete",[j,d]),--T.active||T.event.trigger("ajaxStop")))}return j},getJSON:function(e,t,n){return T.get(e,t,n,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],function(e,t){T[t]=function(e,n,r,i){return("function"==typeof n||null===n)&&(i=i||r,r=n,n=void 0),T.ajax(T.extend({url:e,type:t,dataType:i,data:n,success:r},T.isPlainObject(e)&&e))}}),T.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),T._evalUrl=function(e,t,n){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,scriptAttrs:t.crossOrigin?{crossOrigin:t.crossOrigin}:void 0,converters:{"text script":function(){}},dataFilter:function(e){T.globalEval(e,t,n)}})},T.fn.extend({wrapAll:function(e){var t;return this[0]&&("function"==typeof e&&(e=e.call(this[0])),t=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return"function"==typeof e?this.each(function(t){T(this).wrapInner(e.call(this,t))}):this.each(function(){var t=T(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t="function"==typeof e;return this.each(function(n){T(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){return new e.XMLHttpRequest};var ny={0:200};function nm(e){return e.scriptAttrs||!e.headers&&(e.crossDomain||e.async&&0>T.inArray("json",e.dataTypes))}T.ajaxTransport(function(e){var t;return{send:function(n,r){var i,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(t=o.onload=o.onerror=o.onabort=o.ontimeout=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(ny[o.status]||o.status,o.statusText,"text"===(o.responseType||"text")?{text:o.responseText}:{binary:o.response},o.getAllResponseHeaders()))}},o.onload=t(),o.onabort=o.onerror=o.ontimeout=t("error"),t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),nm(e)&&(e.type="GET")}),T.ajaxTransport("script",function(e){if(nm(e)){var t,n;return{send:function(r,i){t=T("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}});var nx=[],nb=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nx.pop()||T.expando+"_"+t8.guid++;return this[e]=!0,e}}),T.ajaxPrefilter("jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(nb.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nb.test(t.data)&&"data");return i=t.jsonpCallback="function"==typeof t.jsonpCallback?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(nb,"$1"+i):!1!==t.jsonp&&(t.url+=(t7.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||T.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?T(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,nx.push(i)),a&&"function"==typeof o&&o(a[0]),a=o=void 0}),"script"}),T.ajaxPrefilter(function(t,n){"string"==typeof t.data||T.isPlainObject(t.data)||Array.isArray(t.data)||"processData"in n||(t.processData=!1),t.data instanceof e.FormData&&(t.contentType=!1)}),T.parseHTML=function(t,n,r){var i,o;return"string"==typeof t||eR(t+"")?("boolean"==typeof n&&(r=n,n=!1),n||(n=new e.DOMParser().parseFromString("","text/html")),i=eP.exec(t),o=!r&&[],i)?[n.createElement(i[1])]:(i=tg([t],n,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes)):[]},T.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=t2(e.slice(s)),e=e.slice(0,s)),"function"==typeof t?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&T.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?T("<div>").append(T.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},T.expr.pseudos.animated=function(e){return T.grep(T.timers,function(t){return e===t.elem}).length},T.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=T.css(e,"position"),c=T(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=T.css(e,"top"),u=T.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),"function"==typeof t&&(t=t.call(e,n,T.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){T.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===T.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&e!==n.documentElement&&"static"===T.css(e,"position"))e=e.offsetParent||n.documentElement;e&&e!==r&&1===e.nodeType&&"static"!==T.css(e,"position")&&(i=T(e).offset(),i.top+=T.css(e,"borderTopWidth",!0),i.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-T.css(r,"marginTop",!0),left:t.left-i.left-T.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===T.css(e,"position"))e=e.offsetParent;return e||L})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;T.fn[e]=function(r){return V(this,function(e,r,i){var o;if(g(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),T.each({Height:"height",Width:"width"},function(e,t){T.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){T.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return V(this,function(t,n,i){var o;return g(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?T.css(t,n,s):T.style(t,n,i,s)},t,a?i:void 0,a)}})}),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){T.fn[t]=function(e){return this.on(t,e)}}),T.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){T.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),T.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),"function"==typeof e)return r=i.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(i.call(arguments)))}).guid=e.guid=e.guid||T.guid++,o},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.expr[":"]=T.expr.filters=T.expr.pseudos,"function"==typeof define&&define.amd&&define("jquery",[],function(){return T});var nw=e.jQuery,nT=e.$;return T.noConflict=function(t){return e.$===T&&(e.$=nT),t&&e.jQuery===T&&(e.jQuery=nw),T},void 0===t&&(e.jQuery=e.$=T),T});


/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap=e()}(this,function(){"use strict";const t=new Map,e={set(e,i,n){t.has(e)||t.set(e,new Map);const s=t.get(e);s.has(i)||0===s.size?s.set(i,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(e,i)=>t.has(e)&&t.get(e).get(i)||null,remove(e,i){if(!t.has(e))return;const n=t.get(e);n.delete(i),0===n.size&&t.delete(e)}},i="transitionend",n=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),s=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),o=t=>{t.dispatchEvent(new Event(i))},r=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),a=t=>r(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(n(t)):null,l=t=>{if(!r(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},c=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),h=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?h(t.parentNode):null},d=()=>{},u=t=>{t.offsetHeight},f=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,p=[],m=()=>"rtl"===document.documentElement.dir,g=t=>{var e;e=()=>{const e=f();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}},"loading"===document.readyState?(p.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of p)t()}),p.push(e)):e()},_=(t,e=[],i=t)=>"function"==typeof t?t.call(...e):i,b=(t,e,n=!0)=>{if(!n)return void _(t);const s=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),s=Number.parseFloat(i);return n||s?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(e)+5;let r=!1;const a=({target:n})=>{n===e&&(r=!0,e.removeEventListener(i,a),_(t))};e.addEventListener(i,a),setTimeout(()=>{r||o(e)},s)},v=(t,e,i,n)=>{const s=t.length;let o=t.indexOf(e);return-1===o?!i&&n?t[s-1]:t[0]:(o+=i?1:-1,n&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))])},y=/[^.]*(?=\..*)\.|.*/,w=/\..*/,A=/::\d+$/,E={};let T=1;const C={mouseenter:"mouseover",mouseleave:"mouseout"},O=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function x(t,e){return e&&`${e}::${T++}`||t.uidEvent||T++}function k(t){const e=x(t);return t.uidEvent=e,E[e]=E[e]||{},E[e]}function L(t,e,i=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===i)}function S(t,e,i){const n="string"==typeof e,s=n?i:e||i;let o=N(t);return O.has(o)||(o=t),[n,s,o]}function D(t,e,i,n,s){if("string"!=typeof e||!t)return;let[o,r,a]=S(e,i,n);if(e in C){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};r=t(r)}const l=k(t),c=l[a]||(l[a]={}),h=L(c,r,o?i:null);if(h)return void(h.oneOff=h.oneOff&&s);const d=x(r,e.replace(y,"")),u=o?function(t,e,i){return function n(s){const o=t.querySelectorAll(e);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const a of o)if(a===r)return j(s,{delegateTarget:r}),n.oneOff&&P.off(t,s.type,e,i),i.apply(r,[s])}}(t,i,r):function(t,e){return function i(n){return j(n,{delegateTarget:t}),i.oneOff&&P.off(t,n.type,e),e.apply(t,[n])}}(t,r);u.delegationSelector=o?i:null,u.callable=r,u.oneOff=s,u.uidEvent=d,c[d]=u,t.addEventListener(a,u,o)}function $(t,e,i,n,s){const o=L(e[i],n,s);o&&(t.removeEventListener(i,o,Boolean(s)),delete e[i][o.uidEvent])}function I(t,e,i,n){const s=e[i]||{};for(const[o,r]of Object.entries(s))o.includes(n)&&$(t,e,i,r.callable,r.delegationSelector)}function N(t){return t=t.replace(w,""),C[t]||t}const P={on(t,e,i,n){D(t,e,i,n,!1)},one(t,e,i,n){D(t,e,i,n,!0)},off(t,e,i,n){if("string"!=typeof e||!t)return;const[s,o,r]=S(e,i,n),a=r!==e,l=k(t),c=l[r]||{},h=e.startsWith(".");if(void 0===o){if(h)for(const i of Object.keys(l))I(t,l,i,e.slice(1));for(const[i,n]of Object.entries(c)){const s=i.replace(A,"");a&&!e.includes(s)||$(t,l,r,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;$(t,l,r,o,s?i:null)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;const n=f();let s=null,o=!0,r=!0,a=!1;e!==N(e)&&n&&(s=n.Event(e,i),n(t).trigger(s),o=!s.isPropagationStopped(),r=!s.isImmediatePropagationStopped(),a=s.isDefaultPrevented());const l=j(new Event(e,{bubbles:o,cancelable:!0}),i);return a&&l.preventDefault(),r&&t.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function j(t,e={}){for(const[i,n]of Object.entries(e))try{t[i]=n}catch(e){Object.defineProperty(t,i,{configurable:!0,get:()=>n})}return t}function M(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function F(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const H={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${F(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${F(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=M(t.dataset[n])}return e},getDataAttribute:(t,e)=>M(t.getAttribute(`data-bs-${F(e)}`))};class W{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=r(e)?H.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...r(e)?H.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,n]of Object.entries(e)){const e=t[i],o=r(e)?"element":s(e);if(!new RegExp(n).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${n}".`)}}}class B extends W{constructor(t,i){super(),(t=a(t))&&(this._element=t,this._config=this._getConfig(i),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){b(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return e.get(a(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const z=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e?e.split(",").map(t=>n(t)).join(","):null},R={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(t=>!c(t)&&l(t))},getSelectorFromElement(t){const e=z(t);return e&&R.findOne(e)?e:null},getElementFromSelector(t){const e=z(t);return e?R.findOne(e):null},getMultipleElementsFromSelector(t){const e=z(t);return e?R.find(e):[]}},q=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;P.on(document,i,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),c(this))return;const s=R.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(s)[e]()})},V=".bs.alert",K=`close${V}`,Q=`closed${V}`;class X extends B{static get NAME(){return"alert"}close(){if(P.trigger(this._element,K).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),P.trigger(this._element,Q),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=X.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}q(X,"close"),g(X);const Y='[data-bs-toggle="button"]';class U extends B{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=U.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}P.on(document,"click.bs.button.data-api",Y,t=>{t.preventDefault();const e=t.target.closest(Y);U.getOrCreateInstance(e).toggle()}),g(U);const G=".bs.swipe",J=`touchstart${G}`,Z=`touchmove${G}`,tt=`touchend${G}`,et=`pointerdown${G}`,it=`pointerup${G}`,nt={endCallback:null,leftCallback:null,rightCallback:null},st={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ot extends W{constructor(t,e){super(),this._element=t,t&&ot.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return nt}static get DefaultType(){return st}static get NAME(){return"swipe"}dispose(){P.off(this._element,G)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),_(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&_(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,et,t=>this._start(t)),P.on(this._element,it,t=>this._end(t)),this._element.classList.add("pointer-event")):(P.on(this._element,J,t=>this._start(t)),P.on(this._element,Z,t=>this._move(t)),P.on(this._element,tt,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const rt=".bs.carousel",at=".data-api",lt="ArrowLeft",ct="ArrowRight",ht="next",dt="prev",ut="left",ft="right",pt=`slide${rt}`,mt=`slid${rt}`,gt=`keydown${rt}`,_t=`mouseenter${rt}`,bt=`mouseleave${rt}`,vt=`dragstart${rt}`,yt=`load${rt}${at}`,wt=`click${rt}${at}`,At="carousel",Et="active",Tt=".active",Ct=".carousel-item",Ot=Tt+Ct,xt={[lt]:ft,[ct]:ut},kt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Lt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class St extends B{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=R.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===At&&this.cycle()}static get Default(){return kt}static get DefaultType(){return Lt}static get NAME(){return"carousel"}next(){this._slide(ht)}nextWhenVisible(){!document.hidden&&l(this._element)&&this.next()}prev(){this._slide(dt)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?P.one(this._element,mt,()=>this.cycle()):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void P.one(this._element,mt,()=>this.to(t));const i=this._getItemIndex(this._getActive());if(i===t)return;const n=t>i?ht:dt;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&P.on(this._element,gt,t=>this._keydown(t)),"hover"===this._config.pause&&(P.on(this._element,_t,()=>this.pause()),P.on(this._element,bt,()=>this._maybeEnableCycle())),this._config.touch&&ot.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of R.find(".carousel-item img",this._element))P.on(t,vt,t=>t.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(ut)),rightCallback:()=>this._slide(this._directionToOrder(ft)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ot(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=xt[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=R.findOne(Tt,this._indicatorsElement);e.classList.remove(Et),e.removeAttribute("aria-current");const i=R.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(Et),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),n=t===ht,s=e||v(this._getItems(),i,n,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),r=e=>P.trigger(this._element,e,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(r(pt).defaultPrevented)return;if(!i||!s)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";s.classList.add(c),u(s),i.classList.add(l),s.classList.add(l),this._queueCallback(()=>{s.classList.remove(l,c),s.classList.add(Et),i.classList.remove(Et,c,l),this._isSliding=!1,r(mt)},i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return R.findOne(Ot,this._element)}_getItems(){return R.find(Ct,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return m()?t===ut?dt:ht:t===ut?ht:dt}_orderToDirection(t){return m()?t===dt?ut:ft:t===dt?ft:ut}static jQueryInterface(t){return this.each(function(){const e=St.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}P.on(document,wt,"[data-bs-slide], [data-bs-slide-to]",function(t){const e=R.getElementFromSelector(this);if(!e||!e.classList.contains(At))return;t.preventDefault();const i=St.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===H.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())}),P.on(window,yt,()=>{const t=R.find('[data-bs-ride="carousel"]');for(const e of t)St.getOrCreateInstance(e)}),g(St);const Dt=".bs.collapse",$t=`show${Dt}`,It=`shown${Dt}`,Nt=`hide${Dt}`,Pt=`hidden${Dt}`,jt=`click${Dt}.data-api`,Mt="show",Ft="collapse",Ht="collapsing",Wt=`:scope .${Ft} .${Ft}`,Bt='[data-bs-toggle="collapse"]',zt={parent:null,toggle:!0},Rt={parent:"(null|element)",toggle:"boolean"};class qt extends B{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=R.find(Bt);for(const t of i){const e=R.getSelectorFromElement(t),i=R.find(e).filter(t=>t===this._element);null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zt}static get DefaultType(){return Rt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(t=>t!==this._element).map(t=>qt.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning)return;if(P.trigger(this._element,$t).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(Ft),this._element.classList.add(Ht),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(Ft,Mt),this._element.style[e]="",P.trigger(this._element,It)},this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(P.trigger(this._element,Nt).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,u(this._element),this._element.classList.add(Ht),this._element.classList.remove(Ft,Mt);for(const t of this._triggerArray){const e=R.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(Ft),P.trigger(this._element,Pt)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(Mt)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=a(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Bt);for(const e of t){const t=R.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=R.find(Wt,this._config.parent);return R.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=qt.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}P.on(document,jt,Bt,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of R.getMultipleElementsFromSelector(this))qt.getOrCreateInstance(t,{toggle:!1}).toggle()}),g(qt);var Vt="top",Kt="bottom",Qt="right",Xt="left",Yt="auto",Ut=[Vt,Kt,Qt,Xt],Gt="start",Jt="end",Zt="clippingParents",te="viewport",ee="popper",ie="reference",ne=Ut.reduce(function(t,e){return t.concat([e+"-"+Gt,e+"-"+Jt])},[]),se=[].concat(Ut,[Yt]).reduce(function(t,e){return t.concat([e,e+"-"+Gt,e+"-"+Jt])},[]),oe="beforeRead",re="read",ae="afterRead",le="beforeMain",ce="main",he="afterMain",de="beforeWrite",ue="write",fe="afterWrite",pe=[oe,re,ae,le,ce,he,de,ue,fe];function me(t){return t?(t.nodeName||"").toLowerCase():null}function ge(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function _e(t){return t instanceof ge(t).Element||t instanceof Element}function be(t){return t instanceof ge(t).HTMLElement||t instanceof HTMLElement}function ve(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ge(t).ShadowRoot||t instanceof ShadowRoot)}const ye={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},s=e.elements[t];be(s)&&me(s)&&(Object.assign(s.style,i),Object.keys(n).forEach(function(t){var e=n[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(t){var n=e.elements[t],s=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce(function(t,e){return t[e]="",t},{});be(n)&&me(n)&&(Object.assign(n.style,o),Object.keys(s).forEach(function(t){n.removeAttribute(t)}))})}},requires:["computeStyles"]};function we(t){return t.split("-")[0]}var Ae=Math.max,Ee=Math.min,Te=Math.round;function Ce(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Oe(){return!/^((?!chrome|android).)*safari/i.test(Ce())}function xe(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),s=1,o=1;e&&be(t)&&(s=t.offsetWidth>0&&Te(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Te(n.height)/t.offsetHeight||1);var r=(_e(t)?ge(t):window).visualViewport,a=!Oe()&&i,l=(n.left+(a&&r?r.offsetLeft:0))/s,c=(n.top+(a&&r?r.offsetTop:0))/o,h=n.width/s,d=n.height/o;return{width:h,height:d,top:c,right:l+h,bottom:c+d,left:l,x:l,y:c}}function ke(t){var e=xe(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function Le(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&ve(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Se(t){return ge(t).getComputedStyle(t)}function De(t){return["table","td","th"].indexOf(me(t))>=0}function $e(t){return((_e(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ie(t){return"html"===me(t)?t:t.assignedSlot||t.parentNode||(ve(t)?t.host:null)||$e(t)}function Ne(t){return be(t)&&"fixed"!==Se(t).position?t.offsetParent:null}function Pe(t){for(var e=ge(t),i=Ne(t);i&&De(i)&&"static"===Se(i).position;)i=Ne(i);return i&&("html"===me(i)||"body"===me(i)&&"static"===Se(i).position)?e:i||function(t){var e=/firefox/i.test(Ce());if(/Trident/i.test(Ce())&&be(t)&&"fixed"===Se(t).position)return null;var i=Ie(t);for(ve(i)&&(i=i.host);be(i)&&["html","body"].indexOf(me(i))<0;){var n=Se(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function je(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Me(t,e,i){return Ae(t,Ee(e,i))}function Fe(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function He(t,e){return e.reduce(function(e,i){return e[i]=t,e},{})}const We={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,n=t.name,s=t.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,a=we(i.placement),l=je(a),c=[Xt,Qt].indexOf(a)>=0?"height":"width";if(o&&r){var h=function(t,e){return Fe("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:He(t,Ut))}(s.padding,i),d=ke(o),u="y"===l?Vt:Xt,f="y"===l?Kt:Qt,p=i.rects.reference[c]+i.rects.reference[l]-r[l]-i.rects.popper[c],m=r[l]-i.rects.reference[l],g=Pe(o),_=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=p/2-m/2,v=h[u],y=_-d[c]-h[f],w=_/2-d[c]/2+b,A=Me(v,w,y),E=l;i.modifiersData[n]=((e={})[E]=A,e.centerOffset=A-w,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&Le(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Be(t){return t.split("-")[1]}var ze={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Re(t){var e,i=t.popper,n=t.popperRect,s=t.placement,o=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,u=r.x,f=void 0===u?0:u,p=r.y,m=void 0===p?0:p,g="function"==typeof h?h({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var _=r.hasOwnProperty("x"),b=r.hasOwnProperty("y"),v=Xt,y=Vt,w=window;if(c){var A=Pe(i),E="clientHeight",T="clientWidth";A===ge(i)&&"static"!==Se(A=$e(i)).position&&"absolute"===a&&(E="scrollHeight",T="scrollWidth"),(s===Vt||(s===Xt||s===Qt)&&o===Jt)&&(y=Kt,m-=(d&&A===w&&w.visualViewport?w.visualViewport.height:A[E])-n.height,m*=l?1:-1),s!==Xt&&(s!==Vt&&s!==Kt||o!==Jt)||(v=Qt,f-=(d&&A===w&&w.visualViewport?w.visualViewport.width:A[T])-n.width,f*=l?1:-1)}var C,O=Object.assign({position:a},c&&ze),x=!0===h?function(t,e){var i=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:Te(i*s)/s||0,y:Te(n*s)/s||0}}({x:f,y:m},ge(i)):{x:f,y:m};return f=x.x,m=x.y,l?Object.assign({},O,((C={})[y]=b?"0":"",C[v]=_?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",C)):Object.assign({},O,((e={})[y]=b?m+"px":"",e[v]=_?f+"px":"",e.transform="",e))}const qe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,s=void 0===n||n,o=i.adaptive,r=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:we(e.placement),variation:Be(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Re(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Re(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Ve={passive:!0};const Ke={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,s=n.scroll,o=void 0===s||s,r=n.resize,a=void 0===r||r,l=ge(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(t){t.addEventListener("scroll",i.update,Ve)}),a&&l.addEventListener("resize",i.update,Ve),function(){o&&c.forEach(function(t){t.removeEventListener("scroll",i.update,Ve)}),a&&l.removeEventListener("resize",i.update,Ve)}},data:{}};var Qe={left:"right",right:"left",bottom:"top",top:"bottom"};function Xe(t){return t.replace(/left|right|bottom|top/g,function(t){return Qe[t]})}var Ye={start:"end",end:"start"};function Ue(t){return t.replace(/start|end/g,function(t){return Ye[t]})}function Ge(t){var e=ge(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Je(t){return xe($e(t)).left+Ge(t).scrollLeft}function Ze(t){var e=Se(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function ti(t){return["html","body","#document"].indexOf(me(t))>=0?t.ownerDocument.body:be(t)&&Ze(t)?t:ti(Ie(t))}function ei(t,e){var i;void 0===e&&(e=[]);var n=ti(t),s=n===(null==(i=t.ownerDocument)?void 0:i.body),o=ge(n),r=s?[o].concat(o.visualViewport||[],Ze(n)?n:[]):n,a=e.concat(r);return s?a:a.concat(ei(Ie(r)))}function ii(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ni(t,e,i){return e===te?ii(function(t,e){var i=ge(t),n=$e(t),s=i.visualViewport,o=n.clientWidth,r=n.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;var c=Oe();(c||!c&&"fixed"===e)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a+Je(t),y:l}}(t,i)):_e(e)?function(t,e){var i=xe(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):ii(function(t){var e,i=$e(t),n=Ge(t),s=null==(e=t.ownerDocument)?void 0:e.body,o=Ae(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=Ae(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+Je(t),l=-n.scrollTop;return"rtl"===Se(s||i).direction&&(a+=Ae(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}($e(t)))}function si(t){var e,i=t.reference,n=t.element,s=t.placement,o=s?we(s):null,r=s?Be(s):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case Vt:e={x:a,y:i.y-n.height};break;case Kt:e={x:a,y:i.y+i.height};break;case Qt:e={x:i.x+i.width,y:l};break;case Xt:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?je(o):null;if(null!=c){var h="y"===c?"height":"width";switch(r){case Gt:e[c]=e[c]-(i[h]/2-n[h]/2);break;case Jt:e[c]=e[c]+(i[h]/2-n[h]/2)}}return e}function oi(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=void 0===n?t.placement:n,o=i.strategy,r=void 0===o?t.strategy:o,a=i.boundary,l=void 0===a?Zt:a,c=i.rootBoundary,h=void 0===c?te:c,d=i.elementContext,u=void 0===d?ee:d,f=i.altBoundary,p=void 0!==f&&f,m=i.padding,g=void 0===m?0:m,_=Fe("number"!=typeof g?g:He(g,Ut)),b=u===ee?ie:ee,v=t.rects.popper,y=t.elements[p?b:u],w=function(t,e,i,n){var s="clippingParents"===e?function(t){var e=ei(Ie(t)),i=["absolute","fixed"].indexOf(Se(t).position)>=0&&be(t)?Pe(t):t;return _e(i)?e.filter(function(t){return _e(t)&&Le(t,i)&&"body"!==me(t)}):[]}(t):[].concat(e),o=[].concat(s,[i]),r=o[0],a=o.reduce(function(e,i){var s=ni(t,i,n);return e.top=Ae(s.top,e.top),e.right=Ee(s.right,e.right),e.bottom=Ee(s.bottom,e.bottom),e.left=Ae(s.left,e.left),e},ni(t,r,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(_e(y)?y:y.contextElement||$e(t.elements.popper),l,h,r),A=xe(t.elements.reference),E=si({reference:A,element:v,placement:s}),T=ii(Object.assign({},v,E)),C=u===ee?T:A,O={top:w.top-C.top+_.top,bottom:C.bottom-w.bottom+_.bottom,left:w.left-C.left+_.left,right:C.right-w.right+_.right},x=t.modifiersData.offset;if(u===ee&&x){var k=x[s];Object.keys(O).forEach(function(t){var e=[Qt,Kt].indexOf(t)>=0?1:-1,i=[Vt,Kt].indexOf(t)>=0?"y":"x";O[t]+=k[i]*e})}return O}function ri(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?se:l,h=Be(n),d=h?a?ne:ne.filter(function(t){return Be(t)===h}):Ut,u=d.filter(function(t){return c.indexOf(t)>=0});0===u.length&&(u=d);var f=u.reduce(function(e,i){return e[i]=oi(t,{placement:i,boundary:s,rootBoundary:o,padding:r})[we(i)],e},{});return Object.keys(f).sort(function(t,e){return f[t]-f[e]})}const ai={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,c=i.padding,h=i.boundary,d=i.rootBoundary,u=i.altBoundary,f=i.flipVariations,p=void 0===f||f,m=i.allowedAutoPlacements,g=e.options.placement,_=we(g),b=l||(_!==g&&p?function(t){if(we(t)===Yt)return[];var e=Xe(t);return[Ue(t),e,Ue(e)]}(g):[Xe(g)]),v=[g].concat(b).reduce(function(t,i){return t.concat(we(i)===Yt?ri(e,{placement:i,boundary:h,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):i)},[]),y=e.rects.reference,w=e.rects.popper,A=new Map,E=!0,T=v[0],C=0;C<v.length;C++){var O=v[C],x=we(O),k=Be(O)===Gt,L=[Vt,Kt].indexOf(x)>=0,S=L?"width":"height",D=oi(e,{placement:O,boundary:h,rootBoundary:d,altBoundary:u,padding:c}),$=L?k?Qt:Xt:k?Kt:Vt;y[S]>w[S]&&($=Xe($));var I=Xe($),N=[];if(o&&N.push(D[x]<=0),a&&N.push(D[$]<=0,D[I]<=0),N.every(function(t){return t})){T=O,E=!1;break}A.set(O,N)}if(E)for(var P=function(t){var e=v.find(function(e){var i=A.get(e);if(i)return i.slice(0,t).every(function(t){return t})});if(e)return T=e,"break"},j=p?3:1;j>0&&"break"!==P(j);j--);e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function li(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function ci(t){return[Vt,Qt,Kt,Xt].some(function(e){return t[e]>=0})}const hi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,r=oi(e,{elementContext:"reference"}),a=oi(e,{altBoundary:!0}),l=li(r,n),c=li(a,s,o),h=ci(l),d=ci(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}},di={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.offset,o=void 0===s?[0,0]:s,r=se.reduce(function(t,i){return t[i]=function(t,e,i){var n=we(t),s=[Xt,Vt].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},e,{placement:t})):i,r=o[0],a=o[1];return r=r||0,a=(a||0)*s,[Xt,Qt].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}(i,e.rects,o),t},{}),a=r[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=r}},ui={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=si({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})},data:{}},fi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0!==r&&r,l=i.boundary,c=i.rootBoundary,h=i.altBoundary,d=i.padding,u=i.tether,f=void 0===u||u,p=i.tetherOffset,m=void 0===p?0:p,g=oi(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),_=we(e.placement),b=Be(e.placement),v=!b,y=je(_),w="x"===y?"y":"x",A=e.modifiersData.popperOffsets,E=e.rects.reference,T=e.rects.popper,C="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,O="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(A){if(o){var L,S="y"===y?Vt:Xt,D="y"===y?Kt:Qt,$="y"===y?"height":"width",I=A[y],N=I+g[S],P=I-g[D],j=f?-T[$]/2:0,M=b===Gt?E[$]:T[$],F=b===Gt?-T[$]:-E[$],H=e.elements.arrow,W=f&&H?ke(H):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[S],R=B[D],q=Me(0,E[$],W[$]),V=v?E[$]/2-j-q-z-O.mainAxis:M-q-z-O.mainAxis,K=v?-E[$]/2+j+q+R+O.mainAxis:F+q+R+O.mainAxis,Q=e.elements.arrow&&Pe(e.elements.arrow),X=Q?"y"===y?Q.clientTop||0:Q.clientLeft||0:0,Y=null!=(L=null==x?void 0:x[y])?L:0,U=I+K-Y,G=Me(f?Ee(N,I+V-Y-X):N,I,f?Ae(P,U):P);A[y]=G,k[y]=G-I}if(a){var J,Z="x"===y?Vt:Xt,tt="x"===y?Kt:Qt,et=A[w],it="y"===w?"height":"width",nt=et+g[Z],st=et-g[tt],ot=-1!==[Vt,Xt].indexOf(_),rt=null!=(J=null==x?void 0:x[w])?J:0,at=ot?nt:et-E[it]-T[it]-rt+O.altAxis,lt=ot?et+E[it]+T[it]-rt-O.altAxis:st,ct=f&&ot?function(t,e,i){var n=Me(t,e,i);return n>i?i:n}(at,et,lt):Me(f?at:nt,et,f?lt:st);A[w]=ct,k[w]=ct-et}e.modifiersData[n]=k}},requiresIfExists:["offset"]};function pi(t,e,i){void 0===i&&(i=!1);var n,s,o=be(e),r=be(e)&&function(t){var e=t.getBoundingClientRect(),i=Te(e.width)/t.offsetWidth||1,n=Te(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(e),a=$e(e),l=xe(t,r,i),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!i)&&(("body"!==me(e)||Ze(a))&&(c=(n=e)!==ge(n)&&be(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:Ge(n)),be(e)?((h=xe(e,!0)).x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=Je(a))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function mi(t){var e=new Map,i=new Set,n=[];function s(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!i.has(t)){var n=e.get(t);n&&s(n)}}),n.push(t)}return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){i.has(t.name)||s(t)}),n}var gi={placement:"bottom",modifiers:[],strategy:"absolute"};function _i(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function bi(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,s=e.defaultOptions,o=void 0===s?gi:s;return function(t,e,i){void 0===i&&(i=o);var s,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},gi,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,h={state:a,setOptions:function(i){var s="function"==typeof i?i(a.options):i;d(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:_e(t)?ei(t):t.contextElement?ei(t.contextElement):[],popper:ei(e)};var r,c,u=function(t){var e=mi(t);return pe.reduce(function(t,i){return t.concat(e.filter(function(t){return t.phase===i}))},[])}((r=[].concat(n,a.options.modifiers),c=r.reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{}),Object.keys(c).map(function(t){return c[t]})));return a.orderedModifiers=u.filter(function(t){return t.enabled}),a.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,s=t.effect;if("function"==typeof s){var o=s({state:a,name:e,instance:h,options:n});l.push(o||function(){})}}),h.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,i=t.popper;if(_i(e,i)){a.rects={reference:pi(e,Pe(i),"fixed"===a.options.strategy),popper:ke(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(t){return a.modifiersData[t.name]=Object.assign({},t.data)});for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var s=a.orderedModifiers[n],o=s.fn,r=s.options,l=void 0===r?{}:r,d=s.name;"function"==typeof o&&(a=o({state:a,options:l,name:d,instance:h})||a)}else a.reset=!1,n=-1}}},update:(s=function(){return new Promise(function(t){h.forceUpdate(),t(a)})},function(){return r||(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(s())})})),r}),destroy:function(){d(),c=!0}};if(!_i(t,e))return h;function d(){l.forEach(function(t){return t()}),l=[]}return h.setOptions(i).then(function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)}),h}}var vi=bi(),yi=bi({defaultModifiers:[Ke,ui,qe,ye]}),wi=bi({defaultModifiers:[Ke,ui,qe,ye,di,ai,fi,We,hi]});const Ai=Object.freeze(Object.defineProperty({__proto__:null,afterMain:he,afterRead:ae,afterWrite:fe,applyStyles:ye,arrow:We,auto:Yt,basePlacements:Ut,beforeMain:le,beforeRead:oe,beforeWrite:de,bottom:Kt,clippingParents:Zt,computeStyles:qe,createPopper:wi,createPopperBase:vi,createPopperLite:yi,detectOverflow:oi,end:Jt,eventListeners:Ke,flip:ai,hide:hi,left:Xt,main:ce,modifierPhases:pe,offset:di,placements:se,popper:ee,popperGenerator:bi,popperOffsets:ui,preventOverflow:fi,read:re,reference:ie,right:Qt,start:Gt,top:Vt,variationPlacements:ne,viewport:te,write:ue},Symbol.toStringTag,{value:"Module"})),Ei="dropdown",Ti=".bs.dropdown",Ci=".data-api",Oi="ArrowUp",xi="ArrowDown",ki=`hide${Ti}`,Li=`hidden${Ti}`,Si=`show${Ti}`,Di=`shown${Ti}`,$i=`click${Ti}${Ci}`,Ii=`keydown${Ti}${Ci}`,Ni=`keyup${Ti}${Ci}`,Pi="show",ji='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Mi=`${ji}.${Pi}`,Fi=".dropdown-menu",Hi=m()?"top-end":"top-start",Wi=m()?"top-start":"top-end",Bi=m()?"bottom-end":"bottom-start",zi=m()?"bottom-start":"bottom-end",Ri=m()?"left-start":"right-start",qi=m()?"right-start":"left-start",Vi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ki={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qi extends B{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=R.next(this._element,Fi)[0]||R.prev(this._element,Fi)[0]||R.findOne(Fi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Vi}static get DefaultType(){return Ki}static get NAME(){return Ei}toggle(){return this._isShown()?this.hide():this.show()}show(){if(c(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!P.trigger(this._element,Si,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))P.on(t,"mouseover",d);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Pi),this._element.classList.add(Pi),P.trigger(this._element,Di,t)}}hide(){if(c(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!P.trigger(this._element,ki,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))P.off(t,"mouseover",d);this._popper&&this._popper.destroy(),this._menu.classList.remove(Pi),this._element.classList.remove(Pi),this._element.setAttribute("aria-expanded","false"),H.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,Li,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!r(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${Ei.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Ai)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;"parent"===this._config.reference?t=this._parent:r(this._config.reference)?t=a(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=wi(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Pi)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Ri;if(t.classList.contains("dropstart"))return qi;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Wi:Hi:e?zi:Bi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(H.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..._(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:e}){const i=R.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(t=>l(t));i.length&&v(i,e,t===xi,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Qi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=R.find(Mi);for(const i of e){const e=Qi.getInstance(i);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),s=n.includes(e._menu);if(n.includes(e._element)||"inside"===e._config.autoClose&&!s||"outside"===e._config.autoClose&&s)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};"click"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,n=[Oi,xi].includes(t.key);if(!n&&!i)return;if(e&&!i)return;t.preventDefault();const s=this.matches(ji)?this:R.prev(this,ji)[0]||R.next(this,ji)[0]||R.findOne(ji,t.delegateTarget.parentNode),o=Qi.getOrCreateInstance(s);if(n)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}P.on(document,Ii,ji,Qi.dataApiKeydownHandler),P.on(document,Ii,Fi,Qi.dataApiKeydownHandler),P.on(document,$i,Qi.clearMenus),P.on(document,Ni,Qi.clearMenus),P.on(document,$i,ji,function(t){t.preventDefault(),Qi.getOrCreateInstance(this).toggle()}),g(Qi);const Xi="backdrop",Yi="show",Ui=`mousedown.bs.${Xi}`,Gi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ji={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Zi extends W{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Gi}static get DefaultType(){return Ji}static get NAME(){return Xi}show(t){if(!this._config.isVisible)return void _(t);this._append();const e=this._getElement();this._config.isAnimated&&u(e),e.classList.add(Yi),this._emulateAnimation(()=>{_(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove(Yi),this._emulateAnimation(()=>{this.dispose(),_(t)})):_(t)}dispose(){this._isAppended&&(P.off(this._element,Ui),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=a(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),P.on(t,Ui,()=>{_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){b(t,this._getElement(),this._config.isAnimated)}}const tn=".bs.focustrap",en=`focusin${tn}`,nn=`keydown.tab${tn}`,sn="backward",on={autofocus:!0,trapElement:null},rn={autofocus:"boolean",trapElement:"element"};class an extends W{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return on}static get DefaultType(){return rn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,tn),P.on(document,en,t=>this._handleFocusin(t)),P.on(document,nn,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,tn))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=R.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===sn?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?sn:"forward")}}const ln=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",cn=".sticky-top",hn="padding-right",dn="margin-right";class un{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,hn,e=>e+t),this._setElementAttributes(ln,hn,e=>e+t),this._setElementAttributes(cn,dn,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,hn),this._resetElementAttributes(ln,hn),this._resetElementAttributes(cn,dn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth();this._applyManipulationCallback(t,t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(s))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&H.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,t=>{const i=H.getDataAttribute(t,e);null!==i?(H.removeDataAttribute(t,e),t.style.setProperty(e,i)):t.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(r(t))e(t);else for(const i of R.find(t,this._element))e(i)}}const fn=".bs.modal",pn=`hide${fn}`,mn=`hidePrevented${fn}`,gn=`hidden${fn}`,_n=`show${fn}`,bn=`shown${fn}`,vn=`resize${fn}`,yn=`click.dismiss${fn}`,wn=`mousedown.dismiss${fn}`,An=`keydown.dismiss${fn}`,En=`click${fn}.data-api`,Tn="modal-open",Cn="show",On="modal-static",xn={backdrop:!0,focus:!0,keyboard:!0},kn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ln extends B{constructor(t,e){super(t,e),this._dialog=R.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new un,this._addEventListeners()}static get Default(){return xn}static get DefaultType(){return kn}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||P.trigger(this._element,_n,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Tn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,pn).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Cn),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){P.off(window,fn),P.off(this._dialog,fn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Zi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new an({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=R.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),u(this._element),this._element.classList.add(Cn),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,bn,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,An,t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),P.on(window,vn,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,wn,t=>{P.one(this._element,yn,e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Tn),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,gn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(P.trigger(this._element,mn).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(On)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(On),this._queueCallback(()=>{this._element.classList.remove(On),this._queueCallback(()=>{this._element.style.overflowY=e},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const t=m()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!i&&t){const t=m()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=Ln.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}P.on(document,En,'[data-bs-toggle="modal"]',function(t){const e=R.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),P.one(e,_n,t=>{t.defaultPrevented||P.one(e,gn,()=>{l(this)&&this.focus()})});const i=R.findOne(".modal.show");i&&Ln.getInstance(i).hide(),Ln.getOrCreateInstance(e).toggle(this)}),q(Ln),g(Ln);const Sn=".bs.offcanvas",Dn=".data-api",$n=`load${Sn}${Dn}`,In="show",Nn="showing",Pn="hiding",jn=".offcanvas.show",Mn=`show${Sn}`,Fn=`shown${Sn}`,Hn=`hide${Sn}`,Wn=`hidePrevented${Sn}`,Bn=`hidden${Sn}`,zn=`resize${Sn}`,Rn=`click${Sn}${Dn}`,qn=`keydown.dismiss${Sn}`,Vn={backdrop:!0,keyboard:!0,scroll:!1},Kn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qn extends B{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Vn}static get DefaultType(){return Kn}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||P.trigger(this._element,Mn,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new un).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Nn),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(In),this._element.classList.remove(Nn),P.trigger(this._element,Fn,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(P.trigger(this._element,Hn).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Pn),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(In,Pn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new un).reset(),P.trigger(this._element,Bn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new Zi({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():P.trigger(this._element,Wn)}:null})}_initializeFocusTrap(){return new an({trapElement:this._element})}_addEventListeners(){P.on(this._element,qn,t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():P.trigger(this._element,Wn))})}static jQueryInterface(t){return this.each(function(){const e=Qn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}P.on(document,Rn,'[data-bs-toggle="offcanvas"]',function(t){const e=R.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),c(this))return;P.one(e,Bn,()=>{l(this)&&this.focus()});const i=R.findOne(jn);i&&i!==e&&Qn.getInstance(i).hide(),Qn.getOrCreateInstance(e).toggle(this)}),P.on(window,$n,()=>{for(const t of R.find(jn))Qn.getOrCreateInstance(t).show()}),P.on(window,zn,()=>{for(const t of R.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Qn.getOrCreateInstance(t).hide()}),q(Qn),g(Qn);const Xn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Yn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Un=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Gn=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!Yn.has(i)||Boolean(Un.test(t.nodeValue)):e.filter(t=>t instanceof RegExp).some(t=>t.test(i))},Jn={allowList:Xn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ts={entry:"(string|element|function|null)",selector:"(string|element)"};class es extends W{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Jn}static get DefaultType(){return Zn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,i]of Object.entries(this._config.content))this._setContent(t,i,e);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},ts)}_setContent(t,e,i){const n=R.findOne(i,t);n&&((e=this._resolvePossibleFunction(e))?r(e)?this._putElementInTemplate(a(e),n):this._config.html?n.innerHTML=this._maybeSanitize(e):n.textContent=e:n.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);const n=(new window.DOMParser).parseFromString(t,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(const t of s){const i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}const n=[].concat(...t.attributes),s=[].concat(e["*"]||[],e[i]||[]);for(const e of n)Gn(e,s)||t.removeAttribute(e.nodeName)}return n.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return _(t,[void 0,this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const is=new Set(["sanitize","allowList","sanitizeFn"]),ns="fade",ss="show",os=".tooltip-inner",rs=".modal",as="hide.bs.modal",ls="hover",cs="focus",hs="click",ds={AUTO:"auto",TOP:"top",RIGHT:m()?"left":"right",BOTTOM:"bottom",LEFT:m()?"right":"left"},us={allowList:Xn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fs={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ps extends B{constructor(t,e){if(void 0===Ai)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return us}static get DefaultType(){return fs}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(rs),as,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=P.trigger(this._element,this.constructor.eventName("show")),e=(h(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),P.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(ss),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))P.on(t,"mouseover",d);this._queueCallback(()=>{P.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!P.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ss),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))P.off(t,"mouseover",d);this._activeTrigger[hs]=!1,this._activeTrigger[cs]=!1,this._activeTrigger[ls]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(ns,ss),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(ns),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new es({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[os]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ns)}_isShown(){return this.tip&&this.tip.classList.contains(ss)}_createPopper(t){const e=_(this._config.placement,[this,t,this._element]),i=ds[e.toUpperCase()];return wi(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return _(t,[this._element,this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,..._(this._config.popperConfig,[void 0,e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)P.on(this._element,this.constructor.eventName("click"),this._config.selector,t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger[hs]=!(e._isShown()&&e._activeTrigger[hs]),e.toggle()});else if("manual"!==e){const t=e===ls?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=e===ls?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");P.on(this._element,t,this._config.selector,t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?cs:ls]=!0,e._enter()}),P.on(this._element,i,this._config.selector,t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?cs:ls]=e._element.contains(t.relatedTarget),e._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(rs),as,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=H.getDataAttributes(this._element);for(const t of Object.keys(e))is.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:a(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=ps.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}g(ps);const ms=".popover-header",gs=".popover-body",_s={...ps.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bs={...ps.DefaultType,content:"(null|string|element|function)"};class vs extends ps{static get Default(){return _s}static get DefaultType(){return bs}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ms]:this._getTitle(),[gs]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=vs.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}g(vs);const ys=".bs.scrollspy",ws=`activate${ys}`,As=`click${ys}`,Es=`load${ys}.data-api`,Ts="active",Cs="[href]",Os=".nav-link",xs=`${Os}, .nav-item > ${Os}, .list-group-item`,ks={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ls={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ss extends B{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ks}static get DefaultType(){return Ls}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=a(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(t=>Number.parseFloat(t))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,As),P.on(this._config.target,As,Cs,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&t){if(i(o),!n)return}else s||t||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=R.find(Cs,this._config.target);for(const e of t){if(!e.hash||c(e))continue;const t=R.findOne(decodeURI(e.hash),this._element);l(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Ts),this._activateParents(t),P.trigger(this._element,ws,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))R.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Ts);else for(const e of R.parents(t,".nav, .list-group"))for(const t of R.prev(e,xs))t.classList.add(Ts)}_clearActiveClass(t){t.classList.remove(Ts);const e=R.find(`${Cs}.${Ts}`,t);for(const t of e)t.classList.remove(Ts)}static jQueryInterface(t){return this.each(function(){const e=Ss.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}P.on(window,Es,()=>{for(const t of R.find('[data-bs-spy="scroll"]'))Ss.getOrCreateInstance(t)}),g(Ss);const Ds=".bs.tab",$s=`hide${Ds}`,Is=`hidden${Ds}`,Ns=`show${Ds}`,Ps=`shown${Ds}`,js=`click${Ds}`,Ms=`keydown${Ds}`,Fs=`load${Ds}`,Hs="ArrowLeft",Ws="ArrowRight",Bs="ArrowUp",zs="ArrowDown",Rs="Home",qs="End",Vs="active",Ks="fade",Qs="show",Xs=".dropdown-toggle",Ys=`:not(${Xs})`,Us='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Gs=`.nav-link${Ys}, .list-group-item${Ys}, [role="tab"]${Ys}, ${Us}`,Js=`.${Vs}[data-bs-toggle="tab"], .${Vs}[data-bs-toggle="pill"], .${Vs}[data-bs-toggle="list"]`;class Zs extends B{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,Ms,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?P.trigger(e,$s,{relatedTarget:t}):null;P.trigger(t,Ns,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(Vs),this._activate(R.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),P.trigger(t,Ps,{relatedTarget:e})):t.classList.add(Qs)},t,t.classList.contains(Ks)))}_deactivate(t,e){t&&(t.classList.remove(Vs),t.blur(),this._deactivate(R.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),P.trigger(t,Is,{relatedTarget:e})):t.classList.remove(Qs)},t,t.classList.contains(Ks)))}_keydown(t){if(![Hs,Ws,Bs,zs,Rs,qs].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(t=>!c(t));let i;if([Rs,qs].includes(t.key))i=e[t.key===Rs?0:e.length-1];else{const n=[Ws,zs].includes(t.key);i=v(e,t.target,n,!0)}i&&(i.focus({preventScroll:!0}),Zs.getOrCreateInstance(i).show())}_getChildren(){return R.find(Gs,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=R.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const n=(t,n)=>{const s=R.findOne(t,i);s&&s.classList.toggle(n,e)};n(Xs,Vs),n(".dropdown-menu",Qs),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Vs)}_getInnerElement(t){return t.matches(Gs)?t:R.findOne(Gs,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=Zs.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}P.on(document,js,Us,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),c(this)||Zs.getOrCreateInstance(this).show()}),P.on(window,Fs,()=>{for(const t of R.find(Js))Zs.getOrCreateInstance(t)}),g(Zs);const to=".bs.toast",eo=`mouseover${to}`,io=`mouseout${to}`,no=`focusin${to}`,so=`focusout${to}`,oo=`hide${to}`,ro=`hidden${to}`,ao=`show${to}`,lo=`shown${to}`,co="hide",ho="show",uo="showing",fo={animation:"boolean",autohide:"boolean",delay:"number"},po={animation:!0,autohide:!0,delay:5e3};class mo extends B{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return po}static get DefaultType(){return fo}static get NAME(){return"toast"}show(){P.trigger(this._element,ao).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(co),u(this._element),this._element.classList.add(ho,uo),this._queueCallback(()=>{this._element.classList.remove(uo),P.trigger(this._element,lo),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(P.trigger(this._element,oo).defaultPrevented||(this._element.classList.add(uo),this._queueCallback(()=>{this._element.classList.add(co),this._element.classList.remove(uo,ho),P.trigger(this._element,ro)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ho),super.dispose()}isShown(){return this._element.classList.contains(ho)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,eo,t=>this._onInteraction(t,!0)),P.on(this._element,io,t=>this._onInteraction(t,!1)),P.on(this._element,no,t=>this._onInteraction(t,!0)),P.on(this._element,so,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=mo.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}return q(mo),g(mo),{Alert:X,Button:U,Carousel:St,Collapse:qt,Dropdown:Qi,Modal:Ln,Offcanvas:Qn,Popover:vs,ScrollSpy:Ss,Tab:Zs,Toast:mo,Tooltip:ps}});


/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Vue=e()}(this,(function(){"use strict";var t=Object.freeze({}),e=Array.isArray;function n(t){return null==t}function r(t){return null!=t}function o(t){return!0===t}function i(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function a(t){return"function"==typeof t}function s(t){return null!==t&&"object"==typeof t}var c=Object.prototype.toString;function u(t){return"[object Object]"===c.call(t)}function l(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return r(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===c?JSON.stringify(t,p,2):String(t)}function p(t,e){return e&&e.__v_isRef?e.value:e}function v(t){var e=parseFloat(t);return isNaN(e)?t:e}function h(t,e){for(var n=Object.create(null),r=t.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var m=h("slot,component",!0),g=h("key,ref,slot,slot-scope,is");function y(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var _=Object.prototype.hasOwnProperty;function b(t,e){return _.call(t,e)}function $(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var w=/-(\w)/g,x=$((function(t){return t.replace(w,(function(t,e){return e?e.toUpperCase():""}))})),C=$((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),k=/\B([A-Z])/g,S=$((function(t){return t.replace(k,"-$1").toLowerCase()}));var O=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function T(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function A(t,e){for(var n in e)t[n]=e[n];return t}function j(t){for(var e={},n=0;n<t.length;n++)t[n]&&A(e,t[n]);return e}function E(t,e,n){}var N=function(t,e,n){return!1},P=function(t){return t};function D(t,e){if(t===e)return!0;var n=s(t),r=s(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=Array.isArray(t),i=Array.isArray(e);if(o&&i)return t.length===e.length&&t.every((function(t,n){return D(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||i)return!1;var a=Object.keys(t),c=Object.keys(e);return a.length===c.length&&a.every((function(n){return D(t[n],e[n])}))}catch(t){return!1}}function M(t,e){for(var n=0;n<t.length;n++)if(D(t[n],e))return n;return-1}function I(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function L(t,e){return t===e?0===t&&1/t!=1/e:t==t||e==e}var R="data-server-rendered",F=["component","directive","filter"],H=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:N,isReservedAttr:N,isUnknownElement:N,getTagNamespace:E,parsePlatformTagName:P,mustUseProp:N,async:!0,_lifecycleHooks:H},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function V(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var K=new RegExp("[^".concat(U.source,".$_\\d]"));var J="__proto__"in{},q="undefined"!=typeof window,W=q&&window.navigator.userAgent.toLowerCase(),Z=W&&/msie|trident/.test(W),G=W&&W.indexOf("msie 9.0")>0,X=W&&W.indexOf("edge/")>0;W&&W.indexOf("android");var Y=W&&/iphone|ipad|ipod|ios/.test(W);W&&/chrome\/\d+/.test(W),W&&/phantomjs/.test(W);var Q,tt=W&&W.match(/firefox\/(\d+)/),et={}.watch,nt=!1;if(q)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var ot=function(){return void 0===Q&&(Q=!q&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),Q},it=q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function at(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,ct="undefined"!=typeof Symbol&&at(Symbol)&&"undefined"!=typeof Reflect&&at(Reflect.ownKeys);st="undefined"!=typeof Set&&at(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=null;function lt(t){void 0===t&&(t=null),t||ut&&ut._scope.off(),ut=t,t&&t._scope.on()}var ft=function(){function t(t,e,n,r,o,i,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),dt=function(t){void 0===t&&(t="");var e=new ft;return e.text=t,e.isComment=!0,e};function pt(t){return new ft(void 0,void 0,void 0,String(t))}function vt(t){var e=new ft(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}"function"==typeof SuppressedError&&SuppressedError;var ht=0,mt=[],gt=function(){for(var t=0;t<mt.length;t++){var e=mt[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}mt.length=0},yt=function(){function t(){this._pending=!1,this.id=ht++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,mt.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){for(var e=this.subs.filter((function(t){return t})),n=0,r=e.length;n<r;n++){e[n].update()}},t}();yt.target=null;var _t=[];function bt(t){_t.push(t),yt.target=t}function $t(){_t.pop(),yt.target=_t[_t.length-1]}var wt=Array.prototype,xt=Object.create(wt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=wt[t];V(xt,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o,i=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i}))}));var Ct=Object.getOwnPropertyNames(xt),kt={},St=!0;function Ot(t){St=t}var Tt={notify:E,depend:E,addSub:E,removeSub:E},At=function(){function t(t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),this.value=t,this.shallow=n,this.mock=r,this.dep=r?Tt:new yt,this.vmCount=0,V(t,"__ob__",this),e(t)){if(!r)if(J)t.__proto__=xt;else for(var o=0,i=Ct.length;o<i;o++){V(t,s=Ct[o],xt[s])}n||this.observeArray(t)}else{var a=Object.keys(t);for(o=0;o<a.length;o++){var s;Et(t,s=a[o],kt,void 0,n,r)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)jt(t[e],!1,this.mock)},t}();function jt(t,n,r){return t&&b(t,"__ob__")&&t.__ob__ instanceof At?t.__ob__:!St||!r&&ot()||!e(t)&&!u(t)||!Object.isExtensible(t)||t.__v_skip||Bt(t)||t instanceof ft?void 0:new At(t,n,r)}function Et(t,n,r,o,i,a,s){void 0===s&&(s=!1);var c=new yt,u=Object.getOwnPropertyDescriptor(t,n);if(!u||!1!==u.configurable){var l=u&&u.get,f=u&&u.set;l&&!f||r!==kt&&2!==arguments.length||(r=t[n]);var d=i?r&&r.__ob__:jt(r,!1,a);return Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var n=l?l.call(t):r;return yt.target&&(c.depend(),d&&(d.dep.depend(),e(n)&&Dt(n))),Bt(n)&&!i?n.value:n},set:function(e){var n=l?l.call(t):r;if(L(n,e)){if(f)f.call(t,e);else{if(l)return;if(!i&&Bt(n)&&!Bt(e))return void(n.value=e);r=e}d=i?e&&e.__ob__:jt(e,!1,a),c.notify()}}}),c}}function Nt(t,n,r){if(!Ft(t)){var o=t.__ob__;return e(t)&&l(n)?(t.length=Math.max(t.length,n),t.splice(n,1,r),o&&!o.shallow&&o.mock&&jt(r,!1,!0),r):n in t&&!(n in Object.prototype)?(t[n]=r,r):t._isVue||o&&o.vmCount?r:o?(Et(o.value,n,r,void 0,o.shallow,o.mock),o.dep.notify(),r):(t[n]=r,r)}}function Pt(t,n){if(e(t)&&l(n))t.splice(n,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||Ft(t)||b(t,n)&&(delete t[n],r&&r.dep.notify())}}function Dt(t){for(var n=void 0,r=0,o=t.length;r<o;r++)(n=t[r])&&n.__ob__&&n.__ob__.dep.depend(),e(n)&&Dt(n)}function Mt(t){return It(t,!0),V(t,"__v_isShallow",!0),t}function It(t,e){Ft(t)||jt(t,e,ot())}function Lt(t){return Ft(t)?Lt(t.__v_raw):!(!t||!t.__ob__)}function Rt(t){return!(!t||!t.__v_isShallow)}function Ft(t){return!(!t||!t.__v_isReadonly)}var Ht="__v_isRef";function Bt(t){return!(!t||!0!==t.__v_isRef)}function Ut(t,e){if(Bt(t))return t;var n={};return V(n,Ht,!0),V(n,"__v_isShallow",e),V(n,"dep",Et(n,"value",t,null,e,ot())),n}function zt(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Bt(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];Bt(r)&&!Bt(t)?r.value=t:e[n]=t}})}function Vt(t,e,n){var r=t[e];if(Bt(r))return r;var o={get value(){var r=t[e];return void 0===r?n:r},set value(n){t[e]=n}};return V(o,Ht,!0),o}var Kt="__v_rawToReadonly",Jt="__v_rawToShallowReadonly";function qt(t){return Wt(t,!1)}function Wt(t,e){if(!u(t))return t;if(Ft(t))return t;var n=e?Jt:Kt,r=t[n];if(r)return r;var o=Object.create(Object.getPrototypeOf(t));V(t,n,o),V(o,"__v_isReadonly",!0),V(o,"__v_raw",t),Bt(t)&&V(o,Ht,!0),(e||Rt(t))&&V(o,"__v_isShallow",!0);for(var i=Object.keys(t),a=0;a<i.length;a++)Zt(o,t,i[a],e);return o}function Zt(t,e,n,r){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];return r||!u(t)?t:qt(t)},set:function(){}})}var Gt=$((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function Xt(t,n){function r(){var t=r.fns;if(!e(t))return _n(t,null,arguments,n,"v-on handler");for(var o=t.slice(),i=0;i<o.length;i++)_n(o[i],null,arguments,n,"v-on handler")}return r.fns=t,r}function Yt(t,e,r,i,a,s){var c,u,l,f;for(c in t)u=t[c],l=e[c],f=Gt(c),n(u)||(n(l)?(n(u.fns)&&(u=t[c]=Xt(u,s)),o(f.once)&&(u=t[c]=a(f.name,u,f.capture)),r(f.name,u,f.capture,f.passive,f.params)):u!==l&&(l.fns=u,t[c]=l));for(c in e)n(t[c])&&i((f=Gt(c)).name,e[c],f.capture)}function Qt(t,e,i){var a;t instanceof ft&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function c(){i.apply(this,arguments),y(a.fns,c)}n(s)?a=Xt([c]):r(s.fns)&&o(s.merged)?(a=s).fns.push(c):a=Xt([s,c]),a.merged=!0,t[e]=a}function te(t,e,n,o,i){if(r(e)){if(b(e,n))return t[n]=e[n],i||delete e[n],!0;if(b(e,o))return t[n]=e[o],i||delete e[o],!0}return!1}function ee(t){return i(t)?[pt(t)]:e(t)?re(t):void 0}function ne(t){return r(t)&&r(t.text)&&!1===t.isComment}function re(t,a){var s,c,u,l,f=[];for(s=0;s<t.length;s++)n(c=t[s])||"boolean"==typeof c||(l=f[u=f.length-1],e(c)?c.length>0&&(ne((c=re(c,"".concat(a||"","_").concat(s)))[0])&&ne(l)&&(f[u]=pt(l.text+c[0].text),c.shift()),f.push.apply(f,c)):i(c)?ne(l)?f[u]=pt(l.text+c):""!==c&&f.push(pt(c)):ne(c)&&ne(l)?f[u]=pt(l.text+c.text):(o(t._isVList)&&r(c.tag)&&n(c.key)&&r(a)&&(c.key="__vlist".concat(a,"_").concat(s,"__")),f.push(c)));return f}var oe=1,ie=2;function ae(t,n,c,u,l,f){return(e(c)||i(c))&&(l=u,u=c,c=void 0),o(f)&&(l=ie),function(t,n,o,i,c){if(r(o)&&r(o.__ob__))return dt();r(o)&&r(o.is)&&(n=o.is);if(!n)return dt();e(i)&&a(i[0])&&((o=o||{}).scopedSlots={default:i[0]},i.length=0);c===ie?i=ee(i):c===oe&&(i=function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return Array.prototype.concat.apply([],t);return t}(i));var u,l;if("string"==typeof n){var f=void 0;l=t.$vnode&&t.$vnode.ns||B.getTagNamespace(n),u=B.isReservedTag(n)?new ft(B.parsePlatformTagName(n),o,i,void 0,void 0,t):o&&o.pre||!r(f=kr(t.$options,"components",n))?new ft(n,o,i,void 0,void 0,t):hr(f,o,t,i,n)}else u=hr(n,o,t,i);return e(u)?u:r(u)?(r(l)&&se(u,l),r(o)&&function(t){s(t.style)&&Wn(t.style);s(t.class)&&Wn(t.class)}(o),u):dt()}(t,n,c,u,l)}function se(t,e,i){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,i=!0),r(t.children))for(var a=0,s=t.children.length;a<s;a++){var c=t.children[a];r(c.tag)&&(n(c.ns)||o(i)&&"svg"!==c.tag)&&se(c,e,i)}}function ce(t,n){var o,i,a,c,u=null;if(e(t)||"string"==typeof t)for(u=new Array(t.length),o=0,i=t.length;o<i;o++)u[o]=n(t[o],o);else if("number"==typeof t)for(u=new Array(t),o=0;o<t;o++)u[o]=n(o+1,o);else if(s(t))if(ct&&t[Symbol.iterator]){u=[];for(var l=t[Symbol.iterator](),f=l.next();!f.done;)u.push(n(f.value,u.length)),f=l.next()}else for(a=Object.keys(t),u=new Array(a.length),o=0,i=a.length;o<i;o++)c=a[o],u[o]=n(t[c],c,o);return r(u)||(u=[]),u._isVList=!0,u}function ue(t,e,n,r){var o,i=this.$scopedSlots[t];i?(n=n||{},r&&(n=A(A({},r),n)),o=i(n)||(a(e)?e():e)):o=this.$slots[t]||(a(e)?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},o):o}function le(t){return kr(this.$options,"filters",t)||P}function fe(t,n){return e(t)?-1===t.indexOf(n):t!==n}function de(t,e,n,r,o){var i=B.keyCodes[e]||n;return o&&r&&!B.keyCodes[e]?fe(o,r):i?fe(i,t):r?S(r)!==e:void 0===t}function pe(t,n,r,o,i){if(r)if(s(r)){e(r)&&(r=j(r));var a=void 0,c=function(e){if("class"===e||"style"===e||g(e))a=t;else{var s=t.attrs&&t.attrs.type;a=o||B.mustUseProp(n,s,e)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=x(e),u=S(e);c in a||u in a||(a[e]=r[e],i&&((t.on||(t.on={}))["update:".concat(e)]=function(t){r[e]=t}))};for(var u in r)c(u)}else;return t}function ve(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||me(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),"__static__".concat(t),!1),r}function he(t,e,n){return me(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function me(t,n,r){if(e(t))for(var o=0;o<t.length;o++)t[o]&&"string"!=typeof t[o]&&ge(t[o],"".concat(n,"_").concat(o),r);else ge(t,n,r)}function ge(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ye(t,e){if(e)if(u(e)){var n=t.on=t.on?A({},t.on):{};for(var r in e){var o=n[r],i=e[r];n[r]=o?[].concat(o,i):i}}else;return t}function _e(t,n,r,o){n=n||{$stable:!r};for(var i=0;i<t.length;i++){var a=t[i];e(a)?_e(a,n,r):a&&(a.proxy&&(a.fn.proxy=!0),n[a.key]=a.fn)}return o&&(n.$key=o),n}function be(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function $e(t,e){return"string"==typeof t?e+t:t}function we(t){t._o=he,t._n=v,t._s=d,t._l=ce,t._t=ue,t._q=D,t._i=M,t._m=ve,t._f=le,t._k=de,t._b=pe,t._v=pt,t._e=dt,t._u=_e,t._g=ye,t._d=be,t._p=$e}function xe(t,e){if(!t||!t.length)return{};for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==e&&i.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var s=a.slot,c=n[s]||(n[s]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var u in n)n[u].every(Ce)&&delete n[u];return n}function Ce(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ke(t){return t.isComment&&t.asyncFactory}function Se(e,n,r,o){var i,a=Object.keys(r).length>0,s=n?!!n.$stable:!a,c=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(s&&o&&o!==t&&c===o.$key&&!a&&!o.$hasNormal)return o;for(var u in i={},n)n[u]&&"$"!==u[0]&&(i[u]=Oe(e,r,u,n[u]))}else i={};for(var l in r)l in i||(i[l]=Te(r,l));return n&&Object.isExtensible(n)&&(n._normalized=i),V(i,"$stable",s),V(i,"$key",c),V(i,"$hasNormal",a),i}function Oe(t,n,r,o){var i=function(){var n=ut;lt(t);var r=arguments.length?o.apply(null,arguments):o({}),i=(r=r&&"object"==typeof r&&!e(r)?[r]:ee(r))&&r[0];return lt(n),r&&(!i||1===r.length&&i.isComment&&!ke(i))?void 0:r};return o.proxy&&Object.defineProperty(n,r,{get:i,enumerable:!0,configurable:!0}),i}function Te(t,e){return function(){return t[e]}}function Ae(e){return{get attrs(){if(!e._attrsProxy){var n=e._attrsProxy={};V(n,"_v_attr_proxy",!0),je(n,e.$attrs,t,e,"$attrs")}return e._attrsProxy},get listeners(){e._listenersProxy||je(e._listenersProxy={},e.$listeners,t,e,"$listeners");return e._listenersProxy},get slots(){return function(t){t._slotsProxy||Ne(t._slotsProxy={},t.$scopedSlots);return t._slotsProxy}(e)},emit:O(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return zt(e,t,n)}))}}}function je(t,e,n,r,o){var i=!1;for(var a in e)a in t?e[a]!==n[a]&&(i=!0):(i=!0,Ee(t,a,r,o));for(var a in t)a in e||(i=!0,delete t[a]);return i}function Ee(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function Ne(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function Pe(){var t=ut;return t._setupContext||(t._setupContext=Ae(t))}var De,Me,Ie=null;function Le(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function Re(t){if(e(t))for(var n=0;n<t.length;n++){var o=t[n];if(r(o)&&(r(o.componentOptions)||ke(o)))return o}}function Fe(t,e){De.$on(t,e)}function He(t,e){De.$off(t,e)}function Be(t,e){var n=De;return function r(){null!==e.apply(null,arguments)&&n.$off(t,r)}}function Ue(t,e,n){De=t,Yt(e,n||{},Fe,He,Be,t),De=void 0}var ze=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Me,!t&&Me&&(this.index=(Me.scopes||(Me.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Me;try{return Me=this,t()}finally{Me=e}}},t.prototype.on=function(){Me=this},t.prototype.off=function(){Me=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Ve(){return Me}var Ke=null;function Je(t){var e=Ke;return Ke=t,function(){Ke=e}}function qe(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function We(t,e){if(e){if(t._directInactive=!1,qe(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)We(t.$children[n]);Ge(t,"activated")}}function Ze(t,e){if(!(e&&(t._directInactive=!0,qe(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Ze(t.$children[n]);Ge(t,"deactivated")}}function Ge(t,e,n,r){void 0===r&&(r=!0),bt();var o=ut,i=Ve();r&&lt(t);var a=t.$options[e],s="".concat(e," hook");if(a)for(var c=0,u=a.length;c<u;c++)_n(a[c],t,n||null,t,s);t._hasHookEvent&&t.$emit("hook:"+e),r&&(lt(o),i&&i.on()),$t()}var Xe=[],Ye=[],Qe={},tn=!1,en=!1,nn=0;var rn=0,on=Date.now;if(q&&!Z){var an=window.performance;an&&"function"==typeof an.now&&on()>document.createEvent("Event").timeStamp&&(on=function(){return an.now()})}var sn=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function cn(){var t,e;for(rn=on(),en=!0,Xe.sort(sn),nn=0;nn<Xe.length;nn++)(t=Xe[nn]).before&&t.before(),e=t.id,Qe[e]=null,t.run();var n=Ye.slice(),r=Xe.slice();nn=Xe.length=Ye.length=0,Qe={},tn=en=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,We(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&Ge(r,"updated")}}(r),gt(),it&&B.devtools&&it.emit("flush")}function un(t){var e=t.id;if(null==Qe[e]&&(t!==yt.target||!t.noRecurse)){if(Qe[e]=!0,en){for(var n=Xe.length-1;n>nn&&Xe[n].id>t.id;)n--;Xe.splice(n+1,0,t)}else Xe.push(t);tn||(tn=!0,En(cn))}}var ln="watcher",fn="".concat(ln," callback"),dn="".concat(ln," getter"),pn="".concat(ln," cleanup");function vn(t,e){return mn(t,null,{flush:"post"})}var hn={};function mn(n,r,o){var i=void 0===o?t:o,s=i.immediate,c=i.deep,u=i.flush,l=void 0===u?"pre":u;i.onTrack,i.onTrigger;var f,d,p=ut,v=function(t,e,n){void 0===n&&(n=null);var r=_n(t,null,n,p,e);return c&&r&&r.__ob__&&r.__ob__.dep.depend(),r},h=!1,m=!1;if(Bt(n)?(f=function(){return n.value},h=Rt(n)):Lt(n)?(f=function(){return n.__ob__.dep.depend(),n},c=!0):e(n)?(m=!0,h=n.some((function(t){return Lt(t)||Rt(t)})),f=function(){return n.map((function(t){return Bt(t)?t.value:Lt(t)?(t.__ob__.dep.depend(),Wn(t)):a(t)?v(t,dn):void 0}))}):f=a(n)?r?function(){return v(n,dn)}:function(){if(!p||!p._isDestroyed)return d&&d(),v(n,ln,[y])}:E,r&&c){var g=f;f=function(){return Wn(g())}}var y=function(t){d=_.onStop=function(){v(t,pn)}};if(ot())return y=E,r?s&&v(r,fn,[f(),m?[]:void 0,y]):f(),E;var _=new Xn(ut,f,E,{lazy:!0});_.noRecurse=!r;var b=m?[]:hn;return _.run=function(){if(_.active)if(r){var t=_.get();(c||h||(m?t.some((function(t,e){return L(t,b[e])})):L(t,b)))&&(d&&d(),v(r,fn,[t,b===hn?void 0:b,y]),b=t)}else _.get()},"sync"===l?_.update=_.run:"post"===l?(_.post=!0,_.update=function(){return un(_)}):_.update=function(){if(p&&p===ut&&!p._isMounted){var t=p._preWatchers||(p._preWatchers=[]);t.indexOf(_)<0&&t.push(_)}else un(_)},r?s?_.run():b=_.get():"post"===l&&p?p.$once("hook:mounted",(function(){return _.get()})):_.get(),function(){_.teardown()}}function gn(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}function yn(t,e,n){bt();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,t,e,n))return}catch(t){bn(t,r,"errorCaptured hook")}}bn(t,e,n)}finally{$t()}}function _n(t,e,n,r,o){var i;try{(i=n?t.apply(e,n):t.call(e))&&!i._isVue&&f(i)&&!i._handled&&(i.catch((function(t){return yn(t,r,o+" (Promise/async)")})),i._handled=!0)}catch(t){yn(t,r,o)}return i}function bn(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(e){e!==t&&$n(e)}$n(t)}function $n(t,e,n){if(!q||"undefined"==typeof console)throw t;console.error(t)}var wn,xn=!1,Cn=[],kn=!1;function Sn(){kn=!1;var t=Cn.slice(0);Cn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&at(Promise)){var On=Promise.resolve();wn=function(){On.then(Sn),Y&&setTimeout(E)},xn=!0}else if(Z||"undefined"==typeof MutationObserver||!at(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())wn="undefined"!=typeof setImmediate&&at(setImmediate)?function(){setImmediate(Sn)}:function(){setTimeout(Sn,0)};else{var Tn=1,An=new MutationObserver(Sn),jn=document.createTextNode(String(Tn));An.observe(jn,{characterData:!0}),wn=function(){Tn=(Tn+1)%2,jn.data=String(Tn)},xn=!0}function En(t,e){var n;if(Cn.push((function(){if(t)try{t.call(e)}catch(t){yn(t,e,"nextTick")}else n&&n(e)})),kn||(kn=!0,wn()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}function Nn(t){return function(e,n){if(void 0===n&&(n=ut),n)return function(t,e,n){var r=t.$options;r[e]=$r(r[e],n)}(n,t,e)}}var Pn=Nn("beforeMount"),Dn=Nn("mounted"),Mn=Nn("beforeUpdate"),In=Nn("updated"),Ln=Nn("beforeDestroy"),Rn=Nn("destroyed"),Fn=Nn("activated"),Hn=Nn("deactivated"),Bn=Nn("serverPrefetch"),Un=Nn("renderTracked"),zn=Nn("renderTriggered"),Vn=Nn("errorCaptured");var Kn="2.7.16";var Jn=Object.freeze({__proto__:null,version:Kn,defineComponent:function(t){return t},ref:function(t){return Ut(t,!1)},shallowRef:function(t){return Ut(t,!0)},isRef:Bt,toRef:Vt,toRefs:function(t){var n=e(t)?new Array(t.length):{};for(var r in t)n[r]=Vt(t,r);return n},unref:function(t){return Bt(t)?t.value:t},proxyRefs:function(t){if(Lt(t))return t;for(var e={},n=Object.keys(t),r=0;r<n.length;r++)zt(e,t,n[r]);return e},customRef:function(t){var e=new yt,n=t((function(){e.depend()}),(function(){e.notify()})),r=n.get,o=n.set,i={get value(){return r()},set value(t){o(t)}};return V(i,Ht,!0),i},triggerRef:function(t){t.dep&&t.dep.notify()},reactive:function(t){return It(t,!1),t},isReactive:Lt,isReadonly:Ft,isShallow:Rt,isProxy:function(t){return Lt(t)||Ft(t)},shallowReactive:Mt,markRaw:function(t){return Object.isExtensible(t)&&V(t,"__v_skip",!0),t},toRaw:function t(e){var n=e&&e.__v_raw;return n?t(n):e},readonly:qt,shallowReadonly:function(t){return Wt(t,!0)},computed:function(t,e){var n,r,o=a(t);o?(n=t,r=E):(n=t.get,r=t.set);var i=ot()?null:new Xn(ut,n,E,{lazy:!0}),s={effect:i,get value(){return i?(i.dirty&&i.evaluate(),yt.target&&i.depend(),i.value):n()},set value(t){r(t)}};return V(s,Ht,!0),V(s,"__v_isReadonly",o),s},watch:function(t,e,n){return mn(t,e,n)},watchEffect:function(t,e){return mn(t,null,e)},watchPostEffect:vn,watchSyncEffect:function(t,e){return mn(t,null,{flush:"sync"})},EffectScope:ze,effectScope:function(t){return new ze(t)},onScopeDispose:function(t){Me&&Me.cleanups.push(t)},getCurrentScope:Ve,provide:function(t,e){ut&&(gn(ut)[t]=e)},inject:function(t,e,n){void 0===n&&(n=!1);var r=ut;if(r){var o=r.$parent&&r.$parent._provided;if(o&&t in o)return o[t];if(arguments.length>1)return n&&a(e)?e.call(r):e}},h:function(t,e,n){return ae(ut,t,e,n,2,!0)},getCurrentInstance:function(){return ut&&{proxy:ut}},useSlots:function(){return Pe().slots},useAttrs:function(){return Pe().attrs},useListeners:function(){return Pe().listeners},mergeDefaults:function(t,n){var r=e(t)?t.reduce((function(t,e){return t[e]={},t}),{}):t;for(var o in n){var i=r[o];i?e(i)||a(i)?r[o]={type:i,default:n[o]}:i.default=n[o]:null===i&&(r[o]={default:n[o]})}return r},nextTick:En,set:Nt,del:Pt,useCssModule:function(e){return t},useCssVars:function(t){if(q){var e=ut;e&&vn((function(){var n=e.$el,r=t(e,e._setupProxy);if(n&&1===n.nodeType){var o=n.style;for(var i in r)o.setProperty("--".concat(i),r[i])}}))}},defineAsyncComponent:function(t){a(t)&&(t={loader:t});var e=t.loader,n=t.loadingComponent,r=t.errorComponent,o=t.delay,i=void 0===o?200:o,s=t.timeout;t.suspensible;var c=t.onError,u=null,l=0,f=function(){var t;return u||(t=u=e().catch((function(t){if(t=t instanceof Error?t:new Error(String(t)),c)return new Promise((function(e,n){c(t,(function(){return e((l++,u=null,f()))}),(function(){return n(t)}),l+1)}));throw t})).then((function(e){return t!==u&&u?u:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),e)})))};return function(){return{component:f(),delay:i,timeout:s,error:r,loading:n}}},onBeforeMount:Pn,onMounted:Dn,onBeforeUpdate:Mn,onUpdated:In,onBeforeUnmount:Ln,onUnmounted:Rn,onActivated:Fn,onDeactivated:Hn,onServerPrefetch:Bn,onRenderTracked:Un,onRenderTriggered:zn,onErrorCaptured:function(t,e){void 0===e&&(e=ut),Vn(t,e)}}),qn=new st;function Wn(t){return Zn(t,qn),qn.clear(),t}function Zn(t,n){var r,o,i=e(t);if(!(!i&&!s(t)||t.__v_skip||Object.isFrozen(t)||t instanceof ft)){if(t.__ob__){var a=t.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(i)for(r=t.length;r--;)Zn(t[r],n);else if(Bt(t))Zn(t.value,n);else for(r=(o=Object.keys(t)).length;r--;)Zn(t[o[r]],n)}}var Gn=0,Xn=function(){function t(t,e,n,r,o){!function(t,e){void 0===e&&(e=Me),e&&e.active&&e.effects.push(t)}(this,Me&&!Me._vm?Me:t?t._scope:void 0),(this.vm=t)&&o&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Gn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="",a(e)?this.getter=e:(this.getter=function(t){if(!K.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=E)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;bt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;yn(t,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Wn(t),$t(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():un(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');_n(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&y(this.vm._scope.effects,this),this.active){for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}(),Yn={enumerable:!0,configurable:!0,get:E,set:E};function Qn(t,e,n){Yn.get=function(){return this[e][n]},Yn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Yn)}function tr(t){var n=t.$options;if(n.props&&function(t,e){var n=t.$options.propsData||{},r=t._props=Mt({}),o=t.$options._propKeys=[],i=!t.$parent;i||Ot(!1);var a=function(i){o.push(i);var a=Sr(i,e,n,t);Et(r,i,a,void 0,!0),i in t||Qn(t,"_props",i)};for(var s in e)a(s);Ot(!0)}(t,n.props),function(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=Ae(t);lt(t),bt();var o=_n(n,null,[t._props||Mt({}),r],t,"setup");if($t(),lt(),a(o))e.render=o;else if(s(o))if(t._setupState=o,o.__sfc){var i=t._setupProxy={};for(var c in o)"__sfc"!==c&&zt(i,o,c)}else for(var c in o)z(c)||zt(t,o,c)}}(t),n.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?E:O(e[n],t)}(t,n.methods),n.data)!function(t){var e=t.$options.data;e=t._data=a(e)?function(t,e){bt();try{return t.call(e,e)}catch(t){return yn(t,e,"data()"),{}}finally{$t()}}(e,t):e||{},u(e)||(e={});var n=Object.keys(e),r=t.$options.props;t.$options.methods;var o=n.length;for(;o--;){var i=n[o];r&&b(r,i)||z(i)||Qn(t,"_data",i)}var s=jt(e);s&&s.vmCount++}(t);else{var r=jt(t._data={});r&&r.vmCount++}n.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=ot();for(var o in e){var i=e[o],s=a(i)?i:i.get;r||(n[o]=new Xn(t,s||E,E,er)),o in t||nr(t,o,i)}}(t,n.computed),n.watch&&n.watch!==et&&function(t,n){for(var r in n){var o=n[r];if(e(o))for(var i=0;i<o.length;i++)ir(t,r,o[i]);else ir(t,r,o)}}(t,n.watch)}var er={lazy:!0};function nr(t,e,n){var r=!ot();a(n)?(Yn.get=r?rr(e):or(n),Yn.set=E):(Yn.get=n.get?r&&!1!==n.cache?rr(e):or(n.get):E,Yn.set=n.set||E),Object.defineProperty(t,e,Yn)}function rr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),yt.target&&e.depend(),e.value}}function or(t){return function(){return t.call(this,this)}}function ir(t,e,n,r){return u(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function ar(t,e){if(t){for(var n=Object.create(null),r=ct?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){var s=t[i].from;if(s in e._provided)n[i]=e._provided[s];else if("default"in t[i]){var c=t[i].default;n[i]=a(c)?c.call(e):c}}}return n}}var sr=0;function cr(t){var e=t.options;if(t.super){var n=cr(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=n[o]);return e}(t);r&&A(t.extendOptions,r),(e=t.options=Cr(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function ur(n,r,i,a,s){var c,u=this,l=s.options;b(a,"_uid")?(c=Object.create(a))._original=a:(c=a,a=a._original);var f=o(l._compiled),d=!f;this.data=n,this.props=r,this.children=i,this.parent=a,this.listeners=n.on||t,this.injections=ar(l.inject,a),this.slots=function(){return u.$slots||Se(a,n.scopedSlots,u.$slots=xe(i,a)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Se(a,n.scopedSlots,this.slots())}}),f&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Se(a,n.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,n,r,o){var i=ae(c,t,n,r,o,d);return i&&!e(i)&&(i.fnScopeId=l._scopeId,i.fnContext=a),i}:this._c=function(t,e,n,r){return ae(c,t,e,n,r,d)}}function lr(t,e,n,r,o){var i=vt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function fr(t,e){for(var n in e)t[x(n)]=e[n]}function dr(t){return t.name||t.__name||t._componentTag}we(ur.prototype);var pr={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;pr.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},o=t.data.inlineTemplate;r(o)&&(n.render=o.render,n.staticRenderFns=o.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Ke)).$mount(e?t.elm:void 0,e)}},prepatch:function(e,n){var r=n.componentOptions;!function(e,n,r,o,i){var a=o.data.scopedSlots,s=e.$scopedSlots,c=!!(a&&!a.$stable||s!==t&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key||!a&&e.$scopedSlots.$key),u=!!(i||e.$options._renderChildren||c),l=e.$vnode;e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o),e.$options._renderChildren=i;var f=o.data.attrs||t;e._attrsProxy&&je(e._attrsProxy,f,l.data&&l.data.attrs||t,e,"$attrs")&&(u=!0),e.$attrs=f,r=r||t;var d=e.$options._parentListeners;if(e._listenersProxy&&je(e._listenersProxy,r,d||t,e,"$listeners"),e.$listeners=e.$options._parentListeners=r,Ue(e,r,d),n&&e.$options.props){Ot(!1);for(var p=e._props,v=e.$options._propKeys||[],h=0;h<v.length;h++){var m=v[h],g=e.$options.props;p[m]=Sr(m,g,n,e)}Ot(!0),e.$options.propsData=n}u&&(e.$slots=xe(i,o.context),e.$forceUpdate())}(n.componentInstance=e.componentInstance,r.propsData,r.listeners,n,r.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,Ge(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,Ye.push(e)):We(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Ze(e,!0):e.$destroy())}},vr=Object.keys(pr);function hr(i,a,c,u,l){if(!n(i)){var d=c.$options._base;if(s(i)&&(i=d.extend(i)),"function"==typeof i){var p;if(n(i.cid)&&(i=function(t,e){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var i=Ie;if(i&&r(t.owners)&&-1===t.owners.indexOf(i)&&t.owners.push(i),o(t.loading)&&r(t.loadingComp))return t.loadingComp;if(i&&!r(t.owners)){var a=t.owners=[i],c=!0,u=null,l=null;i.$on("hook:destroyed",(function(){return y(a,i)}));var d=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},p=I((function(n){t.resolved=Le(n,e),c?a.length=0:d(!0)})),v=I((function(e){r(t.errorComp)&&(t.error=!0,d(!0))})),h=t(p,v);return s(h)&&(f(h)?n(t.resolved)&&h.then(p,v):f(h.component)&&(h.component.then(p,v),r(h.error)&&(t.errorComp=Le(h.error,e)),r(h.loading)&&(t.loadingComp=Le(h.loading,e),0===h.delay?t.loading=!0:u=setTimeout((function(){u=null,n(t.resolved)&&n(t.error)&&(t.loading=!0,d(!1))}),h.delay||200)),r(h.timeout)&&(l=setTimeout((function(){l=null,n(t.resolved)&&v(null)}),h.timeout)))),c=!1,t.loading?t.loadingComp:t.resolved}}(p=i,d),void 0===i))return function(t,e,n,r,o){var i=dt();return i.asyncFactory=t,i.asyncMeta={data:e,context:n,children:r,tag:o},i}(p,a,c,u,l);a=a||{},cr(i),r(a.model)&&function(t,n){var o=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(n.attrs||(n.attrs={}))[o]=n.model.value;var a=n.on||(n.on={}),s=a[i],c=n.model.callback;r(s)?(e(s)?-1===s.indexOf(c):s!==c)&&(a[i]=[c].concat(s)):a[i]=c}(i.options,a);var v=function(t,e,o){var i=e.options.props;if(!n(i)){var a={},s=t.attrs,c=t.props;if(r(s)||r(c))for(var u in i){var l=S(u);te(a,c,u,l,!0)||te(a,s,u,l,!1)}return a}}(a,i);if(o(i.options.functional))return function(n,o,i,a,s){var c=n.options,u={},l=c.props;if(r(l))for(var f in l)u[f]=Sr(f,l,o||t);else r(i.attrs)&&fr(u,i.attrs),r(i.props)&&fr(u,i.props);var d=new ur(i,u,s,a,n),p=c.render.call(null,d._c,d);if(p instanceof ft)return lr(p,i,d.parent,c);if(e(p)){for(var v=ee(p)||[],h=new Array(v.length),m=0;m<v.length;m++)h[m]=lr(v[m],i,d.parent,c);return h}}(i,v,a,c,u);var h=a.on;if(a.on=a.nativeOn,o(i.options.abstract)){var m=a.slot;a={},m&&(a.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<vr.length;n++){var r=vr[n],o=e[r],i=pr[r];o===i||o&&o._merged||(e[r]=o?mr(i,o):i)}}(a);var g=dr(i.options)||l;return new ft("vue-component-".concat(i.cid).concat(g?"-".concat(g):""),a,void 0,void 0,void 0,c,{Ctor:i,propsData:v,listeners:h,tag:l,children:u},p)}}}function mr(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}var gr=E,yr=B.optionMergeStrategies;function _r(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,o,i,a=ct?Reflect.ownKeys(e):Object.keys(e),s=0;s<a.length;s++)"__ob__"!==(r=a[s])&&(o=t[r],i=e[r],n&&b(t,r)?o!==i&&u(o)&&u(i)&&_r(o,i):Nt(t,r,i));return t}function br(t,e,n){return n?function(){var r=a(e)?e.call(n,n):e,o=a(t)?t.call(n,n):t;return r?_r(r,o):o}:e?t?function(){return _r(a(e)?e.call(this,this):e,a(t)?t.call(this,this):t)}:e:t}function $r(t,n){var r=n?t?t.concat(n):e(n)?n:[n]:t;return r?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(r):r}function wr(t,e,n,r){var o=Object.create(t||null);return e?A(o,e):o}yr.data=function(t,e,n){return n?br(t,e,n):e&&"function"!=typeof e?t:br(t,e)},H.forEach((function(t){yr[t]=$r})),F.forEach((function(t){yr[t+"s"]=wr})),yr.watch=function(t,n,r,o){if(t===et&&(t=void 0),n===et&&(n=void 0),!n)return Object.create(t||null);if(!t)return n;var i={};for(var a in A(i,t),n){var s=i[a],c=n[a];s&&!e(s)&&(s=[s]),i[a]=s?s.concat(c):e(c)?c:[c]}return i},yr.props=yr.methods=yr.inject=yr.computed=function(t,e,n,r){if(!t)return e;var o=Object.create(null);return A(o,t),e&&A(o,e),o},yr.provide=function(t,e){return t?function(){var n=Object.create(null);return _r(n,a(t)?t.call(this):t),e&&_r(n,a(e)?e.call(this):e,!1),n}:e};var xr=function(t,e){return void 0===e?t:e};function Cr(t,n,r){if(a(n)&&(n=n.options),function(t,n){var r=t.props;if(r){var o,i,a={};if(e(r))for(o=r.length;o--;)"string"==typeof(i=r[o])&&(a[x(i)]={type:null});else if(u(r))for(var s in r)i=r[s],a[x(s)]=u(i)?i:{type:i};t.props=a}}(n),function(t,n){var r=t.inject;if(r){var o=t.inject={};if(e(r))for(var i=0;i<r.length;i++)o[r[i]]={from:r[i]};else if(u(r))for(var a in r){var s=r[a];o[a]=u(s)?A({from:a},s):{from:s}}}}(n),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];a(r)&&(e[n]={bind:r,update:r})}}(n),!n._base&&(n.extends&&(t=Cr(t,n.extends,r)),n.mixins))for(var o=0,i=n.mixins.length;o<i;o++)t=Cr(t,n.mixins[o],r);var s,c={};for(s in t)l(s);for(s in n)b(t,s)||l(s);function l(e){var o=yr[e]||xr;c[e]=o(t[e],n[e],r,e)}return c}function kr(t,e,n,r){if("string"==typeof n){var o=t[e];if(b(o,n))return o[n];var i=x(n);if(b(o,i))return o[i];var a=C(i);return b(o,a)?o[a]:o[n]||o[i]||o[a]}}function Sr(t,e,n,r){var o=e[t],i=!b(n,t),s=n[t],c=jr(Boolean,o.type);if(c>-1)if(i&&!b(o,"default"))s=!1;else if(""===s||s===S(t)){var u=jr(String,o.type);(u<0||c<u)&&(s=!0)}if(void 0===s){s=function(t,e,n){if(!b(e,"default"))return;var r=e.default;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return a(r)&&"Function"!==Tr(e.type)?r.call(t):r}(r,o,t);var l=St;Ot(!0),jt(s),Ot(l)}return s}var Or=/^\s*function (\w+)/;function Tr(t){var e=t&&t.toString().match(Or);return e?e[1]:""}function Ar(t,e){return Tr(t)===Tr(e)}function jr(t,n){if(!e(n))return Ar(n,t)?0:-1;for(var r=0,o=n.length;r<o;r++)if(Ar(n[r],t))return r;return-1}function Er(t){this._init(t)}function Nr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=dr(t)||dr(n.options),a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=Cr(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)Qn(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)nr(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,F.forEach((function(t){a[t]=n[t]})),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=A({},a.options),o[r]=a,a}}function Pr(t){return t&&(dr(t.Ctor.options)||t.tag)}function Dr(t,n){return e(t)?t.indexOf(n)>-1:"string"==typeof t?t.split(",").indexOf(n)>-1:(r=t,"[object RegExp]"===c.call(r)&&t.test(n));var r}function Mr(t,e){var n=t.cache,r=t.keys,o=t._vnode,i=t.$vnode;for(var a in n){var s=n[a];if(s){var c=s.name;c&&!e(c)&&Ir(n,a,r,o)}}i.componentOptions.children=void 0}function Ir(t,e,n,r){var o=t[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[e]=null,y(n,e)}!function(e){e.prototype._init=function(e){var n=this;n._uid=sr++,n._isVue=!0,n.__v_skip=!0,n._scope=new ze(!0),n._scope.parent=void 0,n._scope._vm=!0,e&&e._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(n,e):n.$options=Cr(cr(n.constructor),e||{},n),n._renderProxy=n,n._self=n,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(n),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ue(t,e)}(n),function(e){e._vnode=null,e._staticTrees=null;var n=e.$options,r=e.$vnode=n._parentVnode,o=r&&r.context;e.$slots=xe(n._renderChildren,o),e.$scopedSlots=r?Se(e.$parent,r.data.scopedSlots,e.$slots):t,e._c=function(t,n,r,o){return ae(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return ae(e,t,n,r,o,!0)};var i=r&&r.data;Et(e,"$attrs",i&&i.attrs||t,null,!0),Et(e,"$listeners",n._parentListeners||t,null,!0)}(n),Ge(n,"beforeCreate",void 0,!1),function(t){var e=ar(t.$options.inject,t);e&&(Ot(!1),Object.keys(e).forEach((function(n){Et(t,n,e[n])})),Ot(!0))}(n),tr(n),function(t){var e=t.$options.provide;if(e){var n=a(e)?e.call(t):e;if(!s(n))return;for(var r=gn(t),o=ct?Reflect.ownKeys(n):Object.keys(n),i=0;i<o.length;i++){var c=o[i];Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(n,c))}}}(n),Ge(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(Er),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Nt,t.prototype.$delete=Pt,t.prototype.$watch=function(t,e,n){var r=this;if(u(e))return ir(r,t,e,n);(n=n||{}).user=!0;var o=new Xn(r,t,e,n);if(n.immediate){var i='callback for immediate watcher "'.concat(o.expression,'"');bt(),_n(e,r,[o.value],r,i),$t()}return function(){o.teardown()}}}(Er),function(t){var n=/^hook:/;t.prototype.$on=function(t,r){var o=this;if(e(t))for(var i=0,a=t.length;i<a;i++)o.$on(t[i],r);else(o._events[t]||(o._events[t]=[])).push(r),n.test(t)&&(o._hasHookEvent=!0);return o},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,n){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(e(t)){for(var o=0,i=t.length;o<i;o++)r.$off(t[o],n);return r}var a,s=r._events[t];if(!s)return r;if(!n)return r._events[t]=null,r;for(var c=s.length;c--;)if((a=s[c])===n||a.fn===n){s.splice(c,1);break}return r},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?T(n):n;for(var r=T(arguments,1),o='event handler for "'.concat(t,'"'),i=0,a=n.length;i<a;i++)_n(n[i],e,r,e,o)}return e}}(Er),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,o=n._vnode,i=Je(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var a=n;a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode;)a.$parent.$el=a.$el,a=a.$parent},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ge(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ge(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Er),function(t){we(t.prototype),t.prototype.$nextTick=function(t){return En(t,this)},t.prototype._render=function(){var t=this,n=t.$options,r=n.render,o=n._parentVnode;o&&t._isMounted&&(t.$scopedSlots=Se(t.$parent,o.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&Ne(t._slotsProxy,t.$scopedSlots)),t.$vnode=o;var i,a=ut,s=Ie;try{lt(t),Ie=t,i=r.call(t._renderProxy,t.$createElement)}catch(e){yn(e,t,"render"),i=t._vnode}finally{Ie=s,lt(a)}return e(i)&&1===i.length&&(i=i[0]),i instanceof ft||(i=dt()),i.parent=o,i}}(Er);var Lr=[String,RegExp,Array],Rr={name:"keep-alive",abstract:!0,props:{include:Lr,exclude:Lr,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,o=t.keyToCache;if(r){var i=r.tag,a=r.componentInstance,s=r.componentOptions;e[o]={name:Pr(s),tag:i,componentInstance:a},n.push(o),this.max&&n.length>parseInt(this.max)&&Ir(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ir(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Mr(t,(function(t){return Dr(e,t)}))})),this.$watch("exclude",(function(e){Mr(t,(function(t){return!Dr(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Re(t),n=e&&e.componentOptions;if(n){var r=Pr(n),o=this.include,i=this.exclude;if(o&&(!r||!Dr(o,r))||i&&r&&Dr(i,r))return e;var a=this.cache,s=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,y(s,c),s.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||t&&t[0]}},Fr={KeepAlive:Rr};!function(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:gr,extend:A,mergeOptions:Cr,defineReactive:Et},t.set=Nt,t.delete=Pt,t.nextTick=En,t.observable=function(t){return jt(t),t},t.options=Object.create(null),F.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,A(t.options.components,Fr),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=T(arguments,1);return n.unshift(this),a(t.install)?t.install.apply(t,n):a(t)&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Cr(this.options,t),this}}(t),Nr(t),function(t){F.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&a(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(Er),Object.defineProperty(Er.prototype,"$isServer",{get:ot}),Object.defineProperty(Er.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Er,"FunctionalRenderContext",{value:ur}),Er.version=Kn;var Hr=h("style,class"),Br=h("input,textarea,option,select,progress"),Ur=function(t,e,n){return"value"===n&&Br(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},zr=h("contenteditable,draggable,spellcheck"),Vr=h("events,caret,typing,plaintext-only"),Kr=function(t,e){return Gr(e)||"false"===e?"false":"contenteditable"===t&&Vr(e)?e:"true"},Jr=h("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),qr="http://www.w3.org/1999/xlink",Wr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Zr=function(t){return Wr(t)?t.slice(6,t.length):""},Gr=function(t){return null==t||!1===t};function Xr(t){for(var e=t.data,n=t,o=t;r(o.componentInstance);)(o=o.componentInstance._vnode)&&o.data&&(e=Yr(o.data,e));for(;r(n=n.parent);)n&&n.data&&(e=Yr(e,n.data));return function(t,e){if(r(t)||r(e))return Qr(t,to(e));return""}(e.staticClass,e.class)}function Yr(t,e){return{staticClass:Qr(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Qr(t,e){return t?e?t+" "+e:t:e||""}function to(t){return Array.isArray(t)?function(t){for(var e,n="",o=0,i=t.length;o<i;o++)r(e=to(t[o]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):s(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var eo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},no=h("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ro=h("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oo=function(t){return no(t)||ro(t)};function io(t){return ro(t)?"svg":"math"===t?"math":void 0}var ao=Object.create(null);var so=h("text,number,password,search,email,tel,url");function co(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var uo=Object.freeze({__proto__:null,createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(eo[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),lo={create:function(t,e){fo(e)},update:function(t,e){t.data.ref!==e.data.ref&&(fo(t,!0),fo(e))},destroy:function(t){fo(t,!0)}};function fo(t,n){var o=t.data.ref;if(r(o)){var i=t.context,s=t.componentInstance||t.elm,c=n?null:s,u=n?void 0:s;if(a(o))_n(o,i,[c],i,"template ref function");else{var l=t.data.refInFor,f="string"==typeof o||"number"==typeof o,d=Bt(o),p=i.$refs;if(f||d)if(l){var v=f?p[o]:o.value;n?e(v)&&y(v,s):e(v)?v.includes(s)||v.push(s):f?(p[o]=[s],po(i,o,p[o])):o.value=[s]}else if(f){if(n&&p[o]!==s)return;p[o]=u,po(i,o,c)}else if(d){if(n&&o.value!==s)return;o.value=c}}}}function po(t,e,n){var r=t._setupState;r&&b(r,e)&&(Bt(r[e])?r[e].value=n:r[e]=n)}var vo=new ft("",{},[]),ho=["create","activate","update","remove","destroy"];function mo(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,o=r(n=t.data)&&r(n=n.attrs)&&n.type,i=r(n=e.data)&&r(n=n.attrs)&&n.type;return o===i||so(o)&&so(i)}(t,e)||o(t.isAsyncPlaceholder)&&n(e.asyncFactory.error))}function go(t,e,n){var o,i,a={};for(o=e;o<=n;++o)r(i=t[o].key)&&(a[i]=o);return a}var yo={create:_o,update:_o,destroy:function(t){_o(t,vo)}};function _o(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,o,i=t===vo,a=e===vo,s=$o(t.data.directives,t.context),c=$o(e.data.directives,e.context),u=[],l=[];for(n in c)r=s[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,xo(o,"update",e,t),o.def&&o.def.componentUpdated&&l.push(o)):(xo(o,"bind",e,t),o.def&&o.def.inserted&&u.push(o));if(u.length){var f=function(){for(var n=0;n<u.length;n++)xo(u[n],"inserted",e,t)};i?Qt(e,"insert",f):f()}l.length&&Qt(e,"postpatch",(function(){for(var n=0;n<l.length;n++)xo(l[n],"componentUpdated",e,t)}));if(!i)for(n in s)c[n]||xo(s[n],"unbind",t,t,a)}(t,e)}var bo=Object.create(null);function $o(t,e){var n,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++){if((r=t[n]).modifiers||(r.modifiers=bo),o[wo(r)]=r,e._setupState&&e._setupState.__sfc){var i=r.def||kr(e,"_setupState","v-"+r.name);r.def="function"==typeof i?{bind:i,update:i}:i}r.def=r.def||kr(e.$options,"directives",r.name)}return o}function wo(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function xo(t,e,n,r,o){var i=t.def&&t.def[e];if(i)try{i(n.elm,t,n,r,o)}catch(r){yn(r,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var Co=[lo,yo];function ko(t,e){var i=e.componentOptions;if(!(r(i)&&!1===i.Ctor.options.inheritAttrs||n(t.data.attrs)&&n(e.data.attrs))){var a,s,c=e.elm,u=t.data.attrs||{},l=e.data.attrs||{};for(a in(r(l.__ob__)||o(l._v_attr_proxy))&&(l=e.data.attrs=A({},l)),l)s=l[a],u[a]!==s&&So(c,a,s,e.data.pre);for(a in(Z||X)&&l.value!==u.value&&So(c,"value",l.value),u)n(l[a])&&(Wr(a)?c.removeAttributeNS(qr,Zr(a)):zr(a)||c.removeAttribute(a))}}function So(t,e,n,r){r||t.tagName.indexOf("-")>-1?Oo(t,e,n):Jr(e)?Gr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):zr(e)?t.setAttribute(e,Kr(e,n)):Wr(e)?Gr(n)?t.removeAttributeNS(qr,Zr(e)):t.setAttributeNS(qr,e,n):Oo(t,e,n)}function Oo(t,e,n){if(Gr(n))t.removeAttribute(e);else{if(Z&&!G&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var To={create:ko,update:ko};function Ao(t,e){var o=e.elm,i=e.data,a=t.data;if(!(n(i.staticClass)&&n(i.class)&&(n(a)||n(a.staticClass)&&n(a.class)))){var s=Xr(e),c=o._transitionClasses;r(c)&&(s=Qr(s,to(c))),s!==o._prevClass&&(o.setAttribute("class",s),o._prevClass=s)}}var jo,Eo,No,Po,Do,Mo,Io={create:Ao,update:Ao},Lo=/[\w).+\-_$\]]/;function Ro(t){var e,n,r,o,i,a=!1,s=!1,c=!1,u=!1,l=0,f=0,d=0,p=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(c)96===e&&92!==n&&(c=!1);else if(u)47===e&&92!==n&&(u=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||l||f||d){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:d++;break;case 41:d--;break;case 91:f++;break;case 93:f--;break;case 123:l++;break;case 125:l--}if(47===e){for(var v=r-1,h=void 0;v>=0&&" "===(h=t.charAt(v));v--);h&&Lo.test(h)||(u=!0)}}else void 0===o?(p=r+1,o=t.slice(0,r).trim()):m();function m(){(i||(i=[])).push(t.slice(p,r).trim()),p=r+1}if(void 0===o?o=t.slice(0,r).trim():0!==p&&m(),i)for(r=0;r<i.length;r++)o=Fo(o,i[r]);return o}function Fo(t,e){var n=e.indexOf("(");if(n<0)return'_f("'.concat(e,'")(').concat(t,")");var r=e.slice(0,n),o=e.slice(n+1);return'_f("'.concat(r,'")(').concat(t).concat(")"!==o?","+o:o)}function Ho(t,e){console.error("[Vue compiler]: ".concat(t))}function Bo(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function Uo(t,e,n,r,o){(t.props||(t.props=[])).push(Xo({name:e,value:n,dynamic:o},r)),t.plain=!1}function zo(t,e,n,r,o){(o?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Xo({name:e,value:n,dynamic:o},r)),t.plain=!1}function Vo(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(Xo({name:e,value:n},r))}function Ko(t,e,n,r,o,i,a,s){(t.directives||(t.directives=[])).push(Xo({name:e,rawName:n,value:r,arg:o,isDynamicArg:i,modifiers:a},s)),t.plain=!1}function Jo(t,e,n){return n?"_p(".concat(e,',"').concat(t,'")'):t+e}function qo(e,n,r,o,i,a,s,c){var u;(o=o||t).right?c?n="(".concat(n,")==='click'?'contextmenu':(").concat(n,")"):"click"===n&&(n="contextmenu",delete o.right):o.middle&&(c?n="(".concat(n,")==='click'?'mouseup':(").concat(n,")"):"click"===n&&(n="mouseup")),o.capture&&(delete o.capture,n=Jo("!",n,c)),o.once&&(delete o.once,n=Jo("~",n,c)),o.passive&&(delete o.passive,n=Jo("&",n,c)),o.native?(delete o.native,u=e.nativeEvents||(e.nativeEvents={})):u=e.events||(e.events={});var l=Xo({value:r.trim(),dynamic:c},s);o!==t&&(l.modifiers=o);var f=u[n];Array.isArray(f)?i?f.unshift(l):f.push(l):u[n]=f?i?[l,f]:[f,l]:l,e.plain=!1}function Wo(t,e,n){var r=Zo(t,":"+e)||Zo(t,"v-bind:"+e);if(null!=r)return Ro(r);if(!1!==n){var o=Zo(t,e);if(null!=o)return JSON.stringify(o)}}function Zo(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var o=t.attrsList,i=0,a=o.length;i<a;i++)if(o[i].name===e){o.splice(i,1);break}return n&&delete t.attrsMap[e],r}function Go(t,e){for(var n=t.attrsList,r=0,o=n.length;r<o;r++){var i=n[r];if(e.test(i.name))return n.splice(r,1),i}}function Xo(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Yo(t,e,n){var r=n||{},o=r.number,i="$$v",a=i;r.trim&&(a="(typeof ".concat(i," === 'string'")+"? ".concat(i,".trim()")+": ".concat(i,")")),o&&(a="_n(".concat(a,")"));var s=Qo(e,a);t.model={value:"(".concat(e,")"),expression:JSON.stringify(e),callback:"function (".concat(i,") {").concat(s,"}")}}function Qo(t,e){var n=function(t){if(t=t.trim(),jo=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<jo-1)return(Po=t.lastIndexOf("."))>-1?{exp:t.slice(0,Po),key:'"'+t.slice(Po+1)+'"'}:{exp:t,key:null};Eo=t,Po=Do=Mo=0;for(;!ei();)ni(No=ti())?oi(No):91===No&&ri(No);return{exp:t.slice(0,Do),key:t.slice(Do+1,Mo)}}(t);return null===n.key?"".concat(t,"=").concat(e):"$set(".concat(n.exp,", ").concat(n.key,", ").concat(e,")")}function ti(){return Eo.charCodeAt(++Po)}function ei(){return Po>=jo}function ni(t){return 34===t||39===t}function ri(t){var e=1;for(Do=Po;!ei();)if(ni(t=ti()))oi(t);else if(91===t&&e++,93===t&&e--,0===e){Mo=Po;break}}function oi(t){for(var e=t;!ei()&&(t=ti())!==e;);}var ii,ai="__r",si="__c";function ci(t,e,n){var r=ii;return function o(){null!==e.apply(null,arguments)&&fi(t,o,n,r)}}var ui=xn&&!(tt&&Number(tt[1])<=53);function li(t,e,n,r){if(ui){var o=rn,i=e;e=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return i.apply(this,arguments)}}ii.addEventListener(t,e,nt?{capture:n,passive:r}:n)}function fi(t,e,n,r){(r||ii).removeEventListener(t,e._wrapper||e,n)}function di(t,e){if(!n(t.data.on)||!n(e.data.on)){var o=e.data.on||{},i=t.data.on||{};ii=e.elm||t.elm,function(t){if(r(t[ai])){var e=Z?"change":"input";t[e]=[].concat(t[ai],t[e]||[]),delete t[ai]}r(t[si])&&(t.change=[].concat(t[si],t.change||[]),delete t[si])}(o),Yt(o,i,li,fi,ci,e.context),ii=void 0}}var pi,vi={create:di,update:di,destroy:function(t){return di(t,vo)}};function hi(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,a,s=e.elm,c=t.data.domProps||{},u=e.data.domProps||{};for(i in(r(u.__ob__)||o(u._v_attr_proxy))&&(u=e.data.domProps=A({},u)),c)i in u||(s[i]="");for(i in u){if(a=u[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),a===c[i])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===i&&"PROGRESS"!==s.tagName){s._value=a;var l=n(a)?"":String(a);mi(s,l)&&(s.value=l)}else if("innerHTML"===i&&ro(s.tagName)&&n(s.innerHTML)){(pi=pi||document.createElement("div")).innerHTML="<svg>".concat(a,"</svg>");for(var f=pi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;f.firstChild;)s.appendChild(f.firstChild)}else if(a!==c[i])try{s[i]=a}catch(t){}}}}function mi(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,o=t._vModifiers;if(r(o)){if(o.number)return v(n)!==v(e);if(o.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var gi={create:hi,update:hi},yi=$((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function _i(t){var e=bi(t.style);return t.staticStyle?A(t.staticStyle,e):e}function bi(t){return Array.isArray(t)?j(t):"string"==typeof t?yi(t):t}var $i,wi=/^--/,xi=/\s*!important$/,Ci=function(t,e,n){if(wi.test(e))t.style.setProperty(e,n);else if(xi.test(n))t.style.setProperty(S(e),n.replace(xi,""),"important");else{var r=Si(e);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)t.style[r]=n[o];else t.style[r]=n}},ki=["Webkit","Moz","ms"],Si=$((function(t){if($i=$i||document.createElement("div").style,"filter"!==(t=x(t))&&t in $i)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<ki.length;n++){var r=ki[n]+e;if(r in $i)return r}}));function Oi(t,e){var o=e.data,i=t.data;if(!(n(o.staticStyle)&&n(o.style)&&n(i.staticStyle)&&n(i.style))){var a,s,c=e.elm,u=i.staticStyle,l=i.normalizedStyle||i.style||{},f=u||l,d=bi(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?A({},d):d;var p=function(t,e){var n,r={};if(e)for(var o=t;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=_i(o.data))&&A(r,n);(n=_i(t.data))&&A(r,n);for(var i=t;i=i.parent;)i.data&&(n=_i(i.data))&&A(r,n);return r}(e,!0);for(s in f)n(p[s])&&Ci(c,s,"");for(s in p)a=p[s],Ci(c,s,null==a?"":a)}}var Ti={create:Oi,update:Oi},Ai=/\s+/;function ji(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ai).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Ei(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ai).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Ni(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&A(e,Pi(t.name||"v")),A(e,t),e}return"string"==typeof t?Pi(t):void 0}}var Pi=$((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),Di=q&&!G,Mi="transition",Ii="animation",Li="transition",Ri="transitionend",Fi="animation",Hi="animationend";Di&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Li="WebkitTransition",Ri="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Fi="WebkitAnimation",Hi="webkitAnimationEnd"));var Bi=q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ui(t){Bi((function(){Bi(t)}))}function zi(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ji(t,e))}function Vi(t,e){t._transitionClasses&&y(t._transitionClasses,e),Ei(t,e)}function Ki(t,e,n){var r=qi(t,e),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var s=o===Mi?Ri:Hi,c=0,u=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++c>=a&&u()};setTimeout((function(){c<a&&u()}),i+1),t.addEventListener(s,l)}var Ji=/\b(transform|all)(,|$)/;function qi(t,e){var n,r=window.getComputedStyle(t),o=(r[Li+"Delay"]||"").split(", "),i=(r[Li+"Duration"]||"").split(", "),a=Wi(o,i),s=(r[Fi+"Delay"]||"").split(", "),c=(r[Fi+"Duration"]||"").split(", "),u=Wi(s,c),l=0,f=0;return e===Mi?a>0&&(n=Mi,l=a,f=i.length):e===Ii?u>0&&(n=Ii,l=u,f=c.length):f=(n=(l=Math.max(a,u))>0?a>u?Mi:Ii:null)?n===Mi?i.length:c.length:0,{type:n,timeout:l,propCount:f,hasTransform:n===Mi&&Ji.test(r[Li+"Property"])}}function Wi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Zi(e)+Zi(t[n])})))}function Zi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Gi(t,e){var o=t.elm;r(o._leaveCb)&&(o._leaveCb.cancelled=!0,o._leaveCb());var i=Ni(t.data.transition);if(!n(i)&&!r(o._enterCb)&&1===o.nodeType){for(var c=i.css,u=i.type,l=i.enterClass,f=i.enterToClass,d=i.enterActiveClass,p=i.appearClass,h=i.appearToClass,m=i.appearActiveClass,g=i.beforeEnter,y=i.enter,_=i.afterEnter,b=i.enterCancelled,$=i.beforeAppear,w=i.appear,x=i.afterAppear,C=i.appearCancelled,k=i.duration,S=Ke,O=Ke.$vnode;O&&O.parent;)S=O.context,O=O.parent;var T=!S._isMounted||!t.isRootInsert;if(!T||w||""===w){var A=T&&p?p:l,j=T&&m?m:d,E=T&&h?h:f,N=T&&$||g,P=T&&a(w)?w:y,D=T&&x||_,M=T&&C||b,L=v(s(k)?k.enter:k),R=!1!==c&&!G,F=Qi(P),H=o._enterCb=I((function(){R&&(Vi(o,E),Vi(o,j)),H.cancelled?(R&&Vi(o,A),M&&M(o)):D&&D(o),o._enterCb=null}));t.data.show||Qt(t,"insert",(function(){var e=o.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),P&&P(o,H)})),N&&N(o),R&&(zi(o,A),zi(o,j),Ui((function(){Vi(o,A),H.cancelled||(zi(o,E),F||(Yi(L)?setTimeout(H,L):Ki(o,u,H)))}))),t.data.show&&(e&&e(),P&&P(o,H)),R||F||H()}}}function Xi(t,e){var o=t.elm;r(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var i=Ni(t.data.transition);if(n(i)||1!==o.nodeType)return e();if(!r(o._leaveCb)){var a=i.css,c=i.type,u=i.leaveClass,l=i.leaveToClass,f=i.leaveActiveClass,d=i.beforeLeave,p=i.leave,h=i.afterLeave,m=i.leaveCancelled,g=i.delayLeave,y=i.duration,_=!1!==a&&!G,b=Qi(p),$=v(s(y)?y.leave:y),w=o._leaveCb=I((function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[t.key]=null),_&&(Vi(o,l),Vi(o,f)),w.cancelled?(_&&Vi(o,u),m&&m(o)):(e(),h&&h(o)),o._leaveCb=null}));g?g(x):x()}function x(){w.cancelled||(!t.data.show&&o.parentNode&&((o.parentNode._pending||(o.parentNode._pending={}))[t.key]=t),d&&d(o),_&&(zi(o,u),zi(o,f),Ui((function(){Vi(o,u),w.cancelled||(zi(o,l),b||(Yi($)?setTimeout(w,$):Ki(o,c,w)))}))),p&&p(o,w),_||b||w())}}function Yi(t){return"number"==typeof t&&!isNaN(t)}function Qi(t){if(n(t))return!1;var e=t.fns;return r(e)?Qi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function ta(t,e){!0!==e.data.show&&Gi(e)}var ea=function(t){var a,s,c={},u=t.modules,l=t.nodeOps;for(a=0;a<ho.length;++a)for(c[ho[a]]=[],s=0;s<u.length;++s)r(u[s][ho[a]])&&c[ho[a]].push(u[s][ho[a]]);function f(t){var e=l.parentNode(t);r(e)&&l.removeChild(e,t)}function d(t,e,n,i,a,s,u){if(r(t.elm)&&r(s)&&(t=s[u]=vt(t)),t.isRootInsert=!a,!function(t,e,n,i){var a=t.data;if(r(a)){var s=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1),r(t.componentInstance))return p(t,e),v(n,t.elm,i),o(s)&&function(t,e,n,o){var i,a=t;for(;a.componentInstance;)if(r(i=(a=a.componentInstance._vnode).data)&&r(i=i.transition)){for(i=0;i<c.activate.length;++i)c.activate[i](vo,a);e.push(a);break}v(n,t.elm,o)}(t,e,n,i),!0}}(t,e,n,i)){var f=t.data,d=t.children,h=t.tag;r(h)?(t.elm=t.ns?l.createElementNS(t.ns,h):l.createElement(h,t),_(t),m(t,d,e),r(f)&&y(t,e),v(n,t.elm,i)):o(t.isComment)?(t.elm=l.createComment(t.text),v(n,t.elm,i)):(t.elm=l.createTextNode(t.text),v(n,t.elm,i))}}function p(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(y(t,e),_(t)):(fo(t),e.push(t))}function v(t,e,n){r(t)&&(r(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function m(t,n,r){if(e(n))for(var o=0;o<n.length;++o)d(n[o],r,t.elm,null,!0,n,o);else i(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function y(t,e){for(var n=0;n<c.create.length;++n)c.create[n](vo,t);r(a=t.data.hook)&&(r(a.create)&&a.create(vo,t),r(a.insert)&&e.push(t))}function _(t){var e;if(r(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var n=t;n;)r(e=n.context)&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent;r(e=Ke)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function b(t,e,n,r,o,i){for(;r<=o;++r)d(n[r],i,t,e,!1,n,r)}function $(t){var e,n,o=t.data;if(r(o))for(r(e=o.hook)&&r(e=e.destroy)&&e(t),e=0;e<c.destroy.length;++e)c.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)$(t.children[n])}function w(t,e,n){for(;e<=n;++e){var o=t[e];r(o)&&(r(o.tag)?(x(o),$(o)):f(o.elm))}}function x(t,e){if(r(e)||r(t.data)){var n,o=c.remove.length+1;for(r(e)?e.listeners+=o:e=function(t,e){function n(){0==--n.listeners&&f(t)}return n.listeners=e,n}(t.elm,o),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&x(n,e),n=0;n<c.remove.length;++n)c.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else f(t.elm)}function C(t,e,n,o){for(var i=n;i<o;i++){var a=e[i];if(r(a)&&mo(t,a))return i}}function k(t,e,i,a,s,u){if(t!==e){r(e.elm)&&r(a)&&(e=a[s]=vt(e));var f=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?T(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var p,v=e.data;r(v)&&r(p=v.hook)&&r(p=p.prepatch)&&p(t,e);var h=t.children,m=e.children;if(r(v)&&g(e)){for(p=0;p<c.update.length;++p)c.update[p](t,e);r(p=v.hook)&&r(p=p.update)&&p(t,e)}n(e.text)?r(h)&&r(m)?h!==m&&function(t,e,o,i,a){for(var s,c,u,f=0,p=0,v=e.length-1,h=e[0],m=e[v],g=o.length-1,y=o[0],_=o[g],$=!a;f<=v&&p<=g;)n(h)?h=e[++f]:n(m)?m=e[--v]:mo(h,y)?(k(h,y,i,o,p),h=e[++f],y=o[++p]):mo(m,_)?(k(m,_,i,o,g),m=e[--v],_=o[--g]):mo(h,_)?(k(h,_,i,o,g),$&&l.insertBefore(t,h.elm,l.nextSibling(m.elm)),h=e[++f],_=o[--g]):mo(m,y)?(k(m,y,i,o,p),$&&l.insertBefore(t,m.elm,h.elm),m=e[--v],y=o[++p]):(n(s)&&(s=go(e,f,v)),n(c=r(y.key)?s[y.key]:C(y,e,f,v))?d(y,i,t,h.elm,!1,o,p):mo(u=e[c],y)?(k(u,y,i,o,p),e[c]=void 0,$&&l.insertBefore(t,u.elm,h.elm)):d(y,i,t,h.elm,!1,o,p),y=o[++p]);f>v?b(t,n(o[g+1])?null:o[g+1].elm,o,p,g,i):p>g&&w(e,f,v)}(f,h,m,i,u):r(m)?(r(t.text)&&l.setTextContent(f,""),b(f,null,m,0,m.length-1,i)):r(h)?w(h,0,h.length-1):r(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),r(v)&&r(p=v.hook)&&r(p=p.postpatch)&&p(t,e)}}}function S(t,e,n){if(o(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var O=h("attrs,class,staticClass,staticStyle,key");function T(t,e,n,i){var a,s=e.tag,c=e.data,u=e.children;if(i=i||c&&c.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(a=c.hook)&&r(a=a.init)&&a(e,!0),r(a=e.componentInstance)))return p(e,n),!0;if(r(s)){if(r(u))if(t.hasChildNodes())if(r(a=c)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,d=0;d<u.length;d++){if(!f||!T(f,u[d],n,i)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else m(e,u,n);if(r(c)){var v=!1;for(var h in c)if(!O(h)){v=!0,y(e,n);break}!v&&c.class&&Wn(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,a){if(!n(e)){var s,u=!1,f=[];if(n(t))u=!0,d(e,f);else{var p=r(t.nodeType);if(!p&&mo(t,e))k(t,e,f,null,null,a);else{if(p){if(1===t.nodeType&&t.hasAttribute(R)&&(t.removeAttribute(R),i=!0),o(i)&&T(t,e,f))return S(e,f,!0),t;s=t,t=new ft(l.tagName(s).toLowerCase(),{},[],void 0,s)}var v=t.elm,h=l.parentNode(v);if(d(e,f,v._leaveCb?null:h,l.nextSibling(v)),r(e.parent))for(var m=e.parent,y=g(e);m;){for(var _=0;_<c.destroy.length;++_)c.destroy[_](m);if(m.elm=e.elm,y){for(var b=0;b<c.create.length;++b)c.create[b](vo,m);var x=m.data.hook.insert;if(x.merged)for(var C=x.fns.slice(1),O=0;O<C.length;O++)C[O]()}else fo(m);m=m.parent}r(h)?w([t],0,0):r(t.tag)&&$(t)}}return S(e,f,u),e.elm}r(t)&&$(t)}}({nodeOps:uo,modules:[To,Io,vi,gi,Ti,q?{create:ta,activate:ta,remove:function(t,e){!0!==t.data.show?Xi(t,e):e()}}:{}].concat(Co)});G&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&ua(t,"input")}));var na={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Qt(n,"postpatch",(function(){na.componentUpdated(t,e,n)})):ra(t,e,n.context),t._vOptions=[].map.call(t.options,aa)):("textarea"===n.tag||so(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",sa),t.addEventListener("compositionend",ca),t.addEventListener("change",ca),G&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){ra(t,e,n.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,aa);if(o.some((function(t,e){return!D(t,r[e])})))(t.multiple?e.value.some((function(t){return ia(t,o)})):e.value!==e.oldValue&&ia(e.value,o))&&ua(t,"change")}}};function ra(t,e,n){oa(t,e),(Z||X)&&setTimeout((function(){oa(t,e)}),0)}function oa(t,e,n){var r=e.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,a,s=0,c=t.options.length;s<c;s++)if(a=t.options[s],o)i=M(r,aa(a))>-1,a.selected!==i&&(a.selected=i);else if(D(aa(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));o||(t.selectedIndex=-1)}}function ia(t,e){return e.every((function(e){return!D(e,t)}))}function aa(t){return"_value"in t?t._value:t.value}function sa(t){t.target.composing=!0}function ca(t){t.target.composing&&(t.target.composing=!1,ua(t.target,"input"))}function ua(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function la(t){return!t.componentInstance||t.data&&t.data.transition?t:la(t.componentInstance._vnode)}var fa={bind:function(t,e,n){var r=e.value,o=(n=la(n)).data&&n.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(n.data.show=!0,Gi(n,(function(){t.style.display=i}))):t.style.display=r?i:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=la(n)).data&&n.data.transition?(n.data.show=!0,r?Gi(n,(function(){t.style.display=t.__vOriginalDisplay})):Xi(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,o){o||(t.style.display=t.__vOriginalDisplay)}},da={model:na,show:fa},pa={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function va(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?va(Re(e.children)):t}function ha(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var o=n._parentListeners;for(var r in o)e[x(r)]=o[r];return e}function ma(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var ga=function(t){return t.tag||ke(t)},ya=function(t){return"show"===t.name},_a={name:"transition",props:pa,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(ga)).length){var r=this.mode,o=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return o;var a=va(o);if(!a)return o;if(this._leaving)return ma(t,o);var s="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?s+"comment":s+a.tag:i(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var c=(a.data||(a.data={})).transition=ha(this),u=this._vnode,l=va(u);if(a.data.directives&&a.data.directives.some(ya)&&(a.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(a,l)&&!ke(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=A({},c);if("out-in"===r)return this._leaving=!0,Qt(f,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ma(t,o);if("in-out"===r){if(ke(a))return u;var d,p=function(){d()};Qt(c,"afterEnter",p),Qt(c,"enterCancelled",p),Qt(f,"delayLeave",(function(t){d=t}))}}return o}}},ba=A({tag:String,moveClass:String},pa);delete ba.mode;var $a={props:ba,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var o=Je(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=ha(this),s=0;s<o.length;s++){(l=o[s]).tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(i.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a)}if(r){var c=[],u=[];for(s=0;s<r.length;s++){var l;(l=r[s]).data.transition=a,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=t(e,null,c),this.removed=u}return t(e,null,i)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(wa),t.forEach(xa),t.forEach(Ca),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;zi(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Ri,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Ri,t),n._moveCb=null,Vi(n,e))})}})))},methods:{hasMove:function(t,e){if(!Di)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Ei(n,t)})),ji(n,e),n.style.display="none",this.$el.appendChild(n);var r=qi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function wa(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function xa(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ca(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,o=e.top-n.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate(".concat(r,"px,").concat(o,"px)"),i.transitionDuration="0s"}}var ka={Transition:_a,TransitionGroup:$a};Er.config.mustUseProp=Ur,Er.config.isReservedTag=oo,Er.config.isReservedAttr=Hr,Er.config.getTagNamespace=io,Er.config.isUnknownElement=function(t){if(!q)return!0;if(oo(t))return!1;if(t=t.toLowerCase(),null!=ao[t])return ao[t];var e=document.createElement(t);return t.indexOf("-")>-1?ao[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ao[t]=/HTMLUnknownElement/.test(e.toString())},A(Er.options.directives,da),A(Er.options.components,ka),Er.prototype.__patch__=q?ea:E,Er.prototype.$mount=function(t,e){return function(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=dt),Ge(t,"beforeMount"),r=function(){t._update(t._render(),n)},new Xn(t,r,E,{before:function(){t._isMounted&&!t._isDestroyed&&Ge(t,"beforeUpdate")}},!0),n=!1;var o=t._preWatchers;if(o)for(var i=0;i<o.length;i++)o[i].run();return null==t.$vnode&&(t._isMounted=!0,Ge(t,"mounted")),t}(this,t=t&&q?co(t):void 0,e)},q&&setTimeout((function(){B.devtools&&it&&it.emit("init",Er)}),0);var Sa=/\{\{((?:.|\r?\n)+?)\}\}/g,Oa=/[-.*+?^${}()|[\]\/\\]/g,Ta=$((function(t){var e=t[0].replace(Oa,"\\$&"),n=t[1].replace(Oa,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}));var Aa={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Zo(t,"class");n&&(t.staticClass=JSON.stringify(n.replace(/\s+/g," ").trim()));var r=Wo(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:".concat(t.staticClass,",")),t.classBinding&&(e+="class:".concat(t.classBinding,",")),e}};var ja,Ea={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Zo(t,"style");n&&(t.staticStyle=JSON.stringify(yi(n)));var r=Wo(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:".concat(t.staticStyle,",")),t.styleBinding&&(e+="style:(".concat(t.styleBinding,"),")),e}},Na=function(t){return(ja=ja||document.createElement("div")).innerHTML=t,ja.textContent},Pa=h("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Da=h("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Ma=h("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ia=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,La=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ra="[a-zA-Z_][\\-\\.0-9_a-zA-Z".concat(U.source,"]*"),Fa="((?:".concat(Ra,"\\:)?").concat(Ra,")"),Ha=new RegExp("^<".concat(Fa)),Ba=/^\s*(\/?)>/,Ua=new RegExp("^<\\/".concat(Fa,"[^>]*>")),za=/^<!DOCTYPE [^>]+>/i,Va=/^<!\--/,Ka=/^<!\[/,Ja=h("script,style,textarea",!0),qa={},Wa={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Za=/&(?:lt|gt|quot|amp|#39);/g,Ga=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Xa=h("pre,textarea",!0),Ya=function(t,e){return t&&Xa(t)&&"\n"===e[0]};function Qa(t,e){var n=e?Ga:Za;return t.replace(n,(function(t){return Wa[t]}))}function ts(t,e){for(var n,r,o=[],i=e.expectHTML,a=e.isUnaryTag||N,s=e.canBeLeftOpenTag||N,c=0,u=function(){if(n=t,r&&Ja(r)){var u=0,d=r.toLowerCase(),p=qa[d]||(qa[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i"));w=t.replace(p,(function(t,n,r){return u=r.length,Ja(d)||"noscript"===d||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Ya(d,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));c+=t.length-w.length,t=w,f(d,c-u,c)}else{var v=t.indexOf("<");if(0===v){if(Va.test(t)){var h=t.indexOf("--\x3e");if(h>=0)return e.shouldKeepComment&&e.comment&&e.comment(t.substring(4,h),c,c+h+3),l(h+3),"continue"}if(Ka.test(t)){var m=t.indexOf("]>");if(m>=0)return l(m+2),"continue"}var g=t.match(za);if(g)return l(g[0].length),"continue";var y=t.match(Ua);if(y){var _=c;return l(y[0].length),f(y[1],_,c),"continue"}var b=function(){var e=t.match(Ha);if(e){var n={tagName:e[1],attrs:[],start:c};l(e[0].length);for(var r=void 0,o=void 0;!(r=t.match(Ba))&&(o=t.match(La)||t.match(Ia));)o.start=c,l(o[0].length),o.end=c,n.attrs.push(o);if(r)return n.unarySlash=r[1],l(r[0].length),n.end=c,n}}();if(b)return function(t){var n=t.tagName,c=t.unarySlash;i&&("p"===r&&Ma(n)&&f(r),s(n)&&r===n&&f(n));for(var u=a(n)||!!c,l=t.attrs.length,d=new Array(l),p=0;p<l;p++){var v=t.attrs[p],h=v[3]||v[4]||v[5]||"",m="a"===n&&"href"===v[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;d[p]={name:v[1],value:Qa(h,m)}}u||(o.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d,start:t.start,end:t.end}),r=n);e.start&&e.start(n,d,u,t.start,t.end)}(b),Ya(b.tagName,t)&&l(1),"continue"}var $=void 0,w=void 0,x=void 0;if(v>=0){for(w=t.slice(v);!(Ua.test(w)||Ha.test(w)||Va.test(w)||Ka.test(w)||(x=w.indexOf("<",1))<0);)v+=x,w=t.slice(v);$=t.substring(0,v)}v<0&&($=t),$&&l($.length),e.chars&&$&&e.chars($,c-$.length,c)}if(t===n)return e.chars&&e.chars(t),"break"};t;){if("break"===u())break}function l(e){c+=e,t=t.substring(e)}function f(t,n,i){var a,s;if(null==n&&(n=c),null==i&&(i=c),t)for(s=t.toLowerCase(),a=o.length-1;a>=0&&o[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var u=o.length-1;u>=a;u--)e.end&&e.end(o[u].tag,n,i);o.length=a,r=a&&o[a-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,i):"p"===s&&(e.start&&e.start(t,[],!1,n,i),e.end&&e.end(t,n,i))}f()}var es,ns,rs,os,is,as,ss,cs,us=/^@|^v-on:/,ls=/^v-|^@|^:|^#/,fs=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ds=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,ps=/^\(|\)$/g,vs=/^\[.*\]$/,hs=/:(.*)$/,ms=/^:|^\.|^v-bind:/,gs=/\.[^.\]]+(?=[^\]]*$)/g,ys=/^v-slot(:|$)|^#/,_s=/[\r\n]/,bs=/[ \f\t\r\n]+/g,$s=$(Na),ws="_empty_";function xs(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:js(e),rawAttrsMap:{},parent:n,children:[]}}function Cs(t,e){es=e.warn||Ho,as=e.isPreTag||N,ss=e.mustUseProp||N,cs=e.getTagNamespace||N,e.isReservedTag,rs=Bo(e.modules,"transformNode"),os=Bo(e.modules,"preTransformNode"),is=Bo(e.modules,"postTransformNode"),ns=e.delimiters;var n,r,o=[],i=!1!==e.preserveWhitespace,a=e.whitespace,s=!1,c=!1;function u(t){if(l(t),s||t.processed||(t=ks(t,e)),o.length||t===n||n.if&&(t.elseif||t.else)&&Os(n,{exp:t.elseif,block:t}),r&&!t.forbidden)if(t.elseif||t.else)a=t,u=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(r.children),u&&u.if&&Os(u,{exp:a.elseif,block:a});else{if(t.slotScope){var i=t.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[i]=t}r.children.push(t),t.parent=r}var a,u;t.children=t.children.filter((function(t){return!t.slotScope})),l(t),t.pre&&(s=!1),as(t.tag)&&(c=!1);for(var f=0;f<is.length;f++)is[f](t,e)}function l(t){if(!c)for(var e=void 0;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return ts(t,{warn:es,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,i,a,l,f){var d=r&&r.ns||cs(t);Z&&"svg"===d&&(i=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Es.test(r.name)||(r.name=r.name.replace(Ns,""),e.push(r))}return e}(i));var p,v=xs(t,i,r);d&&(v.ns=d),"style"!==(p=v).tag&&("script"!==p.tag||p.attrsMap.type&&"text/javascript"!==p.attrsMap.type)||ot()||(v.forbidden=!0);for(var h=0;h<os.length;h++)v=os[h](v,e)||v;s||(!function(t){null!=Zo(t,"v-pre")&&(t.pre=!0)}(v),v.pre&&(s=!0)),as(v.tag)&&(c=!0),s?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),o=0;o<n;o++)r[o]={name:e[o].name,value:JSON.stringify(e[o].value)},null!=e[o].start&&(r[o].start=e[o].start,r[o].end=e[o].end);else t.pre||(t.plain=!0)}(v):v.processed||(Ss(v),function(t){var e=Zo(t,"v-if");if(e)t.if=e,Os(t,{exp:e,block:t});else{null!=Zo(t,"v-else")&&(t.else=!0);var n=Zo(t,"v-else-if");n&&(t.elseif=n)}}(v),function(t){var e=Zo(t,"v-once");null!=e&&(t.once=!0)}(v)),n||(n=v),a?u(v):(r=v,o.push(v))},end:function(t,e,n){var i=o[o.length-1];o.length-=1,r=o[o.length-1],u(i)},chars:function(t,e,n){if(r&&(!Z||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var o,u=r.children;if(t=c||t.trim()?"script"===(o=r).tag||"style"===o.tag?t:$s(t):u.length?a?"condense"===a&&_s.test(t)?"":" ":i?" ":"":""){c||"condense"!==a||(t=t.replace(bs," "));var l=void 0,f=void 0;!s&&" "!==t&&(l=function(t,e){var n=e?Ta(e):Sa;if(n.test(t)){for(var r,o,i,a=[],s=[],c=n.lastIndex=0;r=n.exec(t);){(o=r.index)>c&&(s.push(i=t.slice(c,o)),a.push(JSON.stringify(i)));var u=Ro(r[1].trim());a.push("_s(".concat(u,")")),s.push({"@binding":u}),c=o+r[0].length}return c<t.length&&(s.push(i=t.slice(c)),a.push(JSON.stringify(i))),{expression:a.join("+"),tokens:s}}}(t,ns))?f={type:2,expression:l.expression,tokens:l.tokens,text:t}:" "===t&&u.length&&" "===u[u.length-1].text||(f={type:3,text:t}),f&&u.push(f)}}},comment:function(t,e,n){if(r){var o={type:3,text:t,isComment:!0};r.children.push(o)}}}),n}function ks(t,e){var n,r;(r=Wo(n=t,"key"))&&(n.key=r),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Wo(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Zo(t,"scope"),t.slotScope=e||Zo(t,"slot-scope")):(e=Zo(t,"slot-scope"))&&(t.slotScope=e);var n=Wo(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||zo(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot")));if("template"===t.tag){if(a=Go(t,ys)){var r=Ts(a),o=r.name,i=r.dynamic;t.slotTarget=o,t.slotTargetDynamic=i,t.slotScope=a.value||ws}}else{var a;if(a=Go(t,ys)){var s=t.scopedSlots||(t.scopedSlots={}),c=Ts(a),u=c.name,l=(i=c.dynamic,s[u]=xs("template",[],t));l.slotTarget=u,l.slotTargetDynamic=i,l.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=l,!0})),l.slotScope=a.value||ws,t.children=[],t.plain=!1}}}(t),function(t){"slot"===t.tag&&(t.slotName=Wo(t,"name"))}(t),function(t){var e;(e=Wo(t,"is"))&&(t.component=e);null!=Zo(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var o=0;o<rs.length;o++)t=rs[o](t,e)||t;return function(t){var e,n,r,o,i,a,s,c,u=t.attrsList;for(e=0,n=u.length;e<n;e++)if(r=o=u[e].name,i=u[e].value,ls.test(r))if(t.hasBindings=!0,(a=As(r.replace(ls,"")))&&(r=r.replace(gs,"")),ms.test(r))r=r.replace(ms,""),i=Ro(i),(c=vs.test(r))&&(r=r.slice(1,-1)),a&&(a.prop&&!c&&"innerHtml"===(r=x(r))&&(r="innerHTML"),a.camel&&!c&&(r=x(r)),a.sync&&(s=Qo(i,"$event"),c?qo(t,'"update:"+('.concat(r,")"),s,null,!1,0,u[e],!0):(qo(t,"update:".concat(x(r)),s,null,!1,0,u[e]),S(r)!==x(r)&&qo(t,"update:".concat(S(r)),s,null,!1,0,u[e])))),a&&a.prop||!t.component&&ss(t.tag,t.attrsMap.type,r)?Uo(t,r,i,u[e],c):zo(t,r,i,u[e],c);else if(us.test(r))r=r.replace(us,""),(c=vs.test(r))&&(r=r.slice(1,-1)),qo(t,r,i,a,!1,0,u[e],c);else{var l=(r=r.replace(ls,"")).match(hs),f=l&&l[1];c=!1,f&&(r=r.slice(0,-(f.length+1)),vs.test(f)&&(f=f.slice(1,-1),c=!0)),Ko(t,r,o,i,f,c,a,u[e])}else zo(t,r,JSON.stringify(i),u[e]),!t.component&&"muted"===r&&ss(t.tag,t.attrsMap.type,r)&&Uo(t,r,"true",u[e])}(t),t}function Ss(t){var e;if(e=Zo(t,"v-for")){var n=function(t){var e=t.match(fs);if(!e)return;var n={};n.for=e[2].trim();var r=e[1].trim().replace(ps,""),o=r.match(ds);o?(n.alias=r.replace(ds,"").trim(),n.iterator1=o[1].trim(),o[2]&&(n.iterator2=o[2].trim())):n.alias=r;return n}(e);n&&A(t,n)}}function Os(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Ts(t){var e=t.name.replace(ys,"");return e||"#"!==t.name[0]&&(e="default"),vs.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'.concat(e,'"'),dynamic:!1}}function As(t){var e=t.match(gs);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function js(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}var Es=/^xmlns:NS\d+/,Ns=/^NS\d+:/;function Ps(t){return xs(t.tag,t.attrsList.slice(),t.parent)}var Ds=[Aa,Ea,{preTransformNode:function(t,e){if("input"===t.tag){var n=t.attrsMap;if(!n["v-model"])return;var r=void 0;if((n[":type"]||n["v-bind:type"])&&(r=Wo(t,"type")),n.type||r||!n["v-bind"]||(r="(".concat(n["v-bind"],").type")),r){var o=Zo(t,"v-if",!0),i=o?"&&(".concat(o,")"):"",a=null!=Zo(t,"v-else",!0),s=Zo(t,"v-else-if",!0),c=Ps(t);Ss(c),Vo(c,"type","checkbox"),ks(c,e),c.processed=!0,c.if="(".concat(r,")==='checkbox'")+i,Os(c,{exp:c.if,block:c});var u=Ps(t);Zo(u,"v-for",!0),Vo(u,"type","radio"),ks(u,e),Os(c,{exp:"(".concat(r,")==='radio'")+i,block:u});var l=Ps(t);return Zo(l,"v-for",!0),Vo(l,":type",r),ks(l,e),Os(c,{exp:o,block:l}),a?c.else=!0:s&&(c.elseif=s),c}}}}];var Ms,Is,Ls={model:function(t,e,n){var r=e.value,o=e.modifiers,i=t.tag,a=t.attrsMap.type;if(t.component)return Yo(t,r,o),!1;if("select"===i)!function(t,e,n){var r=n&&n.number,o='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;'+"return ".concat(r?"_n(val)":"val","})"),i="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",a="var $$selectedVal = ".concat(o,";");a="".concat(a," ").concat(Qo(e,i)),qo(t,"change",a,null,!0)}(t,r,o);else if("input"===i&&"checkbox"===a)!function(t,e,n){var r=n&&n.number,o=Wo(t,"value")||"null",i=Wo(t,"true-value")||"true",a=Wo(t,"false-value")||"false";Uo(t,"checked","Array.isArray(".concat(e,")")+"?_i(".concat(e,",").concat(o,")>-1")+("true"===i?":(".concat(e,")"):":_q(".concat(e,",").concat(i,")"))),qo(t,"change","var $$a=".concat(e,",")+"$$el=$event.target,"+"$$c=$$el.checked?(".concat(i,"):(").concat(a,");")+"if(Array.isArray($$a)){"+"var $$v=".concat(r?"_n("+o+")":o,",")+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&(".concat(Qo(e,"$$a.concat([$$v])"),")}")+"else{$$i>-1&&(".concat(Qo(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))"),")}")+"}else{".concat(Qo(e,"$$c"),"}"),null,!0)}(t,r,o);else if("input"===i&&"radio"===a)!function(t,e,n){var r=n&&n.number,o=Wo(t,"value")||"null";o=r?"_n(".concat(o,")"):o,Uo(t,"checked","_q(".concat(e,",").concat(o,")")),qo(t,"change",Qo(e,o),null,!0)}(t,r,o);else if("input"===i||"textarea"===i)!function(t,e,n){var r=t.attrsMap.type,o=n||{},i=o.lazy,a=o.number,s=o.trim,c=!i&&"range"!==r,u=i?"change":"range"===r?ai:"input",l="$event.target.value";s&&(l="$event.target.value.trim()");a&&(l="_n(".concat(l,")"));var f=Qo(e,l);c&&(f="if($event.target.composing)return;".concat(f));Uo(t,"value","(".concat(e,")")),qo(t,u,f,null,!0),(s||a)&&qo(t,"blur","$forceUpdate()")}(t,r,o);else if(!B.isReservedTag(i))return Yo(t,r,o),!1;return!0},text:function(t,e){e.value&&Uo(t,"textContent","_s(".concat(e.value,")"),e)},html:function(t,e){e.value&&Uo(t,"innerHTML","_s(".concat(e.value,")"),e)}},Rs={expectHTML:!0,modules:Ds,directives:Ls,isPreTag:function(t){return"pre"===t},isUnaryTag:Pa,mustUseProp:Ur,canBeLeftOpenTag:Da,isReservedTag:oo,getTagNamespace:io,staticKeys:function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")}(Ds)},Fs=$((function(t){return h("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));function Hs(t,e){t&&(Ms=Fs(e.staticKeys||""),Is=e.isReservedTag||N,Bs(t),Us(t,!1))}function Bs(t){if(t.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||m(t.tag)||!Is(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Ms)))}(t),1===t.type){if(!Is(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];Bs(r),r.static||(t.static=!1)}if(t.ifConditions)for(e=1,n=t.ifConditions.length;e<n;e++){var o=t.ifConditions[e].block;Bs(o),o.static||(t.static=!1)}}}function Us(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)Us(t.children[n],e||!!t.for);if(t.ifConditions)for(n=1,r=t.ifConditions.length;n<r;n++)Us(t.ifConditions[n].block,e)}}var zs=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Vs=/\([^)]*?\);*$/,Ks=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Js={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},qs={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Ws=function(t){return"if(".concat(t,")return null;")},Zs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Ws("$event.target !== $event.currentTarget"),ctrl:Ws("!$event.ctrlKey"),shift:Ws("!$event.shiftKey"),alt:Ws("!$event.altKey"),meta:Ws("!$event.metaKey"),left:Ws("'button' in $event && $event.button !== 0"),middle:Ws("'button' in $event && $event.button !== 1"),right:Ws("'button' in $event && $event.button !== 2")};function Gs(t,e){var n=e?"nativeOn:":"on:",r="",o="";for(var i in t){var a=Xs(t[i]);t[i]&&t[i].dynamic?o+="".concat(i,",").concat(a,","):r+='"'.concat(i,'":').concat(a,",")}return r="{".concat(r.slice(0,-1),"}"),o?n+"_d(".concat(r,",[").concat(o.slice(0,-1),"])"):n+r}function Xs(t){if(!t)return"function(){}";if(Array.isArray(t))return"[".concat(t.map((function(t){return Xs(t)})).join(","),"]");var e=Ks.test(t.value),n=zs.test(t.value),r=Ks.test(t.value.replace(Vs,""));if(t.modifiers){var o="",i="",a=[],s=function(e){if(Zs[e])i+=Zs[e],Js[e]&&a.push(e);else if("exact"===e){var n=t.modifiers;i+=Ws(["ctrl","shift","alt","meta"].filter((function(t){return!n[t]})).map((function(t){return"$event.".concat(t,"Key")})).join("||"))}else a.push(e)};for(var c in t.modifiers)s(c);a.length&&(o+=function(t){return"if(!$event.type.indexOf('key')&&"+"".concat(t.map(Ys).join("&&"),")return null;")}(a)),i&&(o+=i);var u=e?"return ".concat(t.value,".apply(null, arguments)"):n?"return (".concat(t.value,").apply(null, arguments)"):r?"return ".concat(t.value):t.value;return"function($event){".concat(o).concat(u,"}")}return e||n?t.value:"function($event){".concat(r?"return ".concat(t.value):t.value,"}")}function Ys(t){var e=parseInt(t,10);if(e)return"$event.keyCode!==".concat(e);var n=Js[t],r=qs[t];return"_k($event.keyCode,"+"".concat(JSON.stringify(t),",")+"".concat(JSON.stringify(n),",")+"$event.key,"+"".concat(JSON.stringify(r))+")"}var Qs={on:function(t,e){t.wrapListeners=function(t){return"_g(".concat(t,",").concat(e.value,")")}},bind:function(t,e){t.wrapData=function(n){return"_b(".concat(n,",'").concat(t.tag,"',").concat(e.value,",").concat(e.modifiers&&e.modifiers.prop?"true":"false").concat(e.modifiers&&e.modifiers.sync?",true":"",")")}},cloak:E},tc=function(t){this.options=t,this.warn=t.warn||Ho,this.transforms=Bo(t.modules,"transformCode"),this.dataGenFns=Bo(t.modules,"genData"),this.directives=A(A({},Qs),t.directives);var e=t.isReservedTag||N;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function ec(t,e){var n=new tc(e),r=t?"script"===t.tag?"null":nc(t,n):'_c("div")';return{render:"with(this){return ".concat(r,"}"),staticRenderFns:n.staticRenderFns}}function nc(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return rc(t,e);if(t.once&&!t.onceProcessed)return oc(t,e);if(t.for&&!t.forProcessed)return sc(t,e);if(t.if&&!t.ifProcessed)return ic(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=fc(t,e),o="_t(".concat(n).concat(r?",function(){return ".concat(r,"}"):""),i=t.attrs||t.dynamicAttrs?vc((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:x(t.name),value:t.value,dynamic:t.dynamic}}))):null,a=t.attrsMap["v-bind"];!i&&!a||r||(o+=",null");i&&(o+=",".concat(i));a&&(o+="".concat(i?"":",null",",").concat(a));return o+")"}(t,e);var n=void 0;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:fc(e,n,!0);return"_c(".concat(t,",").concat(cc(e,n)).concat(r?",".concat(r):"",")")}(t.component,t,e);else{var r=void 0,o=e.maybeComponent(t);(!t.plain||t.pre&&o)&&(r=cc(t,e));var i=void 0,a=e.options.bindings;o&&a&&!1!==a.__isScriptSetup&&(i=function(t,e){var n=x(e),r=C(n),o=function(o){return t[e]===o?e:t[n]===o?n:t[r]===o?r:void 0},i=o("setup-const")||o("setup-reactive-const");if(i)return i;var a=o("setup-let")||o("setup-ref")||o("setup-maybe-ref");if(a)return a}(a,t.tag)),i||(i="'".concat(t.tag,"'"));var s=t.inlineTemplate?null:fc(t,e,!0);n="_c(".concat(i).concat(r?",".concat(r):"").concat(s?",".concat(s):"",")")}for(var c=0;c<e.transforms.length;c++)n=e.transforms[c](t,n);return n}return fc(t,e)||"void 0"}function rc(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return ".concat(nc(t,e),"}")),e.pre=n,"_m(".concat(e.staticRenderFns.length-1).concat(t.staticInFor?",true":"",")")}function oc(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return ic(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o(".concat(nc(t,e),",").concat(e.onceId++,",").concat(n,")"):nc(t,e)}return rc(t,e)}function ic(t,e,n,r){return t.ifProcessed=!0,ac(t.ifConditions.slice(),e,n,r)}function ac(t,e,n,r){if(!t.length)return r||"_e()";var o=t.shift();return o.exp?"(".concat(o.exp,")?").concat(i(o.block),":").concat(ac(t,e,n,r)):"".concat(i(o.block));function i(t){return n?n(t,e):t.once?oc(t,e):nc(t,e)}}function sc(t,e,n,r){var o=t.for,i=t.alias,a=t.iterator1?",".concat(t.iterator1):"",s=t.iterator2?",".concat(t.iterator2):"";return t.forProcessed=!0,"".concat(r||"_l","((").concat(o,"),")+"function(".concat(i).concat(a).concat(s,"){")+"return ".concat((n||nc)(t,e))+"})"}function cc(t,e){var n="{",r=function(t,e){var n=t.directives;if(!n)return;var r,o,i,a,s="directives:[",c=!1;for(r=0,o=n.length;r<o;r++){i=n[r],a=!0;var u=e.directives[i.name];u&&(a=!!u(t,i,e.warn)),a&&(c=!0,s+='{name:"'.concat(i.name,'",rawName:"').concat(i.rawName,'"').concat(i.value?",value:(".concat(i.value,"),expression:").concat(JSON.stringify(i.value)):"").concat(i.arg?",arg:".concat(i.isDynamicArg?i.arg:'"'.concat(i.arg,'"')):"").concat(i.modifiers?",modifiers:".concat(JSON.stringify(i.modifiers)):"","},"))}if(c)return s.slice(0,-1)+"]"}(t,e);r&&(n+=r+","),t.key&&(n+="key:".concat(t.key,",")),t.ref&&(n+="ref:".concat(t.ref,",")),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'.concat(t.tag,'",'));for(var o=0;o<e.dataGenFns.length;o++)n+=e.dataGenFns[o](t);if(t.attrs&&(n+="attrs:".concat(vc(t.attrs),",")),t.props&&(n+="domProps:".concat(vc(t.props),",")),t.events&&(n+="".concat(Gs(t.events,!1),",")),t.nativeEvents&&(n+="".concat(Gs(t.nativeEvents,!0),",")),t.slotTarget&&!t.slotScope&&(n+="slot:".concat(t.slotTarget,",")),t.scopedSlots&&(n+="".concat(function(t,e,n){var r=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||uc(n)})),o=!!t.if;if(!r)for(var i=t.parent;i;){if(i.slotScope&&i.slotScope!==ws||i.for){r=!0;break}i.if&&(o=!0),i=i.parent}var a=Object.keys(e).map((function(t){return lc(e[t],n)})).join(",");return"scopedSlots:_u([".concat(a,"]").concat(r?",null,true":"").concat(!r&&o?",null,false,".concat(function(t){var e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(a)):"",")")}(t,t.scopedSlots,e),",")),t.model&&(n+="model:{value:".concat(t.model.value,",callback:").concat(t.model.callback,",expression:").concat(t.model.expression,"},")),t.inlineTemplate){var i=function(t,e){var n=t.children[0];if(n&&1===n.type){var r=ec(n,e.options);return"inlineTemplate:{render:function(){".concat(r.render,"},staticRenderFns:[").concat(r.staticRenderFns.map((function(t){return"function(){".concat(t,"}")})).join(","),"]}")}}(t,e);i&&(n+="".concat(i,","))}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b(".concat(n,',"').concat(t.tag,'",').concat(vc(t.dynamicAttrs),")")),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function uc(t){return 1===t.type&&("slot"===t.tag||t.children.some(uc))}function lc(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return ic(t,e,lc,"null");if(t.for&&!t.forProcessed)return sc(t,e,lc);var r=t.slotScope===ws?"":String(t.slotScope),o="function(".concat(r,"){")+"return ".concat("template"===t.tag?t.if&&n?"(".concat(t.if,")?").concat(fc(t,e)||"undefined",":undefined"):fc(t,e)||"undefined":nc(t,e),"}"),i=r?"":",proxy:true";return"{key:".concat(t.slotTarget||'"default"',",fn:").concat(o).concat(i,"}")}function fc(t,e,n,r,o){var i=t.children;if(i.length){var a=i[0];if(1===i.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?e.maybeComponent(a)?",1":",0":"";return"".concat((r||nc)(a,e)).concat(s)}var c=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var o=t[r];if(1===o.type){if(dc(o)||o.ifConditions&&o.ifConditions.some((function(t){return dc(t.block)}))){n=2;break}(e(o)||o.ifConditions&&o.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(i,e.maybeComponent):0,u=o||pc;return"[".concat(i.map((function(t){return u(t,e)})).join(","),"]").concat(c?",".concat(c):"")}}function dc(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function pc(t,e){return 1===t.type?nc(t,e):3===t.type&&t.isComment?function(t){return"_e(".concat(JSON.stringify(t.text),")")}(t):function(t){return"_v(".concat(2===t.type?t.expression:hc(JSON.stringify(t.text)),")")}(t)}function vc(t){for(var e="",n="",r=0;r<t.length;r++){var o=t[r],i=hc(o.value);o.dynamic?n+="".concat(o.name,",").concat(i,","):e+='"'.concat(o.name,'":').concat(i,",")}return e="{".concat(e.slice(0,-1),"}"),n?"_d(".concat(e,",[").concat(n.slice(0,-1),"])"):e}function hc(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function mc(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),E}}function gc(t){var e=Object.create(null);return function(n,r,o){(r=A({},r)).warn,delete r.warn;var i=r.delimiters?String(r.delimiters)+n:n;if(e[i])return e[i];var a=t(n,r),s={},c=[];return s.render=mc(a.render,c),s.staticRenderFns=a.staticRenderFns.map((function(t){return mc(t,c)})),e[i]=s}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var yc,_c,bc=(yc=function(t,e){var n=Cs(t.trim(),e);!1!==e.optimize&&Hs(n,e);var r=ec(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),o=[],i=[];if(n)for(var a in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=A(Object.create(t.directives||null),n.directives)),n)"modules"!==a&&"directives"!==a&&(r[a]=n[a]);r.warn=function(t,e,n){(n?i:o).push(t)};var s=yc(e.trim(),r);return s.errors=o,s.tips=i,s}return{compile:e,compileToFunctions:gc(e)}}),$c=bc(Rs).compileToFunctions;function wc(t){return(_c=_c||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',_c.innerHTML.indexOf("&#10;")>0}var xc=!!q&&wc(!1),Cc=!!q&&wc(!0),kc=$((function(t){var e=co(t);return e&&e.innerHTML})),Sc=Er.prototype.$mount;return Er.prototype.$mount=function(t,e){if((t=t&&co(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=kc(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){var o=$c(r,{outputSourceRange:!1,shouldDecodeNewlines:xc,shouldDecodeNewlinesForHref:Cc,delimiters:n.delimiters,comments:n.comments},this),i=o.render,a=o.staticRenderFns;n.render=i,n.staticRenderFns=a}}return Sc.call(this,t,e)},Er.compile=$c,A(Er,Jn),Er.effect=function(t,e){var n=new Xn(ut,t,E,{sync:!0});e&&(n.update=function(){e((function(){return n.run()}))})},Er}));


// Dexie.js library, V4.3.0 (LCENSE: https://raw.githubusercontent.com/dexie/Dexie.js/refs/heads/master/LICENSE)
((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Dexie=t()})(this,function(){var B=function(e,t){return(B=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)};var _=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function R(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,O=Object.keys,x=Array.isArray;function a(t,n){return"object"==typeof n&&O(n).forEach(function(e){t[e]=n[e]}),t}"undefined"==typeof Promise||f.Promise||(f.Promise=Promise);var F=Object.getPrototypeOf,M={}.hasOwnProperty;function m(e,t){return M.call(e,t)}function N(t,n){"function"==typeof n&&(n=n(F(t))),("undefined"==typeof Reflect?O:Reflect.ownKeys)(n).forEach(function(e){u(t,e,n[e])})}var L=Object.defineProperty;function u(e,t,n,r){L(e,t,a(n&&m(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function U(t){return{from:function(e){return t.prototype=Object.create(e.prototype),u(t.prototype,"constructor",t),{extend:N.bind(null,t.prototype)}}}}var V=Object.getOwnPropertyDescriptor;var z=[].slice;function W(e,t,n){return z.call(e,t,n)}function Y(e,t){return t(e)}function $(e){if(!e)throw new Error("Assertion Failed")}function Q(e){f.setImmediate?setImmediate(e):setTimeout(e,0)}function c(e,t){if("string"==typeof t&&m(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=c(e,t[r]);n.push(i)}return n}var a,u=t.indexOf(".");return-1===u||null==(a=e[t.substr(0,u)])?void 0:c(a,t.substr(u+1))}function b(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){$("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)b(e,t[r],n[r])}else{var i,a,u=t.indexOf(".");-1!==u?(i=t.substr(0,u),""===(u=t.substr(u+1))?void 0===n?x(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=n:b(a=(a=e[i])&&m(e,i)?a:e[i]={},u,n)):void 0===n?x(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function G(e){var t,n={};for(t in e)m(e,t)&&(n[t]=e[t]);return n}var X=[].concat;function H(e){return X.apply([],e)}var e="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(H([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(e){return f[e]}),J=new Set(e.map(function(e){return f[e]}));var Z=null;function ee(e){Z=new WeakMap;e=function e(t){if(!t||"object"!=typeof t)return t;var n=Z.get(t);if(n)return n;if(x(t)){n=[],Z.set(t,n);for(var r=0,o=t.length;r<o;++r)n.push(e(t[r]))}else if(J.has(t.constructor))n=t;else{var i,a=F(t);for(i in n=a===Object.prototype?{}:Object.create(a),Z.set(t,n),t)m(t,i)&&(n[i]=e(t[i]))}return n}(e);return Z=null,e}var te={}.toString;function ne(e){return te.call(e).slice(8,-1)}var re="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",oe="symbol"==typeof re?function(e){var t;return null!=e&&(t=e[re])&&t.apply(e)}:function(){return null};function ie(e,t){t=e.indexOf(t);0<=t&&e.splice(t,1)}var ae={};function n(e){var t,n,r,o;if(1===arguments.length){if(x(e))return e.slice();if(this===ae&&"string"==typeof e)return[e];if(o=oe(e))for(n=[];!(r=o.next()).done;)n.push(r.value);else{if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t]}}else for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var ue="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},e=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],t=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(e),se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ce(e,t){this.name=e,this.message=t}function le(e,t){return e+". Errors: "+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function fe(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=le(e,t)}function he(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=le(e,this.failures)}U(ce).from(Error).extend({toString:function(){return this.name+": "+this.message}}),U(fe).from(ce),U(he).from(ce);var de=t.reduce(function(e,t){return e[t]=t+"Error",e},{}),pe=ce,k=t.reduce(function(e,n){var r=n+"Error";function t(e,t){this.name=r,e?"string"==typeof e?(this.message="".concat(e).concat(t?"\n "+t:""),this.inner=t||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=se[n]||r,this.inner=null)}return U(t).from(pe),e[n]=t,e},{}),ye=(k.Syntax=SyntaxError,k.Type=TypeError,k.Range=RangeError,e.reduce(function(e,t){return e[t+"Error"]=k[t],e},{}));e=t.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=k[t]),e},{});function g(){}function ve(e){return e}function me(t,n){return null==t||t===ve?n:function(e){return n(t(e))}}function be(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ge(o,i){return o===g?i:function(){var e=o.apply(this,arguments),t=(void 0!==e&&(arguments[0]=e),this.onsuccess),n=this.onerror,r=(this.onsuccess=null,this.onerror=null,i.apply(this,arguments));return t&&(this.onsuccess=this.onsuccess?be(t,this.onsuccess):t),n&&(this.onerror=this.onerror?be(n,this.onerror):n),void 0!==r?r:e}}function we(n,r){return n===g?r:function(){n.apply(this,arguments);var e=this.onsuccess,t=this.onerror;this.onsuccess=this.onerror=null,r.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?be(e,this.onsuccess):e),t&&(this.onerror=this.onerror?be(t,this.onerror):t)}}function _e(o,i){return o===g?i:function(e){var t=o.apply(this,arguments),e=(a(e,t),this.onsuccess),n=this.onerror,r=(this.onsuccess=null,this.onerror=null,i.apply(this,arguments));return e&&(this.onsuccess=this.onsuccess?be(e,this.onsuccess):e),n&&(this.onerror=this.onerror?be(n,this.onerror):n),void 0===t?void 0===r?void 0:r:a(t,r)}}function xe(e,t){return e===g?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ke(o,i){return o===g?i:function(){var e=o.apply(this,arguments);if(e&&"function"==typeof e.then){for(var t=this,n=arguments.length,r=new Array(n);n--;)r[n]=arguments[n];return e.then(function(){return i.apply(t,r)})}return i.apply(this,arguments)}}e.ModifyError=fe,e.DexieError=ce,e.BulkError=he;var l="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Oe(e){l=e}var Pe={},Ke=100,Ee="undefined"==typeof Promise?[]:(t=Promise.resolve(),"undefined"!=typeof crypto&&crypto.subtle?[Ee=crypto.subtle.digest("SHA-512",new Uint8Array([0])),F(Ee),t]:[t,F(t),t]),t=Ee[0],Se=Ee[1],Se=Se&&Se.then,je=t&&t.constructor,Ae=!!Ee[2];var Ce=function(e,t){Re.push([e,t]),Ie&&(queueMicrotask(Ye),Ie=!1)},Te=!0,Ie=!0,qe=[],De=[],Be=ve,s={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:g,pgp:!1,env:{},finalize:g},P=s,Re=[],Fe=0,Me=[];function K(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=P;if("function"!=typeof e){if(e!==Pe)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],!1===this._state&&Ue(this,this._value)}else this._state=null,this._value=null,++t.ref,function t(r,e){try{e(function(n){if(null===r._state){if(n===r)throw new TypeError("A promise cannot be resolved with itself.");var e=r._lib&&$e();n&&"function"==typeof n.then?t(r,function(e,t){n instanceof K?n._then(e,t):n.then(e,t)}):(r._state=!0,r._value=n,Ve(r)),e&&Qe()}},Ue.bind(null,r))}catch(e){Ue(r,e)}}(this,e)}var Ne={get:function(){var u=P,t=et;function e(n,r){var o=this,i=!u.global&&(u!==P||t!==et),a=i&&!v(),e=new K(function(e,t){ze(o,new Le(ut(n,u,i,a),ut(r,u,i,a),e,t,u))});return this._consoleTask&&(e._consoleTask=this._consoleTask),e}return e.prototype=Pe,e},set:function(e){u(this,"then",e&&e.prototype===Pe?Ne:{get:function(){return e},set:Ne.set})}};function Le(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function Ue(e,t){var n,r;De.push(t),null===e._state&&(n=e._lib&&$e(),t=Be(t),e._state=!1,e._value=t,r=e,qe.some(function(e){return e._value===r._value})||qe.push(r),Ve(e),n)&&Qe()}function Ve(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ze(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Fe&&(++Fe,Ce(function(){0==--Fe&&Ge()},[]))}function ze(e,t){if(null===e._state)e._listeners.push(t);else{var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Fe,Ce(We,[n,e,t])}}function We(e,t,n){try{var r,o=t._value;!t._state&&De.length&&(De=[]),r=l&&t._consoleTask?t._consoleTask.run(function(){return e(o)}):e(o),t._state||-1!==De.indexOf(o)||(e=>{for(var t=qe.length;t;)if(qe[--t]._value===e._value)return qe.splice(t,1)})(t),n.resolve(r)}catch(e){n.reject(e)}finally{0==--Fe&&Ge(),--n.psd.ref||n.psd.finalize()}}function Ye(){at(s,function(){$e()&&Qe()})}function $e(){var e=Te;return Ie=Te=!1,e}function Qe(){var e,t,n;do{for(;0<Re.length;)for(e=Re,Re=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<Re.length);Ie=Te=!0}function Ge(){for(var e=qe,t=(qe=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)}),Me.slice(0)),n=t.length;n;)t[--n]()}function Xe(e){return new K(Pe,!1,e)}function E(n,r){var o=P;return function(){var e=$e(),t=P;try{return h(o,!0),n.apply(this,arguments)}catch(e){r&&r(e)}finally{h(t,!1),e&&Qe()}}}N(K.prototype,{then:Ne,_then:function(e,t){ze(this,new Le(null,null,e,t,P))},catch:function(e){var t,n;return 1===arguments.length?this.then(null,e):(t=e,n=arguments[1],"function"==typeof t?this.then(null,function(e){return(e instanceof t?n:Xe)(e)}):this.then(null,function(e){return(e&&e.name===t?n:Xe)(e)}))},finally:function(t){return this.then(function(e){return K.resolve(t()).then(function(){return e})},function(e){return K.resolve(t()).then(function(){return Xe(e)})})},timeout:function(r,o){var i=this;return r<1/0?new K(function(e,t){var n=setTimeout(function(){return t(new k.Timeout(o))},r);i.then(e,t).finally(clearTimeout.bind(null,n))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&u(K.prototype,Symbol.toStringTag,"Dexie.Promise"),s.env=it(),N(K,{all:function(){var i=n.apply(null,arguments).map(rt);return new K(function(n,r){0===i.length&&n([]);var o=i.length;i.forEach(function(e,t){return K.resolve(e).then(function(e){i[t]=e,--o||n(i)},r)})})},resolve:function(n){return n instanceof K?n:n&&"function"==typeof n.then?new K(function(e,t){n.then(e,t)}):new K(Pe,!0,n)},reject:Xe,race:function(){var e=n.apply(null,arguments).map(rt);return new K(function(t,n){e.map(function(e){return K.resolve(e).then(t,n)})})},PSD:{get:function(){return P},set:function(e){return P=e}},totalEchoes:{get:function(){return et}},newPSD:y,usePSD:at,scheduler:{get:function(){return Ce},set:function(e){Ce=e}},rejectionMapper:{get:function(){return Be},set:function(e){Be=e}},follow:function(o,n){return new K(function(e,t){return y(function(n,r){var e=P;e.unhandleds=[],e.onunhandled=r,e.finalize=be(function(){var t,e=this;t=function(){0===e.unhandleds.length?n():r(e.unhandleds[0])},Me.push(function e(){t(),Me.splice(Me.indexOf(e),1)}),++Fe,Ce(function(){0==--Fe&&Ge()},[])},e.finalize),o()},n,e,t)})}}),je&&(je.allSettled&&u(K,"allSettled",function(){var e=n.apply(null,arguments).map(rt);return new K(function(n){0===e.length&&n([]);var r=e.length,o=new Array(r);e.forEach(function(e,t){return K.resolve(e).then(function(e){return o[t]={status:"fulfilled",value:e}},function(e){return o[t]={status:"rejected",reason:e}}).then(function(){return--r||n(o)})})})}),je.any&&"undefined"!=typeof AggregateError&&u(K,"any",function(){var e=n.apply(null,arguments).map(rt);return new K(function(n,r){0===e.length&&r(new AggregateError([]));var o=e.length,i=new Array(o);e.forEach(function(e,t){return K.resolve(e).then(function(e){return n(e)},function(e){i[t]=e,--o||r(new AggregateError(i))})})})}),je.withResolvers)&&(K.withResolvers=je.withResolvers);var i={awaits:0,echoes:0,id:0},He=0,Je=[],Ze=0,et=0,tt=0;function y(e,t,n,r){var o=P,i=Object.create(o),t=(i.parent=o,i.ref=0,i.global=!1,i.id=++tt,s.env,i.env=Ae?{Promise:K,PromiseProp:{value:K,configurable:!0,writable:!0},all:K.all,race:K.race,allSettled:K.allSettled,any:K.any,resolve:K.resolve,reject:K.reject}:{},t&&a(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()},at(i,e,n,r));return 0===i.ref&&i.finalize(),t}function nt(){return i.id||(i.id=++He),++i.awaits,i.echoes+=Ke,i.id}function v(){return!!i.awaits&&(0==--i.awaits&&(i.id=0),i.echoes=i.awaits*Ke,!0)}function rt(e){return i.echoes&&e&&e.constructor===je?(nt(),e.then(function(e){return v(),e},function(e){return v(),w(e)})):e}function ot(){var e=Je[Je.length-1];Je.pop(),h(e,!1)}function h(e,t){var n,r,o=P;(t?!i.echoes||Ze++&&e===P:!Ze||--Ze&&e===P)||queueMicrotask(t?function(e){++et,i.echoes&&0!=--i.echoes||(i.echoes=i.awaits=i.id=0),Je.push(P),h(e,!0)}.bind(null,e):ot),e!==P&&(P=e,o===s&&(s.env=it()),Ae)&&(n=s.env.Promise,r=e.env,o.global||e.global)&&(Object.defineProperty(f,"Promise",r.PromiseProp),n.all=r.all,n.race=r.race,n.resolve=r.resolve,n.reject=r.reject,r.allSettled&&(n.allSettled=r.allSettled),r.any)&&(n.any=r.any)}function it(){var e=f.Promise;return Ae?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function at(e,t,n,r,o){var i=P;try{return h(e,!0),t(n,r,o)}finally{h(i,!1)}}function ut(t,n,r,o){return"function"!=typeof t?t:function(){var e=P;r&&nt(),h(n,!0);try{return t.apply(this,arguments)}finally{h(e,!1),o&&queueMicrotask(v)}}}function st(e){Promise===je&&0===i.echoes?0===Ze?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+Se).indexOf("[native code]")&&(nt=v=g);var w=K.reject;var ct=String.fromCharCode(65535),S="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",lt="String expected.",ft=[],ht="__dbnames",dt="readonly",pt="readwrite";function yt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var vt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mt(t){return"string"!=typeof t||/\./.test(t)?function(e){return e}:function(e){return void 0===e[t]&&t in e&&delete(e=ee(e))[t],e}}function bt(){throw k.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function j(e,t){try{var n=gt(e),r=gt(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":for(var o=wt(e),i=wt(t),a=o.length,u=i.length,s=a<u?a:u,c=0;c<s;++c)if(o[c]!==i[c])return o[c]<i[c]?-1:1;return a===u?0:a<u?-1:1;case"Array":for(var l=e,f=t,h=l.length,d=f.length,p=h<d?h:d,y=0;y<p;++y){var v=j(l[y],f[y]);if(0!==v)return v}return h===d?0:h<d?-1:1}}catch(e){}return NaN}function gt(e){var t=typeof e;return"object"==t&&(ArrayBuffer.isView(e)||"ArrayBuffer"===(t=ne(e)))?"binary":t}function wt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function _t(t,n,r){var e=t.schema.yProps;return e?(n&&0<r.numFailures&&(n=n.filter(function(e,t){return!r.failures[t]})),Promise.all(e.map(function(e){e=e.updatesTable;return n?t.db.table(e).where("k").anyOf(n).delete():t.db.table(e).clear()})).then(function(){return r})):r}kt.prototype.execute=function(e){var t=this["@@propmod"];if(void 0!==t.add){var n=t.add;if(x(n))return R(R([],x(e)?e:[],!0),n,!0).sort();if("number"==typeof n)return(Number(e)||0)+n;if("bigint"==typeof n)try{return BigInt(e)+n}catch(e){return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(void 0!==t.remove){var r=t.remove;if(x(r))return x(e)?e.filter(function(e){return!r.includes(e)}).sort():[];if("number"==typeof r)return Number(e)-r;if("bigint"==typeof r)try{return BigInt(e)-r}catch(e){return BigInt(0)-r}throw new TypeError("Invalid subtrahend ".concat(r))}n=null==(n=t.replacePrefix)?void 0:n[0];return n&&"string"==typeof e&&e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e};var xt=kt;function kt(e){this["@@propmod"]=e}function Ot(e,t){for(var n=O(t),r=n.length,o=!1,i=0;i<r;++i){var a=n[i],u=t[a],s=c(e,a);u instanceof xt?(b(e,a,u.execute(s)),o=!0):s!==u&&(b(e,a,u),o=!0)}return o}r.prototype._trans=function(e,r,t){var n=this._tx||P.trans,o=this.name,i=l&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function a(e,t,n){if(n.schema[o])return r(n.idbtrans,n);throw new k.NotFound("Table "+o+" not part of transaction")}var u=$e();try{var s=n&&n.db._novip===this.db._novip?n===P.trans?n._promise(e,a,t):y(function(){return n._promise(e,a,t)},{trans:n,transless:P.transless||P}):function t(n,r,o,i){if(n.idbdb&&(n._state.openComplete||P.letThrough||n._vip)){var a=n._createTransaction(r,o,n._dbSchema);try{a.create(),n._state.PR1398_maxLoop=3}catch(e){return e.name===de.InvalidState&&n.isOpen()&&0<--n._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),n.close({disableAutoOpen:!1}),n.open().then(function(){return t(n,r,o,i)})):w(e)}return a._promise(r,function(e,t){return y(function(){return P.trans=a,i(e,t,a)})}).then(function(e){if("readwrite"===r)try{a.idbtrans.commit()}catch(e){}return"readonly"===r?e:a._completion.then(function(){return e})})}if(n._state.openComplete)return w(new k.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return w(new k.DatabaseClosed);n.open().catch(g)}return n._state.dbReadyPromise.then(function(){return t(n,r,o,i)})}(this.db,e,[this.name],a);return i&&(s._consoleTask=i,s=s.catch(function(e){return console.trace(e),w(e)})),s}finally{u&&Qe()}},r.prototype.get=function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):null==t?w(new k.Type("Invalid argument to Table.get()")):this._trans("readonly",function(e){return n.core.get({trans:e,key:t}).then(function(e){return n.hook.reading.fire(e)})}).then(e)},r.prototype.where=function(i){if("string"==typeof i)return new this.db.WhereClause(this,i);if(x(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var n=O(i);if(1===n.length)return this.where(n[0]).equals(i[n[0]]);var e=this.schema.indexes.concat(this.schema.primKey).filter(function(t){if(t.compound&&n.every(function(e){return 0<=t.keyPath.indexOf(e)})){for(var e=0;e<n.length;++e)if(-1===n.indexOf(t.keyPath[e]))return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(e&&this.db._maxKey!==ct)return t=e.keyPath.slice(0,n.length),this.where(t).equals(t.map(function(e){return i[e]}));!e&&l&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(n.join("+"),"]"));var a=this.schema.idxByName;function u(e,t){return 0===j(e,t)}var t=n.reduce(function(e,t){var n=e[0],e=e[1],r=a[t],o=i[t];return[n||r,n||!r?yt(e,r&&r.multi?function(e){e=c(e,t);return x(e)&&e.some(function(e){return u(o,e)})}:function(e){return u(o,c(e,t))}):e]},[null,null]),r=t[0],t=t[1];return r?this.where(r.name).equals(i[r.keyPath]).filter(t):e?this.filter(t):this.where(n).equals("")},r.prototype.filter=function(e){return this.toCollection().and(e)},r.prototype.count=function(e){return this.toCollection().count(e)},r.prototype.offset=function(e){return this.toCollection().offset(e)},r.prototype.limit=function(e){return this.toCollection().limit(e)},r.prototype.each=function(e){return this.toCollection().each(e)},r.prototype.toArray=function(e){return this.toCollection().toArray(e)},r.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},r.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,x(e)?"[".concat(e.join("+"),"]"):e))},r.prototype.reverse=function(){return this.toCollection().reverse()},r.prototype.mapToClass=function(r){for(var i=this.db,a=this.name,o=((this.schema.mappedClass=r).prototype instanceof bt&&(r=(e=>{var t=o,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}function o(){return null!==e&&e.apply(this,arguments)||this}return B(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r),Object.defineProperty(o.prototype,"db",{get:function(){return i},enumerable:!1,configurable:!0}),o.prototype.table=function(){return a},o})(r)),new Set),e=r.prototype;e;e=F(e))Object.getOwnPropertyNames(e).forEach(function(e){return o.add(e)});function t(e){if(!e)return e;var t,n=Object.create(r.prototype);for(t in e)if(!o.has(t))try{n[t]=e[t]}catch(e){}return n}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),r},r.prototype.defineClass=function(){return this.mapToClass(function(e){a(this,e)})},r.prototype.add=function(t,n){var r=this,e=this.schema.primKey,o=e.auto,i=e.keyPath,a=t;return i&&o&&(a=mt(i)(t)),this._trans("readwrite",function(e){return r.core.mutate({trans:e,type:"add",keys:null!=n?[n]:null,values:[a]})}).then(function(e){return e.numFailures?K.reject(e.failures[0]):e.lastResult}).then(function(e){if(i)try{b(t,i,e)}catch(e){}return e})},r.prototype.upsert=function(r,o){var i=this,a=this.schema.primKey.keyPath;return this._trans("readwrite",function(n){return i.core.get({trans:n,key:r}).then(function(t){var e=null!=t?t:{};return Ot(e,o),a&&b(e,a,r),i.core.mutate({trans:n,type:"put",values:[e],keys:[r],upsert:!0,updates:{keys:[r],changeSpecs:[o]}}).then(function(e){return e.numFailures?K.reject(e.failures[0]):!!t})})})},r.prototype.update=function(e,t){return"object"!=typeof e||x(e)?this.where(":id").equals(e).modify(t):void 0===(e=c(e,this.schema.primKey.keyPath))?w(new k.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},r.prototype.put=function(t,n){var r=this,e=this.schema.primKey,o=e.auto,i=e.keyPath,a=t;return i&&o&&(a=mt(i)(t)),this._trans("readwrite",function(e){return r.core.mutate({trans:e,type:"put",values:[a],keys:null!=n?[n]:null})}).then(function(e){return e.numFailures?K.reject(e.failures[0]):e.lastResult}).then(function(e){if(i)try{b(t,i,e)}catch(e){}return e})},r.prototype.delete=function(t){var n=this;return this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"delete",keys:[t]}).then(function(e){return _t(n,[t],e)}).then(function(e){return e.numFailures?K.reject(e.failures[0]):void 0})})},r.prototype.clear=function(){var t=this;return this._trans("readwrite",function(e){return t.core.mutate({trans:e,type:"deleteRange",range:vt}).then(function(e){return _t(t,null,e)})}).then(function(e){return e.numFailures?K.reject(e.failures[0]):void 0})},r.prototype.bulkGet=function(t){var n=this;return this._trans("readonly",function(e){return n.core.getMany({keys:t,trans:e}).then(function(e){return e.map(function(e){return n.hook.reading.fire(e)})})})},r.prototype.bulkAdd=function(o,e,t){var i=this,a=Array.isArray(e)?e:void 0,u=(t=t||(a?void 0:e))?t.allKeys:void 0;return this._trans("readwrite",function(e){var t=i.schema.primKey,n=t.auto,t=t.keyPath;if(t&&a)throw new k.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==o.length)throw new k.InvalidArgument("Arguments objects and keys must have the same length");var r=o.length,n=t&&n?o.map(mt(t)):o;return i.core.mutate({trans:e,type:"add",keys:a,values:n,wantResults:u}).then(function(e){var t=e.numFailures,n=e.failures;if(0===t)return u?e.results:e.lastResult;throw new he("".concat(i.name,".bulkAdd(): ").concat(t," of ").concat(r," operations failed"),n)})})},r.prototype.bulkPut=function(o,e,t){var i=this,a=Array.isArray(e)?e:void 0,u=(t=t||(a?void 0:e))?t.allKeys:void 0;return this._trans("readwrite",function(e){var t=i.schema.primKey,n=t.auto,t=t.keyPath;if(t&&a)throw new k.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==o.length)throw new k.InvalidArgument("Arguments objects and keys must have the same length");var r=o.length,n=t&&n?o.map(mt(t)):o;return i.core.mutate({trans:e,type:"put",keys:a,values:n,wantResults:u}).then(function(e){var t=e.numFailures,n=e.failures;if(0===t)return u?e.results:e.lastResult;throw new he("".concat(i.name,".bulkPut(): ").concat(t," of ").concat(r," operations failed"),n)})})},r.prototype.bulkUpdate=function(t){var h=this,n=this.core,r=t.map(function(e){return e.key}),o=t.map(function(e){return e.changes}),d=[];return this._trans("readwrite",function(e){return n.getMany({trans:e,keys:r,cache:"clone"}).then(function(c){var l=[],f=[],s=(t.forEach(function(e,t){var n=e.key,r=e.changes,o=c[t];if(o){for(var i=0,a=Object.keys(r);i<a.length;i++){var u=a[i],s=r[u];if(u===h.schema.primKey.keyPath){if(0!==j(s,n))throw new k.Constraint("Cannot update primary key in bulkUpdate()")}else b(o,u,s)}d.push(t),l.push(n),f.push(o)}}),l.length);return n.mutate({trans:e,type:"put",keys:l,values:f,updates:{keys:r,changeSpecs:o}}).then(function(e){var t=e.numFailures,n=e.failures;if(0===t)return s;for(var r=0,o=Object.keys(n);r<o.length;r++){var i,a=o[r],u=d[Number(a)];null!=u&&(i=n[a],delete n[a],n[u]=i)}throw new he("".concat(h.name,".bulkUpdate(): ").concat(t," of ").concat(s," operations failed"),n)})})})},r.prototype.bulkDelete=function(t){var r=this,o=t.length;return this._trans("readwrite",function(e){return r.core.mutate({trans:e,type:"delete",keys:t}).then(function(e){return _t(r,t,e)})}).then(function(e){var t=e.numFailures,n=e.failures;if(0===t)return e.lastResult;throw new he("".concat(r.name,".bulkDelete(): ").concat(t," of ").concat(o," operations failed"),n)})};var Pt=r;function r(){}function Kt(o){function t(e,t){if(t){for(var n=arguments.length,r=new Array(n-1);--n;)r[n-1]=arguments[n];return a[e].subscribe.apply(null,r),o}if("string"==typeof e)return a[e]}var a={};t.addEventType=u;for(var e=1,n=arguments.length;e<n;++e)u(arguments[e]);return t;function u(e,n,r){var o,i;if("object"!=typeof e)return n=n||xe,i={subscribers:[],fire:r=r||g,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=n(i.fire,e))},unsubscribe:function(t){i.subscribers=i.subscribers.filter(function(e){return e!==t}),i.fire=i.subscribers.reduce(n,r)}},a[e]=t[e]=i;O(o=e).forEach(function(e){var t=o[e];if(x(t))u(e,o[e][0],o[e][1]);else{if("asap"!==t)throw new k.InvalidArgument("Invalid event config");var n=u(e,ve,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){Q(function(){e.apply(null,t)})})})}})}}function Et(e,t){return U(t).from({prototype:e}),t}function St(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function jt(e,t){e.filter=yt(e.filter,t)}function At(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return yt(r(),t())}:t,e.justLimit=n&&!r}function Ct(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(n)return n;throw new k.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed")}function Tt(e,t,n){var r=Ct(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function It(e,i,t,n){var a,r,u=e.replayFilter?yt(e.filter,e.replayFilter()):e.filter;return e.or?(a={},r=function(e,t,n){var r,o;u&&!u(t,n,function(e){return t.stop(e)},function(e){return t.fail(e)})||("[object ArrayBuffer]"===(o=""+(r=t.primaryKey))&&(o=""+new Uint8Array(r)),m(a,o))||(a[o]=!0,i(e,t,n))},Promise.all([e.or._iterate(r,t),qt(Tt(e,n,t),e.algorithm,r,!e.keysOnly&&e.valueMapper)])):qt(Tt(e,n,t),yt(e.algorithm,u),i,!e.keysOnly&&e.valueMapper)}function qt(e,r,o,i){var a=E(i?function(e,t,n){return o(i(e),t,n)}:o);return e.then(function(n){if(n)return n.start(function(){var t=function(){return n.continue()};r&&!r(n,function(e){return t=e},function(e){n.stop(e),t=g},function(e){n.fail(e),t=g})||a(n.value,n,function(e){return t=e}),t()})})}o.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,w.bind(null,n.error)):n.table._trans("readonly",e).then(t)},o.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,w.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},o.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=yt(t.algorithm,e)},o.prototype._iterate=function(e,t){return It(this._ctx,e,t,this._ctx.table.core)},o.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},o.prototype.raw=function(){return this._ctx.valueMapper=null,this},o.prototype.each=function(t){var n=this._ctx;return this._read(function(e){return It(n,t,e,n.table.core)})},o.prototype.count=function(e){var o=this;return this._read(function(e){var t,n=o._ctx,r=n.table.core;return St(n,!0)?r.count({trans:e,query:{index:Ct(n,r.schema),range:n.range}}).then(function(e){return Math.min(e,n.limit)}):(t=0,It(n,function(){return++t,!1},e,r).then(function(){return t}))}).then(e)},o.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function u(e,t){return j(i(e,o),i(t,o))*a}return this.toArray(function(e){return e.sort(u)}).then(t)},o.prototype.toArray=function(e){var i=this;return this._read(function(e){var t,n,r,o=i._ctx;return"next"===o.dir&&St(o,!0)&&0<o.limit?(t=o.valueMapper,n=Ct(o,o.table.core.schema),o.table.core.query({trans:e,limit:o.limit,values:!0,query:{index:n,range:o.range}}).then(function(e){e=e.result;return t?e.map(t):e})):(r=[],It(o,function(e){return r.push(e)},e,o.table.core).then(function(){return r}))},e)},o.prototype.offset=function(t){var e=this._ctx;return t<=0||(e.offset+=t,St(e)?At(e,function(){var n=t;return function(e,t){return 0===n||(1===n?--n:t(function(){e.advance(n),n=0}),!1)}}):At(e,function(){var e=t;return function(){return--e<0}})),this},o.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),At(this._ctx,function(){var r=e;return function(e,t,n){return--r<=0&&t(n),0<=r}},!0),this},o.prototype.until=function(r,o){return jt(this._ctx,function(e,t,n){return!r(e.value)||(t(n),o)}),this},o.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},o.prototype.last=function(e){return this.reverse().first(e)},o.prototype.filter=function(t){var e;return jt(this._ctx,function(e){return t(e.value)}),(e=this._ctx).isMatch=yt(e.isMatch,t),this},o.prototype.and=function(e){return this.filter(e)},o.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},o.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},o.prototype.desc=function(){return this.reverse()},o.prototype.eachKey=function(n){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,t){n(t.key,t)})},o.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},o.prototype.eachPrimaryKey=function(n){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,t){n(t.primaryKey,t)})},o.prototype.keys=function(e){var t=this._ctx,n=(t.keysOnly=!t.isMatch,[]);return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},o.prototype.primaryKeys=function(e){var n=this._ctx;if("next"===n.dir&&St(n,!0)&&0<n.limit)return this._read(function(e){var t=Ct(n,n.table.core.schema);return n.table.core.query({trans:e,values:!1,limit:n.limit,query:{index:t,range:n.range}})}).then(function(e){return e.result}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(e,t){r.push(t.primaryKey)}).then(function(){return r}).then(e)},o.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},o.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},o.prototype.lastKey=function(e){return this.reverse().firstKey(e)},o.prototype.distinct=function(){var n,e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];return e&&e.multi&&(n={},jt(this._ctx,function(e){var e=e.primaryKey.toString(),t=m(n,e);return n[e]=!0,!t})),this},o.prototype.modify=function(x){var n=this,k=this._ctx;return this._write(function(p){function y(e,t){var n=t.failures;u+=e-t.numFailures;for(var r=0,o=O(n);r<o.length;r++){var i=o[r];a.push(n[i])}}var v="function"==typeof x?x:function(e){return Ot(e,x)},m=k.table.core,e=m.schema.primaryKey,b=e.outbound,g=e.extractKey,w=200,e=n.db._options.modifyChunkSize,a=(e&&(w="object"==typeof e?e[m.name]||e["*"]||200:e),[]),u=0,t=[],_=x===Bt;return n.clone().primaryKeys().then(function(f){function h(s){var c=Math.min(w,f.length-s),l=f.slice(s,s+c);return(_?Promise.resolve([]):m.getMany({trans:p,keys:l,cache:"immutable"})).then(function(e){var n=[],t=[],r=b?[]:null,o=_?l:[];if(!_)for(var i=0;i<c;++i){var a=e[i],u={value:ee(a),primKey:f[s+i]};!1!==v.call(u,u.value,u)&&(null==u.value?o.push(f[s+i]):b||0===j(g(a),g(u.value))?(t.push(u.value),b&&r.push(f[s+i])):(o.push(f[s+i]),n.push(u.value)))}return Promise.resolve(0<n.length&&m.mutate({trans:p,type:"add",values:n}).then(function(e){for(var t in e.failures)o.splice(parseInt(t),1);y(n.length,e)})).then(function(){return(0<t.length||d&&"object"==typeof x)&&m.mutate({trans:p,type:"put",keys:r,values:t,criteria:d,changeSpec:"function"!=typeof x&&x,isAdditionalChunk:0<s}).then(function(e){return y(t.length,e)})}).then(function(){return(0<o.length||d&&_)&&m.mutate({trans:p,type:"delete",keys:o,criteria:d,isAdditionalChunk:0<s}).then(function(e){return _t(k.table,o,e)}).then(function(e){return y(o.length,e)})}).then(function(){return f.length>s+c&&h(s+w)})})}var d=St(k)&&k.limit===1/0&&("function"!=typeof x||_)&&{index:k.index,range:k.range};return h(0).then(function(){if(0<a.length)throw new fe("Error modifying one or more objects",a,u,t);return f.length})})})},o.prototype.delete=function(){var o=this._ctx,n=o.range;return!St(o)||o.table.schema.yProps||!o.isPrimKey&&3!==n.type?this.modify(Bt):this._write(function(e){var t=o.table.core.schema.primaryKey,r=n;return o.table.core.count({trans:e,query:{index:t,range:r}}).then(function(n){return o.table.core.mutate({trans:e,type:"deleteRange",range:r}).then(function(e){var t=e.failures,e=e.numFailures;if(e)throw new fe("Could not delete some values",Object.keys(t).map(function(e){return t[e]}),n-e);return n-e})})})};var Dt=o;function o(){}var Bt=function(e,t){return t.value=null};function Rt(e,t){return e<t?-1:e===t?0:1}function Ft(e,t){return t<e?-1:e===t?0:1}function A(e,t,n){e=e instanceof Ut?new e.Collection(e):e;return e._ctx.error=new(n||TypeError)(t),e}function Mt(e){return new e.Collection(e,function(){return Lt("")}).limit(0)}function Nt(e,s,n,r){var o,c,l,f,h,d,p,y=n.length;if(!n.every(function(e){return"string"==typeof e}))return A(e,lt);function t(e){o="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},c="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},l="next"===e?Rt:Ft;var t=n.map(function(e){return{lower:c(e),upper:o(e)}}).sort(function(e,t){return l(e.lower,t.lower)});f=t.map(function(e){return e.upper}),h=t.map(function(e){return e.lower}),p="next"===(d=e)?"":r}t("next");var e=new e.Collection(e,function(){return C(f[0],h[y-1]+r)}),v=(e._ondirectionchange=function(e){t(e)},0);return e._addAlgorithm(function(e,t,n){var r=e.key;if("string"==typeof r){var o=c(r);if(s(o,h,v))return!0;for(var i=null,a=v;a<y;++a){var u=((e,t,n,r,o,i)=>{for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return o(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):o(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):0<=u?e.substr(0,u)+t[u]+n.substr(u+1):null;o(e[s],c)<0&&(u=s)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)})(r,o,f[a],h[a],l,d);null===u&&null===i?v=a+1:(null===i||0<l(i,u))&&(i=u)}t(null!==i?function(){e.continue(i+p)}:n)}return!1}),e}function C(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Lt(e){return{type:1,lower:e,upper:e}}Object.defineProperty(d.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),d.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Mt(this):new this.Collection(this,function(){return C(e,t,!n,!r)})}catch(e){return A(this,S)}},d.prototype.equals=function(e){return null==e?A(this,S):new this.Collection(this,function(){return Lt(e)})},d.prototype.above=function(e){return null==e?A(this,S):new this.Collection(this,function(){return C(e,void 0,!0)})},d.prototype.aboveOrEqual=function(e){return null==e?A(this,S):new this.Collection(this,function(){return C(e,void 0,!1)})},d.prototype.below=function(e){return null==e?A(this,S):new this.Collection(this,function(){return C(void 0,e,!1,!0)})},d.prototype.belowOrEqual=function(e){return null==e?A(this,S):new this.Collection(this,function(){return C(void 0,e)})},d.prototype.startsWith=function(e){return"string"!=typeof e?A(this,lt):this.between(e,e+ct,!0,!0)},d.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Nt(this,function(e,t){return 0===e.indexOf(t[0])},[e],ct)},d.prototype.equalsIgnoreCase=function(e){return Nt(this,function(e,t){return e===t[0]},[e],"")},d.prototype.anyOfIgnoreCase=function(){var e=n.apply(ae,arguments);return 0===e.length?Mt(this):Nt(this,function(e,t){return-1!==t.indexOf(e)},e,"")},d.prototype.startsWithAnyOfIgnoreCase=function(){var e=n.apply(ae,arguments);return 0===e.length?Mt(this):Nt(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},e,ct)},d.prototype.anyOf=function(){var e,o,t=this,i=n.apply(ae,arguments),a=this._cmp;try{i.sort(a)}catch(e){return A(this,S)}return 0===i.length?Mt(this):((e=new this.Collection(this,function(){return C(i[0],i[i.length-1])}))._ondirectionchange=function(e){a="next"===e?t._ascending:t._descending,i.sort(a)},o=0,e._addAlgorithm(function(e,t,n){for(var r=e.key;0<a(r,i[o]);)if(++o===i.length)return t(n),!1;return 0===a(r,i[o])||(t(function(){e.continue(i[o])}),!1)}),e)},d.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},d.prototype.noneOf=function(){var e=n.apply(ae,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return A(this,S)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},d.prototype.inAnyRange=function(e,t){var i=this,a=this._cmp,u=this._ascending,n=this._descending,s=this._min,c=this._max;if(0===e.length)return Mt(this);if(!e.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&u(e[0],e[1])<=0}))return A(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",k.InvalidArgument);var r=!t||!1!==t.includeLowers,o=t&&!0===t.includeUppers;var l,f=u;function h(e,t){return f(e[0],t[0])}try{(l=e.reduce(function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(a(t[0],o[1])<0&&0<a(t[1],o[0])){o[0]=s(o[0],t[0]),o[1]=c(o[1],t[1]);break}}return n===r&&e.push(t),e},[])).sort(h)}catch(e){return A(this,S)}var d=0,p=o?function(e){return 0<u(e,l[d][1])}:function(e){return 0<=u(e,l[d][1])},y=r?function(e){return 0<n(e,l[d][0])}:function(e){return 0<=n(e,l[d][0])};var v=p,t=new this.Collection(this,function(){return C(l[0][0],l[l.length-1][1],!r,!o)});return t._ondirectionchange=function(e){f="next"===e?(v=p,u):(v=y,n),l.sort(h)},t._addAlgorithm(function(e,t,n){for(var r,o=e.key;v(o);)if(++d===l.length)return t(n),!1;return!p(r=o)&&!y(r)||(0===i._cmp(o,l[d][1])||0===i._cmp(o,l[d][0])||t(function(){f===u?e.continue(l[d][0]):e.continue(l[d][1])}),!1)}),t},d.prototype.startsWithAnyOf=function(){var e=n.apply(ae,arguments);return e.every(function(e){return"string"==typeof e})?0===e.length?Mt(this):this.inAnyRange(e.map(function(e){return[e,e+ct]})):A(this,"startsWithAnyOf() only works with strings")};var Ut=d;function d(){}function T(t){return E(function(e){return Vt(e),t(e.target.error),!1})}function Vt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var zt="storagemutated",Wt="x-storagemutated-1",Yt=Kt(null,zt),$t=(p.prototype._lock=function(){return $(!P.global),++this._reculock,1!==this._reculock||P.global||(P.lockOwnerFor=this),this},p.prototype._unlock=function(){if($(!P.global),0==--this._reculock)for(P.global||(P.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{at(e[1],e[0])}catch(e){}}return this},p.prototype._locked=function(){return this._reculock&&P.lockOwnerFor!==this},p.prototype.create=function(t){var n=this;if(this.mode){var e=this.db.idbdb,r=this.db._state.dbOpenError;if($(!this.idbtrans),!t&&!e)switch(r&&r.name){case"DatabaseClosedError":throw new k.DatabaseClosed(r);case"MissingAPIError":throw new k.MissingAPI(r.message,r);default:throw new k.OpenFailed(r)}if(!this.active)throw new k.TransactionInactive;$(null===this._completion._state),(t=this.idbtrans=t||(this.db.core||e).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=E(function(e){Vt(e),n._reject(t.error)}),t.onabort=E(function(e){Vt(e),n.active&&n._reject(new k.Abort(t.error)),n.active=!1,n.on("abort").fire(e)}),t.oncomplete=E(function(){n.active=!1,n._resolve(),"mutatedParts"in t&&Yt.storagemutated.fire(t.mutatedParts)})}return this},p.prototype._promise=function(n,r,o){var e,i=this;return"readwrite"===n&&"readwrite"!==this.mode?w(new k.ReadOnly("Transaction is readonly")):this.active?this._locked()?new K(function(e,t){i._blockedFuncs.push([function(){i._promise(n,r,o).then(e,t)},P])}):o?y(function(){var e=new K(function(e,t){i._lock();var n=r(e,t,i);n&&n.then&&n.then(e,t)});return e.finally(function(){return i._unlock()}),e._lib=!0,e}):((e=new K(function(e,t){var n=r(e,t,i);n&&n.then&&n.then(e,t)}))._lib=!0,e):w(new k.TransactionInactive)},p.prototype._root=function(){return this.parent?this.parent._root():this},p.prototype.waitFor=function(e){var t,r=this._root(),o=K.resolve(e),i=(r._waitingFor?r._waitingFor=r._waitingFor.then(function(){return o}):(r._waitingFor=o,r._waitingQueue=[],t=r.idbtrans.objectStore(r.storeNames[0]),function e(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(t.get(-1/0).onsuccess=e)}()),r._waitingFor);return new K(function(t,n){o.then(function(e){return r._waitingQueue.push(E(t.bind(null,e)))},function(e){return r._waitingQueue.push(E(n.bind(null,e)))}).finally(function(){r._waitingFor===i&&(r._waitingFor=null)})})},p.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new k.Abort))},p.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(m(t,e))return t[e];var n=this.schema[e];if(n)return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n;throw new k.NotFound("Table "+e+" not part of transaction")},p);function p(){}function Qt(e,t,n,r,o,i,a,u){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+Gt(t),type:u}}function Gt(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Xt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce(function(e,t,n){t=r(t,n);return t&&(e[t[0]]=t[1]),e},{}))};var r}var Ht=function(e){try{return e.only([[]]),Ht=function(){return[[]]},[[]]}catch(e){return Ht=function(){return ct},ct}};function Jt(t){return null==t?function(){}:"string"==typeof t?1===(n=t).split(".").length?function(e){return e[n]}:function(e){return c(e,n)}:function(e){return c(e,t)};var n}function Zt(e){return[].slice.call(e)}var en=0;function tn(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function nn(e,o,t){function _(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var t=e.lower,n=e.upper,r=e.lowerOpen,e=e.upperOpen;return void 0===t?void 0===n?null:o.upperBound(n,!!e):void 0===n?o.lowerBound(t,!!r):o.bound(t,n,!!r,!!e)}function n(e){var h,w=e.name;return{name:w,schema:e,mutate:function(e){var y=e.trans,v=e.type,m=e.keys,b=e.values,g=e.range;return new Promise(function(t,e){t=E(t);var n=y.objectStore(w),r=null==n.keyPath,o="put"===v||"add"===v;if(!o&&"delete"!==v&&"deleteRange"!==v)throw new Error("Invalid operation type: "+v);var i,a=(m||b||{length:1}).length;if(m&&b&&m.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(0===a)return t({numFailures:0,failures:{},results:[],lastResult:void 0});function u(e){++l,Vt(e)}var s=[],c=[],l=0;if("deleteRange"===v){if(4===g.type)return t({numFailures:l,failures:c,results:[],lastResult:void 0});3===g.type?s.push(i=n.clear()):s.push(i=n.delete(_(g)))}else{var r=o?r?[b,m]:[b,null]:[m,null],f=r[0],h=r[1];if(o)for(var d=0;d<a;++d)s.push(i=h&&void 0!==h[d]?n[v](f[d],h[d]):n[v](f[d])),i.onerror=u;else for(d=0;d<a;++d)s.push(i=n[v](f[d])),i.onerror=u}function p(e){e=e.target.result,s.forEach(function(e,t){return null!=e.error&&(c[t]=e.error)}),t({numFailures:l,failures:c,results:"delete"===v?m:s.map(function(e){return e.result}),lastResult:e})}i.onerror=function(e){u(e),p(e)},i.onsuccess=p})},getMany:function(e){var f=e.trans,h=e.keys;return new Promise(function(t,e){t=E(t);for(var n,r=f.objectStore(w),o=h.length,i=new Array(o),a=0,u=0,s=function(e){e=e.target;i[e._pos]=e.result,++u===a&&t(i)},c=T(e),l=0;l<o;++l)null!=h[l]&&((n=r.get(h[l]))._pos=l,n.onsuccess=s,n.onerror=c,++a);0===a&&t(i)})},get:function(e){var r=e.trans,o=e.key;return new Promise(function(t,e){t=E(t);var n=r.objectStore(w).get(o);n.onsuccess=function(e){return t(e.target.result)},n.onerror=T(e)})},query:(h=a,function(f){return new Promise(function(n,e){n=E(n);var r,o,i,t=f.trans,a=f.values,u=f.limit,s=f.query,c=u===1/0?void 0:u,l=s.index,s=s.range,t=t.objectStore(w),t=l.isPrimaryKey?t:t.index(l.name),l=_(s);if(0===u)return n({result:[]});h?((s=a?t.getAll(l,c):t.getAllKeys(l,c)).onsuccess=function(e){return n({result:e.target.result})},s.onerror=T(e)):(r=0,o=!a&&"openKeyCursor"in t?t.openKeyCursor(l):t.openCursor(l),i=[],o.onsuccess=function(e){var t=o.result;return!t||(i.push(a?t.value:t.primaryKey),++r===u)?n({result:i}):void t.continue()},o.onerror=T(e))})}),openCursor:function(e){var c=e.trans,i=e.values,a=e.query,u=e.reverse,l=e.unique;return new Promise(function(t,n){t=E(t);var e=a.index,r=a.range,o=c.objectStore(w),o=e.isPrimaryKey?o:o.index(e.name),e=u?l?"prevunique":"prev":l?"nextunique":"next",s=!i&&"openKeyCursor"in o?o.openKeyCursor(_(r),e):o.openCursor(_(r),e);s.onerror=T(n),s.onsuccess=E(function(e){var r,o,i,a,u=s.result;u?(u.___id=++en,u.done=!1,r=u.continue.bind(u),o=(o=u.continuePrimaryKey)&&o.bind(u),i=u.advance.bind(u),a=function(){throw new Error("Cursor not stopped")},u.trans=c,u.stop=u.continue=u.continuePrimaryKey=u.advance=function(){throw new Error("Cursor not started")},u.fail=E(n),u.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},u.start=function(e){function t(){if(s.result)try{e()}catch(e){u.fail(e)}else u.done=!0,u.start=function(){throw new Error("Cursor behind last entry")},u.stop()}var n=new Promise(function(t,e){t=E(t),s.onerror=T(e),u.fail=e,u.stop=function(e){u.stop=u.continue=u.continuePrimaryKey=u.advance=a,t(e)}});return s.onsuccess=E(function(e){s.onsuccess=t,t()}),u.continue=r,u.continuePrimaryKey=o,u.advance=i,t(),n},t(u)):t(null)},n)})},count:function(e){var t=e.query,o=e.trans,i=t.index,a=t.range;return new Promise(function(t,e){var n=o.objectStore(w),n=i.isPrimaryKey?n:n.index(i.name),r=_(a),r=r?n.count(r):n.count();r.onsuccess=E(function(e){return t(e.target.result)}),r.onerror=T(e)})}}}r=t,i=Zt((t=e).objectStoreNames);var r,t={schema:{name:t.name,tables:i.map(function(e){return r.objectStore(e)}).map(function(t){var e=t.keyPath,n=t.autoIncrement,r=x(e),o={},r={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==e,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:Jt(e)},indexes:Zt(t.indexNames).map(function(e){return t.index(e)}).map(function(e){var t=e.name,n=e.unique,r=e.multiEntry,e=e.keyPath,t={name:t,compound:x(e),keyPath:e,unique:n,multiEntry:r,extractKey:Jt(e)};return o[tn(e)]=t}),getIndexByKeyPath:function(e){return o[tn(e)]}};return o[":id"]=r.primaryKey,null!=e&&(o[tn(e)]=r.primaryKey),r})},hasGetAll:0<i.length&&"getAll"in r.objectStore(i[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},i=t.schema,a=t.hasGetAll,t=i.tables.map(n),u={};return t.forEach(function(e){return u[e.name]=e}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(u[e])return u[e];throw new Error("Table '".concat(e,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Ht(o),schema:i}}function rn(e,t,n,r){n=n.IDBKeyRange;return t=nn(t,n,r),{dbcore:e.dbcore.reduce(function(e,t){t=t.create;return _(_({},e),t(e))},t)}}function on(n,e){var t=e.db,t=rn(n._middlewares,t,n._deps,e);n.core=t.dbcore,n.tables.forEach(function(e){var t=e.name;n.core.schema.tables.some(function(e){return e.name===t})&&(e.core=n.core.table(t),n[t]instanceof n.Table)&&(n[t].core=e.core)})}function an(o,e,t,i){t.forEach(function(n){var r=i[n];e.forEach(function(e){var t=function e(t,n){return V(t,n)||(t=F(t))&&e(t,n)}(e,n);(!t||"value"in t&&void 0===t.value)&&(e===o.Transaction.prototype||e instanceof o.Transaction?u(e,n,{get:function(){return this.table(n)},set:function(e){L(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):e[n]=new o.Table(n,r))})})}function un(n,e){e.forEach(function(e){for(var t in e)e[t]instanceof n.Table&&delete e[t]})}function sn(e,t){return e._cfg.version-t._cfg.version}function cn(n,r,o,e){var i=n._dbSchema,a=(o.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=Xt("$meta",mn("")[0],[]),n._storeNames.push("$meta")),n._createTransaction("readwrite",n._storeNames,i)),u=(a.create(o),a._completion.catch(e),a._reject.bind(a)),s=P.transless||P;y(function(){if(P.trans=a,P.transless=s,0!==r)return on(n,o),t=r,((e=a).storeNames.includes("$meta")?e.table("$meta").get("version").then(function(e){return null!=e?e:t}):K.resolve(t)).then(function(e){var s=n,c=e,l=a,f=o,t=[],e=s._versions,h=s._dbSchema=yn(0,s.idbdb,f);return 0===(e=e.filter(function(e){return e._cfg.version>=c})).length?K.resolve():(e.forEach(function(u){t.push(function(){var t,n,r,o=h,e=u._cfg.dbschema,i=(vn(s,o,f),vn(s,e,f),h=s._dbSchema=e,fn(o,e)),a=(i.add.forEach(function(e){hn(f,e[0],e[1].primKey,e[1].indexes)}),i.change.forEach(function(e){if(e.recreate)throw new k.Upgrade("Not yet support for changing primary key");var t=f.objectStore(e.name);e.add.forEach(function(e){return pn(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),pn(t,e)}),e.del.forEach(function(e){return t.deleteIndex(e)})}),u._cfg.contentUpgrade);if(a&&u._cfg.version>c)return on(s,f),l._memoizedTables={},t=G(e),i.del.forEach(function(e){t[e]=o[e]}),un(s,[s.Transaction.prototype]),an(s,[s.Transaction.prototype],O(t),t),l.schema=t,(n=ue(a))&&nt(),e=K.follow(function(){var e;(r=a(l))&&n&&(e=v.bind(null,null),r.then(e,e))}),r&&"function"==typeof r.then?K.resolve(r):e.then(function(){return r})}),t.push(function(e){var t,n,r=u._cfg.dbschema;t=r,n=e,[].slice.call(n.db.objectStoreNames).forEach(function(e){return null==t[e]&&n.db.deleteObjectStore(e)}),un(s,[s.Transaction.prototype]),an(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),l.schema=s._dbSchema}),t.push(function(e){s.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(s.idbdb.version/10)===u._cfg.version?(s.idbdb.deleteObjectStore("$meta"),delete s._dbSchema.$meta,s._storeNames=s._storeNames.filter(function(e){return"$meta"!==e})):e.objectStore("$meta").put(u._cfg.version,"version"))})}),function e(){return t.length?K.resolve(t.shift()(l.idbtrans)).then(e):K.resolve()}().then(function(){dn(h,f)}))}).catch(u);var e,t;O(i).forEach(function(e){hn(o,e,i[e].primKey,i[e].indexes)}),on(n,o),K.follow(function(){return n.on.populate.fire(a)}).catch(u)})}function ln(e,r){dn(e._dbSchema,r),r.db.version%10!=0||r.objectStoreNames.contains("$meta")||r.db.createObjectStore("$meta").add(Math.ceil(r.db.version/10-1),"version");var t=yn(0,e.idbdb,r);vn(e,e._dbSchema,r);for(var n=0,o=fn(t,e._dbSchema).change;n<o.length;n++){var i=(t=>{if(t.change.length||t.recreate)return console.warn("Unable to patch indexes of table ".concat(t.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=r.objectStore(t.name);t.add.forEach(function(e){l&&console.debug("Dexie upgrade patch: Creating missing index ".concat(t.name,".").concat(e.src)),pn(n,e)})})(o[n]);if("object"==typeof i)return i.value}}function fn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,s=i.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var l=u[c],f=s[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(0<a.del.length||0<a.add.length||0<a.change.length)&&r.change.push(a)}}else r.add.push([n,i])}return r}function hn(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});r.forEach(function(e){return pn(o,e)})}function dn(t,n){O(t).forEach(function(e){n.db.objectStoreNames.contains(e)||(l&&console.debug("Dexie: Creating missing table",e),hn(n,e,t[e].primKey,t[e].indexes))})}function pn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function yn(e,t,u){var s={};return W(t.objectStoreNames,0).forEach(function(e){for(var t=u.objectStore(e),n=Qt(Gt(a=t.keyPath),a||"",!0,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),r=[],o=0;o<t.indexNames.length;++o){var i=t.index(t.indexNames[o]),a=i.keyPath,i=Qt(i.name,a,!!i.unique,!!i.multiEntry,!1,a&&"string"!=typeof a,!1);r.push(i)}s[e]=Xt(e,n,r)}),s}function vn(e,t,n){for(var r=n.db.objectStoreNames,o=0;o<r.length;++o){var i=r[o],a=n.objectStore(i);e._hasGetAll="getAll"in a;for(var u=0;u<a.indexNames.length;++u){var s,c=a.indexNames[u],l=a.index(c).keyPath,l="string"==typeof l?l:"["+W(l).join("+")+"]";t[i]&&(s=t[i].idxByName[l])&&(s.name=c,delete t[i].idxByName[l],t[i].idxByName[c]=s)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function mn(e){return e.split(",").map(function(e,t){var n=e.split(":"),r=null==(r=n[1])?void 0:r.trim(),n=(e=n[0].trim()).replace(/([&*]|\+\+)/g,""),o=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Qt(n,o||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),x(o),0===t,r)})}gn.prototype._createTableSchema=Xt,gn.prototype._parseIndexSyntax=mn,gn.prototype._parseStoresSpec=function(r,o){var i=this;O(r).forEach(function(e){if(null!==r[e]){var t=i._parseIndexSyntax(r[e]),n=t.shift();if(!n)throw new k.Schema("Invalid schema for table "+e+": "+r[e]);if(n.unique=!0,n.multi)throw new k.Schema("Primary key cannot be multiEntry*");t.forEach(function(e){if(e.auto)throw new k.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new k.Schema("Index must have a name and cannot be an empty string")});n=i._createTableSchema(e,n,t);o[e]=n}})},gn.prototype.stores=function(e){var t=this.db,e=(this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e,t._versions),n={},r={};return e.forEach(function(e){a(n,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(n,r)}),t._dbSchema=r,un(t,[t._allTables,t,t.Transaction.prototype]),an(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],O(r),r),t._storeNames=O(r),this},gn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ke(this._cfg.contentUpgrade||g,e),this};var bn=gn;function gn(){}function wn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new q(ht,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function _n(e){return e&&"function"==typeof e.databases}function xn(e){return y(function(){return P.letThrough=!0,e()})}function kn(e){return!("from"in e)}var I=function(e,t){var n;if(!this)return n=new I,e&&"d"in e&&a(n,e),n;a(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function On(e,t,n){var r=j(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(kn(e))return a(e,{from:t,to:n,d:1});var r=e.l,o=e.r;if(j(n,e.from)<0)return r?On(r,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Sn(e);if(0<j(t,e.to))return o?On(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Sn(e);j(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),0<j(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);t=!e.r;r&&!e.l&&Pn(e,r),o&&t&&Pn(e,o)}}function Pn(e,t){kn(t)||function e(t,n){var r=n.from,o=n.l,i=n.r;On(t,r,n.to),o&&e(t,o),i&&e(t,i)}(e,t)}function Kn(e,t){var n=En(t),r=n.next();if(!r.done)for(var o=r.value,i=En(e),a=i.next(o.from),u=a.value;!r.done&&!a.done;){if(j(u.from,o.to)<=0&&0<=j(u.to,o.from))return!0;j(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}function En(e){var n=kn(e)?null:{s:0,n:e};return{next:function(e){for(var t=0<arguments.length;n;)switch(n.s){case 0:if(n.s=1,t)for(;n.n.l&&j(e,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!t||j(e,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function Sn(e){var t,n,r,o=((null==(o=e.r)?void 0:o.d)||0)-((null==(o=e.l)?void 0:o.d)||0),o=1<o?"r":o<-1?"l":"";o&&(t="r"==o?"l":"r",n=_({},e),r=e[o],e.from=r.from,e.to=r.to,e[o]=r[o],n[o]=r[t],(e[t]=n).d=jn(n)),e.d=jn(e)}function jn(e){var t=e.r,e=e.l;return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function An(t,n){return O(n).forEach(function(e){t[e]?Pn(t[e],n[e]):t[e]=function e(t){var n,r,o={};for(n in t)m(t,n)&&(r=t[n],o[n]=!r||"object"!=typeof r||J.has(r.constructor)?r:e(r));return o}(n[e])}),t}function Cn(t,n){return t.all||n.all||Object.keys(t).some(function(e){return n[e]&&Kn(n[e],t[e])})}N(I.prototype,((t={add:function(e){return Pn(this,e),this},addKey:function(e){return On(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(e){return On(t,e,e)}),this},hasKey:function(e){var t=En(this).next(e).value;return t&&j(t.from,e)<=0&&0<=j(t.to,e)}})[re]=function(){return En(this)},t));var Tn={},In={},qn=!1;function Dn(e){An(In,e),qn||(qn=!0,setTimeout(function(){qn=!1,Bn(In,!(In={}))},0))}function Bn(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var r=0,o=Object.values(Tn);r<o.length;r++)Rn(u=o[r],e,n,t);else for(var i in e){var a,u,i=/^idb\:\/\/(.*)\/(.*)\//.exec(i);i&&(a=i[1],i=i[2],u=Tn["idb://".concat(a,"/").concat(i)])&&Rn(u,e,n,t)}n.forEach(function(e){return e()})}function Rn(e,t,n,r){for(var o=[],i=0,a=Object.entries(e.queries.query);i<a.length;i++){for(var u=a[i],s=u[0],c=[],l=0,f=u[1];l<f.length;l++){var h=f[l];Cn(t,h.obsSet)?h.subscribers.forEach(function(e){return n.add(e)}):r&&c.push(h)}r&&o.push([s,c])}if(r)for(var d=0,p=o;d<p.length;d++){var y=p[d],s=y[0],c=y[1];e.queries.query[s]=c}}function Fn(h){var d=h._state,r=h._deps.indexedDB;if(d.isBeingOpened||h.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?w(d.dbOpenError):h});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var t=d.openCanceller,p=Math.round(10*h.verno),y=!1;function e(){if(d.openCanceller!==t)throw new k.DatabaseClosed("db.open() was cancelled")}function v(){return new K(function(c,n){if(e(),!r)throw new k.MissingAPI;var l=h.name,f=d.autoSchema||!p?r.open(l):r.open(l,p);if(!f)throw new k.MissingAPI;f.onerror=T(n),f.onblocked=E(h._fireOnBlocked),f.onupgradeneeded=E(function(e){var t;m=f.transaction,d.autoSchema&&!h._options.allowEmptyDB?(f.onerror=Vt,m.abort(),f.result.close(),(t=r.deleteDatabase(l)).onsuccess=t.onerror=E(function(){n(new k.NoSuchDatabase("Database ".concat(l," doesnt exist")))})):(m.onerror=T(n),t=e.oldVersion>Math.pow(2,62)?0:e.oldVersion,b=t<1,h.idbdb=f.result,y&&ln(h,m),cn(h,t/10,m,n))},n),f.onsuccess=E(function(){m=null;var e,t,n,r,o,i,a=h.idbdb=f.result,u=W(a.objectStoreNames);if(0<u.length)try{var s=a.transaction(1===(o=u).length?o[0]:o,"readonly");if(d.autoSchema)i=a,r=s,(n=h).verno=i.version/10,r=n._dbSchema=yn(0,i,r),n._storeNames=W(i.objectStoreNames,0),an(n,[n._allTables],O(r),r);else if(vn(h,h._dbSchema,s),t=s,((t=fn(yn(0,(e=h).idbdb,t),e._dbSchema)).add.length||t.change.some(function(e){return e.add.length||e.change.length}))&&!y)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),a.close(),p=a.version+1,y=!0,c(v());on(h,s)}catch(e){}ft.push(h),a.onversionchange=E(function(e){d.vcFired=!0,h.on("versionchange").fire(e)}),a.onclose=E(function(){h.close({disableAutoOpen:!1})}),b&&(u=h._deps,o=l,_n(i=u.indexedDB)||o===ht||wn(i,u.IDBKeyRange).put({name:o}).catch(g)),c()},n)}).catch(function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),v();break;case"VersionError":if(0<p)return p=0,v()}return K.reject(e)})}var n,o=d.dbReadyResolve,m=null,b=!1;return K.race([t,("undefined"==typeof navigator?K.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){function t(){return indexedDB.databases().finally(e)}n=setInterval(t,100),t()}).finally(function(){return clearInterval(n)}):Promise.resolve()).then(v)]).then(function(){return e(),d.onReadyBeingFired=[],K.resolve(xn(function(){return h.on.ready.fire(h.vip)})).then(function e(){var t;if(0<d.onReadyBeingFired.length)return t=d.onReadyBeingFired.reduce(ke,g),d.onReadyBeingFired=[],K.resolve(xn(function(){return t(h.vip)})).then(e)})}).finally(function(){d.openCanceller===t&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(e){d.dbOpenError=e;try{m&&m.abort()}catch(e){}return t===d.openCanceller&&h._close(),w(e)}).finally(function(){d.openComplete=!0,o()}).then(function(){var n;return b&&(n={},h.tables.forEach(function(t){t.schema.indexes.forEach(function(e){e.name&&(n["idb://".concat(h.name,"/").concat(t.name,"/").concat(e.name)]=new I(-1/0,[[[]]]))}),n["idb://".concat(h.name,"/").concat(t.name,"/")]=n["idb://".concat(h.name,"/").concat(t.name,"/:dels")]=new I(-1/0,[[[]]])}),Yt(zt).fire(n),Bn(n,!0)),h})}function Mn(t){function e(e){return t.next(e)}var r=n(e),o=n(function(e){return t.throw(e)});function n(n){return function(e){var e=n(e),t=e.value;return e.done?t:t&&"function"==typeof t.then?t.then(r,o):x(t)?Promise.all(t).then(r,o):r(t)}}return n(e)()}function Nn(e,t,n){for(var r=x(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r}var Ln={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return _(_({},l),{table:function(e){var i=l.table(e),e=i.schema,u={},s=[];function c(e,t,n){var r=tn(e),o=u[r]=u[r]||[],i=null==e?0:"string"==typeof e?1:e.length,a=0<t,r=_(_({},n),{name:a?"".concat(r,"(virtual-from:").concat(n.name,")"):n.name,lowLevelIndex:n,isVirtual:a,keyTail:t,keyLength:i,extractKey:Jt(e),unique:!a&&n.unique});return o.push(r),r.isPrimaryKey||s.push(r),1<i&&c(2===i?e[0]:e.slice(0,i-1),t+1,n),o.sort(function(e,t){return e.keyTail-t.keyTail}),r}var t=c(e.primaryKey.keyPath,0,e.primaryKey);u[":id"]=[t];for(var n=0,r=e.indexes;n<r.length;n++){var o=r[n];c(o.keyPath,0,o)}function a(e){var t,n=e.query.index;return n.isVirtual?_(_({},e),{query:{index:n.lowLevelIndex,range:(t=e.query.range,n=n.keyTail,{type:1===t.type?2:t.type,lower:Nn(t.lower,t.lowerOpen?l.MAX_KEY:l.MIN_KEY,n),lowerOpen:!0,upper:Nn(t.upper,t.upperOpen?l.MIN_KEY:l.MAX_KEY,n),upperOpen:!0})}}):e}return _(_({},i),{schema:_(_({},e),{primaryKey:t,indexes:s,getIndexByKeyPath:function(e){return(e=u[tn(e)])&&e[0]}}),count:function(e){return i.count(a(e))},query:function(e){return i.query(a(e))},openCursor:function(t){var e=t.query.index,r=e.keyTail,o=e.keyLength;return e.isVirtual?i.openCursor(a(t)).then(function(e){return e&&n(e)}):i.openCursor(t);function n(n){return Object.create(n,{continue:{value:function(e){null!=e?n.continue(Nn(e,t.reverse?l.MAX_KEY:l.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?l.MIN_KEY:l.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value:function(e,t){n.continuePrimaryKey(Nn(e,l.MAX_KEY,r),t)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:function(){return n.value}}})}}})}})}};function Un(o,i,a,u){return a=a||{},u=u||"",O(o).forEach(function(e){var t,n,r;m(i,e)?(t=o[e],n=i[e],"object"==typeof t&&"object"==typeof n&&t&&n?(r=ne(t))!==ne(n)?a[u+e]=i[e]:"Object"===r?Un(t,n,a,u+e+"."):t!==n&&(a[u+e]=i[e]):t!==n&&(a[u+e]=i[e])):a[u+e]=void 0}),O(i).forEach(function(e){m(o,e)||(a[u+e]=i[e])}),a}function Vn(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var zn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return _(_({},e),{table:function(r){var y=e.table(r),v=y.schema.primaryKey;return _(_({},y),{mutate:function(e){var t=P.trans,n=t.table(r).hook,h=n.deleting,d=n.creating,p=n.updating;switch(e.type){case"add":if(d.fire===g)break;return t._promise("readwrite",function(){return a(e)},!0);case"put":if(d.fire===g&&p.fire===g)break;return t._promise("readwrite",function(){return a(e)},!0);case"delete":if(h.fire===g)break;return t._promise("readwrite",function(){return a(e)},!0);case"deleteRange":if(h.fire===g)break;return t._promise("readwrite",function(){return function n(r,o,i){return y.query({trans:r,values:!1,query:{index:v,range:o},limit:i}).then(function(e){var t=e.result;return a({type:"delete",keys:t,trans:r}).then(function(e){return 0<e.numFailures?Promise.reject(e.failures[0]):t.length<i?{failures:[],numFailures:0,lastResult:void 0}:n(r,_(_({},o),{lower:t[t.length-1],lowerOpen:!0}),i)})})}(e.trans,e.range,1e4)},!0)}return y.mutate(e);function a(c){var e,t,n,l=P.trans,f=c.keys||Vn(v,c);if(f)return"delete"!==(c="add"===c.type||"put"===c.type?_(_({},c),{keys:f}):_({},c)).type&&(c.values=R([],c.values,!0)),c.keys&&(c.keys=R([],c.keys,!0)),e=y,n=f,("add"===(t=c).type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})).then(function(u){var s=f.map(function(e,t){var n,r,o,i=u[t],a={onerror:null,onsuccess:null};return"delete"===c.type?h.fire.call(a,e,i,l):"add"===c.type||void 0===i?(n=d.fire.call(a,e,c.values[t],l),null==e&&null!=n&&(c.keys[t]=e=n,v.outbound||b(c.values[t],v.keyPath,e))):(n=Un(i,c.values[t]),(r=p.fire.call(a,n,e,i,l))&&(o=c.values[t],Object.keys(r).forEach(function(e){m(o,e)?o[e]=r[e]:b(o,e,r[e])}))),a});return y.mutate(c).then(function(e){for(var t=e.failures,n=e.results,r=e.numFailures,e=e.lastResult,o=0;o<f.length;++o){var i=(n||f)[o],a=s[o];null==i?a.onerror&&a.onerror(t[o]):a.onsuccess&&a.onsuccess("put"===c.type&&u[o]?c.values[o]:i)}return{failures:t,results:n,numFailures:r,lastResult:e}}).catch(function(t){return s.forEach(function(e){return e.onerror&&e.onerror(t)}),Promise.reject(t)})});throw new Error("Keys missing")}}})}})}};function Wn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],o=0,i=0;o<t.keys.length&&i<e.length;++o)0===j(t.keys[o],e[i])&&(r.push(n?ee(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch(e){return null}}var Yn={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return _(_({},n),{getMany:function(t){var e;return t.cache?(e=Wn(t.keys,t.trans._cache,"clone"===t.cache))?K.resolve(e):n.getMany(t).then(function(e){return t.trans._cache={keys:t.keys,values:"clone"===t.cache?ee(e):e},e}):n.getMany(t)},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}};function $n(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function Qn(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Gn={stack:"dbcore",level:0,name:"Observability",create:function(b){var g=b.schema.name,w=new I(b.MIN_KEY,b.MAX_KEY);return _(_({},b),{transaction:function(e,t,n){if(P.subscr&&"readonly"!==t)throw new k.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(P.querier));return b.transaction(e,t,n)},table:function(d){function e(e){var t,e=e.query;return[t=e.index,new I(null!=(t=(e=e.range).lower)?t:b.MIN_KEY,null!=(t=e.upper)?t:b.MAX_KEY)]}var p=b.table(d),y=p.schema,v=y.primaryKey,t=y.indexes,c=v.extractKey,l=v.outbound,m=v.autoIncrement&&t.filter(function(e){return e.compound&&e.keyPath.includes(v.keyPath)}),n=_(_({},p),{mutate:function(a){function u(e){return e="idb://".concat(g,"/").concat(d,"/").concat(e),n[e]||(n[e]=new I)}var e,i,s,t=a.trans,n=a.mutatedParts||(a.mutatedParts={}),r=u(""),o=u(":dels"),c=a.type,l="deleteRange"===a.type?[a.range]:"delete"===a.type?[a.keys]:a.values.length<50?[Vn(v,a).filter(function(e){return e}),a.values]:[],f=l[0],l=l[1],h=a.trans._cache;return x(f)?(r.addKeys(f),(c="delete"===c||f.length===l.length?Wn(f,h):null)||o.addKeys(f),(c||l)&&(e=u,i=c,s=l,y.indexes.forEach(function(t){var n=e(t.name||"");function r(e){return null!=e?t.extractKey(e):null}function o(e){t.multiEntry&&x(e)?e.forEach(function(e){return n.addKey(e)}):n.addKey(e)}(i||s).forEach(function(e,t){var n=i&&r(i[t]),t=s&&r(s[t]);0!==j(n,t)&&(null!=n&&o(n),null!=t)&&o(t)})}))):f?(l={from:null!=(h=f.lower)?h:b.MIN_KEY,to:null!=(c=f.upper)?c:b.MAX_KEY},o.add(l),r.add(l)):(r.add(w),o.add(w),y.indexes.forEach(function(e){return u(e.name).add(w)})),p.mutate(a).then(function(i){return!f||"add"!==a.type&&"put"!==a.type||(r.addKeys(i.results),m&&m.forEach(function(t){for(var e=a.values.map(function(e){return t.extractKey(e)}),n=t.keyPath.findIndex(function(e){return e===v.keyPath}),r=0,o=i.results.length;r<o;++r)e[r][n]=i.results[r];u(t.name).addKeys(e)})),t.mutatedParts=An(t.mutatedParts||{},n),i})}}),f={get:function(e){return[v,new I(e.key)]},getMany:function(e){return[v,(new I).addKeys(e.keys)]},count:e,query:e,openCursor:e};return O(f).forEach(function(s){n[s]=function(o){var e=P.subscr,t=!!e,n=$n(P,p)&&Qn(s,o)?o.obsSet={}:e;if(t){var i,e=function(e){e="idb://".concat(g,"/").concat(d,"/").concat(e);return n[e]||(n[e]=new I)},a=e(""),u=e(":dels"),t=f[s](o),r=t[0],t=t[1];if(("query"===s&&r.isPrimaryKey&&!o.values?u:e(r.name||"")).add(t),!r.isPrimaryKey){if("count"!==s)return i="query"===s&&l&&o.values&&p.query(_(_({},o),{values:!1})),p[s].apply(this,arguments).then(function(t){if("query"===s){if(l&&o.values)return i.then(function(e){e=e.result;return a.addKeys(e),t});var e=o.values?t.result.map(c):t.result;(o.values?a:u).addKeys(e)}else{var n,r;if("openCursor"===s)return r=o.values,(n=t)&&Object.create(n,{key:{get:function(){return u.addKey(n.primaryKey),n.key}},primaryKey:{get:function(){var e=n.primaryKey;return u.addKey(e),e}},value:{get:function(){return r&&a.addKey(n.primaryKey),n.value}}})}return t});u.add(w)}}return p[s].apply(this,arguments)}}),n}})}};function Xn(e,t,n){var r;return 0===n.numFailures?t:"deleteRange"===t.type||(r=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1,n.numFailures===r)?null:(r=_({},t),x(r.keys)&&(r.keys=r.keys.filter(function(e,t){return!(t in n.failures)})),"values"in r&&x(r.values)&&(r.values=r.values.filter(function(e,t){return!(t in n.failures)})),r)}function Hn(e,t){return n=e,(void 0===(r=t).lower||(r.lowerOpen?0<j(n,r.lower):0<=j(n,r.lower)))&&(n=e,void 0===(r=t).upper||(r.upperOpen?j(n,r.upper)<0:j(n,r.upper)<=0));var n,r}function Jn(e,d,t,n,r,o){var i,p,y,v,m,a;return!t||0===t.length||(i=d.query.index,p=i.multiEntry,y=d.query.range,v=n.schema.primaryKey.extractKey,m=i.extractKey,a=(i.lowLevelIndex||i).extractKey,(n=t.reduce(function(e,t){var n=e,r=[];if("add"===t.type||"put"===t.type)for(var o=new I,i=t.values.length-1;0<=i;--i){var a,u=t.values[i],s=v(u);!o.hasKey(s)&&(a=m(u),p&&x(a)?a.some(function(e){return Hn(e,y)}):Hn(a,y))&&(o.addKey(s),r.push(u))}switch(t.type){case"add":var c=(new I).addKeys(d.values?e.map(function(e){return v(e)}):e),n=e.concat(d.values?r.filter(function(e){e=v(e);return!c.hasKey(e)&&(c.addKey(e),!0)}):r.map(function(e){return v(e)}).filter(function(e){return!c.hasKey(e)&&(c.addKey(e),!0)}));break;case"put":var l=(new I).addKeys(t.values.map(function(e){return v(e)}));n=e.filter(function(e){return!l.hasKey(d.values?v(e):e)}).concat(d.values?r:r.map(function(e){return v(e)}));break;case"delete":var f=(new I).addKeys(t.keys);n=e.filter(function(e){return!f.hasKey(d.values?v(e):e)});break;case"deleteRange":var h=t.range;n=e.filter(function(e){return!Hn(v(e),h)})}return n},e))===e)?e:(n.sort(function(e,t){return j(a(e),a(t))||j(v(e),v(t))}),d.limit&&d.limit<1/0&&(n.length>d.limit?n.length=d.limit:e.length===d.limit&&n.length<d.limit&&(r.dirty=!0)),o?Object.freeze(n):n)}function Zn(e,t){return 0===j(e.lower,t.lower)&&0===j(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function er(e,t){return((e,t,n,r)=>{if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(e=j(e,t))){if(n&&r)return 0;if(n)return 1;if(r)return-1}return e})(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=((e,t,n,r)=>{if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(e=j(e,t))){if(n&&r)return 0;if(n)return-1;if(r)return 1}return e})(e.upper,t.upper,e.upperOpen,t.upperOpen)}function tr(n,r,o,e){n.subscribers.add(o),e.addEventListener("abort",function(){var e,t;n.subscribers.delete(o),0===n.subscribers.size&&(e=n,t=r,setTimeout(function(){0===e.subscribers.size&&ie(t,e)},3e3))})}var nr={stack:"dbcore",level:0,name:"Cache",create:function(k){var O=k.schema.name;return _(_({},k),{transaction:function(g,w,e){var _,t,x=k.transaction(g,w,e);return"readwrite"===w&&(e=(_=new AbortController).signal,x.addEventListener("abort",(t=function(b){return function(){if(_.abort(),"readwrite"===w){for(var t=new Set,e=0,n=g;e<n.length;e++){var r=n[e],o=Tn["idb://".concat(O,"/").concat(r)];if(o){var i=k.table(r),a=o.optimisticOps.filter(function(e){return e.trans===x});if(x._explicit&&b&&x.mutatedParts)for(var u=0,s=Object.values(o.queries.query);u<s.length;u++)for(var c=0,l=(d=s[u]).slice();c<l.length;c++)Cn((p=l[c]).obsSet,x.mutatedParts)&&(ie(d,p),p.subscribers.forEach(function(e){return t.add(e)}));else if(0<a.length){o.optimisticOps=o.optimisticOps.filter(function(e){return e.trans!==x});for(var f=0,h=Object.values(o.queries.query);f<h.length;f++)for(var d,p,y,v=0,m=(d=h[f]).slice();v<m.length;v++)null!=(p=m[v]).res&&x.mutatedParts&&(b&&!p.dirty?(y=Object.isFrozen(p.res),y=Jn(p.res,p.req,a,i,p,y),p.dirty?(ie(d,p),p.subscribers.forEach(function(e){return t.add(e)})):y!==p.res&&(p.res=y,p.promise=K.resolve({result:y}))):(p.dirty&&ie(d,p),p.subscribers.forEach(function(e){return t.add(e)})))}}}t.forEach(function(e){return e()})}}})(!1),{signal:e}),x.addEventListener("error",t(!1),{signal:e}),x.addEventListener("complete",t(!0),{signal:e})),x},table:function(s){var c=k.table(s),o=c.schema.primaryKey;return _(_({},c),{mutate:function(t){var n,e=P.trans;return!o.outbound&&"disabled"!==e.db._options.cache&&!e.explicit&&"readwrite"===e.idbtrans.mode&&(n=Tn["idb://".concat(O,"/").concat(s)])?(e=c.mutate(t),"add"!==t.type&&"put"!==t.type||!(50<=t.values.length||Vn(o,t).some(function(e){return null==e}))?(n.optimisticOps.push(t),t.mutatedParts&&Dn(t.mutatedParts),e.then(function(e){0<e.numFailures&&(ie(n.optimisticOps,t),(e=Xn(0,t,e))&&n.optimisticOps.push(e),t.mutatedParts)&&Dn(t.mutatedParts)}),e.catch(function(){ie(n.optimisticOps,t),t.mutatedParts&&Dn(t.mutatedParts)})):e.then(function(r){var e=Xn(0,_(_({},t),{values:t.values.map(function(e,t){var n;return r.failures[t]?e:(b(n=null!=(n=o.keyPath)&&n.includes(".")?ee(e):_({},e),o.keyPath,r.results[t]),n)})}),r);n.optimisticOps.push(e),queueMicrotask(function(){return t.mutatedParts&&Dn(t.mutatedParts)})}),e):c.mutate(t)},query:function(t){var o,e,n,r,i,a,u;return $n(P,c)&&Qn("query",t)?(o="immutable"===(null==(n=P.trans)?void 0:n.db._options.cache),e=(n=P).requery,n=n.signal,a=((e,t,n,r)=>{var o=Tn["idb://".concat(e,"/").concat(t)];if(!o)return[];if(!(e=o.queries[n]))return[null,!1,o,null];var i=e[(r.query?r.query.index.name:null)||""];if(!i)return[null,!1,o,null];switch(n){case"query":var a=i.find(function(e){return e.req.limit===r.limit&&e.req.values===r.values&&Zn(e.req.query.range,r.query.range)});return a?[a,!0,o,i]:[i.find(function(e){return("limit"in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&er(e.req.query.range,r.query.range)}),!1,o,i];case"count":a=i.find(function(e){return Zn(e.req.query.range,r.query.range)});return[a,!!a,o,i]}})(O,s,"query",t),u=a[0],r=a[2],i=a[3],u&&a[1]?u.obsSet=t.obsSet:(a=c.query(t).then(function(e){var t=e.result;if(u&&(u.res=t),o){for(var n=0,r=t.length;n<r;++n)Object.freeze(t[n]);Object.freeze(t)}else e.result=ee(t);return e}).catch(function(e){return i&&u&&ie(i,u),Promise.reject(e)}),u={obsSet:t.obsSet,promise:a,subscribers:new Set,type:"query",req:t,dirty:!1},i?i.push(u):(i=[u],(r=r||(Tn["idb://".concat(O,"/").concat(s)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[t.query.index.name||""]=i)),tr(u,i,e,n),u.promise.then(function(e){return{result:Jn(e.result,t,null==r?void 0:r.optimisticOps,c,u,o)}})):c.query(t)}})}})}};function rr(e,r){return new Proxy(e,{get:function(e,t,n){return"db"===t?r:Reflect.get(e,t,n)}})}D.prototype.version=function(t){if(isNaN(t)||t<.1)throw new k.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new k.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter(function(e){return e._cfg.version===t})[0];return n||(n=new this.Version(t),e.push(n),e.sort(sn),n.stores({}),this._state.autoSchema=!1),n},D.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||P.letThrough||this._vip)?e():new K(function(e,t){if(n._state.openComplete)return t(new k.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return void t(new k.DatabaseClosed);n.open().catch(g)}n._state.dbReadyPromise.then(e,t)}).then(e)},D.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,e=e.name,o=(e&&this.unuse({stack:t,name:e}),this._middlewares[t]||(this._middlewares[t]=[]));return o.push({stack:t,create:n,level:null==r?10:r,name:e}),o.sort(function(e,t){return e.level-t.level}),this},D.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(e){return r?e.create!==r:!!n&&e.name!==n})),this},D.prototype.open=function(){var e=this;return at(s,function(){return Fn(e)})},D.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var n=this._state,e=ft.indexOf(this);if(0<=e&&ft.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new K(function(e){n.dbReadyResolve=e}),n.openCanceller=new K(function(e,t){n.cancelOpen=t}))},D.prototype.close=function(e){var e=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen,t=this._state;e?(t.isBeingOpened&&t.cancelOpen(new k.DatabaseClosed),this._close(),t.autoOpen=!1,t.dbOpenError=new k.DatabaseClosed):(this._close(),t.autoOpen=this._options.autoOpen||t.isBeingOpened,t.openComplete=!1,t.dbOpenError=null)},D.prototype.delete=function(n){var o=this,i=(void 0===n&&(n={disableAutoOpen:!0}),0<arguments.length&&"object"!=typeof arguments[0]),a=this._state;return new K(function(r,t){function e(){o.close(n);var e=o._deps.indexedDB.deleteDatabase(o.name);e.onsuccess=E(function(){var e,t,n;e=o._deps,t=o.name,_n(n=e.indexedDB)||t===ht||wn(n,e.IDBKeyRange).delete(t).catch(g),r()}),e.onerror=T(t),e.onblocked=o._fireOnBlocked}if(i)throw new k.InvalidArgument("Invalid closeOptions argument to db.delete()");a.isBeingOpened?a.dbReadyPromise.then(e):e()})},D.prototype.backendDB=function(){return this.idbdb},D.prototype.isOpen=function(){return null!==this.idbdb},D.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},D.prototype.hasFailed=function(){return null!==this._state.dbOpenError},D.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(D.prototype,"tables",{get:function(){var t=this;return O(this._allTables).map(function(e){return t._allTables[e]})},enumerable:!1,configurable:!0}),D.prototype.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new k.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,H(o),n]}.apply(this,arguments);return this._transaction.apply(this,e)},D.prototype._transaction=function(e,t,n){var r,o,i=this,a=P.trans,u=(a&&a.db===this&&-1===e.indexOf("!")||(a=null),-1!==e.indexOf("?"));e=e.replace("!","").replace("?","");try{if(o=t.map(function(e){e=e instanceof i.Table?e.name:e;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e}),"r"==e||e===dt)r=dt;else{if("rw"!=e&&e!=pt)throw new k.InvalidArgument("Invalid transaction mode: "+e);r=pt}if(a){if(a.mode===dt&&r===pt){if(!u)throw new k.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a=null}a&&o.forEach(function(e){if(a&&-1===a.storeNames.indexOf(e)){if(!u)throw new k.SubTransaction("Table "+e+" not included in parent transaction.");a=null}}),u&&a&&!a.active&&(a=null)}}catch(n){return a?a._promise(null,function(e,t){t(n)}):w(n)}var s=function o(i,a,u,s,c){return K.resolve().then(function(){var e=P.transless||P,t=i._createTransaction(a,u,i._dbSchema,s),e=(t.explicit=!0,{trans:t,transless:e});if(s)t.idbtrans=s.idbtrans;else try{t.create(),t.idbtrans._explicit=!0,i._state.PR1398_maxLoop=3}catch(e){return e.name===de.InvalidState&&i.isOpen()&&0<--i._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),i.close({disableAutoOpen:!1}),i.open().then(function(){return o(i,a,u,null,c)})):w(e)}var n,r=ue(c),e=(r&&nt(),K.follow(function(){var e;(n=c.call(t,t))&&(r?(e=v.bind(null,null),n.then(e,e)):"function"==typeof n.next&&"function"==typeof n.throw&&(n=Mn(n)))},e));return(n&&"function"==typeof n.then?K.resolve(n).then(function(e){return t.active?e:w(new k.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):e.then(function(){return n})).then(function(e){return s&&t._resolve(),t._completion.then(function(){return e})}).catch(function(e){return t._reject(e),w(e)})})}.bind(null,this,r,o,a,n);return a?a._promise(r,s,"lock"):P.trans?at(P.transless,function(){return i._whenReady(s)}):this._whenReady(s)},D.prototype.table=function(e){if(m(this._allTables,e))return this._allTables[e];throw new k.InvalidTable("Table ".concat(e," does not exist"))};var q=D;function D(e,t){var i,r,a,n,o,u=this,s=(this._middlewares={},this.verno=0,D.dependencies),s=(this._options=t=_({addons:D.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},t.addons),c=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:g,dbReadyPromise:null,cancelOpen:g,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen}),l=(c.dbReadyPromise=new K(function(e){c.dbReadyResolve=e}),c.openCanceller=new K(function(e,t){c.cancelOpen=t}),this._state=c,this.name=e,this.on=Kt(this,"populate","blocked","versionchange","close",{ready:[ke,g]}),this.once=function(n,r){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u.on(n).unsubscribe(o),r.apply(u,e)};return u.on(n,o)},this.on.ready.subscribe=Y(this.on.ready.subscribe,function(o){return function(n,r){D.vip(function(){var t,e=u._state;e.openComplete?(e.dbOpenError||K.resolve().then(n),r&&o(n)):e.onReadyBeingFired?(e.onReadyBeingFired.push(n),r&&o(n)):(o(n),t=u,r||o(function e(){t.on.ready.unsubscribe(n),t.on.ready.unsubscribe(e)}))})}}),this.Collection=(i=this,Et(Dt.prototype,function(e,t){this.db=i;var n=vt,r=null;if(t)try{n=t()}catch(e){r=e}var t=e._ctx,e=t.table,o=e.hook.reading.fire;this._ctx={table:e,index:t.index,isPrimKey:!t.index||e.schema.primKey.keyPath&&t.index===e.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:t.or,valueMapper:o!==ve?o:null}})),this.Table=(r=this,Et(Pt.prototype,function(e,t,n){this.db=r,this._tx=n,this.name=e,this.schema=t,this.hook=r._allTables[e]?r._allTables[e].hook:Kt(null,{creating:[ge,g],reading:[me,ve],updating:[_e,g],deleting:[we,g]})})),this.Transaction=(a=this,Et($t.prototype,function(e,t,n,r,o){var i=this;"readonly"!==e&&t.forEach(function(e){e=null==(e=n[e])?void 0:e.yProps;e&&(t=t.concat(e.map(function(e){return e.updatesTable})))}),this.db=a,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=Kt(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new K(function(e,t){i._resolve=e,i._reject=t}),this._completion.then(function(){i.active=!1,i.on.complete.fire()},function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),w(e)})})),this.Version=(n=this,Et(bn.prototype,function(e){this.db=n,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(o=this,Et(Ut.prototype,function(e,t,n){if(this.db=o,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=j,this._descending=function(e,t){return j(t,e)},this._max=function(e,t){return 0<j(e,t)?e:t},this._min=function(e,t){return j(e,t)<0?e:t},this._IDBKeyRange=o._deps.IDBKeyRange,!this._IDBKeyRange)throw new k.MissingAPI})),this.on("versionchange",function(e){0<e.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))}),this._maxKey=Ht(t.IDBKeyRange),this._createTransaction=function(e,t,n,r){return new u.Transaction(e,t,n,u._options.chromeTransactionDurability,r)},this._fireOnBlocked=function(t){u.on("blocked").fire(t),ft.filter(function(e){return e.name===u.name&&e!==u&&!e._state.vcFired}).map(function(e){return e.on("versionchange").fire(t)})},this.use(Yn),this.use(nr),this.use(Gn),this.use(Ln),this.use(zn),new Proxy(this,{get:function(e,t,n){var r;return"_vip"===t||("table"===t?function(e){return rr(u.table(e),l)}:(r=Reflect.get(e,t,n))instanceof Pt?rr(r,l):"tables"===t?r.map(function(e){return rr(e,l)}):"_createTransaction"===t?function(){return rr(r.apply(this,arguments),l)}:r)}}));this.vip=l,s.forEach(function(e){return e(u)})}var or,Se="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",ir=(ar.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},ar.prototype[Se]=function(){return this},ar);function ar(e){this._subscribe=e}try{or={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch(e){or={indexedDB:null,IDBKeyRange:null}}function ur(h){var d,p=!1,e=new ir(function(r){var o=ue(h);var i,a=!1,u={},s={},e={get closed(){return a},unsubscribe:function(){a||(a=!0,i&&i.abort(),c&&Yt.storagemutated.unsubscribe(f))}},c=(r.start&&r.start(e),!1),l=function(){return st(t)};var f=function(e){An(u,e),Cn(s,u)&&l()},t=function(){var t,n,e;!a&&or.indexedDB&&(u={},t={},i&&i.abort(),i=new AbortController,e=(e=>{var t=$e();try{o&&nt();var n=y(h,e);return n=o?n.finally(v):n}finally{t&&Qe()}})(n={subscr:t,signal:i.signal,requery:l,querier:h,trans:null}),Promise.resolve(e).then(function(e){p=!0,d=e,a||n.signal.aborted||(u={},(e=>{for(var t in e)if(m(e,t))return;return 1})(s=t)||c||(Yt(zt,f),c=!0),st(function(){return!a&&r.next&&r.next(e)}))},function(e){p=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||a||st(function(){a||r.error&&r.error(e)})}))};return setTimeout(l,0),e});return e.hasValue=function(){return p},e.getValue=function(){return d},e}var sr=q;function cr(e){var t=fr;try{fr=!0,Yt.storagemutated.fire(e),Bn(e,!0)}finally{fr=t}}N(sr,_(_({},e),{delete:function(e){return new sr(e,{addons:[]}).delete()},exists:function(e){return new sr(e,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=sr.dependencies,n=t.indexedDB,t=t.IDBKeyRange,(_n(n)?Promise.resolve(n.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==ht})}):wn(n,t).toCollection().primaryKeys()).then(e)}catch(e){return w(new k.MissingAPI)}var t,n},defineClass:function(){return function(e){a(this,e)}},ignoreTransaction:function(e){return P.trans?at(P.transless,e):e()},vip:xn,async:function(t){return function(){try{var e=Mn(t.apply(this,arguments));return e&&"function"==typeof e.then?e:K.resolve(e)}catch(e){return w(e)}}},spawn:function(e,t,n){try{var r=Mn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:K.resolve(r)}catch(e){return w(e)}},currentTransaction:{get:function(){return P.trans||null}},waitFor:function(e,t){e=K.resolve("function"==typeof e?sr.ignoreTransaction(e):e).timeout(t||6e4);return P.trans?P.trans.waitFor(e):e},Promise:K,debug:{get:function(){return l},set:function(e){Oe(e)}},derive:U,extend:a,props:N,override:Y,Events:Kt,on:Yt,liveQuery:ur,extendObservabilitySet:An,getByKeyPath:c,setByKeyPath:b,delByKeyPath:function(t,e){"string"==typeof e?b(t,e,void 0):"length"in e&&[].map.call(e,function(e){b(t,e,void 0)})},shallowClone:G,deepClone:ee,getObjectDiff:Un,cmp:j,asap:Q,minKey:-1/0,addons:[],connections:ft,errnames:de,dependencies:or,cache:Tn,semVer:"4.3.0",version:"4.3.0".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),sr.maxKey=Ht(sr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Yt(zt,function(e){fr||(e=new CustomEvent(Wt,{detail:e}),fr=!0,dispatchEvent(e),fr=!1)}),addEventListener(Wt,function(e){e=e.detail;fr||cr(e)}));var lr,fr=!1,hr=function(){};return"undefined"!=typeof BroadcastChannel&&((hr=function(){(lr=new BroadcastChannel(Wt)).onmessage=function(e){return e.data&&cr(e.data)}})(),"function"==typeof lr.unref&&lr.unref(),Yt(zt,function(e){fr||lr.postMessage(e)})),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",function(e){if(!q.disableBfCache&&e.persisted){l&&console.debug("Dexie: handling persisted pagehide"),null!=lr&&lr.close();for(var t=0,n=ft;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!q.disableBfCache&&e.persisted&&(l&&console.debug("Dexie: handling persisted pageshow"),hr(),cr({all:new I(-1/0,[[]])}))})),K.rejectionMapper=function(e,t){return!e||e instanceof ce||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ye[e.name]?e:(t=new ye[e.name](t||e.message,e),"stack"in e&&u(t,"stack",{get:function(){return this.inner.stack}}),t)},Oe(l),_(q,Object.freeze({__proto__:null,Dexie:q,Entity:bt,PropModification:xt,RangeSet:I,add:function(e){return new xt({add:e})},cmp:j,default:q,liveQuery:ur,mergeRanges:Pn,rangesOverlap:Kn,remove:function(e){return new xt({remove:e})},replacePrefix:function(e,t){return new xt({replacePrefix:[e,t]})}}),{default:q}),q});


// QR
var QRCode;!function(){function a(a){this.mode=c.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var b=[],d=0,e=this.data.length;e>d;d++){var f=this.data.charCodeAt(d);f>65536?(b[0]=240|(1835008&f)>>>18,b[1]=128|(258048&f)>>>12,b[2]=128|(4032&f)>>>6,b[3]=128|63&f):f>2048?(b[0]=224|(61440&f)>>>12,b[1]=128|(4032&f)>>>6,b[2]=128|63&f):f>128?(b[0]=192|(1984&f)>>>6,b[1]=128|63&f):b[0]=f,this.parsedData=this.parsedData.concat(b)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function b(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function j(a,b){this.totalCount=a,this.dataCount=b}function k(){this.buffer=[],this.length=0}function m(){return"undefined"!=typeof CanvasRenderingContext2D}function n(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&(a=!0,aMat=b.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}function r(a,b){for(var c=1,e=s(a),f=0,g=l.length;g>=f;f++){var h=0;switch(b){case d.L:h=l[f][0];break;case d.M:h=l[f][1];break;case d.Q:h=l[f][2];break;case d.H:h=l[f][3]}if(h>=e)break;c++}if(c>l.length)throw new Error("Too long data");return c}function s(a){var b=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return b.length+(b.length!=a?3:0)}a.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}},b.prototype={addData:function(b){var c=new a(b);this.dataList.push(c),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,c),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=f.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e,j=this.modules[f][h];j&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(var b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&(this.modules[6][b]=0==b%2)},setupPositionAdjustPattern:function(){for(var a=f.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var g=-2;2>=g;g++)for(var h=-2;2>=h;h++)this.modules[d+g][e+h]=-2==g||2==g||-2==h||2==h||0==g&&0==h?!0:!1}},setupTypeNumber:function(a){for(var b=f.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=f.getBCHTypeInfo(c),e=0;15>e;e++){var g=!a&&1==(1&d>>e);6>e?this.modules[e][8]=g:8>e?this.modules[e+1][8]=g:this.modules[this.moduleCount-15+e][8]=g}for(var e=0;15>e;e++){var g=!a&&1==(1&d>>e);8>e?this.modules[8][this.moduleCount-e-1]=g:9>e?this.modules[8][15-e-1+1]=g:this.modules[8][15-e-1]=g}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,g=0,h=this.moduleCount-1;h>0;h-=2)for(6==h&&h--;;){for(var i=0;2>i;i++)if(null==this.modules[d][h-i]){var j=!1;g<a.length&&(j=1==(1&a[g]>>>e));var k=f.getMask(b,d,h-i);k&&(j=!j),this.modules[d][h-i]=j,e--,-1==e&&(g++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},b.PAD0=236,b.PAD1=17,b.createData=function(a,c,d){for(var e=j.getRSBlocks(a,c),g=new k,h=0;h<d.length;h++){var i=d[h];g.put(i.mode,4),g.put(i.getLength(),f.getLengthInBits(i.mode,a)),i.write(g)}for(var l=0,h=0;h<e.length;h++)l+=e[h].dataCount;if(g.getLengthInBits()>8*l)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+8*l+")");for(g.getLengthInBits()+4<=8*l&&g.put(0,4);0!=g.getLengthInBits()%8;)g.putBit(!1);for(;;){if(g.getLengthInBits()>=8*l)break;if(g.put(b.PAD0,8),g.getLengthInBits()>=8*l)break;g.put(b.PAD1,8)}return b.createBytes(g,e)},b.createBytes=function(a,b){for(var c=0,d=0,e=0,g=new Array(b.length),h=new Array(b.length),j=0;j<b.length;j++){var k=b[j].dataCount,l=b[j].totalCount-k;d=Math.max(d,k),e=Math.max(e,l),g[j]=new Array(k);for(var m=0;m<g[j].length;m++)g[j][m]=255&a.buffer[m+c];c+=k;var n=f.getErrorCorrectPolynomial(l),o=new i(g[j],n.getLength()-1),p=o.mod(n);h[j]=new Array(n.getLength()-1);for(var m=0;m<h[j].length;m++){var q=m+p.getLength()-h[j].length;h[j][m]=q>=0?p.get(q):0}}for(var r=0,m=0;m<b.length;m++)r+=b[m].totalCount;for(var s=new Array(r),t=0,m=0;d>m;m++)for(var j=0;j<b.length;j++)m<g[j].length&&(s[t++]=g[j][m]);for(var m=0;e>m;m++)for(var j=0;j<b.length;j++)m<h[j].length&&(s[t++]=h[j][m]);return s};for(var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},e={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;f.getBCHDigit(b)-f.getBCHDigit(f.G15)>=0;)b^=f.G15<<f.getBCHDigit(b)-f.getBCHDigit(f.G15);return(a<<10|b)^f.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;f.getBCHDigit(b)-f.getBCHDigit(f.G18)>=0;)b^=f.G18<<f.getBCHDigit(b)-f.getBCHDigit(f.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return f.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case e.PATTERN000:return 0==(b+c)%2;case e.PATTERN001:return 0==b%2;case e.PATTERN010:return 0==c%3;case e.PATTERN011:return 0==(b+c)%3;case e.PATTERN100:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case e.PATTERN101:return 0==b*c%2+b*c%3;case e.PATTERN110:return 0==(b*c%2+b*c%3)%2;case e.PATTERN111:return 0==(b*c%3+(b+c)%2)%2;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new i([1],0),c=0;a>c;c++)b=b.multiply(new i([1,g.gexp(c)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(27>b)switch(a){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(41>b))throw new Error("type:"+b);switch(a){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var i=-1;1>=i;i++)0>e+i||e+i>=b||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&f++;f>5&&(c+=3+f-5)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var j=0;a.isDark(d,e)&&j++,a.isDark(d+1,e)&&j++,a.isDark(d,e+1)&&j++,a.isDark(d+1,e+1)&&j++,(0==j||4==j)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&k++;var l=Math.abs(100*k/b/b-50)/5;return c+=10*l}},g={glog:function(a){if(1>a)throw new Error("glog("+a+")");return g.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return g.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},h=0;8>h;h++)g.EXP_TABLE[h]=1<<h;for(var h=8;256>h;h++)g.EXP_TABLE[h]=g.EXP_TABLE[h-4]^g.EXP_TABLE[h-5]^g.EXP_TABLE[h-6]^g.EXP_TABLE[h-8];for(var h=0;255>h;h++)g.LOG_TABLE[g.EXP_TABLE[h]]=h;i.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=g.gexp(g.glog(this.get(c))+g.glog(a.get(d)));return new i(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=g.glog(this.get(0))-g.glog(a.get(0)),c=new Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(var d=0;d<a.getLength();d++)c[d]^=g.gexp(g.glog(a.get(d))+b);return new i(c,0).mod(a)}},j.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],j.getRSBlocks=function(a,b){var c=j.getRsBlockTable(a,b);if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,e=[],f=0;d>f;f++)for(var g=c[3*f+0],h=c[3*f+1],i=c[3*f+2],k=0;g>k;k++)e.push(new j(h,i));return e},j.getRsBlockTable=function(a,b){switch(b){case d.L:return j.RS_BLOCK_TABLE[4*(a-1)+0];case d.M:return j.RS_BLOCK_TABLE[4*(a-1)+1];case d.Q:return j.RS_BLOCK_TABLE[4*(a-1)+2];case d.H:return j.RS_BLOCK_TABLE[4*(a-1)+3];default:return void 0}},k.prototype={get:function(a){var b=Math.floor(a/8);return 1==(1&this.buffer[b]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}};var l=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],o=function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){function g(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}var b=this._htOption,c=this._el,d=a.getModuleCount();Math.floor(b.width/d),Math.floor(b.height/d),this.clear();var h=g("svg",{viewBox:"0 0 "+String(d)+" "+String(d),width:"100%",height:"100%",fill:b.colorLight});h.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),c.appendChild(h),h.appendChild(g("rect",{fill:b.colorDark,width:"1",height:"1",id:"template"}));for(var i=0;d>i;i++)for(var j=0;d>j;j++)if(a.isDark(i,j)){var k=g("use",{x:String(i),y:String(j)});k.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),h.appendChild(k)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),p="svg"===document.documentElement.tagName.toLowerCase(),q=p?o:m()?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function d(a,b){var c=this;if(c._fFail=b,c._fSuccess=a,null===c._bSupportDataURI){var d=document.createElement("img"),e=function(){c._bSupportDataURI=!1,c._fFail&&_fFail.call(c)},f=function(){c._bSupportDataURI=!0,c._fSuccess&&c._fSuccess.call(c)};return d.onabort=e,d.onerror=e,d.onload=f,d.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0}c._bSupportDataURI===!0&&c._fSuccess?c._fSuccess.call(c):c._bSupportDataURI===!1&&c._fFail&&c._fFail.call(c)}if(this._android&&this._android<=2.1){var b=1/window.devicePixelRatio,c=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,d,e,f,g,h,i,j){if("nodeName"in a&&/img/i.test(a.nodeName))for(var l=arguments.length-1;l>=1;l--)arguments[l]=arguments[l]*b;else"undefined"==typeof j&&(arguments[1]*=b,arguments[2]*=b,arguments[3]*=b,arguments[4]*=b);c.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1,this._android=n(),this._htOption=b,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=b.width,this._elCanvas.height=b.height,a.appendChild(this._elCanvas),this._el=a,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,g=d.height/e,h=Math.round(f),i=Math.round(g);b.style.display="none",this.clear();for(var j=0;e>j;j++)for(var k=0;e>k;k++){var l=a.isDark(j,k),m=k*f,n=j*g;c.strokeStyle=l?d.colorDark:d.colorLight,c.lineWidth=1,c.fillStyle=l?d.colorDark:d.colorLight,c.fillRect(m,n,f,g),c.strokeRect(Math.floor(m)+.5,Math.floor(n)+.5,h,i),c.strokeRect(Math.ceil(m)-.5,Math.ceil(n)-.5,h,i)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&d.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1e3*a)/1e3:a},e}():function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),e=Math.floor(b.width/d),f=Math.floor(b.height/d),g=['<table style="border:0;border-collapse:collapse;">'],h=0;d>h;h++){g.push("<tr>");for(var i=0;d>i;i++)g.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+e+"px;height:"+f+"px;background-color:"+(a.isDark(h,i)?b.colorDark:b.colorLight)+';"></td>');g.push("</tr>")}g.push("</table>"),c.innerHTML=g.join("");var j=c.childNodes[0],k=(b.width-j.offsetWidth)/2,l=(b.height-j.offsetHeight)/2;k>0&&l>0&&(j.style.margin=l+"px "+k+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();QRCode=function(a,b){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.H},"string"==typeof b&&(b={text:b}),b)for(var c in b)this._htOption[c]=b[c];"string"==typeof a&&(a=document.getElementById(a)),this._android=n(),this._el=a,this._oQRCode=null,this._oDrawing=new q(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(a){this._oQRCode=new b(r(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=d}();


// momentjs, V2.30.1, LICENSE: https://raw.githubusercontent.com/moment/moment/refs/heads/develop/LICENSE
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var H;function _(){return H.apply(null,arguments)}function y(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function F(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(c(e,t))return;return 1}function g(e){return void 0===e}function w(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function V(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function G(e,t){for(var n=[],s=e.length,i=0;i<s;++i)n.push(t(e[i],i));return n}function E(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,s){return Wt(e,t,n,s,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function A(e){var t,n,s=e._d&&!isNaN(e._d.getTime());return s&&(t=p(e),n=j.call(t.parsedDateParts,function(e){return null!=e}),s=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict)&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e)?s:(e._isValid=s,e._isValid)}function I(e){var t=l(NaN);return null!=e?E(p(t),e):p(t).userInvalidated=!0,t}var j=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1},Z=_.momentProperties=[],z=!1;function q(e,t){var n,s,i,r=Z.length;if(g(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),g(t._i)||(e._i=t._i),g(t._f)||(e._f=t._f),g(t._l)||(e._l=t._l),g(t._strict)||(e._strict=t._strict),g(t._tzm)||(e._tzm=t._tzm),g(t._isUTC)||(e._isUTC=t._isUTC),g(t._offset)||(e._offset=t._offset),g(t._pf)||(e._pf=p(t)),g(t._locale)||(e._locale=t._locale),0<r)for(n=0;n<r;n++)g(i=t[s=Z[n]])||(e[s]=i);return e}function $(e){q(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===z&&(z=!0,_.updateOffset(this),z=!1)}function k(e){return e instanceof $||null!=e&&null!=e._isAMomentObject}function B(e){!1===_.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(r,a){var o=!0;return E(function(){if(null!=_.deprecationHandler&&_.deprecationHandler(null,r),o){for(var e,t,n=[],s=arguments.length,i=0;i<s;i++){if(e="","object"==typeof arguments[i]){for(t in e+="\n["+i+"] ",arguments[0])c(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[i];n.push(e)}B(r+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),o=!1}return a.apply(this,arguments)},a)}var J={};function Q(e,t){null!=_.deprecationHandler&&_.deprecationHandler(e,t),J[e]||(B(t),J[e]=!0)}function a(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function X(e,t){var n,s=E({},e);for(n in t)c(t,n)&&(F(e[n])&&F(t[n])?(s[n]={},E(s[n],e[n]),E(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)c(e,n)&&!c(t,n)&&F(e[n])&&(s[n]=E({},s[n]));return s}function K(e){null!=e&&this.set(e)}_.suppressDeprecationWarnings=!1,_.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};function r(e,t,n){var s=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-s.length)).toString().substr(1)+s}var te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,se={},ie={};function s(e,t,n,s){var i="string"==typeof s?function(){return this[s]()}:s;e&&(ie[e]=i),t&&(ie[t[0]]=function(){return r(i.apply(this,arguments),t[1],t[2])}),n&&(ie[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function re(e,t){return e.isValid()?(t=ae(t,e.localeData()),se[t]=se[t]||function(s){for(var e,i=s.match(te),t=0,r=i.length;t<r;t++)ie[i[t]]?i[t]=ie[i[t]]:i[t]=(e=i[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<r;n++)t+=a(i[n])?i[n].call(e,s):i[n];return t}}(t),se[t](e)):e.localeData().invalidDate()}function ae(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(ne.lastIndex=0;0<=n&&ne.test(e);)e=e.replace(ne,s),ne.lastIndex=0,--n;return e}var oe={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function o(e){return"string"==typeof e?oe[e]||oe[e.toLowerCase()]:void 0}function ue(e){var t,n,s={};for(n in e)c(e,n)&&(t=o(n))&&(s[t]=e[n]);return s}var le={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var de=/\d/,t=/\d\d/,he=/\d{3}/,ce=/\d{4}/,fe=/[+-]?\d{6}/,n=/\d\d?/,me=/\d\d\d\d?/,_e=/\d\d\d\d\d\d?/,ye=/\d{1,3}/,ge=/\d{1,4}/,we=/[+-]?\d{1,6}/,pe=/\d+/,ke=/[+-]?\d+/,Me=/Z|[+-]\d\d:?\d\d/gi,ve=/Z|[+-]\d\d(?::?\d\d)?/gi,i=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,u=/^[1-9]\d?/,d=/^([1-9]\d|\d)/;function h(e,n,s){Ye[e]=a(n)?n:function(e,t){return e&&s?s:n}}function De(e,t){return c(Ye,e)?Ye[e](t._strict,t._locale):new RegExp(f(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))}function f(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function m(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function M(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?m(e):t}var Ye={},Se={};function v(e,n){var t,s,i=n;for("string"==typeof e&&(e=[e]),w(n)&&(i=function(e,t){t[n]=M(e)}),s=e.length,t=0;t<s;t++)Se[e[t]]=i}function Oe(e,i){v(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}function be(e){return e%4==0&&e%100!=0||e%400==0}var D=0,Y=1,S=2,O=3,b=4,T=5,Te=6,xe=7,Ne=8;function We(e){return be(e)?366:365}s("Y",0,0,function(){var e=this.year();return e<=9999?r(e,4):"+"+e}),s(0,["YY",2],0,function(){return this.year()%100}),s(0,["YYYY",4],0,"year"),s(0,["YYYYY",5],0,"year"),s(0,["YYYYYY",6,!0],0,"year"),h("Y",ke),h("YY",n,t),h("YYYY",ge,ce),h("YYYYY",we,fe),h("YYYYYY",we,fe),v(["YYYYY","YYYYYY"],D),v("YYYY",function(e,t){t[D]=2===e.length?_.parseTwoDigitYear(e):M(e)}),v("YY",function(e,t){t[D]=_.parseTwoDigitYear(e)}),v("Y",function(e,t){t[D]=parseInt(e,10)}),_.parseTwoDigitYear=function(e){return M(e)+(68<M(e)?1900:2e3)};var x,Pe=Re("FullYear",!0);function Re(t,n){return function(e){return null!=e?(Ue(this,t,e),_.updateOffset(this,n),this):Ce(this,t)}}function Ce(e,t){if(!e.isValid())return NaN;var n=e._d,s=e._isUTC;switch(t){case"Milliseconds":return s?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return s?n.getUTCSeconds():n.getSeconds();case"Minutes":return s?n.getUTCMinutes():n.getMinutes();case"Hours":return s?n.getUTCHours():n.getHours();case"Date":return s?n.getUTCDate():n.getDate();case"Day":return s?n.getUTCDay():n.getDay();case"Month":return s?n.getUTCMonth():n.getMonth();case"FullYear":return s?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Ue(e,t,n){var s,i,r;if(e.isValid()&&!isNaN(n)){switch(s=e._d,i=e._isUTC,t){case"Milliseconds":return i?s.setUTCMilliseconds(n):s.setMilliseconds(n);case"Seconds":return i?s.setUTCSeconds(n):s.setSeconds(n);case"Minutes":return i?s.setUTCMinutes(n):s.setMinutes(n);case"Hours":return i?s.setUTCHours(n):s.setHours(n);case"Date":return i?s.setUTCDate(n):s.setDate(n);case"FullYear":break;default:return}t=n,r=e.month(),e=29!==(e=e.date())||1!==r||be(t)?e:28,i?s.setUTCFullYear(t,r,e):s.setFullYear(t,r,e)}}function He(e,t){var n;return isNaN(e)||isNaN(t)?NaN:(n=(t%(n=12)+n)%n,e+=(t-n)/12,1==n?be(e)?29:28:31-n%7%2)}x=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},s("M",["MM",2],"Mo",function(){return this.month()+1}),s("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),s("MMMM",0,0,function(e){return this.localeData().months(this,e)}),h("M",n,u),h("MM",n,t),h("MMM",function(e,t){return t.monthsShortRegex(e)}),h("MMMM",function(e,t){return t.monthsRegex(e)}),v(["M","MM"],function(e,t){t[Y]=M(e)-1}),v(["MMM","MMMM"],function(e,t,n,s){s=n._locale.monthsParse(e,s,n._strict);null!=s?t[Y]=s:p(n).invalidMonth=e});var Fe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Le="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ve=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ge=i,Ee=i;function Ae(e,t){if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=M(t);else if(!w(t=e.localeData().monthsParse(t)))return;var n=(n=e.date())<29?n:Math.min(n,He(e.year(),t));e._isUTC?e._d.setUTCMonth(t,n):e._d.setMonth(t,n)}}function Ie(e){return null!=e?(Ae(this,e),_.updateOffset(this,!0),this):Ce(this,"Month")}function je(){function e(e,t){return t.length-e.length}for(var t,n,s=[],i=[],r=[],a=0;a<12;a++)n=l([2e3,a]),t=f(this.monthsShort(n,"")),n=f(this.months(n,"")),s.push(t),i.push(n),r.push(n),r.push(t);s.sort(e),i.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ze(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}function ze(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function qe(e,t,n){n=7+t-n;return n-(7+ze(e,0,n).getUTCDay()-t)%7-1}function $e(e,t,n,s,i){var r,t=1+7*(t-1)+(7+n-s)%7+qe(e,s,i),n=t<=0?We(r=e-1)+t:t>We(e)?(r=e+1,t-We(e)):(r=e,t);return{year:r,dayOfYear:n}}function Be(e,t,n){var s,i,r=qe(e.year(),t,n),r=Math.floor((e.dayOfYear()-r-1)/7)+1;return r<1?s=r+N(i=e.year()-1,t,n):r>N(e.year(),t,n)?(s=r-N(e.year(),t,n),i=e.year()+1):(i=e.year(),s=r),{week:s,year:i}}function N(e,t,n){var s=qe(e,t,n),t=qe(e+1,t,n);return(We(e)-s+t)/7}s("w",["ww",2],"wo","week"),s("W",["WW",2],"Wo","isoWeek"),h("w",n,u),h("ww",n,t),h("W",n,u),h("WW",n,t),Oe(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=M(e)});function Je(e,t){return e.slice(t,7).concat(e.slice(0,t))}s("d",0,"do","day"),s("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),s("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),s("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),s("e",0,0,"weekday"),s("E",0,0,"isoWeekday"),h("d",n),h("e",n),h("E",n),h("dd",function(e,t){return t.weekdaysMinRegex(e)}),h("ddd",function(e,t){return t.weekdaysShortRegex(e)}),h("dddd",function(e,t){return t.weekdaysRegex(e)}),Oe(["dd","ddd","dddd"],function(e,t,n,s){s=n._locale.weekdaysParse(e,s,n._strict);null!=s?t.d=s:p(n).invalidWeekday=e}),Oe(["d","e","E"],function(e,t,n,s){t[s]=M(e)});var Qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),et=i,tt=i,nt=i;function st(){function e(e,t){return t.length-e.length}for(var t,n,s,i=[],r=[],a=[],o=[],u=0;u<7;u++)s=l([2e3,1]).day(u),t=f(this.weekdaysMin(s,"")),n=f(this.weekdaysShort(s,"")),s=f(this.weekdays(s,"")),i.push(t),r.push(n),a.push(s),o.push(t),o.push(n),o.push(s);i.sort(e),r.sort(e),a.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function it(){return this.hours()%12||12}function rt(e,t){s(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function at(e,t){return t._meridiemParse}s("H",["HH",2],0,"hour"),s("h",["hh",2],0,it),s("k",["kk",2],0,function(){return this.hours()||24}),s("hmm",0,0,function(){return""+it.apply(this)+r(this.minutes(),2)}),s("hmmss",0,0,function(){return""+it.apply(this)+r(this.minutes(),2)+r(this.seconds(),2)}),s("Hmm",0,0,function(){return""+this.hours()+r(this.minutes(),2)}),s("Hmmss",0,0,function(){return""+this.hours()+r(this.minutes(),2)+r(this.seconds(),2)}),rt("a",!0),rt("A",!1),h("a",at),h("A",at),h("H",n,d),h("h",n,u),h("k",n,u),h("HH",n,t),h("hh",n,t),h("kk",n,t),h("hmm",me),h("hmmss",_e),h("Hmm",me),h("Hmmss",_e),v(["H","HH"],O),v(["k","kk"],function(e,t,n){e=M(e);t[O]=24===e?0:e}),v(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),v(["h","hh"],function(e,t,n){t[O]=M(e),p(n).bigHour=!0}),v("hmm",function(e,t,n){var s=e.length-2;t[O]=M(e.substr(0,s)),t[b]=M(e.substr(s)),p(n).bigHour=!0}),v("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[O]=M(e.substr(0,s)),t[b]=M(e.substr(s,2)),t[T]=M(e.substr(i)),p(n).bigHour=!0}),v("Hmm",function(e,t,n){var s=e.length-2;t[O]=M(e.substr(0,s)),t[b]=M(e.substr(s))}),v("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[O]=M(e.substr(0,s)),t[b]=M(e.substr(s,2)),t[T]=M(e.substr(i))});i=Re("Hours",!0);var ot,ut={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Fe,monthsShort:Le,week:{dow:0,doy:6},weekdays:Qe,weekdaysMin:Ke,weekdaysShort:Xe,meridiemParse:/[ap]\.?m?\.?/i},W={},lt={};function dt(e){return e&&e.toLowerCase().replace("_","-")}function ht(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=dt(e[r]).split("-")).length,n=(n=dt(e[r+1]))?n.split("-"):null;0<t;){if(s=ct(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),s=0;s<n;s+=1)if(e[s]!==t[s])return s;return n}(i,n)>=t-1)break;t--}r++}return ot}function ct(t){var e,n;if(void 0===W[t]&&"undefined"!=typeof module&&module&&module.exports&&(n=t)&&n.match("^[^/\\\\]*$"))try{e=ot._abbr,require("./locale/"+t),ft(e)}catch(e){W[t]=null}return W[t]}function ft(e,t){return e&&((t=g(t)?P(e):mt(e,t))?ot=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ot._abbr}function mt(e,t){if(null===t)return delete W[e],null;var n,s=ut;if(t.abbr=e,null!=W[e])Q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=W[e]._config;else if(null!=t.parentLocale)if(null!=W[t.parentLocale])s=W[t.parentLocale]._config;else{if(null==(n=ct(t.parentLocale)))return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;s=n._config}return W[e]=new K(X(s,t)),lt[e]&&lt[e].forEach(function(e){mt(e.name,e.config)}),ft(e),W[e]}function P(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return ot;if(!y(e)){if(t=ct(e))return t;e=[e]}return ht(e)}function _t(e){var t=e._a;return t&&-2===p(e).overflow&&(t=t[Y]<0||11<t[Y]?Y:t[S]<1||t[S]>He(t[D],t[Y])?S:t[O]<0||24<t[O]||24===t[O]&&(0!==t[b]||0!==t[T]||0!==t[Te])?O:t[b]<0||59<t[b]?b:t[T]<0||59<t[T]?T:t[Te]<0||999<t[Te]?Te:-1,p(e)._overflowDayOfYear&&(t<D||S<t)&&(t=S),p(e)._overflowWeeks&&-1===t&&(t=xe),p(e)._overflowWeekday&&-1===t&&(t=Ne),p(e).overflow=t),e}var yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mt=/^\/?Date\((-?\d+)/i,vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Yt(e){var t,n,s,i,r,a,o=e._i,u=yt.exec(o)||gt.exec(o),o=pt.length,l=kt.length;if(u){for(p(e).iso=!0,t=0,n=o;t<n;t++)if(pt[t][1].exec(u[1])){i=pt[t][0],s=!1!==pt[t][2];break}if(null==i)e._isValid=!1;else{if(u[3]){for(t=0,n=l;t<n;t++)if(kt[t][1].exec(u[3])){r=(u[2]||" ")+kt[t][0];break}if(null==r)return void(e._isValid=!1)}if(s||null==r){if(u[4]){if(!wt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),xt(e)}else e._isValid=!1}}else e._isValid=!1}function St(e,t,n,s,i,r){e=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Le.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&e.push(parseInt(r,10)),e}function Ot(e){var t,n,s=vt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));s?(t=St(s[4],s[3],s[2],s[5],s[6],s[7]),function(e,t,n){if(!e||Xe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay())return 1;p(n).weekdayMismatch=!0,n._isValid=!1}(s[1],t,e)&&(e._a=t,e._tzm=(t=s[8],n=s[9],s=s[10],t?Dt[t]:n?0:60*(((t=parseInt(s,10))-(n=t%100))/100)+n),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0)):e._isValid=!1}function bt(e,t,n){return null!=e?e:null!=t?t:n}function Tt(e){var t,n,s,i,r,a,o,u,l,d,h,c=[];if(!e._d){for(s=e,i=new Date(_.now()),n=s._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()],e._w&&null==e._a[S]&&null==e._a[Y]&&(null!=(i=(s=e)._w).GG||null!=i.W||null!=i.E?(u=1,l=4,r=bt(i.GG,s._a[D],Be(R(),1,4).year),a=bt(i.W,1),((o=bt(i.E,1))<1||7<o)&&(d=!0)):(u=s._locale._week.dow,l=s._locale._week.doy,h=Be(R(),u,l),r=bt(i.gg,s._a[D],h.year),a=bt(i.w,h.week),null!=i.d?((o=i.d)<0||6<o)&&(d=!0):null!=i.e?(o=i.e+u,(i.e<0||6<i.e)&&(d=!0)):o=u),a<1||a>N(r,u,l)?p(s)._overflowWeeks=!0:null!=d?p(s)._overflowWeekday=!0:(h=$e(r,a,o,u,l),s._a[D]=h.year,s._dayOfYear=h.dayOfYear)),null!=e._dayOfYear&&(i=bt(e._a[D],n[D]),(e._dayOfYear>We(i)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),d=ze(i,0,e._dayOfYear),e._a[Y]=d.getUTCMonth(),e._a[S]=d.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=c[t]=n[t];for(;t<7;t++)e._a[t]=c[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[O]&&0===e._a[b]&&0===e._a[T]&&0===e._a[Te]&&(e._nextDay=!0,e._a[O]=0),e._d=(e._useUTC?ze:Ze).apply(null,c),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[O]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(p(e).weekdayMismatch=!0)}}function xt(e){if(e._f===_.ISO_8601)Yt(e);else if(e._f===_.RFC_2822)Ot(e);else{e._a=[],p(e).empty=!0;for(var t,n,s,i,r,a=""+e._i,o=a.length,u=0,l=ae(e._f,e._locale).match(te)||[],d=l.length,h=0;h<d;h++)n=l[h],(t=(a.match(De(n,e))||[])[0])&&(0<(s=a.substr(0,a.indexOf(t))).length&&p(e).unusedInput.push(s),a=a.slice(a.indexOf(t)+t.length),u+=t.length),ie[n]?(t?p(e).empty=!1:p(e).unusedTokens.push(n),s=n,r=e,null!=(i=t)&&c(Se,s)&&Se[s](i,r._a,r,s)):e._strict&&!t&&p(e).unusedTokens.push(n);p(e).charsLeftOver=o-u,0<a.length&&p(e).unusedInput.push(a),e._a[O]<=12&&!0===p(e).bigHour&&0<e._a[O]&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[O]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[O],e._meridiem),null!==(o=p(e).era)&&(e._a[D]=e._locale.erasConvertYear(o,e._a[D])),Tt(e),_t(e)}}function Nt(e){var t,n,s,i=e._i,r=e._f;if(e._locale=e._locale||P(e._l),null===i||void 0===r&&""===i)return I({nullInput:!0});if("string"==typeof i&&(e._i=i=e._locale.preparse(i)),k(i))return new $(_t(i));if(V(i))e._d=i;else if(y(r)){var a,o,u,l,d,h,c=e,f=!1,m=c._f.length;if(0===m)p(c).invalidFormat=!0,c._d=new Date(NaN);else{for(l=0;l<m;l++)d=0,h=!1,a=q({},c),null!=c._useUTC&&(a._useUTC=c._useUTC),a._f=c._f[l],xt(a),A(a)&&(h=!0),d=(d+=p(a).charsLeftOver)+10*p(a).unusedTokens.length,p(a).score=d,f?d<u&&(u=d,o=a):(null==u||d<u||h)&&(u=d,o=a,h)&&(f=!0);E(c,o||a)}}else if(r)xt(e);else if(g(r=(i=e)._i))i._d=new Date(_.now());else V(r)?i._d=new Date(r.valueOf()):"string"==typeof r?(n=i,null!==(t=Mt.exec(n._i))?n._d=new Date(+t[1]):(Yt(n),!1===n._isValid&&(delete n._isValid,Ot(n),!1===n._isValid)&&(delete n._isValid,n._strict?n._isValid=!1:_.createFromInputFallback(n)))):y(r)?(i._a=G(r.slice(0),function(e){return parseInt(e,10)}),Tt(i)):F(r)?(t=i)._d||(s=void 0===(n=ue(t._i)).day?n.date:n.day,t._a=G([n.year,n.month,s,n.hour,n.minute,n.second,n.millisecond],function(e){return e&&parseInt(e,10)}),Tt(t)):w(r)?i._d=new Date(r):_.createFromInputFallback(i);return A(e)||(e._d=null),e}function Wt(e,t,n,s,i){var r={};return!0!==t&&!1!==t||(s=t,t=void 0),!0!==n&&!1!==n||(s=n,n=void 0),(F(e)&&L(e)||y(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=i,r._l=n,r._i=e,r._f=t,r._strict=s,(i=new $(_t(Nt(i=r))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function R(e,t,n,s){return Wt(e,t,n,s,!1)}_.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),_.ISO_8601=function(){},_.RFC_2822=function(){};me=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=R.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:I()}),_e=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=R.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:I()});function Pt(e,t){var n,s;if(!(t=1===t.length&&y(t[0])?t[0]:t).length)return R();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}var Rt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ct(e){var e=ue(e),t=e.year||0,n=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,r=e.day||0,a=e.hour||0,o=e.minute||0,u=e.second||0,l=e.millisecond||0;this._isValid=function(e){var t,n,s=!1,i=Rt.length;for(t in e)if(c(e,t)&&(-1===x.call(Rt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[Rt[n]]){if(s)return!1;parseFloat(e[Rt[n]])!==M(e[Rt[n]])&&(s=!0)}return!0}(e),this._milliseconds=+l+1e3*u+6e4*o+1e3*a*60*60,this._days=+r+7*i,this._months=+s+3*n+12*t,this._data={},this._locale=P(),this._bubble()}function Ut(e){return e instanceof Ct}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,n){s(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+r(~~(e/60),2)+n+r(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),h("Z",ve),h("ZZ",ve),v(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Vt(ve,e)});var Lt=/([\+\-]|\d\d)/gi;function Vt(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Lt)||["-",0,0])[1]+M(e[2]))?0:"+"===e[0]?t:-t}function Gt(e,t){var n;return t._isUTC?(t=t.clone(),n=(k(e)||V(e)?e:R(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),_.updateOffset(t,!1),t):R(e).local()}function Et(e){return-Math.round(e._d.getTimezoneOffset())}function At(){return!!this.isValid()&&this._isUTC&&0===this._offset}_.updateOffset=function(){};var It=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function C(e,t){var n,s=e;return Ut(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:w(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(t=It.exec(e))?(n="-"===t[1]?-1:1,s={y:0,d:M(t[S])*n,h:M(t[O])*n,m:M(t[b])*n,s:M(t[T])*n,ms:M(Ht(1e3*t[Te]))*n}):(t=jt.exec(e))?(n="-"===t[1]?-1:1,s={y:Zt(t[2],n),M:Zt(t[3],n),w:Zt(t[4],n),d:Zt(t[5],n),h:Zt(t[6],n),m:Zt(t[7],n),s:Zt(t[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(t=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=zt(e,t):((n=zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(R(s.from),R(s.to)),(s={}).ms=t.milliseconds,s.M=t.months),n=new Ct(s),Ut(e)&&c(e,"_locale")&&(n._locale=e._locale),Ut(e)&&c(e,"_isValid")&&(n._isValid=e._isValid),n}function Zt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(Q(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),$t(this,C(e,t),s),this}}function $t(e,t,n,s){var i=t._milliseconds,r=Ht(t._days),t=Ht(t._months);e.isValid()&&(s=null==s||s,t&&Ae(e,Ce(e,"Month")+t*n),r&&Ue(e,"Date",Ce(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s)&&_.updateOffset(e,r||t)}C.fn=Ct.prototype,C.invalid=function(){return C(NaN)};Fe=qt(1,"add"),Qe=qt(-1,"subtract");function Bt(e){return"string"==typeof e||e instanceof String}function Jt(e){return k(e)||V(e)||Bt(e)||w(e)||function(t){var e=y(t),n=!1;e&&(n=0===t.filter(function(e){return!w(e)&&Bt(t)}).length);return e&&n}(e)||function(e){var t,n,s=F(e)&&!L(e),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=r.length;for(t=0;t<a;t+=1)n=r[t],i=i||c(e,n);return s&&i}(e)||null==e}function Qt(e,t){var n,s;return e.date()<t.date()?-Qt(t,e):-((n=12*(t.year()-e.year())+(t.month()-e.month()))+(t-(s=e.clone().add(n,"months"))<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(1+n,"months")-s)))||0}function Xt(e){return void 0===e?this._locale._abbr:(null!=(e=P(e))&&(this._locale=e),this)}_.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",_.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Ke=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Kt(){return this._locale}var en=126227808e5;function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-en:new Date(e,t,n).valueOf()}function sn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-en:Date.UTC(e,t,n)}function rn(e,t){return t.erasAbbrRegex(e)}function an(){for(var e,t,n,s=[],i=[],r=[],a=[],o=this.eras(),u=0,l=o.length;u<l;++u)e=f(o[u].name),t=f(o[u].abbr),n=f(o[u].narrow),i.push(e),s.push(t),r.push(n),a.push(e),a.push(t),a.push(n);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function on(e,t){s(0,[e,e.length],0,t)}function un(e,t,n,s,i){var r;return null==e?Be(this,s,i).year:(r=N(e,s,i),function(e,t,n,s,i){e=$e(e,t,n,s,i),t=ze(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=r<t?r:t,n,s,i))}s("N",0,0,"eraAbbr"),s("NN",0,0,"eraAbbr"),s("NNN",0,0,"eraAbbr"),s("NNNN",0,0,"eraName"),s("NNNNN",0,0,"eraNarrow"),s("y",["y",1],"yo","eraYear"),s("y",["yy",2],0,"eraYear"),s("y",["yyy",3],0,"eraYear"),s("y",["yyyy",4],0,"eraYear"),h("N",rn),h("NN",rn),h("NNN",rn),h("NNNN",function(e,t){return t.erasNameRegex(e)}),h("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),v(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){s=n._locale.erasParse(e,s,n._strict);s?p(n).era=s:p(n).invalidEra=e}),h("y",pe),h("yy",pe),h("yyy",pe),h("yyyy",pe),h("yo",function(e,t){return t._eraYearOrdinalRegex||pe}),v(["y","yy","yyy","yyyy"],D),v(["yo"],function(e,t,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[D]=n._locale.eraYearOrdinalParse(e,i):t[D]=parseInt(e,10)}),s(0,["gg",2],0,function(){return this.weekYear()%100}),s(0,["GG",2],0,function(){return this.isoWeekYear()%100}),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),h("G",ke),h("g",ke),h("GG",n,t),h("gg",n,t),h("GGGG",ge,ce),h("gggg",ge,ce),h("GGGGG",we,fe),h("ggggg",we,fe),Oe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=M(e)}),Oe(["gg","GG"],function(e,t,n,s){t[s]=_.parseTwoDigitYear(e)}),s("Q",0,"Qo","quarter"),h("Q",de),v("Q",function(e,t){t[Y]=3*(M(e)-1)}),s("D",["DD",2],"Do","date"),h("D",n,u),h("DD",n,t),h("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),v(["D","DD"],S),v("Do",function(e,t){t[S]=M(e.match(n)[0])});ge=Re("Date",!0);s("DDD",["DDDD",3],"DDDo","dayOfYear"),h("DDD",ye),h("DDDD",he),v(["DDD","DDDD"],function(e,t,n){n._dayOfYear=M(e)}),s("m",["mm",2],0,"minute"),h("m",n,d),h("mm",n,t),v(["m","mm"],b);var ln,ce=Re("Minutes",!1),we=(s("s",["ss",2],0,"second"),h("s",n,d),h("ss",n,t),v(["s","ss"],T),Re("Seconds",!1));for(s("S",0,0,function(){return~~(this.millisecond()/100)}),s(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),s(0,["SSS",3],0,"millisecond"),s(0,["SSSS",4],0,function(){return 10*this.millisecond()}),s(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),s(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),s(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),s(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),s(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),h("S",ye,de),h("SS",ye,t),h("SSS",ye,he),ln="SSSS";ln.length<=9;ln+="S")h(ln,pe);function dn(e,t){t[Te]=M(1e3*("0."+e))}for(ln="S";ln.length<=9;ln+="S")v(ln,dn);fe=Re("Milliseconds",!1),s("z",0,0,"zoneAbbr"),s("zz",0,0,"zoneName");u=$.prototype;function hn(e){return e}u.add=Fe,u.calendar=function(e,t){1===arguments.length&&(arguments[0]?Jt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=F(e)&&!L(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i=0;i<s.length;i+=1)n=n||c(e,s[i]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var e=e||R(),n=Gt(e,this).startOf("day"),n=_.calendarFormat(this,n)||"sameElse",t=t&&(a(t[n])?t[n].call(this,e):t[n]);return this.format(t||this.localeData().calendar(n,this,R(e)))},u.clone=function(){return new $(this)},u.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Gt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=o(t)){case"year":r=Qt(this,s)/12;break;case"month":r=Qt(this,s);break;case"quarter":r=Qt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:m(r)},u.endOf=function(e){var t,n;if(void 0!==(e=o(e))&&"millisecond"!==e&&this.isValid()){switch(n=this._isUTC?sn:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1;break}this._d.setTime(t),_.updateOffset(this,!0)}return this},u.format=function(e){return e=e||(this.isUtc()?_.defaultFormatUtc:_.defaultFormat),e=re(this,e),this.localeData().postformat(e)},u.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||R(e).isValid())?C({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},u.fromNow=function(e){return this.from(R(),e)},u.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||R(e).isValid())?C({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},u.toNow=function(e){return this.to(R(),e)},u.get=function(e){return a(this[e=o(e)])?this[e]():this},u.invalidAt=function(){return p(this).overflow},u.isAfter=function(e,t){return e=k(e)?e:R(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=o(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},u.isBefore=function(e,t){return e=k(e)?e:R(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=o(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},u.isBetween=function(e,t,n,s){return e=k(e)?e:R(e),t=k(t)?t:R(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},u.isSame=function(e,t){var e=k(e)?e:R(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=o(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},u.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},u.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},u.isValid=function(){return A(this)},u.lang=Ke,u.locale=Xt,u.localeData=Kt,u.max=_e,u.min=me,u.parsingFlags=function(){return E({},p(this))},u.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)c(e,t)&&n.push({unit:t,priority:le[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=ue(e)),s=n.length,i=0;i<s;i++)this[n[i].unit](e[n[i].unit]);else if(a(this[e=o(e)]))return this[e](t);return this},u.startOf=function(e){var t,n;if(void 0!==(e=o(e))&&"millisecond"!==e&&this.isValid()){switch(n=this._isUTC?sn:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3);break}this._d.setTime(t),_.updateOffset(this,!0)}return this},u.subtract=Qe,u.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},u.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},u.toDate=function(){return new Date(this.valueOf())},u.toISOString=function(e){var t;return this.isValid()?(t=(e=!0!==e)?this.clone().utc():this).year()<0||9999<t.year()?re(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):a(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",re(t,"Z")):re(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ"):null},u.inspect=function(){var e,t,n;return this.isValid()?(t="moment",e="",this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),t="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+n+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))):"moment.invalid(/* "+this._i+" */)"},"undefined"!=typeof Symbol&&null!=Symbol.for&&(u[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},u.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},u.eraName=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},u.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},u.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},u.eraYear=function(){for(var e,t,n=this.localeData().eras(),s=0,i=n.length;s<i;++s)if(e=n[s].since<=n[s].until?1:-1,t=this.clone().startOf("day").valueOf(),n[s].since<=t&&t<=n[s].until||n[s].until<=t&&t<=n[s].since)return(this.year()-_(n[s].since).year())*e+n[s].offset;return this.year()},u.year=Pe,u.isLeapYear=function(){return be(this.year())},u.weekYear=function(e){return un.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},u.isoWeekYear=function(e){return un.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},u.quarter=u.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},u.month=Ie,u.daysInMonth=function(){return He(this.year(),this.month())},u.week=u.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},u.isoWeek=u.isoWeeks=function(e){var t=Be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},u.weeksInYear=function(){var e=this.localeData()._week;return N(this.year(),e.dow,e.doy)},u.weeksInWeekYear=function(){var e=this.localeData()._week;return N(this.weekYear(),e.dow,e.doy)},u.isoWeeksInYear=function(){return N(this.year(),1,4)},u.isoWeeksInISOWeekYear=function(){return N(this.isoWeekYear(),1,4)},u.date=ge,u.day=u.days=function(e){var t,n,s;return this.isValid()?(t=Ce(this,"Day"),null!=e?(n=e,s=this.localeData(),e="string"!=typeof n?n:isNaN(n)?"number"==typeof(n=s.weekdaysParse(n))?n:null:parseInt(n,10),this.add(e-t,"d")):t):null!=e?this:NaN},u.weekday=function(e){var t;return this.isValid()?(t=(this.day()+7-this.localeData()._week.dow)%7,null==e?t:this.add(e-t,"d")):null!=e?this:NaN},u.isoWeekday=function(e){var t,n;return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN},u.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},u.hour=u.hours=i,u.minute=u.minutes=ce,u.second=u.seconds=we,u.millisecond=u.milliseconds=fe,u.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Et(this);if("string"==typeof e){if(null===(e=Vt(ve,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Et(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?$t(this,C(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,_.updateOffset(this,!0),this._changeInProgress=null)),this},u.utc=function(e){return this.utcOffset(0,e)},u.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e)&&this.subtract(Et(this),"m"),this},u.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Vt(Me,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},u.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?R(e).utcOffset():0,(this.utcOffset()-e)%60==0)},u.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},u.isLocal=function(){return!!this.isValid()&&!this._isUTC},u.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},u.isUtc=At,u.isUTC=At,u.zoneAbbr=function(){return this._isUTC?"UTC":""},u.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},u.dates=e("dates accessor is deprecated. Use date instead.",ge),u.months=e("months accessor is deprecated. Use month instead",Ie),u.years=e("years accessor is deprecated. Use year instead",Pe),u.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),u.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var e,t;return g(this._isDSTShifted)&&(q(e={},this),(e=Nt(e))._a?(t=(e._isUTC?l:R)(e._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&M(e[a])!==M(t[a]))&&r++;return r+i}(e._a,t.toArray())):this._isDSTShifted=!1),this._isDSTShifted});d=K.prototype;function cn(e,t,n,s){var i=P(),s=l().set(s,t);return i[n](s,e)}function fn(e,t,n){if(w(e)&&(t=e,e=void 0),e=e||"",null!=t)return cn(e,t,n,"month");for(var s=[],i=0;i<12;i++)s[i]=cn(e,i,n,"month");return s}function mn(e,t,n,s){t=("boolean"==typeof e?w(t)&&(n=t,t=void 0):(t=e,e=!1,w(n=t)&&(n=t,t=void 0)),t||"");var i,r=P(),a=e?r._week.dow:0,o=[];if(null!=n)return cn(t,(n+a)%7,s,"day");for(i=0;i<7;i++)o[i]=cn(t,(i+a)%7,s,"day");return o}d.calendar=function(e,t,n){return a(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},d.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(te).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},d.invalidDate=function(){return this._invalidDate},d.ordinal=function(e){return this._ordinal.replace("%d",e)},d.preparse=hn,d.postformat=hn,d.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return a(i)?i(e,t,n,s):i.replace(/%d/i,e)},d.pastFuture=function(e,t){return a(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},d.set=function(e){var t,n;for(n in e)c(e,n)&&(a(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},d.eras=function(e,t){for(var n,s=this._eras||P("en")._eras,i=0,r=s.length;i<r;++i){switch(typeof s[i].since){case"string":n=_(s[i].since).startOf("day"),s[i].since=n.valueOf();break}switch(typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":n=_(s[i].until).startOf("day").valueOf(),s[i].until=n.valueOf();break}}return s},d.erasParse=function(e,t,n){var s,i,r,a,o,u=this.eras();for(e=e.toUpperCase(),s=0,i=u.length;s<i;++s)if(r=u[s].name.toUpperCase(),a=u[s].abbr.toUpperCase(),o=u[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[s];break;case"NNNN":if(r===e)return u[s];break;case"NNNNN":if(o===e)return u[s];break}else if(0<=[r,a,o].indexOf(e))return u[s]},d.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?_(e.since).year():_(e.since).year()+(t-e.offset)*n},d.erasAbbrRegex=function(e){return c(this,"_erasAbbrRegex")||an.call(this),e?this._erasAbbrRegex:this._erasRegex},d.erasNameRegex=function(e){return c(this,"_erasNameRegex")||an.call(this),e?this._erasNameRegex:this._erasRegex},d.erasNarrowRegex=function(e){return c(this,"_erasNarrowRegex")||an.call(this),e?this._erasNarrowRegex:this._erasRegex},d.months=function(e,t){return e?(y(this._months)?this._months:this._months[(this._months.isFormat||Ve).test(t)?"format":"standalone"])[e.month()]:y(this._months)?this._months:this._months.standalone},d.monthsShort=function(e,t){return e?(y(this._monthsShort)?this._monthsShort:this._monthsShort[Ve.test(t)?"format":"standalone"])[e.month()]:y(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},d.monthsParse=function(e,t,n){var s,i;if(this._monthsParseExact)return function(e,t,n){var s,i,r,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=l([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=x.call(this._shortMonthsParse,e))?i:null:-1!==(i=x.call(this._longMonthsParse,e))?i:null:"MMM"===t?-1!==(i=x.call(this._shortMonthsParse,e))||-1!==(i=x.call(this._longMonthsParse,e))?i:null:-1!==(i=x.call(this._longMonthsParse,e))||-1!==(i=x.call(this._shortMonthsParse,e))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=l([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(i="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},d.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||je.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Ee),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},d.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||je.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ge),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},d.week=function(e){return Be(e,this._week.dow,this._week.doy).week},d.firstDayOfYear=function(){return this._week.doy},d.firstDayOfWeek=function(){return this._week.dow},d.weekdays=function(e,t){return t=y(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Je(t,this._week.dow):e?t[e.day()]:t},d.weekdaysMin=function(e){return!0===e?Je(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},d.weekdaysShort=function(e){return!0===e?Je(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},d.weekdaysParse=function(e,t,n){var s,i;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=l([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=x.call(this._weekdaysParse,e))?i:null:"ddd"===t?-1!==(i=x.call(this._shortWeekdaysParse,e))?i:null:-1!==(i=x.call(this._minWeekdaysParse,e))?i:null:"dddd"===t?-1!==(i=x.call(this._weekdaysParse,e))||-1!==(i=x.call(this._shortWeekdaysParse,e))||-1!==(i=x.call(this._minWeekdaysParse,e))?i:null:"ddd"===t?-1!==(i=x.call(this._shortWeekdaysParse,e))||-1!==(i=x.call(this._weekdaysParse,e))||-1!==(i=x.call(this._minWeekdaysParse,e))?i:null:-1!==(i=x.call(this._minWeekdaysParse,e))||-1!==(i=x.call(this._weekdaysParse,e))||-1!==(i=x.call(this._shortWeekdaysParse,e))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=l([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},d.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||st.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},d.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||st.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},d.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||st.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},d.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},d.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ft("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===M(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),_.lang=e("moment.lang is deprecated. Use moment.locale instead.",ft),_.langData=e("moment.langData is deprecated. Use moment.localeData instead.",P);var _n=Math.abs;function yn(e,t,n,s){t=C(t,n);return e._milliseconds+=s*t._milliseconds,e._days+=s*t._days,e._months+=s*t._months,e._bubble()}function gn(e){return e<0?Math.floor(e):Math.ceil(e)}function wn(e){return 4800*e/146097}function pn(e){return 146097*e/4800}function kn(e){return function(){return this.as(e)}}de=kn("ms"),t=kn("s"),ye=kn("m"),he=kn("h"),Fe=kn("d"),_e=kn("w"),me=kn("M"),Qe=kn("Q"),i=kn("y"),ce=de;function Mn(e){return function(){return this.isValid()?this._data[e]:NaN}}var we=Mn("milliseconds"),fe=Mn("seconds"),ge=Mn("minutes"),Pe=Mn("hours"),d=Mn("days"),vn=Mn("months"),Dn=Mn("years");var Yn=Math.round,Sn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function On(e,t,n,s){var i=C(e).abs(),r=Yn(i.as("s")),a=Yn(i.as("m")),o=Yn(i.as("h")),u=Yn(i.as("d")),l=Yn(i.as("M")),d=Yn(i.as("w")),i=Yn(i.as("y")),r=(r<=n.ss?["s",r]:r<n.s&&["ss",r])||(a<=1?["m"]:a<n.m&&["mm",a])||(o<=1?["h"]:o<n.h&&["hh",o])||(u<=1?["d"]:u<n.d&&["dd",u]);return(r=(r=null!=n.w?r||(d<=1?["w"]:d<n.w&&["ww",d]):r)||(l<=1?["M"]:l<n.M&&["MM",l])||(i<=1?["y"]:["yy",i]))[2]=t,r[3]=0<+e,r[4]=s,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,r)}var bn=Math.abs;function Tn(e){return(0<e)-(e<0)||+e}function xn(){var e,t,n,s,i,r,a,o,u,l,d;return this.isValid()?(e=bn(this._milliseconds)/1e3,t=bn(this._days),n=bn(this._months),(o=this.asSeconds())?(s=m(e/60),i=m(s/60),e%=60,s%=60,r=m(n/12),n%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=Tn(this._months)!==Tn(o)?"-":"",l=Tn(this._days)!==Tn(o)?"-":"",d=Tn(this._milliseconds)!==Tn(o)?"-":"",(o<0?"-":"")+"P"+(r?u+r+"Y":"")+(n?u+n+"M":"")+(t?l+t+"D":"")+(i||s||e?"T":"")+(i?d+i+"H":"")+(s?d+s+"M":"")+(e?d+a+"S":"")):"P0D"):this.localeData().invalidDate()}var U=Ct.prototype;return U.isValid=function(){return this._isValid},U.abs=function(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this},U.add=function(e,t){return yn(this,e,t,1)},U.subtract=function(e,t){return yn(this,e,t,-1)},U.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=o(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+wn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(pn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},U.asMilliseconds=de,U.asSeconds=t,U.asMinutes=ye,U.asHours=he,U.asDays=Fe,U.asWeeks=_e,U.asMonths=me,U.asQuarters=Qe,U.asYears=i,U.valueOf=ce,U._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*gn(pn(n)+t),n=t=0),s.milliseconds=e%1e3,e=m(e/1e3),s.seconds=e%60,e=m(e/60),s.minutes=e%60,e=m(e/60),s.hours=e%24,t+=m(e/24),n+=e=m(wn(t)),t-=gn(pn(e)),e=m(n/12),n%=12,s.days=t,s.months=n,s.years=e,this},U.clone=function(){return C(this)},U.get=function(e){return e=o(e),this.isValid()?this[e+"s"]():NaN},U.milliseconds=we,U.seconds=fe,U.minutes=ge,U.hours=Pe,U.days=d,U.weeks=function(){return m(this.days()/7)},U.months=vn,U.years=Dn,U.humanize=function(e,t){var n,s;return this.isValid()?(n=!1,s=Sn,"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(s=Object.assign({},Sn,t),null!=t.s)&&null==t.ss&&(s.ss=t.s-1),e=this.localeData(),t=On(this,!n,s,e),n&&(t=e.pastFuture(+this,t)),e.postformat(t)):this.localeData().invalidDate()},U.toISOString=xn,U.toString=xn,U.toJSON=xn,U.locale=Xt,U.localeData=Kt,U.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xn),U.lang=Ke,s("X",0,0,"unix"),s("x",0,0,"valueOf"),h("x",ke),h("X",/[+-]?\d+(\.\d{1,3})?/),v("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),v("x",function(e,t,n){n._d=new Date(M(e))}),_.version="2.30.1",H=R,_.fn=u,_.min=function(){return Pt("isBefore",[].slice.call(arguments,0))},_.max=function(){return Pt("isAfter",[].slice.call(arguments,0))},_.now=function(){return Date.now?Date.now():+new Date},_.utc=l,_.unix=function(e){return R(1e3*e)},_.months=function(e,t){return fn(e,t,"months")},_.isDate=V,_.locale=ft,_.invalid=I,_.duration=C,_.isMoment=k,_.weekdays=function(e,t,n){return mn(e,t,n,"weekdays")},_.parseZone=function(){return R.apply(null,arguments).parseZone()},_.localeData=P,_.isDuration=Ut,_.monthsShort=function(e,t){return fn(e,t,"monthsShort")},_.weekdaysMin=function(e,t,n){return mn(e,t,n,"weekdaysMin")},_.defineLocale=mt,_.updateLocale=function(e,t){var n,s;return null!=t?(s=ut,null!=W[e]&&null!=W[e].parentLocale?W[e].set(X(W[e]._config,t)):(t=X(s=null!=(n=ct(e))?n._config:s,t),null==n&&(t.abbr=e),(s=new K(t)).parentLocale=W[e],W[e]=s),ft(e)):null!=W[e]&&(null!=W[e].parentLocale?(W[e]=W[e].parentLocale,e===ft()&&ft(e)):null!=W[e]&&delete W[e]),W[e]},_.locales=function(){return ee(W)},_.weekdaysShort=function(e,t,n){return mn(e,t,n,"weekdaysShort")},_.normalizeUnits=o,_.relativeTimeRounding=function(e){return void 0===e?Yn:"function"==typeof e&&(Yn=e,!0)},_.relativeTimeThreshold=function(e,t){return void 0!==Sn[e]&&(void 0===t?Sn[e]:(Sn[e]=t,"s"===e&&(Sn.ss=t-1),!0))},_.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},_.prototype=u,_.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},_});
// momentjs locales, V2.30.1, LICENSE: https://raw.githubusercontent.com/moment/moment/refs/heads/develop/LICENSE
!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):e.moment=a()}(this,function(){"use strict";var E;function c(){return E.apply(null,arguments)}function F(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function z(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e,a){return Object.prototype.hasOwnProperty.call(e,a)}function N(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var a in e)if(l(e,a))return;return 1}function L(e){return void 0===e}function J(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function R(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function C(e,a){for(var t=[],s=e.length,n=0;n<s;++n)t.push(a(e[n],n));return t}function I(e,a){for(var t in a)l(a,t)&&(e[t]=a[t]);return l(a,"toString")&&(e.toString=a.toString),l(a,"valueOf")&&(e.valueOf=a.valueOf),e}function U(e,a,t,s){return Na(e,a,t,s,!0).utc()}function Y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function G(e){var a,t,s=e._d&&!isNaN(e._d.getTime());return s&&(a=Y(e),t=q.call(a.parsedDateParts,function(e){return null!=e}),s=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&t),e._strict)&&(s=s&&0===a.charsLeftOver&&0===a.unusedTokens.length&&void 0===a.bigHour),null!=Object.isFrozen&&Object.isFrozen(e)?s:(e._isValid=s,e._isValid)}function V(e){var a=U(NaN);return null!=e?I(Y(a),e):Y(a).userInvalidated=!0,a}var q=Array.prototype.some||function(e){for(var a=Object(this),t=a.length>>>0,s=0;s<t;s++)if(s in a&&e.call(this,a[s],s,a))return!0;return!1},B=c.momentProperties=[],K=!1;function Z(e,a){var t,s,n,r=B.length;if(L(a._isAMomentObject)||(e._isAMomentObject=a._isAMomentObject),L(a._i)||(e._i=a._i),L(a._f)||(e._f=a._f),L(a._l)||(e._l=a._l),L(a._strict)||(e._strict=a._strict),L(a._tzm)||(e._tzm=a._tzm),L(a._isUTC)||(e._isUTC=a._isUTC),L(a._offset)||(e._offset=a._offset),L(a._pf)||(e._pf=Y(a)),L(a._locale)||(e._locale=a._locale),0<r)for(t=0;t<r;t++)L(n=a[s=B[t]])||(e[s]=n);return e}function $(e){Z(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===K&&(K=!0,c.updateOffset(this),K=!1)}function Q(e){return e instanceof $||null!=e&&null!=e._isAMomentObject}function X(e){!1===c.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(r,d){var _=!0;return I(function(){if(null!=c.deprecationHandler&&c.deprecationHandler(null,r),_){for(var e,a,t=[],s=arguments.length,n=0;n<s;n++){if(e="","object"==typeof arguments[n]){for(a in e+="\n["+n+"] ",arguments[0])l(arguments[0],a)&&(e+=a+": "+arguments[0][a]+", ");e=e.slice(0,-2)}else e=arguments[n];t.push(e)}X(r+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),_=!1}return d.apply(this,arguments)},d)}var ee={};function ae(e,a){null!=c.deprecationHandler&&c.deprecationHandler(e,a),ee[e]||(X(a),ee[e]=!0)}function te(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function se(e,a){var t,s=I({},e);for(t in a)l(a,t)&&(z(e[t])&&z(a[t])?(s[t]={},I(s[t],e[t]),I(s[t],a[t])):null!=a[t]?s[t]=a[t]:delete s[t]);for(t in e)l(e,t)&&!l(a,t)&&z(e[t])&&(s[t]=I({},s[t]));return s}function ne(e){null!=e&&this.set(e)}c.suppressDeprecationWarnings=!1,c.deprecationHandler=null;var re=Object.keys||function(e){var a,t=[];for(a in e)l(e,a)&&t.push(a);return t};function de(e,a,t){var s=""+Math.abs(e);return(0<=e?t?"+":"":"-")+Math.pow(10,Math.max(0,a-s.length)).toString().substr(1)+s}var _e=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ie=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},me={};function s(e,a,t,s){var n="string"==typeof s?function(){return this[s]()}:s;e&&(me[e]=n),a&&(me[a[0]]=function(){return de(n.apply(this,arguments),a[1],a[2])}),t&&(me[t]=function(){return this.localeData().ordinal(n.apply(this,arguments),e)})}function ue(e,a){return e.isValid()?(a=le(a,e.localeData()),oe[a]=oe[a]||function(s){for(var e,n=s.match(_e),a=0,r=n.length;a<r;a++)me[n[a]]?n[a]=me[n[a]]:n[a]=(e=n[a]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var a="",t=0;t<r;t++)a+=te(n[t])?n[t].call(e,s):n[t];return a}}(a),oe[a](e)):e.localeData().invalidDate()}function le(e,a){var t=5;function s(e){return a.longDateFormat(e)||e}for(ie.lastIndex=0;0<=t&&ie.test(e);)e=e.replace(ie,s),ie.lastIndex=0,--t;return e}var Me={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function d(e){return"string"==typeof e?Me[e]||Me[e.toLowerCase()]:void 0}function he(e){var a,t,s={};for(t in e)l(e,t)&&(a=d(t))&&(s[a]=e[t]);return s}var ce={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var Le=/\d/,a=/\d\d/,Ye=/\d{3}/,t=/\d{4}/,n=/[+-]?\d{6}/,r=/\d\d?/,ye=/\d\d\d\d?/,_=/\d\d\d\d\d\d?/,fe=/\d{1,3}/,i=/\d{1,4}/,o=/[+-]?\d{1,6}/,ke=/\d+/,pe=/[+-]?\d+/,De=/Z|[+-]\d\d:?\d\d/gi,Te=/Z|[+-]\d\d(?::?\d\d)?/gi,m=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,u=/^[1-9]\d?/,M=/^([1-9]\d|\d)/;function h(e,t,s){be[e]=te(t)?t:function(e,a){return e&&s?s:t}}function ge(e,a){return l(be,e)?be[e](a._strict,a._locale):new RegExp(we(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,a,t,s,n){return a||t||s||n})))}function we(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function f(e){var e=+e,a=0;return a=0!=e&&isFinite(e)?y(e):a}var be={},He={};function k(e,t){var a,s,n=t;for("string"==typeof e&&(e=[e]),J(t)&&(n=function(e,a){a[t]=f(e)}),s=e.length,a=0;a<s;a++)He[e[a]]=n}function Se(e,n){k(e,function(e,a,t,s){t._w=t._w||{},n(e,t._w,t,s)})}function ve(e){return e%4==0&&e%100!=0||e%400==0}var p=0,je=1,xe=2,D=3,Pe=4,Oe=5,We=6,Ae=7,Ee=8;function Fe(e){return ve(e)?366:365}s("Y",0,0,function(){var e=this.year();return e<=9999?de(e,4):"+"+e}),s(0,["YY",2],0,function(){return this.year()%100}),s(0,["YYYY",4],0,"year"),s(0,["YYYYY",5],0,"year"),s(0,["YYYYYY",6,!0],0,"year"),h("Y",pe),h("YY",r,a),h("YYYY",i,t),h("YYYYY",o,n),h("YYYYYY",o,n),k(["YYYYY","YYYYYY"],p),k("YYYY",function(e,a){a[p]=2===e.length?c.parseTwoDigitYear(e):f(e)}),k("YY",function(e,a){a[p]=c.parseTwoDigitYear(e)}),k("Y",function(e,a){a[p]=parseInt(e,10)}),c.parseTwoDigitYear=function(e){return f(e)+(68<f(e)?1900:2e3)};var T,ze=Ne("FullYear",!0);function Ne(a,t){return function(e){return null!=e?(Re(this,a,e),c.updateOffset(this,t),this):Je(this,a)}}function Je(e,a){if(!e.isValid())return NaN;var t=e._d,s=e._isUTC;switch(a){case"Milliseconds":return s?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return s?t.getUTCSeconds():t.getSeconds();case"Minutes":return s?t.getUTCMinutes():t.getMinutes();case"Hours":return s?t.getUTCHours():t.getHours();case"Date":return s?t.getUTCDate():t.getDate();case"Day":return s?t.getUTCDay():t.getDay();case"Month":return s?t.getUTCMonth():t.getMonth();case"FullYear":return s?t.getUTCFullYear():t.getFullYear();default:return NaN}}function Re(e,a,t){var s,n,r;if(e.isValid()&&!isNaN(t)){switch(s=e._d,n=e._isUTC,a){case"Milliseconds":return n?s.setUTCMilliseconds(t):s.setMilliseconds(t);case"Seconds":return n?s.setUTCSeconds(t):s.setSeconds(t);case"Minutes":return n?s.setUTCMinutes(t):s.setMinutes(t);case"Hours":return n?s.setUTCHours(t):s.setHours(t);case"Date":return n?s.setUTCDate(t):s.setDate(t);case"FullYear":break;default:return}a=t,r=e.month(),e=29!==(e=e.date())||1!==r||ve(a)?e:28,n?s.setUTCFullYear(a,r,e):s.setFullYear(a,r,e)}}function Ce(e,a){var t;return isNaN(e)||isNaN(a)?NaN:(t=(a%(t=12)+t)%t,e+=(a-t)/12,1==t?ve(e)?29:28:31-t%7%2)}T=Array.prototype.indexOf||function(e){for(var a=0;a<this.length;++a)if(this[a]===e)return a;return-1},s("M",["MM",2],"Mo",function(){return this.month()+1}),s("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),s("MMMM",0,0,function(e){return this.localeData().months(this,e)}),h("M",r,u),h("MM",r,a),h("MMM",function(e,a){return a.monthsShortRegex(e)}),h("MMMM",function(e,a){return a.monthsRegex(e)}),k(["M","MM"],function(e,a){a[je]=f(e)-1}),k(["MMM","MMMM"],function(e,a,t,s){s=t._locale.monthsParse(e,s,t._strict);null!=s?a[je]=s:Y(t).invalidMonth=e});var Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ue="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ge=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ve=m,qe=m;function Be(e,a){if(e.isValid()){if("string"==typeof a)if(/^\d+$/.test(a))a=f(a);else if(!J(a=e.localeData().monthsParse(a)))return;var t=(t=e.date())<29?t:Math.min(t,Ce(e.year(),a));e._isUTC?e._d.setUTCMonth(a,t):e._d.setMonth(a,t)}}function Ke(e){return null!=e?(Be(this,e),c.updateOffset(this,!0),this):Je(this,"Month")}function Ze(){function e(e,a){return a.length-e.length}for(var a,t,s=[],n=[],r=[],d=0;d<12;d++)t=U([2e3,d]),a=we(this.monthsShort(t,"")),t=we(this.months(t,"")),s.push(a),n.push(t),r.push(t),r.push(a);s.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function $e(e,a,t,s,n,r,d){var _;return e<100&&0<=e?(_=new Date(e+400,a,t,s,n,r,d),isFinite(_.getFullYear())&&_.setFullYear(e)):_=new Date(e,a,t,s,n,r,d),_}function Qe(e){var a;return e<100&&0<=e?((a=Array.prototype.slice.call(arguments))[0]=e+400,a=new Date(Date.UTC.apply(null,a)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(e)):a=new Date(Date.UTC.apply(null,arguments)),a}function Xe(e,a,t){t=7+a-t;return t-(7+Qe(e,0,t).getUTCDay()-a)%7-1}function ea(e,a,t,s,n){var r,a=1+7*(a-1)+(7+t-s)%7+Xe(e,s,n),t=a<=0?Fe(r=e-1)+a:a>Fe(e)?(r=e+1,a-Fe(e)):(r=e,a);return{year:r,dayOfYear:t}}function aa(e,a,t){var s,n,r=Xe(e.year(),a,t),r=Math.floor((e.dayOfYear()-r-1)/7)+1;return r<1?s=r+ta(n=e.year()-1,a,t):r>ta(e.year(),a,t)?(s=r-ta(e.year(),a,t),n=e.year()+1):(n=e.year(),s=r),{week:s,year:n}}function ta(e,a,t){var s=Xe(e,a,t),a=Xe(e+1,a,t);return(Fe(e)-s+a)/7}s("w",["ww",2],"wo","week"),s("W",["WW",2],"Wo","isoWeek"),h("w",r,u),h("ww",r,a),h("W",r,u),h("WW",r,a),Se(["w","ww","W","WW"],function(e,a,t,s){a[s.substr(0,1)]=f(e)});function sa(e,a){return e.slice(a,7).concat(e.slice(0,a))}s("d",0,"do","day"),s("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),s("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),s("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),s("e",0,0,"weekday"),s("E",0,0,"isoWeekday"),h("d",r),h("e",r),h("E",r),h("dd",function(e,a){return a.weekdaysMinRegex(e)}),h("ddd",function(e,a){return a.weekdaysShortRegex(e)}),h("dddd",function(e,a){return a.weekdaysRegex(e)}),Se(["dd","ddd","dddd"],function(e,a,t,s){s=t._locale.weekdaysParse(e,s,t._strict);null!=s?a.d=s:Y(t).invalidWeekday=e}),Se(["d","e","E"],function(e,a,t,s){a[s]=f(e)});var na="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ra="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),da="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_a=m,ia=m,oa=m;function ma(){function e(e,a){return a.length-e.length}for(var a,t,s,n=[],r=[],d=[],_=[],i=0;i<7;i++)s=U([2e3,1]).day(i),a=we(this.weekdaysMin(s,"")),t=we(this.weekdaysShort(s,"")),s=we(this.weekdays(s,"")),n.push(a),r.push(t),d.push(s),_.push(a),_.push(t),_.push(s);n.sort(e),r.sort(e),d.sort(e),_.sort(e),this._weekdaysRegex=new RegExp("^("+_.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ua(){return this.hours()%12||12}function la(e,a){s(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}function Ma(e,a){return a._meridiemParse}s("H",["HH",2],0,"hour"),s("h",["hh",2],0,ua),s("k",["kk",2],0,function(){return this.hours()||24}),s("hmm",0,0,function(){return""+ua.apply(this)+de(this.minutes(),2)}),s("hmmss",0,0,function(){return""+ua.apply(this)+de(this.minutes(),2)+de(this.seconds(),2)}),s("Hmm",0,0,function(){return""+this.hours()+de(this.minutes(),2)}),s("Hmmss",0,0,function(){return""+this.hours()+de(this.minutes(),2)+de(this.seconds(),2)}),la("a",!0),la("A",!1),h("a",Ma),h("A",Ma),h("H",r,M),h("h",r,u),h("k",r,u),h("HH",r,a),h("hh",r,a),h("kk",r,a),h("hmm",ye),h("hmmss",_),h("Hmm",ye),h("Hmmss",_),k(["H","HH"],D),k(["k","kk"],function(e,a,t){e=f(e);a[D]=24===e?0:e}),k(["a","A"],function(e,a,t){t._isPm=t._locale.isPM(e),t._meridiem=e}),k(["h","hh"],function(e,a,t){a[D]=f(e),Y(t).bigHour=!0}),k("hmm",function(e,a,t){var s=e.length-2;a[D]=f(e.substr(0,s)),a[Pe]=f(e.substr(s)),Y(t).bigHour=!0}),k("hmmss",function(e,a,t){var s=e.length-4,n=e.length-2;a[D]=f(e.substr(0,s)),a[Pe]=f(e.substr(s,2)),a[Oe]=f(e.substr(n)),Y(t).bigHour=!0}),k("Hmm",function(e,a,t){var s=e.length-2;a[D]=f(e.substr(0,s)),a[Pe]=f(e.substr(s))}),k("Hmmss",function(e,a,t){var s=e.length-4,n=e.length-2;a[D]=f(e.substr(0,s)),a[Pe]=f(e.substr(s,2)),a[Oe]=f(e.substr(n))});m=Ne("Hours",!0);var ha,ca={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:Ue,week:{dow:0,doy:6},weekdays:na,weekdaysMin:da,weekdaysShort:ra,meridiemParse:/[ap]\.?m?\.?/i},g={},La={};function Ya(e){return e&&e.toLowerCase().replace("_","-")}function ya(e){for(var a,t,s,n,r=0;r<e.length;){for(a=(n=Ya(e[r]).split("-")).length,t=(t=Ya(e[r+1]))?t.split("-"):null;0<a;){if(s=fa(n.slice(0,a).join("-")))return s;if(t&&t.length>=a&&function(e,a){for(var t=Math.min(e.length,a.length),s=0;s<t;s+=1)if(e[s]!==a[s])return s;return t}(n,t)>=a-1)break;a--}r++}return ha}function fa(a){var e,t;if(void 0===g[a]&&"undefined"!=typeof module&&module&&module.exports&&(t=a)&&t.match("^[^/\\\\]*$"))try{e=ha._abbr,require("./locale/"+a),ka(e)}catch(e){g[a]=null}return g[a]}function ka(e,a){return e&&((a=L(a)?Da(e):pa(e,a))?ha=a:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ha._abbr}function pa(e,a){if(null===a)return delete g[e],null;var t,s=ca;if(a.abbr=e,null!=g[e])ae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=g[e]._config;else if(null!=a.parentLocale)if(null!=g[a.parentLocale])s=g[a.parentLocale]._config;else{if(null==(t=fa(a.parentLocale)))return La[a.parentLocale]||(La[a.parentLocale]=[]),La[a.parentLocale].push({name:e,config:a}),null;s=t._config}return g[e]=new ne(se(s,a)),La[e]&&La[e].forEach(function(e){pa(e.name,e.config)}),ka(e),g[e]}function Da(e){var a;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return ha;if(!F(e)){if(a=fa(e))return a;e=[e]}return ya(e)}function Ta(e){var a=e._a;return a&&-2===Y(e).overflow&&(a=a[je]<0||11<a[je]?je:a[xe]<1||a[xe]>Ce(a[p],a[je])?xe:a[D]<0||24<a[D]||24===a[D]&&(0!==a[Pe]||0!==a[Oe]||0!==a[We])?D:a[Pe]<0||59<a[Pe]?Pe:a[Oe]<0||59<a[Oe]?Oe:a[We]<0||999<a[We]?We:-1,Y(e)._overflowDayOfYear&&(a<p||xe<a)&&(a=xe),Y(e)._overflowWeeks&&-1===a&&(a=Ae),Y(e)._overflowWeekday&&-1===a&&(a=Ee),Y(e).overflow=a),e}var ga=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wa=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ba=/Z|[+-]\d\d(?::?\d\d)?/,Ha=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],va=/^\/?Date\((-?\d+)/i,ja=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xa={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pa(e){var a,t,s,n,r,d,_=e._i,i=ga.exec(_)||wa.exec(_),_=Ha.length,o=Sa.length;if(i){for(Y(e).iso=!0,a=0,t=_;a<t;a++)if(Ha[a][1].exec(i[1])){n=Ha[a][0],s=!1!==Ha[a][2];break}if(null==n)e._isValid=!1;else{if(i[3]){for(a=0,t=o;a<t;a++)if(Sa[a][1].exec(i[3])){r=(i[2]||" ")+Sa[a][0];break}if(null==r)return void(e._isValid=!1)}if(s||null==r){if(i[4]){if(!ba.exec(i[4]))return void(e._isValid=!1);d="Z"}e._f=n+(r||"")+(d||""),Fa(e)}else e._isValid=!1}}else e._isValid=!1}function Oa(e,a,t,s,n,r){e=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Ue.indexOf(a),parseInt(t,10),parseInt(s,10),parseInt(n,10)];return r&&e.push(parseInt(r,10)),e}function Wa(e){var a,t,s=ja.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));s?(a=Oa(s[4],s[3],s[2],s[5],s[6],s[7]),function(e,a,t){if(!e||ra.indexOf(e)===new Date(a[0],a[1],a[2]).getDay())return 1;Y(t).weekdayMismatch=!0,t._isValid=!1}(s[1],a,e)&&(e._a=a,e._tzm=(a=s[8],t=s[9],s=s[10],a?xa[a]:t?0:60*(((a=parseInt(s,10))-(t=a%100))/100)+t),e._d=Qe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Y(e).rfc2822=!0)):e._isValid=!1}function Aa(e,a,t){return null!=e?e:null!=a?a:t}function Ea(e){var a,t,s,n,r,d,_,i,o,m,u,l=[];if(!e._d){for(s=e,n=new Date(c.now()),t=s._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()],e._w&&null==e._a[xe]&&null==e._a[je]&&(null!=(n=(s=e)._w).GG||null!=n.W||null!=n.E?(i=1,o=4,r=Aa(n.GG,s._a[p],aa(w(),1,4).year),d=Aa(n.W,1),((_=Aa(n.E,1))<1||7<_)&&(m=!0)):(i=s._locale._week.dow,o=s._locale._week.doy,u=aa(w(),i,o),r=Aa(n.gg,s._a[p],u.year),d=Aa(n.w,u.week),null!=n.d?((_=n.d)<0||6<_)&&(m=!0):null!=n.e?(_=n.e+i,(n.e<0||6<n.e)&&(m=!0)):_=i),d<1||d>ta(r,i,o)?Y(s)._overflowWeeks=!0:null!=m?Y(s)._overflowWeekday=!0:(u=ea(r,d,_,i,o),s._a[p]=u.year,s._dayOfYear=u.dayOfYear)),null!=e._dayOfYear&&(n=Aa(e._a[p],t[p]),(e._dayOfYear>Fe(n)||0===e._dayOfYear)&&(Y(e)._overflowDayOfYear=!0),m=Qe(n,0,e._dayOfYear),e._a[je]=m.getUTCMonth(),e._a[xe]=m.getUTCDate()),a=0;a<3&&null==e._a[a];++a)e._a[a]=l[a]=t[a];for(;a<7;a++)e._a[a]=l[a]=null==e._a[a]?2===a?1:0:e._a[a];24===e._a[D]&&0===e._a[Pe]&&0===e._a[Oe]&&0===e._a[We]&&(e._nextDay=!0,e._a[D]=0),e._d=(e._useUTC?Qe:$e).apply(null,l),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[D]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(Y(e).weekdayMismatch=!0)}}function Fa(e){if(e._f===c.ISO_8601)Pa(e);else if(e._f===c.RFC_2822)Wa(e);else{e._a=[],Y(e).empty=!0;for(var a,t,s,n,r,d=""+e._i,_=d.length,i=0,o=le(e._f,e._locale).match(_e)||[],m=o.length,u=0;u<m;u++)t=o[u],(a=(d.match(ge(t,e))||[])[0])&&(0<(s=d.substr(0,d.indexOf(a))).length&&Y(e).unusedInput.push(s),d=d.slice(d.indexOf(a)+a.length),i+=a.length),me[t]?(a?Y(e).empty=!1:Y(e).unusedTokens.push(t),s=t,r=e,null!=(n=a)&&l(He,s)&&He[s](n,r._a,r,s)):e._strict&&!a&&Y(e).unusedTokens.push(t);Y(e).charsLeftOver=_-i,0<d.length&&Y(e).unusedInput.push(d),e._a[D]<=12&&!0===Y(e).bigHour&&0<e._a[D]&&(Y(e).bigHour=void 0),Y(e).parsedDateParts=e._a.slice(0),Y(e).meridiem=e._meridiem,e._a[D]=function(e,a,t){if(null==t)return a;return null!=e.meridiemHour?e.meridiemHour(a,t):null!=e.isPM?((e=e.isPM(t))&&a<12&&(a+=12),a=e||12!==a?a:0):a}(e._locale,e._a[D],e._meridiem),null!==(_=Y(e).era)&&(e._a[p]=e._locale.erasConvertYear(_,e._a[p])),Ea(e),Ta(e)}}function za(e){var a,t,s,n=e._i,r=e._f;if(e._locale=e._locale||Da(e._l),null===n||void 0===r&&""===n)return V({nullInput:!0});if("string"==typeof n&&(e._i=n=e._locale.preparse(n)),Q(n))return new $(Ta(n));if(R(n))e._d=n;else if(F(r)){var d,_,i,o,m,u,l=e,M=!1,h=l._f.length;if(0===h)Y(l).invalidFormat=!0,l._d=new Date(NaN);else{for(o=0;o<h;o++)m=0,u=!1,d=Z({},l),null!=l._useUTC&&(d._useUTC=l._useUTC),d._f=l._f[o],Fa(d),G(d)&&(u=!0),m=(m+=Y(d).charsLeftOver)+10*Y(d).unusedTokens.length,Y(d).score=m,M?m<i&&(i=m,_=d):(null==i||m<i||u)&&(i=m,_=d,u)&&(M=!0);I(l,_||d)}}else if(r)Fa(e);else if(L(r=(n=e)._i))n._d=new Date(c.now());else R(r)?n._d=new Date(r.valueOf()):"string"==typeof r?(t=n,null!==(a=va.exec(t._i))?t._d=new Date(+a[1]):(Pa(t),!1===t._isValid&&(delete t._isValid,Wa(t),!1===t._isValid)&&(delete t._isValid,t._strict?t._isValid=!1:c.createFromInputFallback(t)))):F(r)?(n._a=C(r.slice(0),function(e){return parseInt(e,10)}),Ea(n)):z(r)?(a=n)._d||(s=void 0===(t=he(a._i)).day?t.date:t.day,a._a=C([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ea(a)):J(r)?n._d=new Date(r):c.createFromInputFallback(n);return G(e)||(e._d=null),e}function Na(e,a,t,s,n){var r={};return!0!==a&&!1!==a||(s=a,a=void 0),!0!==t&&!1!==t||(s=t,t=void 0),(z(e)&&N(e)||F(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=n,r._l=t,r._i=e,r._f=a,r._strict=s,(n=new $(Ta(za(n=r))))._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function w(e,a,t,s){return Na(e,a,t,s,!1)}c.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),c.ISO_8601=function(){},c.RFC_2822=function(){};ye=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=w.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:V()}),_=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=w.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:V()});function Ja(e,a){var t,s;if(!(a=1===a.length&&F(a[0])?a[0]:a).length)return w();for(t=a[0],s=1;s<a.length;++s)a[s].isValid()&&!a[s][e](t)||(t=a[s]);return t}var Ra=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ca(e){var e=he(e),a=e.year||0,t=e.quarter||0,s=e.month||0,n=e.week||e.isoWeek||0,r=e.day||0,d=e.hour||0,_=e.minute||0,i=e.second||0,o=e.millisecond||0;this._isValid=function(e){var a,t,s=!1,n=Ra.length;for(a in e)if(l(e,a)&&(-1===T.call(Ra,a)||null!=e[a]&&isNaN(e[a])))return!1;for(t=0;t<n;++t)if(e[Ra[t]]){if(s)return!1;parseFloat(e[Ra[t]])!==f(e[Ra[t]])&&(s=!0)}return!0}(e),this._milliseconds=+o+1e3*i+6e4*_+1e3*d*60*60,this._days=+r+7*n,this._months=+s+3*t+12*a,this._data={},this._locale=Da(),this._bubble()}function Ia(e){return e instanceof Ca}function Ua(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ga(e,t){s(e,0,0,function(){var e=this.utcOffset(),a="+";return e<0&&(e=-e,a="-"),a+de(~~(e/60),2)+t+de(~~e%60,2)})}Ga("Z",":"),Ga("ZZ",""),h("Z",Te),h("ZZ",Te),k(["Z","ZZ"],function(e,a,t){t._useUTC=!0,t._tzm=qa(Te,e)});var Va=/([\+\-]|\d\d)/gi;function qa(e,a){var a=(a||"").match(e);return null===a?null:0===(a=60*(e=((a[a.length-1]||[])+"").match(Va)||["-",0,0])[1]+f(e[2]))?0:"+"===e[0]?a:-a}function Ba(e,a){var t;return a._isUTC?(a=a.clone(),t=(Q(e)||R(e)?e:w(e)).valueOf()-a.valueOf(),a._d.setTime(a._d.valueOf()+t),c.updateOffset(a,!1),a):w(e).local()}function Ka(e){return-Math.round(e._d.getTimezoneOffset())}function Za(){return!!this.isValid()&&this._isUTC&&0===this._offset}c.updateOffset=function(){};var $a=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Qa=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xa(e,a){var t,s=e;return Ia(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:J(e)||!isNaN(+e)?(s={},a?s[a]=+e:s.milliseconds=+e):(a=$a.exec(e))?(t="-"===a[1]?-1:1,s={y:0,d:f(a[xe])*t,h:f(a[D])*t,m:f(a[Pe])*t,s:f(a[Oe])*t,ms:f(Ua(1e3*a[We]))*t}):(a=Qa.exec(e))?(t="-"===a[1]?-1:1,s={y:et(a[2],t),M:et(a[3],t),w:et(a[4],t),d:et(a[5],t),h:et(a[6],t),m:et(a[7],t),s:et(a[8],t)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=function(e,a){var t;if(!e.isValid()||!a.isValid())return{milliseconds:0,months:0};a=Ba(a,e),e.isBefore(a)?t=at(e,a):((t=at(a,e)).milliseconds=-t.milliseconds,t.months=-t.months);return t}(w(s.from),w(s.to)),(s={}).ms=a.milliseconds,s.M=a.months),t=new Ca(s),Ia(e)&&l(e,"_locale")&&(t._locale=e._locale),Ia(e)&&l(e,"_isValid")&&(t._isValid=e._isValid),t}function et(e,a){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*a}function at(e,a){var t={};return t.months=a.month()-e.month()+12*(a.year()-e.year()),e.clone().add(t.months,"M").isAfter(a)&&--t.months,t.milliseconds=+a-+e.clone().add(t.months,"M"),t}function tt(s,n){return function(e,a){var t;return null===a||isNaN(+a)||(ae(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),t=e,e=a,a=t),st(this,Xa(e,a),s),this}}function st(e,a,t,s){var n=a._milliseconds,r=Ua(a._days),a=Ua(a._months);e.isValid()&&(s=null==s||s,a&&Be(e,Je(e,"Month")+a*t),r&&Re(e,"Date",Je(e,"Date")+r*t),n&&e._d.setTime(e._d.valueOf()+n*t),s)&&c.updateOffset(e,r||a)}Xa.fn=Ca.prototype,Xa.invalid=function(){return Xa(NaN)};Ie=tt(1,"add"),na=tt(-1,"subtract");function nt(e){return"string"==typeof e||e instanceof String}function rt(e){return Q(e)||R(e)||nt(e)||J(e)||function(a){var e=F(a),t=!1;e&&(t=0===a.filter(function(e){return!J(e)&&nt(a)}).length);return e&&t}(e)||function(e){var a,t,s=z(e)&&!N(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],d=r.length;for(a=0;a<d;a+=1)t=r[a],n=n||l(e,t);return s&&n}(e)||null==e}function dt(e,a){var t,s;return e.date()<a.date()?-dt(a,e):-((t=12*(a.year()-e.year())+(a.month()-e.month()))+(a-(s=e.clone().add(t,"months"))<0?(a-s)/(s-e.clone().add(t-1,"months")):(a-s)/(e.clone().add(1+t,"months")-s)))||0}function _t(e){return void 0===e?this._locale._abbr:(null!=(e=Da(e))&&(this._locale=e),this)}c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";da=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function it(){return this._locale}var ot=126227808e5;function mt(e,a){return(e%a+a)%a}function ut(e,a,t){return e<100&&0<=e?new Date(e+400,a,t)-ot:new Date(e,a,t).valueOf()}function lt(e,a,t){return e<100&&0<=e?Date.UTC(e+400,a,t)-ot:Date.UTC(e,a,t)}function Mt(e,a){return a.erasAbbrRegex(e)}function ht(){for(var e,a,t,s=[],n=[],r=[],d=[],_=this.eras(),i=0,o=_.length;i<o;++i)e=we(_[i].name),a=we(_[i].abbr),t=we(_[i].narrow),n.push(e),s.push(a),r.push(t),d.push(e),d.push(a),d.push(t);this._erasRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function ct(e,a){s(0,[e,e.length],0,a)}function Lt(e,a,t,s,n){var r;return null==e?aa(this,s,n).year:(r=ta(e,s,n),function(e,a,t,s,n){e=ea(e,a,t,s,n),a=Qe(e.year,0,e.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,a=r<a?r:a,t,s,n))}s("N",0,0,"eraAbbr"),s("NN",0,0,"eraAbbr"),s("NNN",0,0,"eraAbbr"),s("NNNN",0,0,"eraName"),s("NNNNN",0,0,"eraNarrow"),s("y",["y",1],"yo","eraYear"),s("y",["yy",2],0,"eraYear"),s("y",["yyy",3],0,"eraYear"),s("y",["yyyy",4],0,"eraYear"),h("N",Mt),h("NN",Mt),h("NNN",Mt),h("NNNN",function(e,a){return a.erasNameRegex(e)}),h("NNNNN",function(e,a){return a.erasNarrowRegex(e)}),k(["N","NN","NNN","NNNN","NNNNN"],function(e,a,t,s){s=t._locale.erasParse(e,s,t._strict);s?Y(t).era=s:Y(t).invalidEra=e}),h("y",ke),h("yy",ke),h("yyy",ke),h("yyyy",ke),h("yo",function(e,a){return a._eraYearOrdinalRegex||ke}),k(["y","yy","yyy","yyyy"],p),k(["yo"],function(e,a,t,s){var n;t._locale._eraYearOrdinalRegex&&(n=e.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?a[p]=t._locale.eraYearOrdinalParse(e,n):a[p]=parseInt(e,10)}),s(0,["gg",2],0,function(){return this.weekYear()%100}),s(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ct("gggg","weekYear"),ct("ggggg","weekYear"),ct("GGGG","isoWeekYear"),ct("GGGGG","isoWeekYear"),h("G",pe),h("g",pe),h("GG",r,a),h("gg",r,a),h("GGGG",i,t),h("gggg",i,t),h("GGGGG",o,n),h("ggggg",o,n),Se(["gggg","ggggg","GGGG","GGGGG"],function(e,a,t,s){a[s.substr(0,2)]=f(e)}),Se(["gg","GG"],function(e,a,t,s){a[s]=c.parseTwoDigitYear(e)}),s("Q",0,"Qo","quarter"),h("Q",Le),k("Q",function(e,a){a[je]=3*(f(e)-1)}),s("D",["DD",2],"Do","date"),h("D",r,u),h("DD",r,a),h("Do",function(e,a){return e?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),k(["D","DD"],xe),k("Do",function(e,a){a[xe]=f(e.match(r)[0])});i=Ne("Date",!0);s("DDD",["DDDD",3],"DDDo","dayOfYear"),h("DDD",fe),h("DDDD",Ye),k(["DDD","DDDD"],function(e,a,t){t._dayOfYear=f(e)}),s("m",["mm",2],0,"minute"),h("m",r,M),h("mm",r,a),k(["m","mm"],Pe);var Yt,t=Ne("Minutes",!1),o=(s("s",["ss",2],0,"second"),h("s",r,M),h("ss",r,a),k(["s","ss"],Oe),Ne("Seconds",!1));for(s("S",0,0,function(){return~~(this.millisecond()/100)}),s(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),s(0,["SSS",3],0,"millisecond"),s(0,["SSSS",4],0,function(){return 10*this.millisecond()}),s(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),s(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),s(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),s(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),s(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),h("S",fe,Le),h("SS",fe,a),h("SSS",fe,Ye),Yt="SSSS";Yt.length<=9;Yt+="S")h(Yt,ke);function yt(e,a){a[We]=f(1e3*("0."+e))}for(Yt="S";Yt.length<=9;Yt+="S")k(Yt,yt);n=Ne("Milliseconds",!1),s("z",0,0,"zoneAbbr"),s("zz",0,0,"zoneName");u=$.prototype;function ft(e){return e}u.add=Ie,u.calendar=function(e,a){1===arguments.length&&(arguments[0]?rt(arguments[0])?(e=arguments[0],a=void 0):function(e){for(var a=z(e)&&!N(e),t=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],n=0;n<s.length;n+=1)t=t||l(e,s[n]);return a&&t}(arguments[0])&&(a=arguments[0],e=void 0):a=e=void 0);var e=e||w(),t=Ba(e,this).startOf("day"),t=c.calendarFormat(this,t)||"sameElse",a=a&&(te(a[t])?a[t].call(this,e):a[t]);return this.format(a||this.localeData().calendar(t,this,w(e)))},u.clone=function(){return new $(this)},u.diff=function(e,a,t){var s,n,r;if(!this.isValid())return NaN;if(!(s=Ba(e,this)).isValid())return NaN;switch(n=6e4*(s.utcOffset()-this.utcOffset()),a=d(a)){case"year":r=dt(this,s)/12;break;case"month":r=dt(this,s);break;case"quarter":r=dt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-n)/864e5;break;case"week":r=(this-s-n)/6048e5;break;default:r=this-s}return t?r:y(r)},u.endOf=function(e){var a,t;if(void 0!==(e=d(e))&&"millisecond"!==e&&this.isValid()){switch(t=this._isUTC?lt:ut,e){case"year":a=t(this.year()+1,0,1)-1;break;case"quarter":a=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=t(this.year(),this.month()+1,1)-1;break;case"week":a=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=36e5-mt(a+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":a=this._d.valueOf(),a+=6e4-mt(a,6e4)-1;break;case"second":a=this._d.valueOf(),a+=1e3-mt(a,1e3)-1;break}this._d.setTime(a),c.updateOffset(this,!0)}return this},u.format=function(e){return e=e||(this.isUtc()?c.defaultFormatUtc:c.defaultFormat),e=ue(this,e),this.localeData().postformat(e)},u.from=function(e,a){return this.isValid()&&(Q(e)&&e.isValid()||w(e).isValid())?Xa({to:this,from:e}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()},u.fromNow=function(e){return this.from(w(),e)},u.to=function(e,a){return this.isValid()&&(Q(e)&&e.isValid()||w(e).isValid())?Xa({from:this,to:e}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()},u.toNow=function(e){return this.to(w(),e)},u.get=function(e){return te(this[e=d(e)])?this[e]():this},u.invalidAt=function(){return Y(this).overflow},u.isAfter=function(e,a){return e=Q(e)?e:w(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(a=d(a)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(a).valueOf())},u.isBefore=function(e,a){return e=Q(e)?e:w(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(a=d(a)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(a).valueOf()<e.valueOf())},u.isBetween=function(e,a,t,s){return e=Q(e)?e:w(e),a=Q(a)?a:w(a),!!(this.isValid()&&e.isValid()&&a.isValid())&&("("===(s=s||"()")[0]?this.isAfter(e,t):!this.isBefore(e,t))&&(")"===s[1]?this.isBefore(a,t):!this.isAfter(a,t))},u.isSame=function(e,a){var e=Q(e)?e:w(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(a=d(a)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(a).valueOf()<=e&&e<=this.clone().endOf(a).valueOf()))},u.isSameOrAfter=function(e,a){return this.isSame(e,a)||this.isAfter(e,a)},u.isSameOrBefore=function(e,a){return this.isSame(e,a)||this.isBefore(e,a)},u.isValid=function(){return G(this)},u.lang=da,u.locale=_t,u.localeData=it,u.max=_,u.min=ye,u.parsingFlags=function(){return I({},Y(this))},u.set=function(e,a){if("object"==typeof e)for(var t=function(e){var a,t=[];for(a in e)l(e,a)&&t.push({unit:a,priority:ce[a]});return t.sort(function(e,a){return e.priority-a.priority}),t}(e=he(e)),s=t.length,n=0;n<s;n++)this[t[n].unit](e[t[n].unit]);else if(te(this[e=d(e)]))return this[e](a);return this},u.startOf=function(e){var a,t;if(void 0!==(e=d(e))&&"millisecond"!==e&&this.isValid()){switch(t=this._isUTC?lt:ut,e){case"year":a=t(this.year(),0,1);break;case"quarter":a=t(this.year(),this.month()-this.month()%3,1);break;case"month":a=t(this.year(),this.month(),1);break;case"week":a=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=t(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=mt(a+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":a=this._d.valueOf(),a-=mt(a,6e4);break;case"second":a=this._d.valueOf(),a-=mt(a,1e3);break}this._d.setTime(a),c.updateOffset(this,!0)}return this},u.subtract=na,u.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},u.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},u.toDate=function(){return new Date(this.valueOf())},u.toISOString=function(e){var a;return this.isValid()?(a=(e=!0!==e)?this.clone().utc():this).year()<0||9999<a.year()?ue(a,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):te(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ue(a,"Z")):ue(a,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ"):null},u.inspect=function(){var e,a,t;return this.isValid()?(a="moment",e="",this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),a="["+a+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(a+t+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))):"moment.invalid(/* "+this._i+" */)"},"undefined"!=typeof Symbol&&null!=Symbol.for&&(u[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},u.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},u.eraName=function(){for(var e,a=this.localeData().eras(),t=0,s=a.length;t<s;++t){if(e=this.clone().startOf("day").valueOf(),a[t].since<=e&&e<=a[t].until)return a[t].name;if(a[t].until<=e&&e<=a[t].since)return a[t].name}return""},u.eraNarrow=function(){for(var e,a=this.localeData().eras(),t=0,s=a.length;t<s;++t){if(e=this.clone().startOf("day").valueOf(),a[t].since<=e&&e<=a[t].until)return a[t].narrow;if(a[t].until<=e&&e<=a[t].since)return a[t].narrow}return""},u.eraAbbr=function(){for(var e,a=this.localeData().eras(),t=0,s=a.length;t<s;++t){if(e=this.clone().startOf("day").valueOf(),a[t].since<=e&&e<=a[t].until)return a[t].abbr;if(a[t].until<=e&&e<=a[t].since)return a[t].abbr}return""},u.eraYear=function(){for(var e,a,t=this.localeData().eras(),s=0,n=t.length;s<n;++s)if(e=t[s].since<=t[s].until?1:-1,a=this.clone().startOf("day").valueOf(),t[s].since<=a&&a<=t[s].until||t[s].until<=a&&a<=t[s].since)return(this.year()-c(t[s].since).year())*e+t[s].offset;return this.year()},u.year=ze,u.isLeapYear=function(){return ve(this.year())},u.weekYear=function(e){return Lt.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},u.isoWeekYear=function(e){return Lt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},u.quarter=u.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},u.month=Ke,u.daysInMonth=function(){return Ce(this.year(),this.month())},u.week=u.weeks=function(e){var a=this.localeData().week(this);return null==e?a:this.add(7*(e-a),"d")},u.isoWeek=u.isoWeeks=function(e){var a=aa(this,1,4).week;return null==e?a:this.add(7*(e-a),"d")},u.weeksInYear=function(){var e=this.localeData()._week;return ta(this.year(),e.dow,e.doy)},u.weeksInWeekYear=function(){var e=this.localeData()._week;return ta(this.weekYear(),e.dow,e.doy)},u.isoWeeksInYear=function(){return ta(this.year(),1,4)},u.isoWeeksInISOWeekYear=function(){return ta(this.isoWeekYear(),1,4)},u.date=i,u.day=u.days=function(e){var a,t,s;return this.isValid()?(a=Je(this,"Day"),null!=e?(t=e,s=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=s.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-a,"d")):a):null!=e?this:NaN},u.weekday=function(e){var a;return this.isValid()?(a=(this.day()+7-this.localeData()._week.dow)%7,null==e?a:this.add(e-a,"d")):null!=e?this:NaN},u.isoWeekday=function(e){var a,t;return this.isValid()?null!=e?(a=e,t=this.localeData(),t="string"==typeof a?t.weekdaysParse(a)%7||7:isNaN(a)?null:a,this.day(this.day()%7?t:t-7)):this.day()||7:null!=e?this:NaN},u.dayOfYear=function(e){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?a:this.add(e-a,"d")},u.hour=u.hours=m,u.minute=u.minutes=t,u.second=u.seconds=o,u.millisecond=u.milliseconds=n,u.utcOffset=function(e,a,t){var s,n=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?n:Ka(this);if("string"==typeof e){if(null===(e=qa(Te,e)))return this}else Math.abs(e)<16&&!t&&(e*=60);return!this._isUTC&&a&&(s=Ka(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),n!==e&&(!a||this._changeInProgress?st(this,Xa(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this},u.utc=function(e){return this.utcOffset(0,e)},u.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e)&&this.subtract(Ka(this),"m"),this},u.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=qa(De,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},u.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?w(e).utcOffset():0,(this.utcOffset()-e)%60==0)},u.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},u.isLocal=function(){return!!this.isValid()&&!this._isUTC},u.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},u.isUtc=Za,u.isUTC=Za,u.zoneAbbr=function(){return this._isUTC?"UTC":""},u.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},u.dates=e("dates accessor is deprecated. Use date instead.",i),u.months=e("months accessor is deprecated. Use month instead",Ke),u.years=e("years accessor is deprecated. Use year instead",ze),u.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,a){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,a),this):-this.utcOffset()}),u.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var e,a;return L(this._isDSTShifted)&&(Z(e={},this),(e=za(e))._a?(a=(e._isUTC?U:w)(e._a),this._isDSTShifted=this.isValid()&&0<function(e,a,t){for(var s=Math.min(e.length,a.length),n=Math.abs(e.length-a.length),r=0,d=0;d<s;d++)(t&&e[d]!==a[d]||!t&&f(e[d])!==f(a[d]))&&r++;return r+n}(e._a,a.toArray())):this._isDSTShifted=!1),this._isDSTShifted});M=ne.prototype;function kt(e,a,t,s){var n=Da(),s=U().set(s,a);return n[t](s,e)}function pt(e,a,t){if(J(e)&&(a=e,e=void 0),e=e||"",null!=a)return kt(e,a,t,"month");for(var s=[],n=0;n<12;n++)s[n]=kt(e,n,t,"month");return s}function Dt(e,a,t,s){a=("boolean"==typeof e?J(a)&&(t=a,a=void 0):(a=e,e=!1,J(t=a)&&(t=a,a=void 0)),a||"");var n,r=Da(),d=e?r._week.dow:0,_=[];if(null!=t)return kt(a,(t+d)%7,s,"day");for(n=0;n<7;n++)_[n]=kt(a,(n+d)%7,s,"day");return _}M.calendar=function(e,a,t){return te(e=this._calendar[e]||this._calendar.sameElse)?e.call(a,t):e},M.longDateFormat=function(e){var a=this._longDateFormat[e],t=this._longDateFormat[e.toUpperCase()];return a||!t?a:(this._longDateFormat[e]=t.match(_e).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},M.invalidDate=function(){return this._invalidDate},M.ordinal=function(e){return this._ordinal.replace("%d",e)},M.preparse=ft,M.postformat=ft,M.relativeTime=function(e,a,t,s){var n=this._relativeTime[t];return te(n)?n(e,a,t,s):n.replace(/%d/i,e)},M.pastFuture=function(e,a){return te(e=this._relativeTime[0<e?"future":"past"])?e(a):e.replace(/%s/i,a)},M.set=function(e){var a,t;for(t in e)l(e,t)&&(te(a=e[t])?this[t]=a:this["_"+t]=a);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},M.eras=function(e,a){for(var t,s=this._eras||Da("en")._eras,n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":t=c(s[n].since).startOf("day"),s[n].since=t.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":t=c(s[n].until).startOf("day").valueOf(),s[n].until=t.valueOf();break}}return s},M.erasParse=function(e,a,t){var s,n,r,d,_,i=this.eras();for(e=e.toUpperCase(),s=0,n=i.length;s<n;++s)if(r=i[s].name.toUpperCase(),d=i[s].abbr.toUpperCase(),_=i[s].narrow.toUpperCase(),t)switch(a){case"N":case"NN":case"NNN":if(d===e)return i[s];break;case"NNNN":if(r===e)return i[s];break;case"NNNNN":if(_===e)return i[s];break}else if(0<=[r,d,_].indexOf(e))return i[s]},M.erasConvertYear=function(e,a){var t=e.since<=e.until?1:-1;return void 0===a?c(e.since).year():c(e.since).year()+(a-e.offset)*t},M.erasAbbrRegex=function(e){return l(this,"_erasAbbrRegex")||ht.call(this),e?this._erasAbbrRegex:this._erasRegex},M.erasNameRegex=function(e){return l(this,"_erasNameRegex")||ht.call(this),e?this._erasNameRegex:this._erasRegex},M.erasNarrowRegex=function(e){return l(this,"_erasNarrowRegex")||ht.call(this),e?this._erasNarrowRegex:this._erasRegex},M.months=function(e,a){return e?(F(this._months)?this._months:this._months[(this._months.isFormat||Ge).test(a)?"format":"standalone"])[e.month()]:F(this._months)?this._months:this._months.standalone},M.monthsShort=function(e,a){return e?(F(this._monthsShort)?this._monthsShort:this._monthsShort[Ge.test(a)?"format":"standalone"])[e.month()]:F(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},M.monthsParse=function(e,a,t){var s,n;if(this._monthsParseExact)return function(e,a,t){var s,n,r,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=U([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return t?"MMM"===a?-1!==(n=T.call(this._shortMonthsParse,e))?n:null:-1!==(n=T.call(this._longMonthsParse,e))?n:null:"MMM"===a?-1!==(n=T.call(this._shortMonthsParse,e))||-1!==(n=T.call(this._longMonthsParse,e))?n:null:-1!==(n=T.call(this._longMonthsParse,e))||-1!==(n=T.call(this._shortMonthsParse,e))?n:null}.call(this,e,a,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(n=U([2e3,s]),t&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),t||this._monthsParse[s]||(n="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(n.replace(".",""),"i")),t&&"MMMM"===a&&this._longMonthsParse[s].test(e))return s;if(t&&"MMM"===a&&this._shortMonthsParse[s].test(e))return s;if(!t&&this._monthsParse[s].test(e))return s}},M.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ze.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=qe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},M.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ze.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Ve),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},M.week=function(e){return aa(e,this._week.dow,this._week.doy).week},M.firstDayOfYear=function(){return this._week.doy},M.firstDayOfWeek=function(){return this._week.dow},M.weekdays=function(e,a){return a=F(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(a)?"format":"standalone"],!0===e?sa(a,this._week.dow):e?a[e.day()]:a},M.weekdaysMin=function(e){return!0===e?sa(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},M.weekdaysShort=function(e){return!0===e?sa(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},M.weekdaysParse=function(e,a,t){var s,n;if(this._weekdaysParseExact)return function(e,a,t){var s,n,r,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=U([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return t?"dddd"===a?-1!==(n=T.call(this._weekdaysParse,e))?n:null:"ddd"===a?-1!==(n=T.call(this._shortWeekdaysParse,e))?n:null:-1!==(n=T.call(this._minWeekdaysParse,e))?n:null:"dddd"===a?-1!==(n=T.call(this._weekdaysParse,e))||-1!==(n=T.call(this._shortWeekdaysParse,e))||-1!==(n=T.call(this._minWeekdaysParse,e))?n:null:"ddd"===a?-1!==(n=T.call(this._shortWeekdaysParse,e))||-1!==(n=T.call(this._weekdaysParse,e))||-1!==(n=T.call(this._minWeekdaysParse,e))?n:null:-1!==(n=T.call(this._minWeekdaysParse,e))||-1!==(n=T.call(this._weekdaysParse,e))||-1!==(n=T.call(this._shortWeekdaysParse,e))?n:null}.call(this,e,a,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(n=U([2e3,1]).day(s),t&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(n="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[s]=new RegExp(n.replace(".",""),"i")),t&&"dddd"===a&&this._fullWeekdaysParse[s].test(e))return s;if(t&&"ddd"===a&&this._shortWeekdaysParse[s].test(e))return s;if(t&&"dd"===a&&this._minWeekdaysParse[s].test(e))return s;if(!t&&this._weekdaysParse[s].test(e))return s}},M.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ma.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=_a),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},M.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ma.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ia),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},M.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ma.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=oa),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},M.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},M.meridiem=function(e,a,t){return 11<e?t?"pm":"PM":t?"am":"AM"},ka("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var a=e%10;return e+(1===f(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")}}),c.lang=e("moment.lang is deprecated. Use moment.locale instead.",ka),c.langData=e("moment.langData is deprecated. Use moment.localeData instead.",Da);var Tt=Math.abs;function gt(e,a,t,s){a=Xa(a,t);return e._milliseconds+=s*a._milliseconds,e._days+=s*a._days,e._months+=s*a._months,e._bubble()}function wt(e){return e<0?Math.floor(e):Math.ceil(e)}function bt(e){return 4800*e/146097}function Ht(e){return 146097*e/4800}function St(e){return function(){return this.as(e)}}Le=St("ms"),a=St("s"),fe=St("m"),Ye=St("h"),Ie=St("d"),_=St("w"),ye=St("M"),na=St("Q"),m=St("y"),t=Le;function vt(e){return function(){return this.isValid()?this._data[e]:NaN}}var o=vt("milliseconds"),n=vt("seconds"),i=vt("minutes"),ze=vt("hours"),M=vt("days"),jt=vt("months"),xt=vt("years");var Pt=Math.round,Ot={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wt(e,a,t,s){var n=Xa(e).abs(),r=Pt(n.as("s")),d=Pt(n.as("m")),_=Pt(n.as("h")),i=Pt(n.as("d")),o=Pt(n.as("M")),m=Pt(n.as("w")),n=Pt(n.as("y")),r=(r<=t.ss?["s",r]:r<t.s&&["ss",r])||(d<=1?["m"]:d<t.m&&["mm",d])||(_<=1?["h"]:_<t.h&&["hh",_])||(i<=1?["d"]:i<t.d&&["dd",i]);return(r=(r=null!=t.w?r||(m<=1?["w"]:m<t.w&&["ww",m]):r)||(o<=1?["M"]:o<t.M&&["MM",o])||(n<=1?["y"]:["yy",n]))[2]=a,r[3]=0<+e,r[4]=s,function(e,a,t,s,n){return n.relativeTime(a||1,!!t,e,s)}.apply(null,r)}var At=Math.abs;function Et(e){return(0<e)-(e<0)||+e}function Ft(){var e,a,t,s,n,r,d,_,i,o,m;return this.isValid()?(e=At(this._milliseconds)/1e3,a=At(this._days),t=At(this._months),(_=this.asSeconds())?(s=y(e/60),n=y(s/60),e%=60,s%=60,r=y(t/12),t%=12,d=e?e.toFixed(3).replace(/\.?0+$/,""):"",i=Et(this._months)!==Et(_)?"-":"",o=Et(this._days)!==Et(_)?"-":"",m=Et(this._milliseconds)!==Et(_)?"-":"",(_<0?"-":"")+"P"+(r?i+r+"Y":"")+(t?i+t+"M":"")+(a?o+a+"D":"")+(n||s||e?"T":"")+(n?m+n+"H":"")+(s?m+s+"M":"")+(e?m+d+"S":"")):"P0D"):this.localeData().invalidDate()}function zt(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5}function b(d){return function(e,a,t,s){var n=zt(e),r=Rt[d][zt(e)];return(r=2===n?r[a?0:1]:r).replace(/%d/i,e)}}function Nt(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5}function H(d){return function(e,a,t,s){var n=Nt(e),r=It[d][Nt(e)];return(r=2===n?r[a?0:1]:r).replace(/%d/i,e)}}function Jt(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5}function S(d){return function(e,a,t,s){var n=Jt(e),r=Zt[d][Jt(e)];return(r=2===n?r[a?0:1]:r).replace(/%d/i,e)}}var v=Ca.prototype,Rt=(v.isValid=function(){return this._isValid},v.abs=function(){var e=this._data;return this._milliseconds=Tt(this._milliseconds),this._days=Tt(this._days),this._months=Tt(this._months),e.milliseconds=Tt(e.milliseconds),e.seconds=Tt(e.seconds),e.minutes=Tt(e.minutes),e.hours=Tt(e.hours),e.months=Tt(e.months),e.years=Tt(e.years),this},v.add=function(e,a){return gt(this,e,a,1)},v.subtract=function(e,a){return gt(this,e,a,-1)},v.as=function(e){if(!this.isValid())return NaN;var a,t,s=this._milliseconds;if("month"===(e=d(e))||"quarter"===e||"year"===e)switch(a=this._days+s/864e5,t=this._months+bt(a),e){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(a=this._days+Math.round(Ht(this._months)),e){case"week":return a/7+s/6048e5;case"day":return a+s/864e5;case"hour":return 24*a+s/36e5;case"minute":return 1440*a+s/6e4;case"second":return 86400*a+s/1e3;case"millisecond":return Math.floor(864e5*a)+s;default:throw new Error("Unknown unit "+e)}},v.asMilliseconds=Le,v.asSeconds=a,v.asMinutes=fe,v.asHours=Ye,v.asDays=Ie,v.asWeeks=_,v.asMonths=ye,v.asQuarters=na,v.asYears=m,v.valueOf=t,v._bubble=function(){var e=this._milliseconds,a=this._days,t=this._months,s=this._data;return 0<=e&&0<=a&&0<=t||e<=0&&a<=0&&t<=0||(e+=864e5*wt(Ht(t)+a),t=a=0),s.milliseconds=e%1e3,e=y(e/1e3),s.seconds=e%60,e=y(e/60),s.minutes=e%60,e=y(e/60),s.hours=e%24,a+=y(e/24),t+=e=y(bt(a)),a-=wt(Ht(e)),e=y(t/12),t%=12,s.days=a,s.months=t,s.years=e,this},v.clone=function(){return Xa(this)},v.get=function(e){return e=d(e),this.isValid()?this[e+"s"]():NaN},v.milliseconds=o,v.seconds=n,v.minutes=i,v.hours=ze,v.days=M,v.weeks=function(){return y(this.days()/7)},v.months=jt,v.years=xt,v.humanize=function(e,a){var t,s;return this.isValid()?(t=!1,s=Ot,"object"==typeof e&&(a=e,e=!1),"boolean"==typeof e&&(t=e),"object"==typeof a&&(s=Object.assign({},Ot,a),null!=a.s)&&null==a.ss&&(s.ss=a.s-1),e=this.localeData(),a=Wt(this,!t,s,e),t&&(a=e.pastFuture(+this,a)),e.postformat(a)):this.localeData().invalidDate()},v.toISOString=Ft,v.toString=Ft,v.toJSON=Ft,v.locale=_t,v.localeData=it,v.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ft),v.lang=da,s("X",0,0,"unix"),s("x",0,0,"valueOf"),h("x",pe),h("X",/[+-]?\d+(\.\d{1,3})?/),k("X",function(e,a,t){t._d=new Date(1e3*parseFloat(e))}),k("x",function(e,a,t){t._d=new Date(f(e))}),c.version="2.30.1",E=w,c.fn=u,c.min=function(){return Ja("isBefore",[].slice.call(arguments,0))},c.max=function(){return Ja("isAfter",[].slice.call(arguments,0))},c.now=function(){return Date.now?Date.now():+new Date},c.utc=U,c.unix=function(e){return w(1e3*e)},c.months=function(e,a){return pt(e,a,"months")},c.isDate=R,c.locale=ka,c.invalid=V,c.duration=Xa,c.isMoment=Q,c.weekdays=function(e,a,t){return Dt(e,a,t,"weekdays")},c.parseZone=function(){return w.apply(null,arguments).parseZone()},c.localeData=Da,c.isDuration=Ia,c.monthsShort=function(e,a){return pt(e,a,"monthsShort")},c.weekdaysMin=function(e,a,t){return Dt(e,a,t,"weekdaysMin")},c.defineLocale=pa,c.updateLocale=function(e,a){var t,s;return null!=a?(s=ca,null!=g[e]&&null!=g[e].parentLocale?g[e].set(se(g[e]._config,a)):(a=se(s=null!=(t=fa(e))?t._config:s,a),null==t&&(a.abbr=e),(s=new ne(a)).parentLocale=g[e],g[e]=s),ka(e)):null!=g[e]&&(null!=g[e].parentLocale?(g[e]=g[e].parentLocale,e===ka()&&ka(e)):null!=g[e]&&delete g[e]),g[e]},c.locales=function(){return re(g)},c.weekdaysShort=function(e,a,t){return Dt(e,a,t,"weekdaysShort")},c.normalizeUnits=d,c.relativeTimeRounding=function(e){return void 0===e?Pt:"function"==typeof e&&(Pt=e,!0)},c.relativeTimeThreshold=function(e,a){return void 0!==Ot[e]&&(void 0===a?Ot[e]:(Ot[e]=a,"s"===e&&(Ot.ss=a-1),!0))},c.calendarFormat=function(e,a){return(e=e.diff(a,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},c.prototype=u,c.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},c.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,a,t){return e<12?t?"vm":"VM":t?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),{s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]}),Le=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],Ct=(c.defineLocale("ar-dz",{months:Le,monthsShort:Le,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,t){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:b("s"),ss:b("s"),m:b("m"),mm:b("m"),h:b("h"),hh:b("h"),d:b("d"),dd:b("d"),M:b("M"),MM:b("M"),y:b("y"),yy:b("y")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:0,doy:4}}),c.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}}),{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"}),It={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},a=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],Ut=(c.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,t){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:H("s"),ss:H("s"),m:H("m"),mm:H("m"),h:H("h"),hh:H("h"),d:H("d"),dd:H("d"),M:H("M"),MM:H("M"),y:H("y"),yy:H("y")},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Ct[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}}),c.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}}),{1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"}),Gt={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},Vt=(c.defineLocale("ar-ps",{months:"\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a_\u0634\u0628\u0627\u0637_\u0622\u0630\u0627\u0631_\u0646\u064a\u0633\u0627\u0646_\u0623\u064a\u0651\u0627\u0631_\u062d\u0632\u064a\u0631\u0627\u0646_\u062a\u0645\u0651\u0648\u0632_\u0622\u0628_\u0623\u064a\u0644\u0648\u0644_\u062a\u0634\u0631\u064a \u0627\u0644\u0623\u0648\u0651\u0644_\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a_\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0651\u0644".split("_"),monthsShort:"\u0643\u0662_\u0634\u0628\u0627\u0637_\u0622\u0630\u0627\u0631_\u0646\u064a\u0633\u0627\u0646_\u0623\u064a\u0651\u0627\u0631_\u062d\u0632\u064a\u0631\u0627\u0646_\u062a\u0645\u0651\u0648\u0632_\u0622\u0628_\u0623\u064a\u0644\u0648\u0644_\u062a\u0661_\u062a\u0662_\u0643\u0661".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,t){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(e){return e.replace(/[\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return Gt[e]}).split("").reverse().join("").replace(/[\u0661\u0662](?![\u062a\u0643])/g,function(e){return Gt[e]}).split("").reverse().join("").replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Ut[e]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}}),{1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"}),qt={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},Bt=(c.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,t){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return qt[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Vt[e]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}}),c.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}}),{1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"}),Kt={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},Zt={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},fe=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],$t=(c.defineLocale("ar",{months:fe,monthsShort:fe,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,t){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:S("s"),ss:S("s"),m:S("m"),mm:S("m"),h:S("h"),hh:S("h"),d:S("d"),dd:S("d"),M:S("M"),MM:S("M"),y:S("y"),yy:S("y")},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return Kt[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Bt[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}}),{1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"});function Qt(e,a,t){return"m"===t?a?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===t?a?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":e+" "+(e=+e,a=(a={ss:a?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:a?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:a?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[t]).split("_"),e%10==1&&e%100!=11?a[0]:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?a[1]:a[2])}c.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(e){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(e)},meridiem:function(e,a,t){return e<4?"gec\u0259":e<12?"s\u0259h\u0259r":e<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(e){var a;return 0===e?e+"-\u0131nc\u0131":e+($t[a=e%10]||$t[e%100-a]||$t[100<=e?100:null])},week:{dow:1,doy:7}}),c.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:Qt,mm:Qt,h:Qt,hh:Qt,d:"\u0434\u0437\u0435\u043d\u044c",dd:Qt,M:"\u043c\u0435\u0441\u044f\u0446",MM:Qt,y:"\u0433\u043e\u0434",yy:Qt},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(e)},meridiem:function(e,a,t){return e<4?"\u043d\u043e\u0447\u044b":e<12?"\u0440\u0430\u043d\u0456\u0446\u044b":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(e,a){switch(a){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-\u044b":e+"-\u0456";case"D":return e+"-\u0433\u0430";default:return e}},week:{dow:1,doy:7}}),c.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var a=e%10,t=e%100;return 0===e?e+"-\u0435\u0432":0==t?e+"-\u0435\u043d":10<t&&t<20?e+"-\u0442\u0438":1==a?e+"-\u0432\u0438":2==a?e+"-\u0440\u0438":7==a||8==a?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}}),c.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var Xt={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},es={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"},as=(c.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return es[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Xt[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u09b0\u09be\u09a4"===a?e<4?e:e+12:"\u09ad\u09cb\u09b0"===a||"\u09b8\u0995\u09be\u09b2"===a?e:"\u09a6\u09c1\u09aa\u09c1\u09b0"===a?3<=e?e:e+12:"\u09ac\u09bf\u0995\u09be\u09b2"===a||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===a?e+12:void 0},meridiem:function(e,a,t){return e<4?"\u09b0\u09be\u09a4":e<6?"\u09ad\u09cb\u09b0":e<12?"\u09b8\u0995\u09be\u09b2":e<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":e<18?"\u09ac\u09bf\u0995\u09be\u09b2":e<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}}),{1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"}),ts={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"},ss=(c.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return ts[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return as[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u09b0\u09be\u09a4"===a&&4<=e||"\u09a6\u09c1\u09aa\u09c1\u09b0"===a&&e<5||"\u09ac\u09bf\u0995\u09be\u09b2"===a?e+12:e},meridiem:function(e,a,t){return e<4?"\u09b0\u09be\u09a4":e<10?"\u09b8\u0995\u09be\u09b2":e<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":e<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}}),{1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"}),ns={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};function rs(e,a,t){return e+" "+(t={mm:"munutenn",MM:"miz",dd:"devezh"}[t],2!==(e=e)?t:void 0!==(e={m:"v",b:"v",d:"z"})[(t=t).charAt(0)]?e[t.charAt(0)]+t.substring(1):t)}c.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(e){return e.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(e){return ns[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ss[e]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===a&&4<=e||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===a&&e<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===a?e+12:e},meridiem:function(e,a,t){return e<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":e<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":e<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":e<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}});Ye=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],Ie=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,_=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];function ds(e,a,t){var s=e+" ";switch(t){case"ss":return s+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"mm":return s+=1!==e&&(2===e||3===e||4===e)?"minute":"minuta";case"h":return"jedan sat";case"hh":return s+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return s+=1===e?"dan":"dana";case"MM":return s+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return s+=1!==e&&(2===e||3===e||4===e)?"godine":"godina"}}c.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:_,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:_,monthsRegex:Ie,monthsShortRegex:Ie,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:Ye,longMonthsParse:Ye,shortMonthsParse:Ye,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:rs,h:"un eur",hh:"%d eur",d:"un devezh",dd:rs,M:"ur miz",MM:rs,y:"ur bloaz",yy:function(e){switch(function e(a){if(9<a)return e(a%10);return a}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(e){return e+(1===e?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,a,t){return e<12?"a.m.":"g.m."}}),c.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:ds,m:function(e,a,t,s){switch(t){case"m":return a?"jedna minuta":s?"jednu minutu":"jedne minute"}},mm:ds,h:ds,hh:ds,d:"dan",dd:ds,M:"mjesec",MM:ds,y:"godinu",yy:ds},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),c.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,a){return e+("w"!==a&&"W"!==a?1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8":"a")},week:{dow:1,doy:4}});ye={standalone:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),format:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},na="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),m=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],t=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function _s(e){return 1<e&&e<5&&1!=~~(e/10)}function j(e,a,t,s){var n=e+" ";switch(t){case"s":return a||s?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return a||s?n+(_s(e)?"sekundy":"sekund"):n+"sekundami";case"m":return a?"minuta":s?"minutu":"minutou";case"mm":return a||s?n+(_s(e)?"minuty":"minut"):n+"minutami";case"h":return a?"hodina":s?"hodinu":"hodinou";case"hh":return a||s?n+(_s(e)?"hodiny":"hodin"):n+"hodinami";case"d":return a||s?"den":"dnem";case"dd":return a||s?n+(_s(e)?"dny":"dn\xed"):n+"dny";case"M":return a||s?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return a||s?n+(_s(e)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):n+"m\u011bs\xedci";case"y":return a||s?"rok":"rokem";case"yy":return a||s?n+(_s(e)?"roky":"let"):n+"lety"}}function is(e,a,t,s){e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return a?e[t][0]:e[t][1]}function os(e,a,t,s){e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return a?e[t][0]:e[t][1]}function ms(e,a,t,s){e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return a?e[t][0]:e[t][1]}c.defineLocale("cs",{months:ye,monthsShort:na,monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:m,longMonthsParse:m,shortMonthsParse:m,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:j,ss:j,m:j,mm:j,h:j,hh:j,d:j,dd:j,M:j,MM:j,y:j,yy:j},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(e){return e+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(e)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}}),c.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var a="";return 20<e?a=40===e||50===e||60===e||80===e||100===e?"fed":"ain":0<e&&(a=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+a},week:{dow:1,doy:4}}),c.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:is,mm:"%d Minuten",h:is,hh:"%d Stunden",d:is,dd:is,w:is,ww:"%d Wochen",M:is,MM:is,y:is,yy:is},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:os,mm:"%d Minuten",h:os,hh:"%d Stunden",d:os,dd:os,w:os,ww:"%d Wochen",M:os,MM:os,y:os,yy:os},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:ms,mm:"%d Minuten",h:ms,hh:"%d Stunden",d:ms,dd:ms,w:ms,ww:"%d Wochen",M:ms,MM:ms,y:ms,yy:ms},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});o=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],n=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];c.defineLocale("dv",{months:o,monthsShort:o,weekdays:n,weekdaysShort:n,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(e){return"\u0789\u078a"===e},meridiem:function(e,a,t){return e<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:7,doy:12}}),c.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(e,a){return e?("string"==typeof a&&/D/.test(a.substring(0,a.indexOf("MMMM")))?this._monthsGenitiveEl:this._monthsNominativeEl)[e.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(e,a,t){return 11<e?t?"\u03bc\u03bc":"\u039c\u039c":t?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(e){return"\u03bc"===(e+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,a){var t,e=this._calendarEl[e],s=a&&a.hours();return t=e,(e="undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)?e.apply(a):e).replace("{}",s%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}}),c.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:0,doy:4}}),c.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")}}),c.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),c.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),c.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")}}),c.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:0,doy:6}}),c.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),c.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),c.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,a,t){return 11<e?t?"p.t.m.":"P.T.M.":t?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var us="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ls="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ze=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,Ms=(c.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?ls:us)[e.month()]:us},monthsRegex:ze,monthsShortRegex:ze,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),hs="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),M=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],jt=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,cs=(c.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?hs:Ms)[e.month()]:Ms},monthsRegex:jt,monthsShortRegex:jt,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:M,longMonthsParse:M,shortMonthsParse:M,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),Ls="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),xt=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],v=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,Ys=(c.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?Ls:cs)[e.month()]:cs},monthsRegex:v,monthsShortRegex:v,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:xt,longMonthsParse:xt,shortMonthsParse:xt,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),ys="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),da=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],pe=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;function fs(e,a,t,s){e={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[e+" minuti",e+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[e+" tunni",e+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[e+" kuu",e+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[e+" aasta",e+" aastat"]};return a?e[t][2]||e[t][1]:s?e[t][0]:e[t][1]}c.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?ys:Ys)[e.month()]:Ys},monthsRegex:pe,monthsShortRegex:pe,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:da,longMonthsParse:da,shortMonthsParse:da,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"}),c.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:fs,ss:fs,m:fs,mm:fs,h:fs,hh:fs,d:fs,dd:"%d p\xe4eva",M:fs,MM:fs,y:fs,yy:fs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var ks={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},ps={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"},Ds=(c.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(e){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(e)},meridiem:function(e,a,t){return e<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/[\u06f0-\u06f9]/g,function(e){return ps[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return ks[e]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}}),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" ")),Ts=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",Ds[7],Ds[8],Ds[9]];function x(e,a,t,s){var n="";switch(t){case"s":return s?"muutaman sekunnin":"muutama sekunti";case"ss":n=s?"sekunnin":"sekuntia";break;case"m":return s?"minuutin":"minuutti";case"mm":n=s?"minuutin":"minuuttia";break;case"h":return s?"tunnin":"tunti";case"hh":n=s?"tunnin":"tuntia";break;case"d":return s?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":n=s?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return s?"kuukauden":"kuukausi";case"MM":n=s?"kuukauden":"kuukautta";break;case"y":return s?"vuoden":"vuosi";case"yy":n=s?"vuoden":"vuotta";break}return t=s,n=((e=e)<10?(t?Ts:Ds)[e]:e)+" "+n}c.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:x,ss:x,m:x,mm:x,h:x,hh:x,d:x,dd:x,M:x,MM:x,y:x,yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),c.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,a){switch(a){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),c.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,a){switch(a){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});var u=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,Le=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i],gs=(c.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:u,monthsShortRegex:u,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:Le,longMonthsParse:Le,shortMonthsParse:Le,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,a){switch(a){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_")),ws="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");c.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?ws:gs)[e.month()]:gs},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),c.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}});function P(e,a,t,s){e={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[e+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",e+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[e+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",e+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[e+" \u0935\u0930\u093e\u0902\u0928\u0940",e+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[e+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",e+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[e+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",e+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[e+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",e+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return s?e[t][0]:e[t][1]}function bs(e,a,t,s){e={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return s?e[t][0]:e[t][1]}c.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),c.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),c.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:P,ss:P,m:P,mm:P,h:P,hh:P,d:P,dd:P,M:P,MM:P,y:P,yy:P},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(e,a){switch(a){case"D":return e+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0930\u093e\u0924\u0940"===a?e<4?e:e+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===a?e:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===a?12<e?e:e+12:"\u0938\u093e\u0902\u091c\u0947"===a?e+12:void 0},meridiem:function(e,a,t){return e<4?"\u0930\u093e\u0924\u0940":e<12?"\u0938\u0915\u093e\u0933\u0940\u0902":e<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":e<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}}),c.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:bs,ss:bs,m:bs,mm:bs,h:bs,hh:bs,d:bs,dd:bs,M:bs,MM:bs,y:bs,yy:bs},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,a){switch(a){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,a){return 12===e&&(e=0),"rati"===a?e<4?e:e+12:"sokallim"===a?e:"donparam"===a?12<e?e:e+12:"sanje"===a?e+12:void 0},meridiem:function(e,a,t){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}});var Hs={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},Ss={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"},vs=(c.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(e){return e.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(e){return Ss[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Hs[e]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0ab0\u0abe\u0aa4"===a?e<4?e:e+12:"\u0ab8\u0ab5\u0abe\u0ab0"===a?e:"\u0aac\u0aaa\u0acb\u0ab0"===a?10<=e?e:e+12:"\u0ab8\u0abe\u0a82\u0a9c"===a?e+12:void 0},meridiem:function(e,a,t){return e<4?"\u0ab0\u0abe\u0aa4":e<10?"\u0ab8\u0ab5\u0abe\u0ab0":e<17?"\u0aac\u0aaa\u0acb\u0ab0":e<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}}),c.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(e){return 2===e?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":e+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(e){return 2===e?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":e+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(e){return 2===e?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":e+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(e){return 2===e?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":e%10==0&&10!==e?e+" \u05e9\u05e0\u05d4":e+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(e){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(e)},meridiem:function(e,a,t){return e<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":e<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":e<12?t?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":e<18?t?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}}),{1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"}),js={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},a=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];function xs(e,a,t){var s=e+" ";switch(t){case"ss":return s+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return a?"jedna minuta":"jedne minute";case"mm":return s+=1!==e&&(2===e||3===e||4===e)?"minute":"minuta";case"h":return a?"jedan sat":"jednog sata";case"hh":return s+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return s+=1===e?"dan":"dana";case"MM":return s+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return s+=1!==e&&(2===e||3===e||4===e)?"godine":"godina"}}c.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:a,longMonthsParse:a,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return js[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return vs[e]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0930\u093e\u0924"===a?e<4?e:e+12:"\u0938\u0941\u092c\u0939"===a?e:"\u0926\u094b\u092a\u0939\u0930"===a?10<=e?e:e+12:"\u0936\u093e\u092e"===a?e+12:void 0},meridiem:function(e,a,t){return e<4?"\u0930\u093e\u0924":e<10?"\u0938\u0941\u092c\u0939":e<17?"\u0926\u094b\u092a\u0939\u0930":e<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}}),c.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:xs,m:xs,mm:xs,h:xs,hh:xs,d:"dan",dd:xs,M:"mjesec",MM:xs,y:"godinu",yy:xs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Ps="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function Os(e,a,t,s){var n=e;switch(t){case"s":return s||a?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return n+(s||a)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(s||a?" perc":" perce");case"mm":return n+(s||a?" perc":" perce");case"h":return"egy"+(s||a?" \xf3ra":" \xf3r\xe1ja");case"hh":return n+(s||a?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(s||a?" nap":" napja");case"dd":return n+(s||a?" nap":" napja");case"M":return"egy"+(s||a?" h\xf3nap":" h\xf3napja");case"MM":return n+(s||a?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(s||a?" \xe9v":" \xe9ve");case"yy":return n+(s||a?" \xe9v":" \xe9ve")}return""}function Ws(e){return(e?"":"[m\xfalt] ")+"["+Ps[this.day()]+"] LT[-kor]"}function As(e){return e%100==11||e%10!=1}function Es(e,a,t,s){var n=e+" ";switch(t){case"s":return a||s?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return As(e)?n+(a||s?"sek\xfandur":"sek\xfandum"):n+"sek\xfanda";case"m":return a?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return As(e)?n+(a||s?"m\xedn\xfatur":"m\xedn\xfatum"):a?n+"m\xedn\xfata":n+"m\xedn\xfatu";case"hh":return As(e)?n+(a||s?"klukkustundir":"klukkustundum"):n+"klukkustund";case"d":return a?"dagur":s?"dag":"degi";case"dd":return As(e)?a?n+"dagar":n+(s?"daga":"d\xf6gum"):a?n+"dagur":n+(s?"dag":"degi");case"M":return a?"m\xe1nu\xf0ur":s?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return As(e)?a?n+"m\xe1nu\xf0ir":n+(s?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):a?n+"m\xe1nu\xf0ur":n+(s?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return a||s?"\xe1r":"\xe1ri";case"yy":return As(e)?n+(a||s?"\xe1r":"\xe1rum"):n+(a||s?"\xe1r":"\xe1ri")}}c.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,a,t){return e<12?!0===t?"de":"DE":!0===t?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Ws.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Ws.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:Os,ss:Os,m:Os,mm:Os,h:Os,hh:Os,d:Os,dd:Os,M:Os,MM:Os,y:Os,yy:Os},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(e){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(e)},meridiem:function(e){return e<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":e<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":e<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(e,a){switch(a){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-\u056b\u0576":e+"-\u0580\u0564";default:return e}},week:{dow:1,doy:7}}),c.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"siang"===a?11<=e?e:e+12:"sore"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,t){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}}),c.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:Es,ss:Es,m:Es,mm:Es,h:"klukkustund",hh:Es,d:Es,dd:Es,M:Es,MM:Es,y:Es,yy:Es},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),c.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),c.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(e,a){return"\u5143"===a[1]?1:parseInt(a[1]||e,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"\u5348\u5f8c"===e},meridiem:function(e,a,t){return e<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(e){return e.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(e){return this.week()!==e.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(e,a){switch(a){case"y":return 1===e?"\u5143\u5e74":e+"\u5e74";case"d":case"D":case"DDD":return e+"\u65e5";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}}),c.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,a){return 12===e&&(e=0),"enjing"===a?e:"siyang"===a?11<=e?e:e+12:"sonten"===a||"ndalu"===a?e+12:void 0},meridiem:function(e,a,t){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),c.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(e,a,t){return"\u10d8"===t?a+"\u10e8\u10d8":a+t+"\u10e8\u10d8"})},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):e},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(e){return 0===e?e:1===e?e+"-\u10da\u10d8":e<20||e<=100&&e%20==0||e%100==0?"\u10db\u10d4-"+e:e+"-\u10d4"},week:{dow:1,doy:7}});var Fs={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"},zs=(c.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(e){return e+(Fs[e]||Fs[e%10]||Fs[100<=e?100:null])},week:{dow:1,doy:7}}),{1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"}),Ns={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"},Js=(c.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(e){return"\u179b\u17d2\u1784\u17b6\u1785"===e},meridiem:function(e,a,t){return e<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(e){return e.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(e){return Ns[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return zs[e]})},week:{dow:1,doy:4}}),{1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"}),Rs={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};function O(e,a,t,s){e={s:["\xe7end san\xeeye","\xe7end san\xeeyeyan"],ss:[e+" san\xeeye",e+" san\xeeyeyan"],m:["deq\xeeqeyek","deq\xeeqeyek\xea"],mm:[e+" deq\xeeqe",e+" deq\xeeqeyan"],h:["saetek","saetek\xea"],hh:[e+" saet",e+" saetan"],d:["rojek","rojek\xea"],dd:[e+" roj",e+" rojan"],w:["hefteyek","hefteyek\xea"],ww:[e+" hefte",e+" hefteyan"],M:["mehek","mehek\xea"],MM:[e+" meh",e+" mehan"],y:["salek","salek\xea"],yy:[e+" sal",e+" salan"]};return a?e[t][0]:e[t][1]}c.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(e){return e.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(e){return Rs[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Js[e]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===a?e<4?e:e+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===a?e:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===a?10<=e?e:e+12:"\u0cb8\u0c82\u0c9c\u0cc6"===a?e+12:void 0},meridiem:function(e,a,t){return e<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":e<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":e<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":e<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(e){return e+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}}),c.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\uc77c";case"M":return e+"\uc6d4";case"w":case"W":return e+"\uc8fc";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e,a,t){return e<12?"\uc624\uc804":"\uc624\ud6c4"}}),c.defineLocale("ku-kmr",{months:"R\xeabendan_Sibat_Adar_N\xeesan_Gulan_Hez\xeeran_T\xeermeh_Tebax_\xcelon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"R\xeab_Sib_Ada_N\xees_Gul_Hez_T\xeer_Teb_\xcelo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yek\u015fem_Du\u015fem_S\xea\u015fem_\xc7ar\u015fem_P\xeanc\u015fem_\xcen_\u015eem\xee".split("_"),weekdaysShort:"Yek_Du_S\xea_\xc7ar_P\xean_\xcen_\u015eem".split("_"),weekdaysMin:"Ye_Du_S\xea_\xc7a_P\xea_\xcen_\u015ee".split("_"),meridiem:function(e,a,t){return e<12?t?"bn":"BN":t?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[\xcero di saet] LT [de]",nextDay:"[Sib\xea di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a bor\xee di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"ber\xee %s",s:O,ss:O,m:O,mm:O,h:O,hh:O,d:O,dd:O,w:O,ww:O,M:O,MM:O,y:O,yy:O},dayOfMonthOrdinalParse:/\d{1,2}(?:y\xea|\xea|\.)/,ordinal:function(e,a){var a=a.toLowerCase();return a.includes("w")||a.includes("m")?e+".":e+(e=(a=""+(a=e)).substring(a.length-1),12==(a=1<a.length?a.substring(a.length-2):"")||13==a||"2"!=e&&"3"!=e&&"50"!=a&&"70"!=e&&"80"!=e?"\xea":"y\xea")},week:{dow:1,doy:4}});var Cs={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Is={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},fe=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"],Us=(c.defineLocale("ku",{months:fe,monthsShort:fe,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(e){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(e)},meridiem:function(e,a,t){return e<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return Is[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Cs[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}}),{0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"});function Gs(e,a,t,s){var n={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return a?n[t][0]:n[t][1]}function Vs(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;var a;if(e<100)return Vs(0==(a=e%10)?e/10:a);if(e<1e4){for(;10<=e;)e/=10;return Vs(e)}return Vs(e/=1e3)}c.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(e){return e+(Us[e]||Us[e%10]||Us[100<=e?100:null])},week:{dow:1,doy:7}}),c.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return Vs(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return Vs(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:Gs,mm:"%d Minutten",h:Gs,hh:"%d Stonnen",d:Gs,dd:"%d Deeg",M:Gs,MM:"%d M\xe9int",y:Gs,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(e){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===e},meridiem:function(e,a,t){return e<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(e){return"\u0e97\u0eb5\u0ec8"+e}});var qs={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function Bs(e,a,t,s){return a?Zs(t)[0]:s?Zs(t)[1]:Zs(t)[2]}function Ks(e){return e%10==0||10<e&&e<20}function Zs(e){return qs[e].split("_")}function $s(e,a,t,s){var n=e+" ";return 1===e?n+Bs(0,a,t[0],s):a?n+(Ks(e)?Zs(t)[1]:Zs(t)[0]):s?n+Zs(t)[1]:n+(Ks(e)?Zs(t)[1]:Zs(t)[2])}c.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(e,a,t,s){return a?"kelios sekund\u0117s":s?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:$s,m:Bs,mm:$s,h:Bs,hh:$s,d:Bs,dd:$s,M:Bs,MM:$s,y:Bs,yy:$s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});var Qs={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function Xs(e,a,t){return t?a%10==1&&a%100!=11?e[2]:e[3]:a%10==1&&a%100!=11?e[0]:e[1]}function en(e,a,t){return e+" "+Xs(Qs[t],e,a)}function an(e,a,t){return Xs(Qs[t],e,a)}c.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(e,a){return a?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:en,m:an,mm:en,h:an,hh:en,d:an,dd:en,M:an,MM:en,y:an,yy:en},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var tn={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,a){return 1===e?a[0]:2<=e&&e<=4?a[1]:a[2]},translate:function(e,a,t){var s=tn.words[t];return 1===t.length?a?s[0]:s[1]:e+" "+tn.correctGrammaticalCase(e,s)}};function sn(e,a,t,s){switch(t){case"s":return a?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return e+(a?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return e+(a?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return e+(a?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return e+(a?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return e+(a?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return e+(a?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return e}}c.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:tn.translate,m:tn.translate,mm:tn.translate,h:tn.translate,hh:tn.translate,d:"dan",dd:tn.translate,M:"mjesec",MM:tn.translate,y:"godinu",yy:tn.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),c.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),c.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var a=e%10,t=e%100;return 0===e?e+"-\u0435\u0432":0==t?e+"-\u0435\u043d":10<t&&t<20?e+"-\u0442\u0438":1==a?e+"-\u0432\u0438":2==a?e+"-\u0440\u0438":7==a||8==a?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}}),c.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===a&&4<=e||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===a||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===a?e+12:e},meridiem:function(e,a,t){return e<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":e<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":e<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":e<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}}),c.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(e){return"\u04ae\u0425"===e},meridiem:function(e,a,t){return e<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:sn,ss:sn,m:sn,mm:sn,h:sn,hh:sn,d:sn,dd:sn,M:sn,MM:sn,y:sn,yy:sn},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+" \u04e9\u0434\u04e9\u0440";default:return e}}});var nn={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},rn={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function dn(e,a,t,s){var n="";if(a)switch(t){case"s":n="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":n="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":n="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":n="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":n="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":n="%d \u0924\u093e\u0938";break;case"d":n="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":n="%d \u0926\u093f\u0935\u0938";break;case"M":n="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":n="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":n="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":n="%d \u0935\u0930\u094d\u0937\u0947";break}else switch(t){case"s":n="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":n="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":n="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":n="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":n="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":n="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":n="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":n="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":n="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":n="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":n="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":n="%d \u0935\u0930\u094d\u0937\u093e\u0902";break}return n.replace(/%d/i,e)}c.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:dn,ss:dn,m:dn,mm:dn,h:dn,hh:dn,d:dn,dd:dn,M:dn,MM:dn,y:dn,yy:dn},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return rn[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return nn[e]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u092a\u0939\u093e\u091f\u0947"===a||"\u0938\u0915\u093e\u0933\u0940"===a?e:"\u0926\u0941\u092a\u093e\u0930\u0940"===a||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===a||"\u0930\u093e\u0924\u094d\u0930\u0940"===a?12<=e?e:e+12:void 0},meridiem:function(e,a,t){return 0<=e&&e<6?"\u092a\u0939\u093e\u091f\u0947":e<12?"\u0938\u0915\u093e\u0933\u0940":e<17?"\u0926\u0941\u092a\u093e\u0930\u0940":e<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}}),c.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"tengahari"===a?11<=e?e:e+12:"petang"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,t){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),c.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"tengahari"===a?11<=e?e:e+12:"petang"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,t){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),c.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}});var _n={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},on={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"},mn=(c.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(e){return e.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(e){return on[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return _n[e]})},week:{dow:1,doy:4}}),c.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"\xe9n time",hh:"%d timer",d:"\xe9n dag",dd:"%d dager",w:"\xe9n uke",ww:"%d uker",M:"\xe9n m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"}),un={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},ln=(c.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return un[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return mn[e]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0930\u093e\u0924\u093f"===a?e<4?e:e+12:"\u092c\u093f\u0939\u093e\u0928"===a?e:"\u0926\u093f\u0909\u0901\u0938\u094b"===a?10<=e?e:e+12:"\u0938\u093e\u0901\u091d"===a?e+12:void 0},meridiem:function(e,a,t){return e<3?"\u0930\u093e\u0924\u093f":e<12?"\u092c\u093f\u0939\u093e\u0928":e<16?"\u0926\u093f\u0909\u0901\u0938\u094b":e<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),Mn="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),_=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Ie=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,hn=(c.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?Mn:ln)[e.month()]:ln},monthsRegex:Ie,monthsShortRegex:Ie,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:_,longMonthsParse:_,shortMonthsParse:_,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),cn="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Ye=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ye=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,Ln=(c.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?cn:hn)[e.month()]:hn},monthsRegex:ye,monthsShortRegex:ye,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ye,longMonthsParse:Ye,shortMonthsParse:Ye,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),c.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,a){return e+("w"!==a&&"W"!==a?1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8":"a")},week:{dow:1,doy:4}}),{1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"}),Yn={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"},yn=(c.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(e){return e.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(e){return Yn[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ln[e]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0a30\u0a3e\u0a24"===a?e<4?e:e+12:"\u0a38\u0a35\u0a47\u0a30"===a?e:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===a?10<=e?e:e+12:"\u0a38\u0a3c\u0a3e\u0a2e"===a?e+12:void 0},meridiem:function(e,a,t){return e<4?"\u0a30\u0a3e\u0a24":e<10?"\u0a38\u0a35\u0a47\u0a30":e<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":e<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}}),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_")),fn="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),na=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function kn(e){return e%10<5&&1<e%10&&~~(e/10)%10!=1}function pn(e,a,t){var s=e+" ";switch(t){case"ss":return s+(kn(e)?"sekundy":"sekund");case"m":return a?"minuta":"minut\u0119";case"mm":return s+(kn(e)?"minuty":"minut");case"h":return a?"godzina":"godzin\u0119";case"hh":return s+(kn(e)?"godziny":"godzin");case"ww":return s+(kn(e)?"tygodnie":"tygodni");case"MM":return s+(kn(e)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return s+(kn(e)?"lata":"lat")}}function Dn(e,a,t){return e+(20<=e%100||100<=e&&e%100==0?" de ":" ")+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[t]}function Tn(e,a,t){return"m"===t?a?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":e+" "+(e=+e,a=(a={ss:a?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:a?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[t]).split("_"),e%10==1&&e%100!=11?a[0]:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?a[1]:a[2])}c.defineLocale("pl",{months:function(e,a){return e?(/D MMMM/.test(a)?fn:yn)[e.month()]:yn},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:na,longMonthsParse:na,shortMonthsParse:na,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:pn,m:pn,mm:pn,h:pn,hh:pn,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:pn,M:"miesi\u0105c",MM:pn,y:"rok",yy:pn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"}),c.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),c.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:Dn,m:"un minut",mm:Dn,h:"o or\u0103",hh:Dn,d:"o zi",dd:Dn,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:Dn,M:"o lun\u0103",MM:Dn,y:"un an",yy:Dn},week:{dow:1,doy:7}});t=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i],c.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:t,longMonthsParse:t,shortMonthsParse:t,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:Tn,m:Tn,mm:Tn,h:"\u0447\u0430\u0441",hh:Tn,d:"\u0434\u0435\u043d\u044c",dd:Tn,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:Tn,M:"\u043c\u0435\u0441\u044f\u0446",MM:Tn,y:"\u0433\u043e\u0434",yy:Tn},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(e)},meridiem:function(e,a,t){return e<4?"\u043d\u043e\u0447\u0438":e<12?"\u0443\u0442\u0440\u0430":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(e,a){switch(a){case"M":case"d":case"DDD":return e+"-\u0439";case"D":return e+"-\u0433\u043e";case"w":case"W":return e+"-\u044f";default:return e}},week:{dow:1,doy:4}}),m=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],o=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"],c.defineLocale("sd",{months:m,monthsShort:m,weekdays:o,weekdaysShort:o,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,a,t){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}}),c.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(e){return e+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(e){return"\u0db4.\u0dc0."===e||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===e},meridiem:function(e,a,t){return 11<e?t?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":t?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}}),n="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),ze="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function gn(e){return 1<e&&e<5}function wn(e,a,t,s){var n=e+" ";switch(t){case"s":return a||s?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return a||s?n+(gn(e)?"sekundy":"sek\xfand"):n+"sekundami";case"m":return a?"min\xfata":s?"min\xfatu":"min\xfatou";case"mm":return a||s?n+(gn(e)?"min\xfaty":"min\xfat"):n+"min\xfatami";case"h":return a?"hodina":s?"hodinu":"hodinou";case"hh":return a||s?n+(gn(e)?"hodiny":"hod\xedn"):n+"hodinami";case"d":return a||s?"de\u0148":"d\u0148om";case"dd":return a||s?n+(gn(e)?"dni":"dn\xed"):n+"d\u0148ami";case"M":return a||s?"mesiac":"mesiacom";case"MM":return a||s?n+(gn(e)?"mesiace":"mesiacov"):n+"mesiacmi";case"y":return a||s?"rok":"rokom";case"yy":return a||s?n+(gn(e)?"roky":"rokov"):n+"rokmi"}}function bn(e,a,t,s){var n=e+" ";switch(t){case"s":return a||s?"nekaj sekund":"nekaj sekundami";case"ss":return n+=1===e?a?"sekundo":"sekundi":2===e?a||s?"sekundi":"sekundah":e<5?a||s?"sekunde":"sekundah":"sekund";case"m":return a?"ena minuta":"eno minuto";case"mm":return n+=1===e?a?"minuta":"minuto":2===e?a||s?"minuti":"minutama":e<5?a||s?"minute":"minutami":a||s?"minut":"minutami";case"h":return a?"ena ura":"eno uro";case"hh":return n+=1===e?a?"ura":"uro":2===e?a||s?"uri":"urama":e<5?a||s?"ure":"urami":a||s?"ur":"urami";case"d":return a||s?"en dan":"enim dnem";case"dd":return n+=1===e?a||s?"dan":"dnem":2===e?a||s?"dni":"dnevoma":a||s?"dni":"dnevi";case"M":return a||s?"en mesec":"enim mesecem";case"MM":return n+=1===e?a||s?"mesec":"mesecem":2===e?a||s?"meseca":"mesecema":e<5?a||s?"mesece":"meseci":a||s?"mesecev":"meseci";case"y":return a||s?"eno leto":"enim letom";case"yy":return n+=1===e?a||s?"leto":"letom":2===e?a||s?"leti":"letoma":e<5?a||s?"leta":"leti":a||s?"let":"leti"}}c.defineLocale("sk",{months:n,monthsShort:ze,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:wn,ss:wn,m:wn,mm:wn,h:wn,hh:wn,d:wn,dd:wn,M:wn,MM:wn,y:wn,yy:wn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:bn,ss:bn,m:bn,mm:bn,h:bn,hh:bn,d:bn,dd:bn,M:bn,MM:bn,y:bn,yy:bn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),c.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,a,t){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var W={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(e,a){return 1<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?e%10==1?a[0]:a[1]:a[2]},translate:function(e,a,t,s){var n=W.words[t];return 1===t.length?"y"===t&&a?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":s||a?n[0]:n[1]:(s=W.correctGrammaticalCase(e,n),"yy"===t&&a&&"\u0433\u043e\u0434\u0438\u043d\u0443"===s?e+" \u0433\u043e\u0434\u0438\u043d\u0430":e+" "+s)}},A=(c.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:W.translate,m:W.translate,mm:W.translate,h:W.translate,hh:W.translate,d:W.translate,dd:W.translate,M:W.translate,MM:W.translate,y:W.translate,yy:W.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,a){return 1<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?e%10==1?a[0]:a[1]:a[2]},translate:function(e,a,t,s){var n=A.words[t];return 1===t.length?"y"===t&&a?"jedna godina":s||a?n[0]:n[1]:(s=A.correctGrammaticalCase(e,n),"yy"===t&&a&&"godinu"===s?e+" godina":e+" "+s)}}),Hn=(c.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:A.translate,m:A.translate,mm:A.translate,h:A.translate,hh:A.translate,d:A.translate,dd:A.translate,M:A.translate,MM:A.translate,y:A.translate,yy:A.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),c.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,a,t){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,a){return 12===e&&(e=0),"ekuseni"===a?e:"emini"===a?11<=e?e:e+12:"entsambama"===a||"ebusuku"===a?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),c.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var a=e%10;return e+(1!=~~(e%100/10)&&(1==a||2==a)?":a":":e")},week:{dow:1,doy:4}}),c.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}}),{1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"}),Sn={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"},vn=(c.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(e){return e+"\u0bb5\u0ba4\u0bc1"},preparse:function(e){return e.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(e){return Sn[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Hn[e]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(e,a,t){return e<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":e<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":e<10?" \u0b95\u0bbe\u0bb2\u0bc8":e<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":e<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":e<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(e,a){return 12===e&&(e=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===a?e<2?e:e+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===a||"\u0b95\u0bbe\u0bb2\u0bc8"===a||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===a&&10<=e?e:e+12},week:{dow:0,doy:6}}),c.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===a?e<4?e:e+12:"\u0c09\u0c26\u0c2f\u0c02"===a?e:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===a?10<=e?e:e+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===a?e+12:void 0},meridiem:function(e,a,t){return e<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":e<10?"\u0c09\u0c26\u0c2f\u0c02":e<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":e<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}}),c.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),{0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"}),jn=(c.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0448\u0430\u0431"===a?e<4?e:e+12:"\u0441\u0443\u0431\u04b3"===a?e:"\u0440\u04ef\u0437"===a?11<=e?e:e+12:"\u0431\u0435\u0433\u043e\u04b3"===a?e+12:void 0},meridiem:function(e,a,t){return e<4?"\u0448\u0430\u0431":e<11?"\u0441\u0443\u0431\u04b3":e<16?"\u0440\u04ef\u0437":e<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(e){return e+(vn[e]||vn[e%10]||vn[100<=e?100:null])},week:{dow:1,doy:7}}),c.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(e){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===e},meridiem:function(e,a,t){return e<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}}),{1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"}),xn=(c.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(e,a){switch(a){case"d":case"D":case"Do":case"DD":return e;default:var t;return 0===e?e+"'unjy":e+(jn[t=e%10]||jn[e%100-t]||jn[100<=e?100:null])}},week:{dow:1,doy:7}}),c.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),"pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_"));function Pn(e,a,t,s){var n=function(e){var a=Math.floor(e%1e3/100),t=Math.floor(e%100/10),e=e%10,s="";0<a&&(s+=xn[a]+"vatlh");0<t&&(s+=(""!==s?" ":"")+xn[t]+"maH");0<e&&(s+=(""!==s?" ":"")+xn[e]);return""===s?"pagh":s}(e);switch(t){case"ss":return n+" lup";case"mm":return n+" tup";case"hh":return n+" rep";case"dd":return n+" jaj";case"MM":return n+" jar";case"yy":return n+" DIS"}}c.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var a=e;return a=-1!==e.indexOf("jaj")?a.slice(0,-3)+"leS":-1!==e.indexOf("jar")?a.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?a.slice(0,-3)+"nem":a+" pIq"},past:function(e){var a=e;return a=-1!==e.indexOf("jaj")?a.slice(0,-3)+"Hu\u2019":-1!==e.indexOf("jar")?a.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?a.slice(0,-3)+"ben":a+" ret"},s:"puS lup",ss:Pn,m:"wa\u2019 tup",mm:Pn,h:"wa\u2019 rep",hh:Pn,d:"wa\u2019 jaj",dd:Pn,M:"wa\u2019 jar",MM:Pn,y:"wa\u2019 DIS",yy:Pn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var On={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};function Wn(e,a,t,s){e={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[e+" m\xeduts",e+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[e+" \xfeoras",e+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return s||a?e[t][0]:e[t][1]}function An(e,a,t){return"m"===t?a?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===t?a?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":e+" "+(e=+e,a=(a={ss:a?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:a?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:a?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[t]).split("_"),e%10==1&&e%100!=11?a[0]:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?a[1]:a[2])}function En(e){return function(){return e+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}c.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(e,a,t){return e<12?t?"\xf6\xf6":"\xd6\xd6":t?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(e){return"\xf6s"===e||"\xd6S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(e,a){switch(a){case"d":case"D":case"Do":case"DD":return e;default:var t;return 0===e?e+"'\u0131nc\u0131":e+(On[t=e%10]||On[e%100-t]||On[100<=e?100:null])}},week:{dow:1,doy:7}}),c.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,a,t){return 11<e?t?"d'o":"D'O":t?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Wn,ss:Wn,m:Wn,mm:Wn,h:Wn,hh:Wn,d:Wn,dd:Wn,M:Wn,MM:Wn,y:Wn,yy:Wn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),c.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),c.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}}),c.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===a||"\u0633\u06d5\u06be\u06d5\u0631"===a||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===a||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"!==a&&"\u0643\u06d5\u0686"!==a&&11<=e?e:e+12},meridiem:function(e,a,t){e=100*e+a;return e<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":e<900?"\u0633\u06d5\u06be\u06d5\u0631":e<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":e<1230?"\u0686\u06c8\u0634":e<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return e+"-\u06be\u06d5\u067e\u062a\u06d5";default:return e}},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:7}}),c.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(e,a){var t={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===e?t.nominative.slice(1,7).concat(t.nominative.slice(0,1)):e?t[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(a)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(a)?"genitive":"nominative"][e.day()]:t.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:En("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:En("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:En("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:En("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return En("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return En("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:An,m:An,mm:An,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:An,d:"\u0434\u0435\u043d\u044c",dd:An,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:An,y:"\u0440\u0456\u043a",yy:An},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(e)},meridiem:function(e,a,t){return e<4?"\u043d\u043e\u0447\u0456":e<12?"\u0440\u0430\u043d\u043a\u0443":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(e,a){switch(a){case"M":case"d":case"DDD":case"w":case"W":return e+"-\u0439";case"D":return e+"-\u0433\u043e";default:return e}},week:{dow:1,doy:7}});i=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],jt=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];return c.defineLocale("ur",{months:i,monthsShort:i,weekdays:jt,weekdaysShort:jt,weekdaysMin:jt,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,a,t){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}}),c.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),c.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}}),c.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,a,t){return e<12?t?"sa":"SA":t?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),c.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),c.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}}),c.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a||"\u4e0b\u5348"!==a&&"\u665a\u4e0a"!==a&&11<=e?e:e+12},meridiem:function(e,a,t){e=100*e+a;return e<600?"\u51cc\u6668":e<900?"\u65e9\u4e0a":e<1130?"\u4e0a\u5348":e<1230?"\u4e2d\u5348":e<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(e){return e.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(e){return this.week()!==e.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}}),c.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?e:"\u4e2d\u5348"===a?11<=e?e:e+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?e+12:void 0},meridiem:function(e,a,t){e=100*e+a;return e<600?"\u51cc\u6668":e<900?"\u65e9\u4e0a":e<1200?"\u4e0a\u5348":1200===e?"\u4e2d\u5348":e<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}}),c.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?e:"\u4e2d\u5348"===a?11<=e?e:e+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?e+12:void 0},meridiem:function(e,a,t){e=100*e+a;return e<600?"\u51cc\u6668":e<900?"\u65e9\u4e0a":e<1130?"\u4e0a\u5348":e<1230?"\u4e2d\u5348":e<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}}),c.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?e:"\u4e2d\u5348"===a?11<=e?e:e+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?e+12:void 0},meridiem:function(e,a,t){e=100*e+a;return e<600?"\u51cc\u6668":e<900?"\u65e9\u4e0a":e<1130?"\u4e0a\u5348":e<1230?"\u4e2d\u5348":e<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}}),c.locale("en"),c});

  </script>
  <style rel="stylesheet">
@charset "UTF-8";/*!
 * Bootstrap  v5.3.8 (https://getbootstrap.com/)
 * Copyright 2011-2025 The Bootstrap Authors
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 */
 :root,[data-bs-theme=light]{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-black:#000;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-gray-100:#f8f9fa;--bs-gray-200:#e9ecef;--bs-gray-300:#dee2e6;--bs-gray-400:#ced4da;--bs-gray-500:#adb5bd;--bs-gray-600:#6c757d;--bs-gray-700:#495057;--bs-gray-800:#343a40;--bs-gray-900:#212529;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-primary-rgb:13,110,253;--bs-secondary-rgb:108,117,125;--bs-success-rgb:25,135,84;--bs-info-rgb:13,202,240;--bs-warning-rgb:255,193,7;--bs-danger-rgb:220,53,69;--bs-light-rgb:248,249,250;--bs-dark-rgb:33,37,41;--bs-primary-text-emphasis:#052c65;--bs-secondary-text-emphasis:#2b2f32;--bs-success-text-emphasis:#0a3622;--bs-info-text-emphasis:#055160;--bs-warning-text-emphasis:#664d03;--bs-danger-text-emphasis:#58151c;--bs-light-text-emphasis:#495057;--bs-dark-text-emphasis:#495057;--bs-primary-bg-subtle:#cfe2ff;--bs-secondary-bg-subtle:#e2e3e5;--bs-success-bg-subtle:#d1e7dd;--bs-info-bg-subtle:#cff4fc;--bs-warning-bg-subtle:#fff3cd;--bs-danger-bg-subtle:#f8d7da;--bs-light-bg-subtle:#fcfcfd;--bs-dark-bg-subtle:#ced4da;--bs-primary-border-subtle:#9ec5fe;--bs-secondary-border-subtle:#c4c8cb;--bs-success-border-subtle:#a3cfbb;--bs-info-border-subtle:#9eeaf9;--bs-warning-border-subtle:#ffe69c;--bs-danger-border-subtle:#f1aeb5;--bs-light-border-subtle:#e9ecef;--bs-dark-border-subtle:#adb5bd;--bs-white-rgb:255,255,255;--bs-black-rgb:0,0,0;--bs-font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--bs-font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));--bs-body-font-family:var(--bs-font-sans-serif);--bs-body-font-size:1rem;--bs-body-font-weight:400;--bs-body-line-height:1.5;--bs-body-color:#212529;--bs-body-color-rgb:33,37,41;--bs-body-bg:#fff;--bs-body-bg-rgb:255,255,255;--bs-emphasis-color:#000;--bs-emphasis-color-rgb:0,0,0;--bs-secondary-color:rgba(33, 37, 41, 0.75);--bs-secondary-color-rgb:33,37,41;--bs-secondary-bg:#e9ecef;--bs-secondary-bg-rgb:233,236,239;--bs-tertiary-color:rgba(33, 37, 41, 0.5);--bs-tertiary-color-rgb:33,37,41;--bs-tertiary-bg:#f8f9fa;--bs-tertiary-bg-rgb:248,249,250;--bs-heading-color:inherit;--bs-link-color:#0d6efd;--bs-link-color-rgb:13,110,253;--bs-link-decoration:underline;--bs-link-hover-color:#0a58ca;--bs-link-hover-color-rgb:10,88,202;--bs-code-color:#d63384;--bs-highlight-color:#212529;--bs-highlight-bg:#fff3cd;--bs-border-width:1px;--bs-border-style:solid;--bs-border-color:#dee2e6;--bs-border-color-translucent:rgba(0, 0, 0, 0.175);--bs-border-radius:0.375rem;--bs-border-radius-sm:0.25rem;--bs-border-radius-lg:0.5rem;--bs-border-radius-xl:1rem;--bs-border-radius-xxl:2rem;--bs-border-radius-2xl:var(--bs-border-radius-xxl);--bs-border-radius-pill:50rem;--bs-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-box-shadow-sm:0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);--bs-box-shadow-lg:0 1rem 3rem rgba(0, 0, 0, 0.175);--bs-box-shadow-inset:inset 0 1px 2px rgba(0, 0, 0, 0.075);--bs-focus-ring-width:0.25rem;--bs-focus-ring-opacity:0.25;--bs-focus-ring-color:rgba(13, 110, 253, 0.25);--bs-form-valid-color:#198754;--bs-form-valid-border-color:#198754;--bs-form-invalid-color:#dc3545;--bs-form-invalid-border-color:#dc3545}[data-bs-theme=dark]{color-scheme:dark;--bs-body-color:#dee2e6;--bs-body-color-rgb:222,226,230;--bs-body-bg:#212529;--bs-body-bg-rgb:33,37,41;--bs-emphasis-color:#fff;--bs-emphasis-color-rgb:255,255,255;--bs-secondary-color:rgba(222, 226, 230, 0.75);--bs-secondary-color-rgb:222,226,230;--bs-secondary-bg:#343a40;--bs-secondary-bg-rgb:52,58,64;--bs-tertiary-color:rgba(222, 226, 230, 0.5);--bs-tertiary-color-rgb:222,226,230;--bs-tertiary-bg:#2b3035;--bs-tertiary-bg-rgb:43,48,53;--bs-primary-text-emphasis:#6ea8fe;--bs-secondary-text-emphasis:#a7acb1;--bs-success-text-emphasis:#75b798;--bs-info-text-emphasis:#6edff6;--bs-warning-text-emphasis:#ffda6a;--bs-danger-text-emphasis:#ea868f;--bs-light-text-emphasis:#f8f9fa;--bs-dark-text-emphasis:#dee2e6;--bs-primary-bg-subtle:#031633;--bs-secondary-bg-subtle:#161719;--bs-success-bg-subtle:#051b11;--bs-info-bg-subtle:#032830;--bs-warning-bg-subtle:#332701;--bs-danger-bg-subtle:#2c0b0e;--bs-light-bg-subtle:#343a40;--bs-dark-bg-subtle:#1a1d20;--bs-primary-border-subtle:#084298;--bs-secondary-border-subtle:#41464b;--bs-success-border-subtle:#0f5132;--bs-info-border-subtle:#087990;--bs-warning-border-subtle:#997404;--bs-danger-border-subtle:#842029;--bs-light-border-subtle:#495057;--bs-dark-border-subtle:#343a40;--bs-heading-color:inherit;--bs-link-color:#6ea8fe;--bs-link-hover-color:#8bb9fe;--bs-link-color-rgb:110,168,254;--bs-link-hover-color-rgb:139,185,254;--bs-code-color:#e685b5;--bs-highlight-color:#dee2e6;--bs-highlight-bg:#664d03;--bs-border-color:#495057;--bs-border-color-translucent:rgba(255, 255, 255, 0.15);--bs-form-valid-color:#75b798;--bs-form-valid-border-color:#75b798;--bs-form-invalid-color:#ea868f;--bs-form-invalid-border-color:#ea868f}*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;border:0;border-top:var(--bs-border-width) solid;opacity:.25}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2;color:var(--bs-heading-color)}.h1,h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.h1,h1{font-size:2.5rem}}.h2,h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){.h2,h2{font-size:2rem}}.h3,h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){.h3,h3{font-size:1.75rem}}.h4,h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){.h4,h4{font-size:1.5rem}}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}.mark,mark{padding:.1875em;color:var(--bs-highlight-color);background-color:var(--bs-highlight-bg)}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,1));text-decoration:underline}a:hover{--bs-link-color-rgb:var(--bs-link-hover-color-rgb)}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:var(--bs-font-monospace);font-size:1em}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:var(--bs-code-color);word-wrap:break-word}a>code{color:inherit}kbd{padding:.1875rem .375rem;font-size:.875em;color:var(--bs-body-bg);background-color:var(--bs-body-color);border-radius:.25rem}kbd kbd{padding:0;font-size:1em}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-secondary-color);text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]:not([type=date]):not([type=datetime-local]):not([type=month]):not([type=week]):not([type=time])::-webkit-calendar-picker-indicator{display:none!important}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;line-height:inherit;font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button{cursor:pointer;filter:grayscale(1)}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}::file-selector-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.display-1{font-weight:300;line-height:1.2;font-size:calc(1.625rem + 4.5vw)}@media (min-width:1200px){.display-1{font-size:5rem}}.display-2{font-weight:300;line-height:1.2;font-size:calc(1.575rem + 3.9vw)}@media (min-width:1200px){.display-2{font-size:4.5rem}}.display-3{font-weight:300;line-height:1.2;font-size:calc(1.525rem + 3.3vw)}@media (min-width:1200px){.display-3{font-size:4rem}}.display-4{font-weight:300;line-height:1.2;font-size:calc(1.475rem + 2.7vw)}@media (min-width:1200px){.display-4{font-size:3.5rem}}.display-5{font-weight:300;line-height:1.2;font-size:calc(1.425rem + 2.1vw)}@media (min-width:1200px){.display-5{font-size:3rem}}.display-6{font-weight:300;line-height:1.2;font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.display-6{font-size:2.5rem}}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote>:last-child{margin-bottom:0}.blockquote-footer{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:""}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:var(--bs-body-bg);border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:.875em;color:var(--bs-secondary-color)}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{--bs-gutter-x:1.5rem;--bs-gutter-y:0;width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}@media (min-width:1400px){.container,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{max-width:1320px}}:root{--bs-breakpoint-xs:0;--bs-breakpoint-sm:576px;--bs-breakpoint-md:768px;--bs-breakpoint-lg:992px;--bs-breakpoint-xl:1200px;--bs-breakpoint-xxl:1400px}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(-.5 * var(--bs-gutter-x))}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0}.row-cols-auto>*{flex:0 0 auto;width:auto}.row-cols-1>*{flex:0 0 auto;width:100%}.row-cols-2>*{flex:0 0 auto;width:50%}.row-cols-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-4>*{flex:0 0 auto;width:25%}.row-cols-5>*{flex:0 0 auto;width:20%}.row-cols-6>*{flex:0 0 auto;width:16.66666667%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.33333333%}.col-2{flex:0 0 auto;width:16.66666667%}.col-3{flex:0 0 auto;width:25%}.col-4{flex:0 0 auto;width:33.33333333%}.col-5{flex:0 0 auto;width:41.66666667%}.col-6{flex:0 0 auto;width:50%}.col-7{flex:0 0 auto;width:58.33333333%}.col-8{flex:0 0 auto;width:66.66666667%}.col-9{flex:0 0 auto;width:75%}.col-10{flex:0 0 auto;width:83.33333333%}.col-11{flex:0 0 auto;width:91.66666667%}.col-12{flex:0 0 auto;width:100%}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}.g-0,.gx-0{--bs-gutter-x:0}.g-0,.gy-0{--bs-gutter-y:0}.g-1,.gx-1{--bs-gutter-x:0.25rem}.g-1,.gy-1{--bs-gutter-y:0.25rem}.g-2,.gx-2{--bs-gutter-x:0.5rem}.g-2,.gy-2{--bs-gutter-y:0.5rem}.g-3,.gx-3{--bs-gutter-x:1rem}.g-3,.gy-3{--bs-gutter-y:1rem}.g-4,.gx-4{--bs-gutter-x:1.5rem}.g-4,.gy-4{--bs-gutter-y:1.5rem}.g-5,.gx-5{--bs-gutter-x:3rem}.g-5,.gy-5{--bs-gutter-y:3rem}@media (min-width:576px){.col-sm{flex:1 0 0}.row-cols-sm-auto>*{flex:0 0 auto;width:auto}.row-cols-sm-1>*{flex:0 0 auto;width:100%}.row-cols-sm-2>*{flex:0 0 auto;width:50%}.row-cols-sm-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-sm-4>*{flex:0 0 auto;width:25%}.row-cols-sm-5>*{flex:0 0 auto;width:20%}.row-cols-sm-6>*{flex:0 0 auto;width:16.66666667%}.col-sm-auto{flex:0 0 auto;width:auto}.col-sm-1{flex:0 0 auto;width:8.33333333%}.col-sm-2{flex:0 0 auto;width:16.66666667%}.col-sm-3{flex:0 0 auto;width:25%}.col-sm-4{flex:0 0 auto;width:33.33333333%}.col-sm-5{flex:0 0 auto;width:41.66666667%}.col-sm-6{flex:0 0 auto;width:50%}.col-sm-7{flex:0 0 auto;width:58.33333333%}.col-sm-8{flex:0 0 auto;width:66.66666667%}.col-sm-9{flex:0 0 auto;width:75%}.col-sm-10{flex:0 0 auto;width:83.33333333%}.col-sm-11{flex:0 0 auto;width:91.66666667%}.col-sm-12{flex:0 0 auto;width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}.g-sm-0,.gx-sm-0{--bs-gutter-x:0}.g-sm-0,.gy-sm-0{--bs-gutter-y:0}.g-sm-1,.gx-sm-1{--bs-gutter-x:0.25rem}.g-sm-1,.gy-sm-1{--bs-gutter-y:0.25rem}.g-sm-2,.gx-sm-2{--bs-gutter-x:0.5rem}.g-sm-2,.gy-sm-2{--bs-gutter-y:0.5rem}.g-sm-3,.gx-sm-3{--bs-gutter-x:1rem}.g-sm-3,.gy-sm-3{--bs-gutter-y:1rem}.g-sm-4,.gx-sm-4{--bs-gutter-x:1.5rem}.g-sm-4,.gy-sm-4{--bs-gutter-y:1.5rem}.g-sm-5,.gx-sm-5{--bs-gutter-x:3rem}.g-sm-5,.gy-sm-5{--bs-gutter-y:3rem}}@media (min-width:768px){.col-md{flex:1 0 0}.row-cols-md-auto>*{flex:0 0 auto;width:auto}.row-cols-md-1>*{flex:0 0 auto;width:100%}.row-cols-md-2>*{flex:0 0 auto;width:50%}.row-cols-md-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-md-4>*{flex:0 0 auto;width:25%}.row-cols-md-5>*{flex:0 0 auto;width:20%}.row-cols-md-6>*{flex:0 0 auto;width:16.66666667%}.col-md-auto{flex:0 0 auto;width:auto}.col-md-1{flex:0 0 auto;width:8.33333333%}.col-md-2{flex:0 0 auto;width:16.66666667%}.col-md-3{flex:0 0 auto;width:25%}.col-md-4{flex:0 0 auto;width:33.33333333%}.col-md-5{flex:0 0 auto;width:41.66666667%}.col-md-6{flex:0 0 auto;width:50%}.col-md-7{flex:0 0 auto;width:58.33333333%}.col-md-8{flex:0 0 auto;width:66.66666667%}.col-md-9{flex:0 0 auto;width:75%}.col-md-10{flex:0 0 auto;width:83.33333333%}.col-md-11{flex:0 0 auto;width:91.66666667%}.col-md-12{flex:0 0 auto;width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}.g-md-0,.gx-md-0{--bs-gutter-x:0}.g-md-0,.gy-md-0{--bs-gutter-y:0}.g-md-1,.gx-md-1{--bs-gutter-x:0.25rem}.g-md-1,.gy-md-1{--bs-gutter-y:0.25rem}.g-md-2,.gx-md-2{--bs-gutter-x:0.5rem}.g-md-2,.gy-md-2{--bs-gutter-y:0.5rem}.g-md-3,.gx-md-3{--bs-gutter-x:1rem}.g-md-3,.gy-md-3{--bs-gutter-y:1rem}.g-md-4,.gx-md-4{--bs-gutter-x:1.5rem}.g-md-4,.gy-md-4{--bs-gutter-y:1.5rem}.g-md-5,.gx-md-5{--bs-gutter-x:3rem}.g-md-5,.gy-md-5{--bs-gutter-y:3rem}}@media (min-width:992px){.col-lg{flex:1 0 0}.row-cols-lg-auto>*{flex:0 0 auto;width:auto}.row-cols-lg-1>*{flex:0 0 auto;width:100%}.row-cols-lg-2>*{flex:0 0 auto;width:50%}.row-cols-lg-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-lg-4>*{flex:0 0 auto;width:25%}.row-cols-lg-5>*{flex:0 0 auto;width:20%}.row-cols-lg-6>*{flex:0 0 auto;width:16.66666667%}.col-lg-auto{flex:0 0 auto;width:auto}.col-lg-1{flex:0 0 auto;width:8.33333333%}.col-lg-2{flex:0 0 auto;width:16.66666667%}.col-lg-3{flex:0 0 auto;width:25%}.col-lg-4{flex:0 0 auto;width:33.33333333%}.col-lg-5{flex:0 0 auto;width:41.66666667%}.col-lg-6{flex:0 0 auto;width:50%}.col-lg-7{flex:0 0 auto;width:58.33333333%}.col-lg-8{flex:0 0 auto;width:66.66666667%}.col-lg-9{flex:0 0 auto;width:75%}.col-lg-10{flex:0 0 auto;width:83.33333333%}.col-lg-11{flex:0 0 auto;width:91.66666667%}.col-lg-12{flex:0 0 auto;width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}.g-lg-0,.gx-lg-0{--bs-gutter-x:0}.g-lg-0,.gy-lg-0{--bs-gutter-y:0}.g-lg-1,.gx-lg-1{--bs-gutter-x:0.25rem}.g-lg-1,.gy-lg-1{--bs-gutter-y:0.25rem}.g-lg-2,.gx-lg-2{--bs-gutter-x:0.5rem}.g-lg-2,.gy-lg-2{--bs-gutter-y:0.5rem}.g-lg-3,.gx-lg-3{--bs-gutter-x:1rem}.g-lg-3,.gy-lg-3{--bs-gutter-y:1rem}.g-lg-4,.gx-lg-4{--bs-gutter-x:1.5rem}.g-lg-4,.gy-lg-4{--bs-gutter-y:1.5rem}.g-lg-5,.gx-lg-5{--bs-gutter-x:3rem}.g-lg-5,.gy-lg-5{--bs-gutter-y:3rem}}@media (min-width:1200px){.col-xl{flex:1 0 0}.row-cols-xl-auto>*{flex:0 0 auto;width:auto}.row-cols-xl-1>*{flex:0 0 auto;width:100%}.row-cols-xl-2>*{flex:0 0 auto;width:50%}.row-cols-xl-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-xl-4>*{flex:0 0 auto;width:25%}.row-cols-xl-5>*{flex:0 0 auto;width:20%}.row-cols-xl-6>*{flex:0 0 auto;width:16.66666667%}.col-xl-auto{flex:0 0 auto;width:auto}.col-xl-1{flex:0 0 auto;width:8.33333333%}.col-xl-2{flex:0 0 auto;width:16.66666667%}.col-xl-3{flex:0 0 auto;width:25%}.col-xl-4{flex:0 0 auto;width:33.33333333%}.col-xl-5{flex:0 0 auto;width:41.66666667%}.col-xl-6{flex:0 0 auto;width:50%}.col-xl-7{flex:0 0 auto;width:58.33333333%}.col-xl-8{flex:0 0 auto;width:66.66666667%}.col-xl-9{flex:0 0 auto;width:75%}.col-xl-10{flex:0 0 auto;width:83.33333333%}.col-xl-11{flex:0 0 auto;width:91.66666667%}.col-xl-12{flex:0 0 auto;width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}.g-xl-0,.gx-xl-0{--bs-gutter-x:0}.g-xl-0,.gy-xl-0{--bs-gutter-y:0}.g-xl-1,.gx-xl-1{--bs-gutter-x:0.25rem}.g-xl-1,.gy-xl-1{--bs-gutter-y:0.25rem}.g-xl-2,.gx-xl-2{--bs-gutter-x:0.5rem}.g-xl-2,.gy-xl-2{--bs-gutter-y:0.5rem}.g-xl-3,.gx-xl-3{--bs-gutter-x:1rem}.g-xl-3,.gy-xl-3{--bs-gutter-y:1rem}.g-xl-4,.gx-xl-4{--bs-gutter-x:1.5rem}.g-xl-4,.gy-xl-4{--bs-gutter-y:1.5rem}.g-xl-5,.gx-xl-5{--bs-gutter-x:3rem}.g-xl-5,.gy-xl-5{--bs-gutter-y:3rem}}@media (min-width:1400px){.col-xxl{flex:1 0 0}.row-cols-xxl-auto>*{flex:0 0 auto;width:auto}.row-cols-xxl-1>*{flex:0 0 auto;width:100%}.row-cols-xxl-2>*{flex:0 0 auto;width:50%}.row-cols-xxl-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-xxl-4>*{flex:0 0 auto;width:25%}.row-cols-xxl-5>*{flex:0 0 auto;width:20%}.row-cols-xxl-6>*{flex:0 0 auto;width:16.66666667%}.col-xxl-auto{flex:0 0 auto;width:auto}.col-xxl-1{flex:0 0 auto;width:8.33333333%}.col-xxl-2{flex:0 0 auto;width:16.66666667%}.col-xxl-3{flex:0 0 auto;width:25%}.col-xxl-4{flex:0 0 auto;width:33.33333333%}.col-xxl-5{flex:0 0 auto;width:41.66666667%}.col-xxl-6{flex:0 0 auto;width:50%}.col-xxl-7{flex:0 0 auto;width:58.33333333%}.col-xxl-8{flex:0 0 auto;width:66.66666667%}.col-xxl-9{flex:0 0 auto;width:75%}.col-xxl-10{flex:0 0 auto;width:83.33333333%}.col-xxl-11{flex:0 0 auto;width:91.66666667%}.col-xxl-12{flex:0 0 auto;width:100%}.offset-xxl-0{margin-left:0}.offset-xxl-1{margin-left:8.33333333%}.offset-xxl-2{margin-left:16.66666667%}.offset-xxl-3{margin-left:25%}.offset-xxl-4{margin-left:33.33333333%}.offset-xxl-5{margin-left:41.66666667%}.offset-xxl-6{margin-left:50%}.offset-xxl-7{margin-left:58.33333333%}.offset-xxl-8{margin-left:66.66666667%}.offset-xxl-9{margin-left:75%}.offset-xxl-10{margin-left:83.33333333%}.offset-xxl-11{margin-left:91.66666667%}.g-xxl-0,.gx-xxl-0{--bs-gutter-x:0}.g-xxl-0,.gy-xxl-0{--bs-gutter-y:0}.g-xxl-1,.gx-xxl-1{--bs-gutter-x:0.25rem}.g-xxl-1,.gy-xxl-1{--bs-gutter-y:0.25rem}.g-xxl-2,.gx-xxl-2{--bs-gutter-x:0.5rem}.g-xxl-2,.gy-xxl-2{--bs-gutter-y:0.5rem}.g-xxl-3,.gx-xxl-3{--bs-gutter-x:1rem}.g-xxl-3,.gy-xxl-3{--bs-gutter-y:1rem}.g-xxl-4,.gx-xxl-4{--bs-gutter-x:1.5rem}.g-xxl-4,.gy-xxl-4{--bs-gutter-y:1.5rem}.g-xxl-5,.gx-xxl-5{--bs-gutter-x:3rem}.g-xxl-5,.gy-xxl-5{--bs-gutter-y:3rem}}.table{--bs-table-color-type:initial;--bs-table-bg-type:initial;--bs-table-color-state:initial;--bs-table-bg-state:initial;--bs-table-color:var(--bs-emphasis-color);--bs-table-bg:var(--bs-body-bg);--bs-table-border-color:var(--bs-border-color);--bs-table-accent-bg:transparent;--bs-table-striped-color:var(--bs-emphasis-color);--bs-table-striped-bg:rgba(var(--bs-emphasis-color-rgb), 0.05);--bs-table-active-color:var(--bs-emphasis-color);--bs-table-active-bg:rgba(var(--bs-emphasis-color-rgb), 0.1);--bs-table-hover-color:var(--bs-emphasis-color);--bs-table-hover-bg:rgba(var(--bs-emphasis-color-rgb), 0.075);width:100%;margin-bottom:1rem;vertical-align:top;border-color:var(--bs-table-border-color)}.table>:not(caption)>*>*{padding:.5rem .5rem;color:var(--bs-table-color-state,var(--bs-table-color-type,var(--bs-table-color)));background-color:var(--bs-table-bg);border-bottom-width:var(--bs-border-width);box-shadow:inset 0 0 0 9999px var(--bs-table-bg-state,var(--bs-table-bg-type,var(--bs-table-accent-bg)))}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table-group-divider{border-top:calc(var(--bs-border-width) * 2) solid currentcolor}.caption-top{caption-side:top}.table-sm>:not(caption)>*>*{padding:.25rem .25rem}.table-bordered>:not(caption)>*{border-width:var(--bs-border-width) 0}.table-bordered>:not(caption)>*>*{border-width:0 var(--bs-border-width)}.table-borderless>:not(caption)>*>*{border-bottom-width:0}.table-borderless>:not(:first-child){border-top-width:0}.table-striped>tbody>tr:nth-of-type(odd)>*{--bs-table-color-type:var(--bs-table-striped-color);--bs-table-bg-type:var(--bs-table-striped-bg)}.table-striped-columns>:not(caption)>tr>:nth-child(2n){--bs-table-color-type:var(--bs-table-striped-color);--bs-table-bg-type:var(--bs-table-striped-bg)}.table-active{--bs-table-color-state:var(--bs-table-active-color);--bs-table-bg-state:var(--bs-table-active-bg)}.table-hover>tbody>tr:hover>*{--bs-table-color-state:var(--bs-table-hover-color);--bs-table-bg-state:var(--bs-table-hover-bg)}.table-primary{--bs-table-color:#000;--bs-table-bg:#cfe2ff;--bs-table-border-color:#a6b5cc;--bs-table-striped-bg:#c5d7f2;--bs-table-striped-color:#000;--bs-table-active-bg:#bacbe6;--bs-table-active-color:#000;--bs-table-hover-bg:#bfd1ec;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-secondary{--bs-table-color:#000;--bs-table-bg:#e2e3e5;--bs-table-border-color:#b5b6b7;--bs-table-striped-bg:#d7d8da;--bs-table-striped-color:#000;--bs-table-active-bg:#cbccce;--bs-table-active-color:#000;--bs-table-hover-bg:#d1d2d4;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-success{--bs-table-color:#000;--bs-table-bg:#d1e7dd;--bs-table-border-color:#a7b9b1;--bs-table-striped-bg:#c7dbd2;--bs-table-striped-color:#000;--bs-table-active-bg:#bcd0c7;--bs-table-active-color:#000;--bs-table-hover-bg:#c1d6cc;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-info{--bs-table-color:#000;--bs-table-bg:#cff4fc;--bs-table-border-color:#a6c3ca;--bs-table-striped-bg:#c5e8ef;--bs-table-striped-color:#000;--bs-table-active-bg:#badce3;--bs-table-active-color:#000;--bs-table-hover-bg:#bfe2e9;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-warning{--bs-table-color:#000;--bs-table-bg:#fff3cd;--bs-table-border-color:#ccc2a4;--bs-table-striped-bg:#f2e7c3;--bs-table-striped-color:#000;--bs-table-active-bg:#e6dbb9;--bs-table-active-color:#000;--bs-table-hover-bg:#ece1be;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-danger{--bs-table-color:#000;--bs-table-bg:#f8d7da;--bs-table-border-color:#c6acae;--bs-table-striped-bg:#eccccf;--bs-table-striped-color:#000;--bs-table-active-bg:#dfc2c4;--bs-table-active-color:#000;--bs-table-hover-bg:#e5c7ca;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-light{--bs-table-color:#000;--bs-table-bg:#f8f9fa;--bs-table-border-color:#c6c7c8;--bs-table-striped-bg:#ecedee;--bs-table-striped-color:#000;--bs-table-active-bg:#dfe0e1;--bs-table-active-color:#000;--bs-table-hover-bg:#e5e6e7;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-dark{--bs-table-color:#fff;--bs-table-bg:#212529;--bs-table-border-color:#4d5154;--bs-table-striped-bg:#2c3034;--bs-table-striped-color:#fff;--bs-table-active-bg:#373b3e;--bs-table-active-color:#fff;--bs-table-hover-bg:#323539;--bs-table-hover-color:#fff;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width:575.98px){.table-responsive-sm{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:767.98px){.table-responsive-md{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:991.98px){.table-responsive-lg{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1199.98px){.table-responsive-xl{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1399.98px){.table-responsive-xxl{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(.375rem + var(--bs-border-width));padding-bottom:calc(.375rem + var(--bs-border-width));margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + var(--bs-border-width));padding-bottom:calc(.5rem + var(--bs-border-width));font-size:1.25rem}.col-form-label-sm{padding-top:calc(.25rem + var(--bs-border-width));padding-bottom:calc(.25rem + var(--bs-border-width));font-size:.875rem}.form-text{margin-top:.25rem;font-size:.875em;color:var(--bs-secondary-color)}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-body-bg);background-clip:padding-box;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:var(--bs-body-color);background-color:var(--bs-body-bg);border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-control::-webkit-date-and-time-value{min-width:85px;height:1.5em;margin:0}.form-control::-webkit-datetime-edit{display:block;padding:0}.form-control::placeholder{color:var(--bs-secondary-color);opacity:1}.form-control:disabled{background-color:var(--bs-secondary-bg);opacity:1}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:var(--bs-body-color);background-color:var(--bs-tertiary-bg);pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--bs-border-width);border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:var(--bs-body-color);background-color:var(--bs-tertiary-bg);pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--bs-border-width);border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:var(--bs-secondary-bg)}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:var(--bs-secondary-bg)}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:var(--bs-body-color);background-color:transparent;border:solid transparent;border-width:var(--bs-border-width) 0}.form-control-plaintext:focus{outline:0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2));padding:.25rem .5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-lg{min-height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2));padding:.5rem 1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}textarea.form-control{min-height:calc(1.5em + .75rem + calc(var(--bs-border-width) * 2))}textarea.form-control-sm{min-height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2))}textarea.form-control-lg{min-height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2))}.form-control-color{width:3rem;height:calc(1.5em + .75rem + calc(var(--bs-border-width) * 2));padding:.375rem}.form-control-color:not(:disabled):not([readonly]){cursor:pointer}.form-control-color::-moz-color-swatch{border:0!important;border-radius:var(--bs-border-radius)}.form-control-color::-webkit-color-swatch{border:0!important;border-radius:var(--bs-border-radius)}.form-control-color.form-control-sm{height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2))}.form-control-color.form-control-lg{height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2))}.form-select{--bs-form-select-bg-img:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-body-bg);background-image:var(--bs-form-select-bg-img),var(--bs-form-select-bg-icon,none);background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-select{transition:none}}.form-select:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-select[multiple],.form-select[size]:not([size="1"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:var(--bs-secondary-bg)}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 var(--bs-body-color)}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.form-select-lg{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}[data-bs-theme=dark] .form-select{--bs-form-select-bg-img:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23dee2e6' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e")}.form-check{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-reverse{padding-right:1.5em;padding-left:0;text-align:right}.form-check-reverse .form-check-input{float:right;margin-right:-1.5em;margin-left:0}.form-check-input{--bs-form-check-bg:var(--bs-body-bg);flex-shrink:0;width:1em;height:1em;margin-top:.25em;vertical-align:top;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-form-check-bg);background-image:var(--bs-form-check-bg-image);background-repeat:no-repeat;background-position:center;background-size:contain;border:var(--bs-border-width) solid var(--bs-border-color);-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{--bs-form-check-bg-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e")}.form-check-input:checked[type=radio]{--bs-form-check-bg-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e")}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;--bs-form-check-bg-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e")}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{cursor:default;opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{--bs-form-switch-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e");width:2em;margin-left:-2.5em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{--bs-form-switch-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2386b7fe'/%3e%3c/svg%3e")}.form-switch .form-check-input:checked{background-position:right center;--bs-form-switch-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.form-switch.form-check-reverse{padding-right:2.5em;padding-left:0}.form-switch.form-check-reverse .form-check-input{margin-right:-2.5em;margin-left:0}.form-check-inline{display:inline-block;margin-right:1rem}.btn-check{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check:disabled+.btn,.btn-check[disabled]+.btn{pointer-events:none;filter:none;opacity:.65}[data-bs-theme=dark] .form-switch .form-check-input:not(:checked):not(:focus){--bs-form-switch-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%28255, 255, 255, 0.25%29'/%3e%3c/svg%3e")}.form-range{width:100%;height:1.5rem;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;-webkit-appearance:none;appearance:none;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:var(--bs-secondary-bg);border-color:transparent;border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;-moz-appearance:none;appearance:none;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-range::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range::-moz-range-thumb:active{background-color:#b6d4fe}.form-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:var(--bs-secondary-bg);border-color:transparent;border-radius:1rem}.form-range:disabled{pointer-events:none}.form-range:disabled::-webkit-slider-thumb{background-color:var(--bs-secondary-color)}.form-range:disabled::-moz-range-thumb{background-color:var(--bs-secondary-color)}.form-floating{position:relative}.form-floating>.form-control,.form-floating>.form-control-plaintext,.form-floating>.form-select{height:calc(3.5rem + calc(var(--bs-border-width) * 2));min-height:calc(3.5rem + calc(var(--bs-border-width) * 2));line-height:1.25}.form-floating>label{position:absolute;top:0;left:0;z-index:2;max-width:100%;height:100%;padding:1rem .75rem;overflow:hidden;color:rgba(var(--bs-body-color-rgb),.65);text-align:start;text-overflow:ellipsis;white-space:nowrap;pointer-events:none;border:var(--bs-border-width) solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion:reduce){.form-floating>label{transition:none}}.form-floating>.form-control,.form-floating>.form-control-plaintext{padding:1rem .75rem}.form-floating>.form-control-plaintext::placeholder,.form-floating>.form-control::placeholder{color:transparent}.form-floating>.form-control-plaintext:focus,.form-floating>.form-control-plaintext:not(:placeholder-shown),.form-floating>.form-control:focus,.form-floating>.form-control:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control-plaintext:-webkit-autofill,.form-floating>.form-control:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-select{padding-top:1.625rem;padding-bottom:.625rem;padding-left:.75rem}.form-floating>.form-control-plaintext~label,.form-floating>.form-control:focus~label,.form-floating>.form-control:not(:placeholder-shown)~label,.form-floating>.form-select~label{transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:-webkit-autofill~label{transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>textarea:focus~label::after,.form-floating>textarea:not(:placeholder-shown)~label::after{position:absolute;inset:1rem 0.375rem;z-index:-1;height:1.5em;content:"";background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius)}.form-floating>textarea:disabled~label::after{background-color:var(--bs-secondary-bg)}.form-floating>.form-control-plaintext~label{border-width:var(--bs-border-width) 0}.form-floating>.form-control:disabled~label,.form-floating>:disabled~label{color:#6c757d}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-floating,.input-group>.form-select{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-floating:focus-within,.input-group>.form-select:focus{z-index:5}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:5}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);text-align:center;white-space:nowrap;background-color:var(--bs-tertiary-bg);border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius)}.input-group-lg>.btn,.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}.input-group-sm>.btn,.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-text{padding:.25rem .5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:3rem}.input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-control,.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-select,.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.dropdown-toggle:nth-last-child(n+4),.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-control,.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-select,.input-group.has-validation>:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:calc(-1 * var(--bs-border-width));border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.form-floating:not(:first-child)>.form-control,.input-group>.form-floating:not(:first-child)>.form-select{border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:var(--bs-form-valid-color)}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:var(--bs-success);border-radius:var(--bs-border-radius)}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:var(--bs-form-valid-border-color);padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:var(--bs-form-valid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-valid,.was-validated .form-select:valid{border-color:var(--bs-form-valid-border-color)}.form-select.is-valid:not([multiple]):not([size]),.form-select.is-valid:not([multiple])[size="1"],.was-validated .form-select:valid:not([multiple]):not([size]),.was-validated .form-select:valid:not([multiple])[size="1"]{--bs-form-select-bg-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1'/%3e%3c/svg%3e");padding-right:4.125rem;background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-valid:focus,.was-validated .form-select:valid:focus{border-color:var(--bs-form-valid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)}.form-control-color.is-valid,.was-validated .form-control-color:valid{width:calc(3rem + calc(1.5em + .75rem))}.form-check-input.is-valid,.was-validated .form-check-input:valid{border-color:var(--bs-form-valid-border-color)}.form-check-input.is-valid:checked,.was-validated .form-check-input:valid:checked{background-color:var(--bs-form-valid-color)}.form-check-input.is-valid:focus,.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:var(--bs-form-valid-color)}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-valid,.input-group>.form-floating:not(:focus-within).is-valid,.input-group>.form-select:not(:focus).is-valid,.was-validated .input-group>.form-control:not(:focus):valid,.was-validated .input-group>.form-floating:not(:focus-within):valid,.was-validated .input-group>.form-select:not(:focus):valid{z-index:3}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:var(--bs-form-invalid-color)}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:var(--bs-danger);border-radius:var(--bs-border-radius)}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:var(--bs-form-invalid-border-color);padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:var(--bs-form-invalid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid,.was-validated .form-select:invalid{border-color:var(--bs-form-invalid-border-color)}.form-select.is-invalid:not([multiple]):not([size]),.form-select.is-invalid:not([multiple])[size="1"],.was-validated .form-select:invalid:not([multiple]):not([size]),.was-validated .form-select:invalid:not([multiple])[size="1"]{--bs-form-select-bg-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");padding-right:4.125rem;background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus,.was-validated .form-select:invalid:focus{border-color:var(--bs-form-invalid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)}.form-control-color.is-invalid,.was-validated .form-control-color:invalid{width:calc(3rem + calc(1.5em + .75rem))}.form-check-input.is-invalid,.was-validated .form-check-input:invalid{border-color:var(--bs-form-invalid-border-color)}.form-check-input.is-invalid:checked,.was-validated .form-check-input:invalid:checked{background-color:var(--bs-form-invalid-color)}.form-check-input.is-invalid:focus,.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:var(--bs-form-invalid-color)}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-invalid,.input-group>.form-floating:not(:focus-within).is-invalid,.input-group>.form-select:not(:focus).is-invalid,.was-validated .input-group>.form-control:not(:focus):invalid,.was-validated .input-group>.form-floating:not(:focus-within):invalid,.was-validated .input-group>.form-select:not(:focus):invalid{z-index:4}.btn{--bs-btn-padding-x:0.75rem;--bs-btn-padding-y:0.375rem;--bs-btn-font-family: ;--bs-btn-font-size:1rem;--bs-btn-font-weight:400;--bs-btn-line-height:1.5;--bs-btn-color:var(--bs-body-color);--bs-btn-bg:transparent;--bs-btn-border-width:var(--bs-border-width);--bs-btn-border-color:transparent;--bs-btn-border-radius:var(--bs-border-radius);--bs-btn-hover-border-color:transparent;--bs-btn-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.15),0 1px 1px rgba(0, 0, 0, 0.075);--bs-btn-disabled-opacity:0.65;--bs-btn-focus-box-shadow:0 0 0 0.25rem rgba(var(--bs-btn-focus-shadow-rgb), .5);display:inline-block;padding:var(--bs-btn-padding-y) var(--bs-btn-padding-x);font-family:var(--bs-btn-font-family);font-size:var(--bs-btn-font-size);font-weight:var(--bs-btn-font-weight);line-height:var(--bs-btn-line-height);color:var(--bs-btn-color);text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:var(--bs-btn-border-width) solid var(--bs-btn-border-color);border-radius:var(--bs-btn-border-radius);background-color:var(--bs-btn-bg);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color)}.btn-check+.btn:hover{color:var(--bs-btn-color);background-color:var(--bs-btn-bg);border-color:var(--bs-btn-border-color)}.btn:focus-visible{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:focus-visible+.btn{border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:checked+.btn,.btn.active,.btn.show,.btn:first-child:active,:not(.btn-check)+.btn:active{color:var(--bs-btn-active-color);background-color:var(--bs-btn-active-bg);border-color:var(--bs-btn-active-border-color)}.btn-check:checked+.btn:focus-visible,.btn.active:focus-visible,.btn.show:focus-visible,.btn:first-child:active:focus-visible,:not(.btn-check)+.btn:active:focus-visible{box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:checked:focus-visible+.btn{box-shadow:var(--bs-btn-focus-box-shadow)}.btn.disabled,.btn:disabled,fieldset:disabled .btn{color:var(--bs-btn-disabled-color);pointer-events:none;background-color:var(--bs-btn-disabled-bg);border-color:var(--bs-btn-disabled-border-color);opacity:var(--bs-btn-disabled-opacity)}.btn-primary{--bs-btn-color:#fff;--bs-btn-bg:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0b5ed7;--bs-btn-hover-border-color:#0a58ca;--bs-btn-focus-shadow-rgb:49,132,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0a58ca;--bs-btn-active-border-color:#0a53be;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#0d6efd;--bs-btn-disabled-border-color:#0d6efd}.btn-secondary{--bs-btn-color:#fff;--bs-btn-bg:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#5c636a;--bs-btn-hover-border-color:#565e64;--bs-btn-focus-shadow-rgb:130,138,145;--bs-btn-active-color:#fff;--bs-btn-active-bg:#565e64;--bs-btn-active-border-color:#51585e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#6c757d;--bs-btn-disabled-border-color:#6c757d}.btn-success{--bs-btn-color:#fff;--bs-btn-bg:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#157347;--bs-btn-hover-border-color:#146c43;--bs-btn-focus-shadow-rgb:60,153,110;--bs-btn-active-color:#fff;--bs-btn-active-bg:#146c43;--bs-btn-active-border-color:#13653f;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#198754;--bs-btn-disabled-border-color:#198754}.btn-info{--bs-btn-color:#000;--bs-btn-bg:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#31d2f2;--bs-btn-hover-border-color:#25cff2;--bs-btn-focus-shadow-rgb:11,172,204;--bs-btn-active-color:#000;--bs-btn-active-bg:#3dd5f3;--bs-btn-active-border-color:#25cff2;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#0dcaf0;--bs-btn-disabled-border-color:#0dcaf0}.btn-warning{--bs-btn-color:#000;--bs-btn-bg:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffca2c;--bs-btn-hover-border-color:#ffc720;--bs-btn-focus-shadow-rgb:217,164,6;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffcd39;--bs-btn-active-border-color:#ffc720;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#ffc107;--bs-btn-disabled-border-color:#ffc107}.btn-danger{--bs-btn-color:#fff;--bs-btn-bg:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#bb2d3b;--bs-btn-hover-border-color:#b02a37;--bs-btn-focus-shadow-rgb:225,83,97;--bs-btn-active-color:#fff;--bs-btn-active-bg:#b02a37;--bs-btn-active-border-color:#a52834;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#dc3545;--bs-btn-disabled-border-color:#dc3545}.btn-light{--bs-btn-color:#000;--bs-btn-bg:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#d3d4d5;--bs-btn-hover-border-color:#c6c7c8;--bs-btn-focus-shadow-rgb:211,212,213;--bs-btn-active-color:#000;--bs-btn-active-bg:#c6c7c8;--bs-btn-active-border-color:#babbbc;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#f8f9fa;--bs-btn-disabled-border-color:#f8f9fa}.btn-dark{--bs-btn-color:#fff;--bs-btn-bg:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#424649;--bs-btn-hover-border-color:#373b3e;--bs-btn-focus-shadow-rgb:66,70,73;--bs-btn-active-color:#fff;--bs-btn-active-bg:#4d5154;--bs-btn-active-border-color:#373b3e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#212529;--bs-btn-disabled-border-color:#212529}.btn-outline-primary{--bs-btn-color:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0d6efd;--bs-btn-hover-border-color:#0d6efd;--bs-btn-focus-shadow-rgb:13,110,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0d6efd;--bs-btn-active-border-color:#0d6efd;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#0d6efd;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0d6efd;--bs-gradient:none}.btn-outline-secondary{--bs-btn-color:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#6c757d;--bs-btn-hover-border-color:#6c757d;--bs-btn-focus-shadow-rgb:108,117,125;--bs-btn-active-color:#fff;--bs-btn-active-bg:#6c757d;--bs-btn-active-border-color:#6c757d;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#6c757d;--bs-gradient:none}.btn-outline-success{--bs-btn-color:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#198754;--bs-btn-hover-border-color:#198754;--bs-btn-focus-shadow-rgb:25,135,84;--bs-btn-active-color:#fff;--bs-btn-active-bg:#198754;--bs-btn-active-border-color:#198754;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#198754;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#198754;--bs-gradient:none}.btn-outline-info{--bs-btn-color:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#0dcaf0;--bs-btn-hover-border-color:#0dcaf0;--bs-btn-focus-shadow-rgb:13,202,240;--bs-btn-active-color:#000;--bs-btn-active-bg:#0dcaf0;--bs-btn-active-border-color:#0dcaf0;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#0dcaf0;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0dcaf0;--bs-gradient:none}.btn-outline-warning{--bs-btn-color:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffc107;--bs-btn-hover-border-color:#ffc107;--bs-btn-focus-shadow-rgb:255,193,7;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffc107;--bs-btn-active-border-color:#ffc107;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#ffc107;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#ffc107;--bs-gradient:none}.btn-outline-danger{--bs-btn-color:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#dc3545;--bs-btn-hover-border-color:#dc3545;--bs-btn-focus-shadow-rgb:220,53,69;--bs-btn-active-color:#fff;--bs-btn-active-bg:#dc3545;--bs-btn-active-border-color:#dc3545;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#dc3545;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#dc3545;--bs-gradient:none}.btn-outline-light{--bs-btn-color:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#f8f9fa;--bs-btn-hover-border-color:#f8f9fa;--bs-btn-focus-shadow-rgb:248,249,250;--bs-btn-active-color:#000;--bs-btn-active-bg:#f8f9fa;--bs-btn-active-border-color:#f8f9fa;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#f8f9fa;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#f8f9fa;--bs-gradient:none}.btn-outline-dark{--bs-btn-color:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#212529;--bs-btn-hover-border-color:#212529;--bs-btn-focus-shadow-rgb:33,37,41;--bs-btn-active-color:#fff;--bs-btn-active-bg:#212529;--bs-btn-active-border-color:#212529;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#212529;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#212529;--bs-gradient:none}.btn-link{--bs-btn-font-weight:400;--bs-btn-color:var(--bs-link-color);--bs-btn-bg:transparent;--bs-btn-border-color:transparent;--bs-btn-hover-color:var(--bs-link-hover-color);--bs-btn-hover-border-color:transparent;--bs-btn-active-color:var(--bs-link-hover-color);--bs-btn-active-border-color:transparent;--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-border-color:transparent;--bs-btn-box-shadow:0 0 0 #000;--bs-btn-focus-shadow-rgb:49,132,253;text-decoration:underline}.btn-link:focus-visible{color:var(--bs-btn-color)}.btn-link:hover{color:var(--bs-btn-hover-color)}.btn-group-lg>.btn,.btn-lg{--bs-btn-padding-y:0.5rem;--bs-btn-padding-x:1rem;--bs-btn-font-size:1.25rem;--bs-btn-border-radius:var(--bs-border-radius-lg)}.btn-group-sm>.btn,.btn-sm{--bs-btn-padding-y:0.25rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.875rem;--bs-btn-border-radius:var(--bs-border-radius-sm)}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.collapsing.collapse-horizontal{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion:reduce){.collapsing.collapse-horizontal{transition:none}}.dropdown,.dropdown-center,.dropend,.dropstart,.dropup,.dropup-center{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{--bs-dropdown-zindex:1000;--bs-dropdown-min-width:10rem;--bs-dropdown-padding-x:0;--bs-dropdown-padding-y:0.5rem;--bs-dropdown-spacer:0.125rem;--bs-dropdown-font-size:1rem;--bs-dropdown-color:var(--bs-body-color);--bs-dropdown-bg:var(--bs-body-bg);--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-border-radius:var(--bs-border-radius);--bs-dropdown-border-width:var(--bs-border-width);--bs-dropdown-inner-border-radius:calc(var(--bs-border-radius) - var(--bs-border-width));--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-divider-margin-y:0.5rem;--bs-dropdown-box-shadow:var(--bs-box-shadow);--bs-dropdown-link-color:var(--bs-body-color);--bs-dropdown-link-hover-color:var(--bs-body-color);--bs-dropdown-link-hover-bg:var(--bs-tertiary-bg);--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:var(--bs-tertiary-color);--bs-dropdown-item-padding-x:1rem;--bs-dropdown-item-padding-y:0.25rem;--bs-dropdown-header-color:#6c757d;--bs-dropdown-header-padding-x:1rem;--bs-dropdown-header-padding-y:0.5rem;position:absolute;z-index:var(--bs-dropdown-zindex);display:none;min-width:var(--bs-dropdown-min-width);padding:var(--bs-dropdown-padding-y) var(--bs-dropdown-padding-x);margin:0;font-size:var(--bs-dropdown-font-size);color:var(--bs-dropdown-color);text-align:left;list-style:none;background-color:var(--bs-dropdown-bg);background-clip:padding-box;border:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color);border-radius:var(--bs-dropdown-border-radius)}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:var(--bs-dropdown-spacer)}.dropdown-menu-start{--bs-position:start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position:end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-start{--bs-position:start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position:end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-start{--bs-position:start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position:end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-start{--bs-position:start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position:end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-start{--bs-position:start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position:end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1400px){.dropdown-menu-xxl-start{--bs-position:start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position:end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:var(--bs-dropdown-spacer)}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:var(--bs-dropdown-spacer)}.dropend .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-toggle::after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:var(--bs-dropdown-spacer)}.dropstart .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropstart .dropdown-toggle::after{display:none}.dropstart .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart .dropdown-toggle:empty::after{margin-left:0}.dropstart .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:var(--bs-dropdown-divider-margin-y) 0;overflow:hidden;border-top:1px solid var(--bs-dropdown-divider-bg);opacity:1}.dropdown-item{display:block;width:100%;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);clear:both;font-weight:400;color:var(--bs-dropdown-link-color);text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0;border-radius:var(--bs-dropdown-item-border-radius,0)}.dropdown-item:focus,.dropdown-item:hover{color:var(--bs-dropdown-link-hover-color);background-color:var(--bs-dropdown-link-hover-bg)}.dropdown-item.active,.dropdown-item:active{color:var(--bs-dropdown-link-active-color);text-decoration:none;background-color:var(--bs-dropdown-link-active-bg)}.dropdown-item.disabled,.dropdown-item:disabled{color:var(--bs-dropdown-link-disabled-color);pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:var(--bs-dropdown-header-padding-y) var(--bs-dropdown-header-padding-x);margin-bottom:0;font-size:.875rem;color:var(--bs-dropdown-header-color);white-space:nowrap}.dropdown-item-text{display:block;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);color:var(--bs-dropdown-link-color)}.dropdown-menu-dark{--bs-dropdown-color:#dee2e6;--bs-dropdown-bg:#343a40;--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-box-shadow: ;--bs-dropdown-link-color:#dee2e6;--bs-dropdown-link-hover-color:#fff;--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-link-hover-bg:rgba(255, 255, 255, 0.15);--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:#adb5bd;--bs-dropdown-header-color:#adb5bd}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn-check:checked+.btn,.btn-group-vertical>.btn-check:focus+.btn,.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn-check:checked+.btn,.btn-group>.btn-check:focus+.btn,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group{border-radius:var(--bs-border-radius)}.btn-group>.btn-group:not(:first-child),.btn-group>:not(.btn-check:first-child)+.btn{margin-left:calc(-1 * var(--bs-border-width))}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn.dropdown-toggle-split:first-child,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropend .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropstart .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:calc(-1 * var(--bs-border-width))}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:nth-child(n+3),.btn-group-vertical>:not(.btn-check)+.btn{border-top-left-radius:0;border-top-right-radius:0}.nav{--bs-nav-link-padding-x:1rem;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-link-color);--bs-nav-link-hover-color:var(--bs-link-hover-color);--bs-nav-link-disabled-color:var(--bs-secondary-color);display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:var(--bs-nav-link-padding-y) var(--bs-nav-link-padding-x);font-size:var(--bs-nav-link-font-size);font-weight:var(--bs-nav-link-font-weight);color:var(--bs-nav-link-color);text-decoration:none;background:0 0;border:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion:reduce){.nav-link{transition:none}}.nav-link:focus,.nav-link:hover{color:var(--bs-nav-link-hover-color)}.nav-link:focus-visible{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.nav-link.disabled,.nav-link:disabled{color:var(--bs-nav-link-disabled-color);pointer-events:none;cursor:default}.nav-tabs{--bs-nav-tabs-border-width:var(--bs-border-width);--bs-nav-tabs-border-color:var(--bs-border-color);--bs-nav-tabs-border-radius:var(--bs-border-radius);--bs-nav-tabs-link-hover-border-color:var(--bs-secondary-bg) var(--bs-secondary-bg) var(--bs-border-color);--bs-nav-tabs-link-active-color:var(--bs-emphasis-color);--bs-nav-tabs-link-active-bg:var(--bs-body-bg);--bs-nav-tabs-link-active-border-color:var(--bs-border-color) var(--bs-border-color) var(--bs-body-bg);border-bottom:var(--bs-nav-tabs-border-width) solid var(--bs-nav-tabs-border-color)}.nav-tabs .nav-link{margin-bottom:calc(-1 * var(--bs-nav-tabs-border-width));border:var(--bs-nav-tabs-border-width) solid transparent;border-top-left-radius:var(--bs-nav-tabs-border-radius);border-top-right-radius:var(--bs-nav-tabs-border-radius)}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{isolation:isolate;border-color:var(--bs-nav-tabs-link-hover-border-color)}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:var(--bs-nav-tabs-link-active-color);background-color:var(--bs-nav-tabs-link-active-bg);border-color:var(--bs-nav-tabs-link-active-border-color)}.nav-tabs .dropdown-menu{margin-top:calc(-1 * var(--bs-nav-tabs-border-width));border-top-left-radius:0;border-top-right-radius:0}.nav-pills{--bs-nav-pills-border-radius:var(--bs-border-radius);--bs-nav-pills-link-active-color:#fff;--bs-nav-pills-link-active-bg:#0d6efd}.nav-pills .nav-link{border-radius:var(--bs-nav-pills-border-radius)}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:var(--bs-nav-pills-link-active-color);background-color:var(--bs-nav-pills-link-active-bg)}.nav-underline{--bs-nav-underline-gap:1rem;--bs-nav-underline-border-width:0.125rem;--bs-nav-underline-link-active-color:var(--bs-emphasis-color);gap:var(--bs-nav-underline-gap)}.nav-underline .nav-link{padding-right:0;padding-left:0;border-bottom:var(--bs-nav-underline-border-width) solid transparent}.nav-underline .nav-link:focus,.nav-underline .nav-link:hover{border-bottom-color:currentcolor}.nav-underline .nav-link.active,.nav-underline .show>.nav-link{font-weight:700;color:var(--bs-nav-underline-link-active-color);border-bottom-color:currentcolor}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-grow:1;flex-basis:0;text-align:center}.nav-fill .nav-item .nav-link,.nav-justified .nav-item .nav-link{width:100%}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{--bs-navbar-padding-x:0;--bs-navbar-padding-y:0.5rem;--bs-navbar-color:rgba(var(--bs-emphasis-color-rgb), 0.65);--bs-navbar-hover-color:rgba(var(--bs-emphasis-color-rgb), 0.8);--bs-navbar-disabled-color:rgba(var(--bs-emphasis-color-rgb), 0.3);--bs-navbar-active-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-brand-padding-y:0.3125rem;--bs-navbar-brand-margin-end:1rem;--bs-navbar-brand-font-size:1.25rem;--bs-navbar-brand-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-brand-hover-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-nav-link-padding-x:0.5rem;--bs-navbar-toggler-padding-y:0.25rem;--bs-navbar-toggler-padding-x:0.75rem;--bs-navbar-toggler-font-size:1.25rem;--bs-navbar-toggler-icon-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2833, 37, 41, 0.75%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");--bs-navbar-toggler-border-color:rgba(var(--bs-emphasis-color-rgb), 0.15);--bs-navbar-toggler-border-radius:var(--bs-border-radius);--bs-navbar-toggler-focus-width:0.25rem;--bs-navbar-toggler-transition:box-shadow 0.15s ease-in-out;position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:var(--bs-navbar-padding-y) var(--bs-navbar-padding-x)}.navbar>.container,.navbar>.container-fluid,.navbar>.container-lg,.navbar>.container-md,.navbar>.container-sm,.navbar>.container-xl,.navbar>.container-xxl{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:var(--bs-navbar-brand-padding-y);padding-bottom:var(--bs-navbar-brand-padding-y);margin-right:var(--bs-navbar-brand-margin-end);font-size:var(--bs-navbar-brand-font-size);color:var(--bs-navbar-brand-color);text-decoration:none;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{color:var(--bs-navbar-brand-hover-color)}.navbar-nav{--bs-nav-link-padding-x:0;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-navbar-color);--bs-nav-link-hover-color:var(--bs-navbar-hover-color);--bs-nav-link-disabled-color:var(--bs-navbar-disabled-color);display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link.active,.navbar-nav .nav-link.show{color:var(--bs-navbar-active-color)}.navbar-nav .dropdown-menu{position:static}.navbar-text{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-navbar-color)}.navbar-text a,.navbar-text a:focus,.navbar-text a:hover{color:var(--bs-navbar-active-color)}.navbar-collapse{flex-grow:1;flex-basis:100%;align-items:center}.navbar-toggler{padding:var(--bs-navbar-toggler-padding-y) var(--bs-navbar-toggler-padding-x);font-size:var(--bs-navbar-toggler-font-size);line-height:1;color:var(--bs-navbar-color);background-color:transparent;border:var(--bs-border-width) solid var(--bs-navbar-toggler-border-color);border-radius:var(--bs-navbar-toggler-border-radius);transition:var(--bs-navbar-toggler-transition)}@media (prefers-reduced-motion:reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 var(--bs-navbar-toggler-focus-width)}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-image:var(--bs-navbar-toggler-icon-bg);background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll{max-height:var(--bs-scroll-height,75vh);overflow-y:auto}@media (min-width:576px){.navbar-expand-sm{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-sm .offcanvas .offcanvas-header{display:none}.navbar-expand-sm .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:768px){.navbar-expand-md{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-md .offcanvas .offcanvas-header{display:none}.navbar-expand-md .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-lg .offcanvas .offcanvas-header{display:none}.navbar-expand-lg .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1200px){.navbar-expand-xl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xl .offcanvas .offcanvas-header{display:none}.navbar-expand-xl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1400px){.navbar-expand-xxl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl .navbar-nav{flex-direction:row}.navbar-expand-xxl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xxl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xxl .navbar-nav-scroll{overflow:visible}.navbar-expand-xxl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xxl .navbar-toggler{display:none}.navbar-expand-xxl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xxl .offcanvas .offcanvas-header{display:none}.navbar-expand-xxl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand .offcanvas .offcanvas-header{display:none}.navbar-expand .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-dark,.navbar[data-bs-theme=dark]{--bs-navbar-color:rgba(255, 255, 255, 0.55);--bs-navbar-hover-color:rgba(255, 255, 255, 0.75);--bs-navbar-disabled-color:rgba(255, 255, 255, 0.25);--bs-navbar-active-color:#fff;--bs-navbar-brand-color:#fff;--bs-navbar-brand-hover-color:#fff;--bs-navbar-toggler-border-color:rgba(255, 255, 255, 0.1);--bs-navbar-toggler-icon-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}[data-bs-theme=dark] .navbar-toggler-icon{--bs-navbar-toggler-icon-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.card{--bs-card-spacer-y:1rem;--bs-card-spacer-x:1rem;--bs-card-title-spacer-y:0.5rem;--bs-card-title-color: ;--bs-card-subtitle-color: ;--bs-card-border-width:var(--bs-border-width);--bs-card-border-color:var(--bs-border-color-translucent);--bs-card-border-radius:var(--bs-border-radius);--bs-card-box-shadow: ;--bs-card-inner-border-radius:calc(var(--bs-border-radius) - (var(--bs-border-width)));--bs-card-cap-padding-y:0.5rem;--bs-card-cap-padding-x:1rem;--bs-card-cap-bg:rgba(var(--bs-body-color-rgb), 0.03);--bs-card-cap-color: ;--bs-card-height: ;--bs-card-color: ;--bs-card-bg:var(--bs-body-bg);--bs-card-img-overlay-padding:1rem;--bs-card-group-margin:0.75rem;position:relative;display:flex;flex-direction:column;min-width:0;height:var(--bs-card-height);color:var(--bs-body-color);word-wrap:break-word;background-color:var(--bs-card-bg);background-clip:border-box;border:var(--bs-card-border-width) solid var(--bs-card-border-color);border-radius:var(--bs-card-border-radius)}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;padding:var(--bs-card-spacer-y) var(--bs-card-spacer-x);color:var(--bs-card-color)}.card-title{margin-bottom:var(--bs-card-title-spacer-y);color:var(--bs-card-title-color)}.card-subtitle{margin-top:calc(-.5 * var(--bs-card-title-spacer-y));margin-bottom:0;color:var(--bs-card-subtitle-color)}.card-text:last-child{margin-bottom:0}.card-link+.card-link{margin-left:var(--bs-card-spacer-x)}.card-header{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);margin-bottom:0;color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-header:first-child{border-radius:var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius) 0 0}.card-footer{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-top:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-footer:last-child{border-radius:0 0 var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius)}.card-header-tabs{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-bottom:calc(-1 * var(--bs-card-cap-padding-y));margin-left:calc(-.5 * var(--bs-card-cap-padding-x));border-bottom:0}.card-header-tabs .nav-link.active{background-color:var(--bs-card-bg);border-bottom-color:var(--bs-card-bg)}.card-header-pills{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-left:calc(-.5 * var(--bs-card-cap-padding-x))}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:var(--bs-card-img-overlay-padding);border-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom,.card-img-top{width:100%}.card-img,.card-img-top{border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom{border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card-group>.card{margin-bottom:var(--bs-card-group-margin)}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child)>.card-header,.card-group>.card:not(:last-child)>.card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child)>.card-footer,.card-group>.card:not(:last-child)>.card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child)>.card-header,.card-group>.card:not(:first-child)>.card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child)>.card-footer,.card-group>.card:not(:first-child)>.card-img-bottom{border-bottom-left-radius:0}}.accordion{--bs-accordion-color:var(--bs-body-color);--bs-accordion-bg:var(--bs-body-bg);--bs-accordion-transition:color 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,border-radius 0.15s ease;--bs-accordion-border-color:var(--bs-border-color);--bs-accordion-border-width:var(--bs-border-width);--bs-accordion-border-radius:var(--bs-border-radius);--bs-accordion-inner-border-radius:calc(var(--bs-border-radius) - (var(--bs-border-width)));--bs-accordion-btn-padding-x:1.25rem;--bs-accordion-btn-padding-y:1rem;--bs-accordion-btn-color:var(--bs-body-color);--bs-accordion-btn-bg:var(--bs-accordion-bg);--bs-accordion-btn-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23212529' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='m2 5 6 6 6-6'/%3e%3c/svg%3e");--bs-accordion-btn-icon-width:1.25rem;--bs-accordion-btn-icon-transform:rotate(-180deg);--bs-accordion-btn-icon-transition:transform 0.2s ease-in-out;--bs-accordion-btn-active-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23052c65' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='m2 5 6 6 6-6'/%3e%3c/svg%3e");--bs-accordion-btn-focus-box-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-accordion-body-padding-x:1.25rem;--bs-accordion-body-padding-y:1rem;--bs-accordion-active-color:var(--bs-primary-text-emphasis);--bs-accordion-active-bg:var(--bs-primary-bg-subtle)}.accordion-button{position:relative;display:flex;align-items:center;width:100%;padding:var(--bs-accordion-btn-padding-y) var(--bs-accordion-btn-padding-x);font-size:1rem;color:var(--bs-accordion-btn-color);text-align:left;background-color:var(--bs-accordion-btn-bg);border:0;border-radius:0;overflow-anchor:none;transition:var(--bs-accordion-transition)}@media (prefers-reduced-motion:reduce){.accordion-button{transition:none}}.accordion-button:not(.collapsed){color:var(--bs-accordion-active-color);background-color:var(--bs-accordion-active-bg);box-shadow:inset 0 calc(-1 * var(--bs-accordion-border-width)) 0 var(--bs-accordion-border-color)}.accordion-button:not(.collapsed)::after{background-image:var(--bs-accordion-btn-active-icon);transform:var(--bs-accordion-btn-icon-transform)}.accordion-button::after{flex-shrink:0;width:var(--bs-accordion-btn-icon-width);height:var(--bs-accordion-btn-icon-width);margin-left:auto;content:"";background-image:var(--bs-accordion-btn-icon);background-repeat:no-repeat;background-size:var(--bs-accordion-btn-icon-width);transition:var(--bs-accordion-btn-icon-transition)}@media (prefers-reduced-motion:reduce){.accordion-button::after{transition:none}}.accordion-button:hover{z-index:2}.accordion-button:focus{z-index:3;outline:0;box-shadow:var(--bs-accordion-btn-focus-box-shadow)}.accordion-header{margin-bottom:0}.accordion-item{color:var(--bs-accordion-color);background-color:var(--bs-accordion-bg);border:var(--bs-accordion-border-width) solid var(--bs-accordion-border-color)}.accordion-item:first-of-type{border-top-left-radius:var(--bs-accordion-border-radius);border-top-right-radius:var(--bs-accordion-border-radius)}.accordion-item:first-of-type>.accordion-header .accordion-button{border-top-left-radius:var(--bs-accordion-inner-border-radius);border-top-right-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:not(:first-of-type){border-top:0}.accordion-item:last-of-type{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-item:last-of-type>.accordion-header .accordion-button.collapsed{border-bottom-right-radius:var(--bs-accordion-inner-border-radius);border-bottom-left-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:last-of-type>.accordion-collapse{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-body{padding:var(--bs-accordion-body-padding-y) var(--bs-accordion-body-padding-x)}.accordion-flush>.accordion-item{border-right:0;border-left:0;border-radius:0}.accordion-flush>.accordion-item:first-child{border-top:0}.accordion-flush>.accordion-item:last-child{border-bottom:0}.accordion-flush>.accordion-item>.accordion-collapse,.accordion-flush>.accordion-item>.accordion-header .accordion-button,.accordion-flush>.accordion-item>.accordion-header .accordion-button.collapsed{border-radius:0}[data-bs-theme=dark] .accordion-button::after{--bs-accordion-btn-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%236ea8fe'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708'/%3e%3c/svg%3e");--bs-accordion-btn-active-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%236ea8fe'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708'/%3e%3c/svg%3e")}.breadcrumb{--bs-breadcrumb-padding-x:0;--bs-breadcrumb-padding-y:0;--bs-breadcrumb-margin-bottom:1rem;--bs-breadcrumb-bg: ;--bs-breadcrumb-border-radius: ;--bs-breadcrumb-divider-color:var(--bs-secondary-color);--bs-breadcrumb-item-padding-x:0.5rem;--bs-breadcrumb-item-active-color:var(--bs-secondary-color);display:flex;flex-wrap:wrap;padding:var(--bs-breadcrumb-padding-y) var(--bs-breadcrumb-padding-x);margin-bottom:var(--bs-breadcrumb-margin-bottom);font-size:var(--bs-breadcrumb-font-size);list-style:none;background-color:var(--bs-breadcrumb-bg);border-radius:var(--bs-breadcrumb-border-radius)}.breadcrumb-item+.breadcrumb-item{padding-left:var(--bs-breadcrumb-item-padding-x)}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:var(--bs-breadcrumb-item-padding-x);color:var(--bs-breadcrumb-divider-color);content:var(--bs-breadcrumb-divider, "/")}.breadcrumb-item.active{color:var(--bs-breadcrumb-item-active-color)}.pagination{--bs-pagination-padding-x:0.75rem;--bs-pagination-padding-y:0.375rem;--bs-pagination-font-size:1rem;--bs-pagination-color:var(--bs-link-color);--bs-pagination-bg:var(--bs-body-bg);--bs-pagination-border-width:var(--bs-border-width);--bs-pagination-border-color:var(--bs-border-color);--bs-pagination-border-radius:var(--bs-border-radius);--bs-pagination-hover-color:var(--bs-link-hover-color);--bs-pagination-hover-bg:var(--bs-tertiary-bg);--bs-pagination-hover-border-color:var(--bs-border-color);--bs-pagination-focus-color:var(--bs-link-hover-color);--bs-pagination-focus-bg:var(--bs-secondary-bg);--bs-pagination-focus-box-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-pagination-active-color:#fff;--bs-pagination-active-bg:#0d6efd;--bs-pagination-active-border-color:#0d6efd;--bs-pagination-disabled-color:var(--bs-secondary-color);--bs-pagination-disabled-bg:var(--bs-secondary-bg);--bs-pagination-disabled-border-color:var(--bs-border-color);display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;padding:var(--bs-pagination-padding-y) var(--bs-pagination-padding-x);font-size:var(--bs-pagination-font-size);color:var(--bs-pagination-color);text-decoration:none;background-color:var(--bs-pagination-bg);border:var(--bs-pagination-border-width) solid var(--bs-pagination-border-color);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.page-link{transition:none}}.page-link:hover{z-index:2;color:var(--bs-pagination-hover-color);background-color:var(--bs-pagination-hover-bg);border-color:var(--bs-pagination-hover-border-color)}.page-link:focus{z-index:3;color:var(--bs-pagination-focus-color);background-color:var(--bs-pagination-focus-bg);outline:0;box-shadow:var(--bs-pagination-focus-box-shadow)}.active>.page-link,.page-link.active{z-index:3;color:var(--bs-pagination-active-color);background-color:var(--bs-pagination-active-bg);border-color:var(--bs-pagination-active-border-color)}.disabled>.page-link,.page-link.disabled{color:var(--bs-pagination-disabled-color);pointer-events:none;background-color:var(--bs-pagination-disabled-bg);border-color:var(--bs-pagination-disabled-border-color)}.page-item:not(:first-child) .page-link{margin-left:calc(-1 * var(--bs-border-width))}.page-item:first-child .page-link{border-top-left-radius:var(--bs-pagination-border-radius);border-bottom-left-radius:var(--bs-pagination-border-radius)}.page-item:last-child .page-link{border-top-right-radius:var(--bs-pagination-border-radius);border-bottom-right-radius:var(--bs-pagination-border-radius)}.pagination-lg{--bs-pagination-padding-x:1.5rem;--bs-pagination-padding-y:0.75rem;--bs-pagination-font-size:1.25rem;--bs-pagination-border-radius:var(--bs-border-radius-lg)}.pagination-sm{--bs-pagination-padding-x:0.5rem;--bs-pagination-padding-y:0.25rem;--bs-pagination-font-size:0.875rem;--bs-pagination-border-radius:var(--bs-border-radius-sm)}.badge{--bs-badge-padding-x:0.65em;--bs-badge-padding-y:0.35em;--bs-badge-font-size:0.75em;--bs-badge-font-weight:700;--bs-badge-color:#fff;--bs-badge-border-radius:var(--bs-border-radius);display:inline-block;padding:var(--bs-badge-padding-y) var(--bs-badge-padding-x);font-size:var(--bs-badge-font-size);font-weight:var(--bs-badge-font-weight);line-height:1;color:var(--bs-badge-color);text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:var(--bs-badge-border-radius)}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{--bs-alert-bg:transparent;--bs-alert-padding-x:1rem;--bs-alert-padding-y:1rem;--bs-alert-margin-bottom:1rem;--bs-alert-color:inherit;--bs-alert-border-color:transparent;--bs-alert-border:var(--bs-border-width) solid var(--bs-alert-border-color);--bs-alert-border-radius:var(--bs-border-radius);--bs-alert-link-color:inherit;position:relative;padding:var(--bs-alert-padding-y) var(--bs-alert-padding-x);margin-bottom:var(--bs-alert-margin-bottom);color:var(--bs-alert-color);background-color:var(--bs-alert-bg);border:var(--bs-alert-border);border-radius:var(--bs-alert-border-radius)}.alert-heading{color:inherit}.alert-link{font-weight:700;color:var(--bs-alert-link-color)}.alert-dismissible{padding-right:3rem}.alert-dismissible .btn-close{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary{--bs-alert-color:var(--bs-primary-text-emphasis);--bs-alert-bg:var(--bs-primary-bg-subtle);--bs-alert-border-color:var(--bs-primary-border-subtle);--bs-alert-link-color:var(--bs-primary-text-emphasis)}.alert-secondary{--bs-alert-color:var(--bs-secondary-text-emphasis);--bs-alert-bg:var(--bs-secondary-bg-subtle);--bs-alert-border-color:var(--bs-secondary-border-subtle);--bs-alert-link-color:var(--bs-secondary-text-emphasis)}.alert-success{--bs-alert-color:var(--bs-success-text-emphasis);--bs-alert-bg:var(--bs-success-bg-subtle);--bs-alert-border-color:var(--bs-success-border-subtle);--bs-alert-link-color:var(--bs-success-text-emphasis)}.alert-info{--bs-alert-color:var(--bs-info-text-emphasis);--bs-alert-bg:var(--bs-info-bg-subtle);--bs-alert-border-color:var(--bs-info-border-subtle);--bs-alert-link-color:var(--bs-info-text-emphasis)}.alert-warning{--bs-alert-color:var(--bs-warning-text-emphasis);--bs-alert-bg:var(--bs-warning-bg-subtle);--bs-alert-border-color:var(--bs-warning-border-subtle);--bs-alert-link-color:var(--bs-warning-text-emphasis)}.alert-danger{--bs-alert-color:var(--bs-danger-text-emphasis);--bs-alert-bg:var(--bs-danger-bg-subtle);--bs-alert-border-color:var(--bs-danger-border-subtle);--bs-alert-link-color:var(--bs-danger-text-emphasis)}.alert-light{--bs-alert-color:var(--bs-light-text-emphasis);--bs-alert-bg:var(--bs-light-bg-subtle);--bs-alert-border-color:var(--bs-light-border-subtle);--bs-alert-link-color:var(--bs-light-text-emphasis)}.alert-dark{--bs-alert-color:var(--bs-dark-text-emphasis);--bs-alert-bg:var(--bs-dark-bg-subtle);--bs-alert-border-color:var(--bs-dark-border-subtle);--bs-alert-link-color:var(--bs-dark-text-emphasis)}@keyframes progress-bar-stripes{0%{background-position-x:var(--bs-progress-height)}}.progress,.progress-stacked{--bs-progress-height:1rem;--bs-progress-font-size:0.75rem;--bs-progress-bg:var(--bs-secondary-bg);--bs-progress-border-radius:var(--bs-border-radius);--bs-progress-box-shadow:var(--bs-box-shadow-inset);--bs-progress-bar-color:#fff;--bs-progress-bar-bg:#0d6efd;--bs-progress-bar-transition:width 0.6s ease;display:flex;height:var(--bs-progress-height);overflow:hidden;font-size:var(--bs-progress-font-size);background-color:var(--bs-progress-bg);border-radius:var(--bs-progress-border-radius)}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:var(--bs-progress-bar-color);text-align:center;white-space:nowrap;background-color:var(--bs-progress-bar-bg);transition:var(--bs-progress-bar-transition)}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:var(--bs-progress-height) var(--bs-progress-height)}.progress-stacked>.progress{overflow:visible}.progress-stacked>.progress>.progress-bar{width:100%}.progress-bar-animated{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{animation:none}}.list-group{--bs-list-group-color:var(--bs-body-color);--bs-list-group-bg:var(--bs-body-bg);--bs-list-group-border-color:var(--bs-border-color);--bs-list-group-border-width:var(--bs-border-width);--bs-list-group-border-radius:var(--bs-border-radius);--bs-list-group-item-padding-x:1rem;--bs-list-group-item-padding-y:0.5rem;--bs-list-group-action-color:var(--bs-secondary-color);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-tertiary-bg);--bs-list-group-action-active-color:var(--bs-body-color);--bs-list-group-action-active-bg:var(--bs-secondary-bg);--bs-list-group-disabled-color:var(--bs-secondary-color);--bs-list-group-disabled-bg:var(--bs-body-bg);--bs-list-group-active-color:#fff;--bs-list-group-active-bg:#0d6efd;--bs-list-group-active-border-color:#0d6efd;display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:var(--bs-list-group-border-radius)}.list-group-numbered{list-style-type:none;counter-reset:section}.list-group-numbered>.list-group-item::before{content:counters(section, ".") ". ";counter-increment:section}.list-group-item{position:relative;display:block;padding:var(--bs-list-group-item-padding-y) var(--bs-list-group-item-padding-x);color:var(--bs-list-group-color);text-decoration:none;background-color:var(--bs-list-group-bg);border:var(--bs-list-group-border-width) solid var(--bs-list-group-border-color)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:var(--bs-list-group-disabled-color);pointer-events:none;background-color:var(--bs-list-group-disabled-bg)}.list-group-item.active{z-index:2;color:var(--bs-list-group-active-color);background-color:var(--bs-list-group-active-bg);border-color:var(--bs-list-group-active-border-color)}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:calc(-1 * var(--bs-list-group-border-width));border-top-width:var(--bs-list-group-border-width)}.list-group-item-action{width:100%;color:var(--bs-list-group-action-color);text-align:inherit}.list-group-item-action:not(.active):focus,.list-group-item-action:not(.active):hover{z-index:1;color:var(--bs-list-group-action-hover-color);text-decoration:none;background-color:var(--bs-list-group-action-hover-bg)}.list-group-item-action:not(.active):active{color:var(--bs-list-group-action-active-color);background-color:var(--bs-list-group-action-active-bg)}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1400px){.list-group-horizontal-xxl{flex-direction:row}.list-group-horizontal-xxl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xxl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xxl>.list-group-item.active{margin-top:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 var(--bs-list-group-border-width)}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{--bs-list-group-color:var(--bs-primary-text-emphasis);--bs-list-group-bg:var(--bs-primary-bg-subtle);--bs-list-group-border-color:var(--bs-primary-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-primary-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-primary-border-subtle);--bs-list-group-active-color:var(--bs-primary-bg-subtle);--bs-list-group-active-bg:var(--bs-primary-text-emphasis);--bs-list-group-active-border-color:var(--bs-primary-text-emphasis)}.list-group-item-secondary{--bs-list-group-color:var(--bs-secondary-text-emphasis);--bs-list-group-bg:var(--bs-secondary-bg-subtle);--bs-list-group-border-color:var(--bs-secondary-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-secondary-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-secondary-border-subtle);--bs-list-group-active-color:var(--bs-secondary-bg-subtle);--bs-list-group-active-bg:var(--bs-secondary-text-emphasis);--bs-list-group-active-border-color:var(--bs-secondary-text-emphasis)}.list-group-item-success{--bs-list-group-color:var(--bs-success-text-emphasis);--bs-list-group-bg:var(--bs-success-bg-subtle);--bs-list-group-border-color:var(--bs-success-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-success-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-success-border-subtle);--bs-list-group-active-color:var(--bs-success-bg-subtle);--bs-list-group-active-bg:var(--bs-success-text-emphasis);--bs-list-group-active-border-color:var(--bs-success-text-emphasis)}.list-group-item-info{--bs-list-group-color:var(--bs-info-text-emphasis);--bs-list-group-bg:var(--bs-info-bg-subtle);--bs-list-group-border-color:var(--bs-info-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-info-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-info-border-subtle);--bs-list-group-active-color:var(--bs-info-bg-subtle);--bs-list-group-active-bg:var(--bs-info-text-emphasis);--bs-list-group-active-border-color:var(--bs-info-text-emphasis)}.list-group-item-warning{--bs-list-group-color:var(--bs-warning-text-emphasis);--bs-list-group-bg:var(--bs-warning-bg-subtle);--bs-list-group-border-color:var(--bs-warning-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-warning-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-warning-border-subtle);--bs-list-group-active-color:var(--bs-warning-bg-subtle);--bs-list-group-active-bg:var(--bs-warning-text-emphasis);--bs-list-group-active-border-color:var(--bs-warning-text-emphasis)}.list-group-item-danger{--bs-list-group-color:var(--bs-danger-text-emphasis);--bs-list-group-bg:var(--bs-danger-bg-subtle);--bs-list-group-border-color:var(--bs-danger-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-danger-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-danger-border-subtle);--bs-list-group-active-color:var(--bs-danger-bg-subtle);--bs-list-group-active-bg:var(--bs-danger-text-emphasis);--bs-list-group-active-border-color:var(--bs-danger-text-emphasis)}.list-group-item-light{--bs-list-group-color:var(--bs-light-text-emphasis);--bs-list-group-bg:var(--bs-light-bg-subtle);--bs-list-group-border-color:var(--bs-light-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-light-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-light-border-subtle);--bs-list-group-active-color:var(--bs-light-bg-subtle);--bs-list-group-active-bg:var(--bs-light-text-emphasis);--bs-list-group-active-border-color:var(--bs-light-text-emphasis)}.list-group-item-dark{--bs-list-group-color:var(--bs-dark-text-emphasis);--bs-list-group-bg:var(--bs-dark-bg-subtle);--bs-list-group-border-color:var(--bs-dark-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-dark-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-dark-border-subtle);--bs-list-group-active-color:var(--bs-dark-bg-subtle);--bs-list-group-active-bg:var(--bs-dark-text-emphasis);--bs-list-group-active-border-color:var(--bs-dark-text-emphasis)}.btn-close{--bs-btn-close-color:#000;--bs-btn-close-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414'/%3e%3c/svg%3e");--bs-btn-close-opacity:0.5;--bs-btn-close-hover-opacity:0.75;--bs-btn-close-focus-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-btn-close-focus-opacity:1;--bs-btn-close-disabled-opacity:0.25;box-sizing:content-box;width:1em;height:1em;padding:.25em .25em;color:var(--bs-btn-close-color);background:transparent var(--bs-btn-close-bg) center/1em auto no-repeat;filter:var(--bs-btn-close-filter);border:0;border-radius:.375rem;opacity:var(--bs-btn-close-opacity)}.btn-close:hover{color:var(--bs-btn-close-color);text-decoration:none;opacity:var(--bs-btn-close-hover-opacity)}.btn-close:focus{outline:0;box-shadow:var(--bs-btn-close-focus-shadow);opacity:var(--bs-btn-close-focus-opacity)}.btn-close.disabled,.btn-close:disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--bs-btn-close-disabled-opacity)}.btn-close-white{--bs-btn-close-filter:invert(1) grayscale(100%) brightness(200%)}:root,[data-bs-theme=light]{--bs-btn-close-filter: }[data-bs-theme=dark]{--bs-btn-close-filter:invert(1) grayscale(100%) brightness(200%)}.toast{--bs-toast-zindex:1090;--bs-toast-padding-x:0.75rem;--bs-toast-padding-y:0.5rem;--bs-toast-spacing:1.5rem;--bs-toast-max-width:350px;--bs-toast-font-size:0.875rem;--bs-toast-color: ;--bs-toast-bg:rgba(var(--bs-body-bg-rgb), 0.85);--bs-toast-border-width:var(--bs-border-width);--bs-toast-border-color:var(--bs-border-color-translucent);--bs-toast-border-radius:var(--bs-border-radius);--bs-toast-box-shadow:var(--bs-box-shadow);--bs-toast-header-color:var(--bs-secondary-color);--bs-toast-header-bg:rgba(var(--bs-body-bg-rgb), 0.85);--bs-toast-header-border-color:var(--bs-border-color-translucent);width:var(--bs-toast-max-width);max-width:100%;font-size:var(--bs-toast-font-size);color:var(--bs-toast-color);pointer-events:auto;background-color:var(--bs-toast-bg);background-clip:padding-box;border:var(--bs-toast-border-width) solid var(--bs-toast-border-color);box-shadow:var(--bs-toast-box-shadow);border-radius:var(--bs-toast-border-radius)}.toast.showing{opacity:0}.toast:not(.show){display:none}.toast-container{--bs-toast-zindex:1090;position:absolute;z-index:var(--bs-toast-zindex);width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container>:not(:last-child){margin-bottom:var(--bs-toast-spacing)}.toast-header{display:flex;align-items:center;padding:var(--bs-toast-padding-y) var(--bs-toast-padding-x);color:var(--bs-toast-header-color);background-color:var(--bs-toast-header-bg);background-clip:padding-box;border-bottom:var(--bs-toast-border-width) solid var(--bs-toast-header-border-color);border-top-left-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width));border-top-right-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width))}.toast-header .btn-close{margin-right:calc(-.5 * var(--bs-toast-padding-x));margin-left:var(--bs-toast-padding-x)}.toast-body{padding:var(--bs-toast-padding-x);word-wrap:break-word}.modal{--bs-modal-zindex:1055;--bs-modal-width:500px;--bs-modal-padding:1rem;--bs-modal-margin:0.5rem;--bs-modal-color:var(--bs-body-color);--bs-modal-bg:var(--bs-body-bg);--bs-modal-border-color:var(--bs-border-color-translucent);--bs-modal-border-width:var(--bs-border-width);--bs-modal-border-radius:var(--bs-border-radius-lg);--bs-modal-box-shadow:var(--bs-box-shadow-sm);--bs-modal-inner-border-radius:calc(var(--bs-border-radius-lg) - (var(--bs-border-width)));--bs-modal-header-padding-x:1rem;--bs-modal-header-padding-y:1rem;--bs-modal-header-padding:1rem 1rem;--bs-modal-header-border-color:var(--bs-border-color);--bs-modal-header-border-width:var(--bs-border-width);--bs-modal-title-line-height:1.5;--bs-modal-footer-gap:0.5rem;--bs-modal-footer-bg: ;--bs-modal-footer-border-color:var(--bs-border-color);--bs-modal-footer-border-width:var(--bs-border-width);position:fixed;top:0;left:0;z-index:var(--bs-modal-zindex);display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog{position:relative;width:auto;margin:var(--bs-modal-margin);pointer-events:none}.modal.fade .modal-dialog{transform:translate(0,-50px);transition:transform .3s ease-out}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{height:calc(100% - var(--bs-modal-margin) * 2)}.modal-dialog-scrollable .modal-content{max-height:100%;overflow:hidden}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - var(--bs-modal-margin) * 2)}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-color:var(--bs-modal-bg);background-clip:padding-box;border:var(--bs-modal-border-width) solid var(--bs-modal-border-color);border-radius:var(--bs-modal-border-radius);outline:0}.modal-backdrop{--bs-backdrop-zindex:1050;--bs-backdrop-bg:#000;--bs-backdrop-opacity:0.5;position:fixed;top:0;left:0;z-index:var(--bs-backdrop-zindex);width:100vw;height:100vh;background-color:var(--bs-backdrop-bg)}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:var(--bs-backdrop-opacity)}.modal-header{display:flex;flex-shrink:0;align-items:center;padding:var(--bs-modal-header-padding);border-bottom:var(--bs-modal-header-border-width) solid var(--bs-modal-header-border-color);border-top-left-radius:var(--bs-modal-inner-border-radius);border-top-right-radius:var(--bs-modal-inner-border-radius)}.modal-header .btn-close{padding:calc(var(--bs-modal-header-padding-y) * .5) calc(var(--bs-modal-header-padding-x) * .5);margin-top:calc(-.5 * var(--bs-modal-header-padding-y));margin-right:calc(-.5 * var(--bs-modal-header-padding-x));margin-bottom:calc(-.5 * var(--bs-modal-header-padding-y));margin-left:auto}.modal-title{margin-bottom:0;line-height:var(--bs-modal-title-line-height)}.modal-body{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.modal-footer{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:calc(var(--bs-modal-padding) - var(--bs-modal-footer-gap) * .5);background-color:var(--bs-modal-footer-bg);border-top:var(--bs-modal-footer-border-width) solid var(--bs-modal-footer-border-color);border-bottom-right-radius:var(--bs-modal-inner-border-radius);border-bottom-left-radius:var(--bs-modal-inner-border-radius)}.modal-footer>*{margin:calc(var(--bs-modal-footer-gap) * .5)}@media (min-width:576px){.modal{--bs-modal-margin:1.75rem;--bs-modal-box-shadow:var(--bs-box-shadow)}.modal-dialog{max-width:var(--bs-modal-width);margin-right:auto;margin-left:auto}.modal-sm{--bs-modal-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{--bs-modal-width:800px}}@media (min-width:1200px){.modal-xl{--bs-modal-width:1140px}}.modal-fullscreen{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen .modal-footer,.modal-fullscreen .modal-header{border-radius:0}.modal-fullscreen .modal-body{overflow-y:auto}@media (max-width:575.98px){.modal-fullscreen-sm-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down .modal-footer,.modal-fullscreen-sm-down .modal-header{border-radius:0}.modal-fullscreen-sm-down .modal-body{overflow-y:auto}}@media (max-width:767.98px){.modal-fullscreen-md-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down .modal-footer,.modal-fullscreen-md-down .modal-header{border-radius:0}.modal-fullscreen-md-down .modal-body{overflow-y:auto}}@media (max-width:991.98px){.modal-fullscreen-lg-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down .modal-footer,.modal-fullscreen-lg-down .modal-header{border-radius:0}.modal-fullscreen-lg-down .modal-body{overflow-y:auto}}@media (max-width:1199.98px){.modal-fullscreen-xl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down .modal-footer,.modal-fullscreen-xl-down .modal-header{border-radius:0}.modal-fullscreen-xl-down .modal-body{overflow-y:auto}}@media (max-width:1399.98px){.modal-fullscreen-xxl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down .modal-footer,.modal-fullscreen-xxl-down .modal-header{border-radius:0}.modal-fullscreen-xxl-down .modal-body{overflow-y:auto}}.tooltip{--bs-tooltip-zindex:1080;--bs-tooltip-max-width:200px;--bs-tooltip-padding-x:0.5rem;--bs-tooltip-padding-y:0.25rem;--bs-tooltip-margin: ;--bs-tooltip-font-size:0.875rem;--bs-tooltip-color:var(--bs-body-bg);--bs-tooltip-bg:var(--bs-emphasis-color);--bs-tooltip-border-radius:var(--bs-border-radius);--bs-tooltip-opacity:0.9;--bs-tooltip-arrow-width:0.8rem;--bs-tooltip-arrow-height:0.4rem;z-index:var(--bs-tooltip-zindex);display:block;margin:var(--bs-tooltip-margin);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-tooltip-font-size);word-wrap:break-word;opacity:0}.tooltip.show{opacity:var(--bs-tooltip-opacity)}.tooltip .tooltip-arrow{display:block;width:var(--bs-tooltip-arrow-width);height:var(--bs-tooltip-arrow-height)}.tooltip .tooltip-arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:calc(-1 * var(--bs-tooltip-arrow-height))}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,.bs-tooltip-top .tooltip-arrow::before{top:-1px;border-width:var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-top-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow,.bs-tooltip-end .tooltip-arrow{left:calc(-1 * var(--bs-tooltip-arrow-height));width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before,.bs-tooltip-end .tooltip-arrow::before{right:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-right-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:calc(-1 * var(--bs-tooltip-arrow-height))}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before,.bs-tooltip-bottom .tooltip-arrow::before{bottom:-1px;border-width:0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-bottom-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow,.bs-tooltip-start .tooltip-arrow{right:calc(-1 * var(--bs-tooltip-arrow-height));width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before,.bs-tooltip-start .tooltip-arrow::before{left:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) 0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-left-color:var(--bs-tooltip-bg)}.tooltip-inner{max-width:var(--bs-tooltip-max-width);padding:var(--bs-tooltip-padding-y) var(--bs-tooltip-padding-x);color:var(--bs-tooltip-color);text-align:center;background-color:var(--bs-tooltip-bg);border-radius:var(--bs-tooltip-border-radius)}.popover{--bs-popover-zindex:1070;--bs-popover-max-width:276px;--bs-popover-font-size:0.875rem;--bs-popover-bg:var(--bs-body-bg);--bs-popover-border-width:var(--bs-border-width);--bs-popover-border-color:var(--bs-border-color-translucent);--bs-popover-border-radius:var(--bs-border-radius-lg);--bs-popover-inner-border-radius:calc(var(--bs-border-radius-lg) - var(--bs-border-width));--bs-popover-box-shadow:var(--bs-box-shadow);--bs-popover-header-padding-x:1rem;--bs-popover-header-padding-y:0.5rem;--bs-popover-header-font-size:1rem;--bs-popover-header-color:inherit;--bs-popover-header-bg:var(--bs-secondary-bg);--bs-popover-body-padding-x:1rem;--bs-popover-body-padding-y:1rem;--bs-popover-body-color:var(--bs-body-color);--bs-popover-arrow-width:1rem;--bs-popover-arrow-height:0.5rem;--bs-popover-arrow-border:var(--bs-popover-border-color);z-index:var(--bs-popover-zindex);display:block;max-width:var(--bs-popover-max-width);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-popover-font-size);word-wrap:break-word;background-color:var(--bs-popover-bg);background-clip:padding-box;border:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-radius:var(--bs-popover-border-radius)}.popover .popover-arrow{display:block;width:var(--bs-popover-arrow-width);height:var(--bs-popover-arrow-height)}.popover .popover-arrow::after,.popover .popover-arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid;border-width:0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow,.bs-popover-top>.popover-arrow{bottom:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::after,.bs-popover-top>.popover-arrow::before{border-width:var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::before{bottom:0;border-top-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-top>.popover-arrow::after{bottom:var(--bs-popover-border-width);border-top-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow,.bs-popover-end>.popover-arrow{left:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::after,.bs-popover-end>.popover-arrow::before{border-width:calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::before{left:0;border-right-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-end>.popover-arrow::after{left:var(--bs-popover-border-width);border-right-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow,.bs-popover-bottom>.popover-arrow{top:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::before{border-width:0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::before{top:0;border-bottom-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::after{top:var(--bs-popover-border-width);border-bottom-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:var(--bs-popover-arrow-width);margin-left:calc(-.5 * var(--bs-popover-arrow-width));content:"";border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-header-bg)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow,.bs-popover-start>.popover-arrow{right:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::after,.bs-popover-start>.popover-arrow::before{border-width:calc(var(--bs-popover-arrow-width) * .5) 0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::before{right:0;border-left-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-start>.popover-arrow::after{right:var(--bs-popover-border-width);border-left-color:var(--bs-popover-bg)}.popover-header{padding:var(--bs-popover-header-padding-y) var(--bs-popover-header-padding-x);margin-bottom:0;font-size:var(--bs-popover-header-font-size);color:var(--bs-popover-header-color);background-color:var(--bs-popover-header-bg);border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-top-left-radius:var(--bs-popover-inner-border-radius);border-top-right-radius:var(--bs-popover-inner-border-radius)}.popover-header:empty{display:none}.popover-body{padding:var(--bs-popover-body-padding-y) var(--bs-popover-body-padding-x);color:var(--bs-popover-body-color)}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-end,.carousel-item-next:not(.carousel-item-start){transform:translateX(100%)}.active.carousel-item-start,.carousel-item-prev:not(.carousel-item-end){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-start,.carousel-fade .carousel-item-prev.carousel-item-end,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;filter:var(--bs-carousel-control-icon-filter);border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0'/%3e%3c/svg%3e")}.carousel-control-next-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708'/%3e%3c/svg%3e")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%}.carousel-indicators [data-bs-target]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:var(--bs-carousel-indicator-active-bg);background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators [data-bs-target]{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:var(--bs-carousel-caption-color);text-align:center}.carousel-dark{--bs-carousel-indicator-active-bg:#000;--bs-carousel-caption-color:#000;--bs-carousel-control-icon-filter:invert(1) grayscale(100)}:root,[data-bs-theme=light]{--bs-carousel-indicator-active-bg:#fff;--bs-carousel-caption-color:#fff;--bs-carousel-control-icon-filter: }[data-bs-theme=dark]{--bs-carousel-indicator-active-bg:#000;--bs-carousel-caption-color:#000;--bs-carousel-control-icon-filter:invert(1) grayscale(100)}.spinner-border,.spinner-grow{display:inline-block;flex-shrink:0;width:var(--bs-spinner-width);height:var(--bs-spinner-height);vertical-align:var(--bs-spinner-vertical-align);border-radius:50%;animation:var(--bs-spinner-animation-speed) linear infinite var(--bs-spinner-animation-name)}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-0.125em;--bs-spinner-border-width:0.25em;--bs-spinner-animation-speed:0.75s;--bs-spinner-animation-name:spinner-border;border:var(--bs-spinner-border-width) solid currentcolor;border-right-color:transparent}.spinner-border-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem;--bs-spinner-border-width:0.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-0.125em;--bs-spinner-animation-speed:0.75s;--bs-spinner-animation-name:spinner-grow;background-color:currentcolor;opacity:0}.spinner-grow-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{--bs-spinner-animation-speed:1.5s}}.offcanvas,.offcanvas-lg,.offcanvas-md,.offcanvas-sm,.offcanvas-xl,.offcanvas-xxl{--bs-offcanvas-zindex:1045;--bs-offcanvas-width:400px;--bs-offcanvas-height:30vh;--bs-offcanvas-padding-x:1rem;--bs-offcanvas-padding-y:1rem;--bs-offcanvas-color:var(--bs-body-color);--bs-offcanvas-bg:var(--bs-body-bg);--bs-offcanvas-border-width:var(--bs-border-width);--bs-offcanvas-border-color:var(--bs-border-color-translucent);--bs-offcanvas-box-shadow:var(--bs-box-shadow-sm);--bs-offcanvas-transition:transform 0.3s ease-in-out;--bs-offcanvas-title-line-height:1.5}@media (max-width:575.98px){.offcanvas-sm{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:575.98px) and (prefers-reduced-motion:reduce){.offcanvas-sm{transition:none}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-sm.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-sm.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-sm.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-sm.show:not(.hiding),.offcanvas-sm.showing{transform:none}.offcanvas-sm.hiding,.offcanvas-sm.show,.offcanvas-sm.showing{visibility:visible}}@media (min-width:576px){.offcanvas-sm{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-sm .offcanvas-header{display:none}.offcanvas-sm .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:767.98px){.offcanvas-md{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:767.98px) and (prefers-reduced-motion:reduce){.offcanvas-md{transition:none}}@media (max-width:767.98px){.offcanvas-md.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-md.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-md.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-md.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-md.show:not(.hiding),.offcanvas-md.showing{transform:none}.offcanvas-md.hiding,.offcanvas-md.show,.offcanvas-md.showing{visibility:visible}}@media (min-width:768px){.offcanvas-md{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-md .offcanvas-header{display:none}.offcanvas-md .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:991.98px){.offcanvas-lg{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:991.98px) and (prefers-reduced-motion:reduce){.offcanvas-lg{transition:none}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-lg.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-lg.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-lg.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-lg.show:not(.hiding),.offcanvas-lg.showing{transform:none}.offcanvas-lg.hiding,.offcanvas-lg.show,.offcanvas-lg.showing{visibility:visible}}@media (min-width:992px){.offcanvas-lg{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-lg .offcanvas-header{display:none}.offcanvas-lg .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1199.98px){.offcanvas-xl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:1199.98px) and (prefers-reduced-motion:reduce){.offcanvas-xl{transition:none}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-xl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-xl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-xl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-xl.show:not(.hiding),.offcanvas-xl.showing{transform:none}.offcanvas-xl.hiding,.offcanvas-xl.show,.offcanvas-xl.showing{visibility:visible}}@media (min-width:1200px){.offcanvas-xl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xl .offcanvas-header{display:none}.offcanvas-xl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1399.98px){.offcanvas-xxl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:1399.98px) and (prefers-reduced-motion:reduce){.offcanvas-xxl{transition:none}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-xxl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-xxl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-xxl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-xxl.show:not(.hiding),.offcanvas-xxl.showing{transform:none}.offcanvas-xxl.hiding,.offcanvas-xxl.show,.offcanvas-xxl.showing{visibility:visible}}@media (min-width:1400px){.offcanvas-xxl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xxl .offcanvas-header{display:none}.offcanvas-xxl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}.offcanvas{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}@media (prefers-reduced-motion:reduce){.offcanvas{transition:none}}.offcanvas.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas.show:not(.hiding),.offcanvas.showing{transform:none}.offcanvas.hiding,.offcanvas.show,.offcanvas.showing{visibility:visible}.offcanvas-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade{opacity:0}.offcanvas-backdrop.show{opacity:.5}.offcanvas-header{display:flex;align-items:center;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x)}.offcanvas-header .btn-close{padding:calc(var(--bs-offcanvas-padding-y) * .5) calc(var(--bs-offcanvas-padding-x) * .5);margin-top:calc(-.5 * var(--bs-offcanvas-padding-y));margin-right:calc(-.5 * var(--bs-offcanvas-padding-x));margin-bottom:calc(-.5 * var(--bs-offcanvas-padding-y));margin-left:auto}.offcanvas-title{margin-bottom:0;line-height:var(--bs-offcanvas-title-line-height)}.offcanvas-body{flex-grow:1;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x);overflow-y:auto}.placeholder{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentcolor;opacity:.5}.placeholder.btn::before{display:inline-block;content:""}.placeholder-xs{min-height:.6em}.placeholder-sm{min-height:.8em}.placeholder-lg{min-height:1.2em}.placeholder-glow .placeholder{animation:placeholder-glow 2s ease-in-out infinite}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;animation:placeholder-wave 2s linear infinite}@keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix::after{display:block;clear:both;content:""}.text-bg-primary{color:#fff!important;background-color:RGBA(var(--bs-primary-rgb),var(--bs-bg-opacity,1))!important}.text-bg-secondary{color:#fff!important;background-color:RGBA(var(--bs-secondary-rgb),var(--bs-bg-opacity,1))!important}.text-bg-success{color:#fff!important;background-color:RGBA(var(--bs-success-rgb),var(--bs-bg-opacity,1))!important}.text-bg-info{color:#000!important;background-color:RGBA(var(--bs-info-rgb),var(--bs-bg-opacity,1))!important}.text-bg-warning{color:#000!important;background-color:RGBA(var(--bs-warning-rgb),var(--bs-bg-opacity,1))!important}.text-bg-danger{color:#fff!important;background-color:RGBA(var(--bs-danger-rgb),var(--bs-bg-opacity,1))!important}.text-bg-light{color:#000!important;background-color:RGBA(var(--bs-light-rgb),var(--bs-bg-opacity,1))!important}.text-bg-dark{color:#fff!important;background-color:RGBA(var(--bs-dark-rgb),var(--bs-bg-opacity,1))!important}.link-primary{color:RGBA(var(--bs-primary-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-primary-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-primary-rgb),var(--bs-link-underline-opacity,1))!important}.link-primary:focus,.link-primary:hover{color:RGBA(10,88,202,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(10,88,202,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(10,88,202,var(--bs-link-underline-opacity,1))!important}.link-secondary{color:RGBA(var(--bs-secondary-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-secondary-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-secondary-rgb),var(--bs-link-underline-opacity,1))!important}.link-secondary:focus,.link-secondary:hover{color:RGBA(86,94,100,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(86,94,100,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(86,94,100,var(--bs-link-underline-opacity,1))!important}.link-success{color:RGBA(var(--bs-success-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-success-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-success-rgb),var(--bs-link-underline-opacity,1))!important}.link-success:focus,.link-success:hover{color:RGBA(20,108,67,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(20,108,67,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(20,108,67,var(--bs-link-underline-opacity,1))!important}.link-info{color:RGBA(var(--bs-info-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-info-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-info-rgb),var(--bs-link-underline-opacity,1))!important}.link-info:focus,.link-info:hover{color:RGBA(61,213,243,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(61,213,243,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(61,213,243,var(--bs-link-underline-opacity,1))!important}.link-warning{color:RGBA(var(--bs-warning-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-warning-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-warning-rgb),var(--bs-link-underline-opacity,1))!important}.link-warning:focus,.link-warning:hover{color:RGBA(255,205,57,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(255,205,57,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(255,205,57,var(--bs-link-underline-opacity,1))!important}.link-danger{color:RGBA(var(--bs-danger-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-danger-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-danger-rgb),var(--bs-link-underline-opacity,1))!important}.link-danger:focus,.link-danger:hover{color:RGBA(176,42,55,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(176,42,55,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(176,42,55,var(--bs-link-underline-opacity,1))!important}.link-light{color:RGBA(var(--bs-light-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-light-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-light-rgb),var(--bs-link-underline-opacity,1))!important}.link-light:focus,.link-light:hover{color:RGBA(249,250,251,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(249,250,251,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(249,250,251,var(--bs-link-underline-opacity,1))!important}.link-dark{color:RGBA(var(--bs-dark-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-dark-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-dark-rgb),var(--bs-link-underline-opacity,1))!important}.link-dark:focus,.link-dark:hover{color:RGBA(26,30,33,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(26,30,33,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(26,30,33,var(--bs-link-underline-opacity,1))!important}.link-body-emphasis{color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,1))!important}.link-body-emphasis:focus,.link-body-emphasis:hover{color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-opacity,.75))!important;-webkit-text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,0.75))!important;text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,0.75))!important}.focus-ring:focus{outline:0;box-shadow:var(--bs-focus-ring-x,0) var(--bs-focus-ring-y,0) var(--bs-focus-ring-blur,0) var(--bs-focus-ring-width) var(--bs-focus-ring-color)}.icon-link{display:inline-flex;gap:.375rem;align-items:center;-webkit-text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,0.5));text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,0.5));text-underline-offset:0.25em;-webkit-backface-visibility:hidden;backface-visibility:hidden}.icon-link>.bi{flex-shrink:0;width:1em;height:1em;fill:currentcolor;transition:.2s ease-in-out transform}@media (prefers-reduced-motion:reduce){.icon-link>.bi{transition:none}}.icon-link-hover:focus-visible>.bi,.icon-link-hover:hover>.bi{transform:var(--bs-icon-link-transform,translate3d(.25em,0,0))}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:""}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio:100%}.ratio-4x3{--bs-aspect-ratio:75%}.ratio-16x9{--bs-aspect-ratio:56.25%}.ratio-21x9{--bs-aspect-ratio:42.8571428571%}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}@media (min-width:576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-sm-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-md-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-lg-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1400px){.sticky-xxl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xxl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}.hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.visually-hidden-focusable:not(:focus):not(:focus-within):not(caption),.visually-hidden:not(caption){position:absolute!important}.visually-hidden *,.visually-hidden-focusable:not(:focus):not(:focus-within) *{overflow:hidden!important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr{display:inline-block;align-self:stretch;width:var(--bs-border-width);min-height:1em;background-color:currentcolor;opacity:.25}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.float-start{float:left!important}.float-end{float:right!important}.float-none{float:none!important}.object-fit-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-none{-o-object-fit:none!important;object-fit:none!important}.opacity-0{opacity:0!important}.opacity-25{opacity:.25!important}.opacity-50{opacity:.5!important}.opacity-75{opacity:.75!important}.opacity-100{opacity:1!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.overflow-x-auto{overflow-x:auto!important}.overflow-x-hidden{overflow-x:hidden!important}.overflow-x-visible{overflow-x:visible!important}.overflow-x-scroll{overflow-x:scroll!important}.overflow-y-auto{overflow-y:auto!important}.overflow-y-hidden{overflow-y:hidden!important}.overflow-y-visible{overflow-y:visible!important}.overflow-y-scroll{overflow-y:scroll!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-grid{display:grid!important}.d-inline-grid{display:inline-grid!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-none{display:none!important}.shadow{box-shadow:var(--bs-box-shadow)!important}.shadow-sm{box-shadow:var(--bs-box-shadow-sm)!important}.shadow-lg{box-shadow:var(--bs-box-shadow-lg)!important}.shadow-none{box-shadow:none!important}.focus-ring-primary{--bs-focus-ring-color:rgba(var(--bs-primary-rgb), var(--bs-focus-ring-opacity))}.focus-ring-secondary{--bs-focus-ring-color:rgba(var(--bs-secondary-rgb), var(--bs-focus-ring-opacity))}.focus-ring-success{--bs-focus-ring-color:rgba(var(--bs-success-rgb), var(--bs-focus-ring-opacity))}.focus-ring-info{--bs-focus-ring-color:rgba(var(--bs-info-rgb), var(--bs-focus-ring-opacity))}.focus-ring-warning{--bs-focus-ring-color:rgba(var(--bs-warning-rgb), var(--bs-focus-ring-opacity))}.focus-ring-danger{--bs-focus-ring-color:rgba(var(--bs-danger-rgb), var(--bs-focus-ring-opacity))}.focus-ring-light{--bs-focus-ring-color:rgba(var(--bs-light-rgb), var(--bs-focus-ring-opacity))}.focus-ring-dark{--bs-focus-ring-color:rgba(var(--bs-dark-rgb), var(--bs-focus-ring-opacity))}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.translate-middle{transform:translate(-50%,-50%)!important}.translate-middle-x{transform:translateX(-50%)!important}.translate-middle-y{transform:translateY(-50%)!important}.border{border:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-0{border:0!important}.border-top{border-top:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-top-0{border-top:0!important}.border-end{border-right:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-end-0{border-right:0!important}.border-bottom{border-bottom:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-bottom-0{border-bottom:0!important}.border-start{border-left:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-start-0{border-left:0!important}.border-primary{--bs-border-opacity:1;border-color:rgba(var(--bs-primary-rgb),var(--bs-border-opacity))!important}.border-secondary{--bs-border-opacity:1;border-color:rgba(var(--bs-secondary-rgb),var(--bs-border-opacity))!important}.border-success{--bs-border-opacity:1;border-color:rgba(var(--bs-success-rgb),var(--bs-border-opacity))!important}.border-info{--bs-border-opacity:1;border-color:rgba(var(--bs-info-rgb),var(--bs-border-opacity))!important}.border-warning{--bs-border-opacity:1;border-color:rgba(var(--bs-warning-rgb),var(--bs-border-opacity))!important}.border-danger{--bs-border-opacity:1;border-color:rgba(var(--bs-danger-rgb),var(--bs-border-opacity))!important}.border-light{--bs-border-opacity:1;border-color:rgba(var(--bs-light-rgb),var(--bs-border-opacity))!important}.border-dark{--bs-border-opacity:1;border-color:rgba(var(--bs-dark-rgb),var(--bs-border-opacity))!important}.border-black{--bs-border-opacity:1;border-color:rgba(var(--bs-black-rgb),var(--bs-border-opacity))!important}.border-white{--bs-border-opacity:1;border-color:rgba(var(--bs-white-rgb),var(--bs-border-opacity))!important}.border-primary-subtle{border-color:var(--bs-primary-border-subtle)!important}.border-secondary-subtle{border-color:var(--bs-secondary-border-subtle)!important}.border-success-subtle{border-color:var(--bs-success-border-subtle)!important}.border-info-subtle{border-color:var(--bs-info-border-subtle)!important}.border-warning-subtle{border-color:var(--bs-warning-border-subtle)!important}.border-danger-subtle{border-color:var(--bs-danger-border-subtle)!important}.border-light-subtle{border-color:var(--bs-light-border-subtle)!important}.border-dark-subtle{border-color:var(--bs-dark-border-subtle)!important}.border-1{border-width:1px!important}.border-2{border-width:2px!important}.border-3{border-width:3px!important}.border-4{border-width:4px!important}.border-5{border-width:5px!important}.border-opacity-10{--bs-border-opacity:0.1}.border-opacity-25{--bs-border-opacity:0.25}.border-opacity-50{--bs-border-opacity:0.5}.border-opacity-75{--bs-border-opacity:0.75}.border-opacity-100{--bs-border-opacity:1}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.mw-100{max-width:100%!important}.vw-100{width:100vw!important}.min-vw-100{min-width:100vw!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mh-100{max-height:100%!important}.vh-100{height:100vh!important}.min-vh-100{min-height:100vh!important}.flex-fill{flex:1 1 auto!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.justify-content-evenly{justify-content:space-evenly!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}.order-first{order:-1!important}.order-0{order:0!important}.order-1{order:1!important}.order-2{order:2!important}.order-3{order:3!important}.order-4{order:4!important}.order-5{order:5!important}.order-last{order:6!important}.m-0{margin:0!important}.m-1{margin:.25rem!important}.m-2{margin:.5rem!important}.m-3{margin:1rem!important}.m-4{margin:1.5rem!important}.m-5{margin:3rem!important}.m-auto{margin:auto!important}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.mx-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5{margin-right:3rem!important;margin-left:3rem!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mt-auto{margin-top:auto!important}.me-0{margin-right:0!important}.me-1{margin-right:.25rem!important}.me-2{margin-right:.5rem!important}.me-3{margin-right:1rem!important}.me-4{margin-right:1.5rem!important}.me-5{margin-right:3rem!important}.me-auto{margin-right:auto!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mb-auto{margin-bottom:auto!important}.ms-0{margin-left:0!important}.ms-1{margin-left:.25rem!important}.ms-2{margin-left:.5rem!important}.ms-3{margin-left:1rem!important}.ms-4{margin-left:1.5rem!important}.ms-5{margin-left:3rem!important}.ms-auto{margin-left:auto!important}.p-0{padding:0!important}.p-1{padding:.25rem!important}.p-2{padding:.5rem!important}.p-3{padding:1rem!important}.p-4{padding:1.5rem!important}.p-5{padding:3rem!important}.px-0{padding-right:0!important;padding-left:0!important}.px-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-3{padding-right:1rem!important;padding-left:1rem!important}.px-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5{padding-right:3rem!important;padding-left:3rem!important}.py-0{padding-top:0!important;padding-bottom:0!important}.py-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pe-0{padding-right:0!important}.pe-1{padding-right:.25rem!important}.pe-2{padding-right:.5rem!important}.pe-3{padding-right:1rem!important}.pe-4{padding-right:1.5rem!important}.pe-5{padding-right:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.ps-0{padding-left:0!important}.ps-1{padding-left:.25rem!important}.ps-2{padding-left:.5rem!important}.ps-3{padding-left:1rem!important}.ps-4{padding-left:1.5rem!important}.ps-5{padding-left:3rem!important}.gap-0{gap:0!important}.gap-1{gap:.25rem!important}.gap-2{gap:.5rem!important}.gap-3{gap:1rem!important}.gap-4{gap:1.5rem!important}.gap-5{gap:3rem!important}.row-gap-0{row-gap:0!important}.row-gap-1{row-gap:.25rem!important}.row-gap-2{row-gap:.5rem!important}.row-gap-3{row-gap:1rem!important}.row-gap-4{row-gap:1.5rem!important}.row-gap-5{row-gap:3rem!important}.column-gap-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.font-monospace{font-family:var(--bs-font-monospace)!important}.fs-1{font-size:calc(1.375rem + 1.5vw)!important}.fs-2{font-size:calc(1.325rem + .9vw)!important}.fs-3{font-size:calc(1.3rem + .6vw)!important}.fs-4{font-size:calc(1.275rem + .3vw)!important}.fs-5{font-size:1.25rem!important}.fs-6{font-size:1rem!important}.fst-italic{font-style:italic!important}.fst-normal{font-style:normal!important}.fw-lighter{font-weight:lighter!important}.fw-light{font-weight:300!important}.fw-normal{font-weight:400!important}.fw-medium{font-weight:500!important}.fw-semibold{font-weight:600!important}.fw-bold{font-weight:700!important}.fw-bolder{font-weight:bolder!important}.lh-1{line-height:1!important}.lh-sm{line-height:1.25!important}.lh-base{line-height:1.5!important}.lh-lg{line-height:2!important}.text-start{text-align:left!important}.text-end{text-align:right!important}.text-center{text-align:center!important}.text-decoration-none{text-decoration:none!important}.text-decoration-underline{text-decoration:underline!important}.text-decoration-line-through{text-decoration:line-through!important}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-break{word-wrap:break-word!important;word-break:break-word!important}.text-primary{--bs-text-opacity:1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary{--bs-text-opacity:1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success{--bs-text-opacity:1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info{--bs-text-opacity:1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning{--bs-text-opacity:1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger{--bs-text-opacity:1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light{--bs-text-opacity:1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark{--bs-text-opacity:1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black{--bs-text-opacity:1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white{--bs-text-opacity:1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body{--bs-text-opacity:1;color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity))!important}.text-muted{--bs-text-opacity:1;color:var(--bs-secondary-color)!important}.text-black-50{--bs-text-opacity:1;color:rgba(0,0,0,.5)!important}.text-white-50{--bs-text-opacity:1;color:rgba(255,255,255,.5)!important}.text-body-secondary{--bs-text-opacity:1;color:var(--bs-secondary-color)!important}.text-body-tertiary{--bs-text-opacity:1;color:var(--bs-tertiary-color)!important}.text-body-emphasis{--bs-text-opacity:1;color:var(--bs-emphasis-color)!important}.text-reset{--bs-text-opacity:1;color:inherit!important}.text-opacity-25{--bs-text-opacity:0.25}.text-opacity-50{--bs-text-opacity:0.5}.text-opacity-75{--bs-text-opacity:0.75}.text-opacity-100{--bs-text-opacity:1}.text-primary-emphasis{color:var(--bs-primary-text-emphasis)!important}.text-secondary-emphasis{color:var(--bs-secondary-text-emphasis)!important}.text-success-emphasis{color:var(--bs-success-text-emphasis)!important}.text-info-emphasis{color:var(--bs-info-text-emphasis)!important}.text-warning-emphasis{color:var(--bs-warning-text-emphasis)!important}.text-danger-emphasis{color:var(--bs-danger-text-emphasis)!important}.text-light-emphasis{color:var(--bs-light-text-emphasis)!important}.text-dark-emphasis{color:var(--bs-dark-text-emphasis)!important}.link-opacity-10{--bs-link-opacity:0.1}.link-opacity-10-hover:hover{--bs-link-opacity:0.1}.link-opacity-25{--bs-link-opacity:0.25}.link-opacity-25-hover:hover{--bs-link-opacity:0.25}.link-opacity-50{--bs-link-opacity:0.5}.link-opacity-50-hover:hover{--bs-link-opacity:0.5}.link-opacity-75{--bs-link-opacity:0.75}.link-opacity-75-hover:hover{--bs-link-opacity:0.75}.link-opacity-100{--bs-link-opacity:1}.link-opacity-100-hover:hover{--bs-link-opacity:1}.link-offset-1{text-underline-offset:0.125em!important}.link-offset-1-hover:hover{text-underline-offset:0.125em!important}.link-offset-2{text-underline-offset:0.25em!important}.link-offset-2-hover:hover{text-underline-offset:0.25em!important}.link-offset-3{text-underline-offset:0.375em!important}.link-offset-3-hover:hover{text-underline-offset:0.375em!important}.link-underline-primary{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-primary-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-primary-rgb),var(--bs-link-underline-opacity))!important}.link-underline-secondary{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-secondary-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-secondary-rgb),var(--bs-link-underline-opacity))!important}.link-underline-success{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-success-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-success-rgb),var(--bs-link-underline-opacity))!important}.link-underline-info{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-info-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-info-rgb),var(--bs-link-underline-opacity))!important}.link-underline-warning{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-warning-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-warning-rgb),var(--bs-link-underline-opacity))!important}.link-underline-danger{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-danger-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-danger-rgb),var(--bs-link-underline-opacity))!important}.link-underline-light{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-light-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-light-rgb),var(--bs-link-underline-opacity))!important}.link-underline-dark{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-dark-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-dark-rgb),var(--bs-link-underline-opacity))!important}.link-underline{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-underline-opacity,1))!important}.link-underline-opacity-0{--bs-link-underline-opacity:0}.link-underline-opacity-0-hover:hover{--bs-link-underline-opacity:0}.link-underline-opacity-10{--bs-link-underline-opacity:0.1}.link-underline-opacity-10-hover:hover{--bs-link-underline-opacity:0.1}.link-underline-opacity-25{--bs-link-underline-opacity:0.25}.link-underline-opacity-25-hover:hover{--bs-link-underline-opacity:0.25}.link-underline-opacity-50{--bs-link-underline-opacity:0.5}.link-underline-opacity-50-hover:hover{--bs-link-underline-opacity:0.5}.link-underline-opacity-75{--bs-link-underline-opacity:0.75}.link-underline-opacity-75-hover:hover{--bs-link-underline-opacity:0.75}.link-underline-opacity-100{--bs-link-underline-opacity:1}.link-underline-opacity-100-hover:hover{--bs-link-underline-opacity:1}.bg-primary{--bs-bg-opacity:1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success{--bs-bg-opacity:1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info{--bs-bg-opacity:1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning{--bs-bg-opacity:1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger{--bs-bg-opacity:1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light{--bs-bg-opacity:1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark{--bs-bg-opacity:1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black{--bs-bg-opacity:1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white{--bs-bg-opacity:1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body{--bs-bg-opacity:1;background-color:rgba(var(--bs-body-bg-rgb),var(--bs-bg-opacity))!important}.bg-transparent{--bs-bg-opacity:1;background-color:transparent!important}.bg-body-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-bg-rgb),var(--bs-bg-opacity))!important}.bg-body-tertiary{--bs-bg-opacity:1;background-color:rgba(var(--bs-tertiary-bg-rgb),var(--bs-bg-opacity))!important}.bg-opacity-10{--bs-bg-opacity:0.1}.bg-opacity-25{--bs-bg-opacity:0.25}.bg-opacity-50{--bs-bg-opacity:0.5}.bg-opacity-75{--bs-bg-opacity:0.75}.bg-opacity-100{--bs-bg-opacity:1}.bg-primary-subtle{background-color:var(--bs-primary-bg-subtle)!important}.bg-secondary-subtle{background-color:var(--bs-secondary-bg-subtle)!important}.bg-success-subtle{background-color:var(--bs-success-bg-subtle)!important}.bg-info-subtle{background-color:var(--bs-info-bg-subtle)!important}.bg-warning-subtle{background-color:var(--bs-warning-bg-subtle)!important}.bg-danger-subtle{background-color:var(--bs-danger-bg-subtle)!important}.bg-light-subtle{background-color:var(--bs-light-bg-subtle)!important}.bg-dark-subtle{background-color:var(--bs-dark-bg-subtle)!important}.bg-gradient{background-image:var(--bs-gradient)!important}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.pe-none{pointer-events:none!important}.pe-auto{pointer-events:auto!important}.rounded{border-radius:var(--bs-border-radius)!important}.rounded-0{border-radius:0!important}.rounded-1{border-radius:var(--bs-border-radius-sm)!important}.rounded-2{border-radius:var(--bs-border-radius)!important}.rounded-3{border-radius:var(--bs-border-radius-lg)!important}.rounded-4{border-radius:var(--bs-border-radius-xl)!important}.rounded-5{border-radius:var(--bs-border-radius-xxl)!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:var(--bs-border-radius-pill)!important}.rounded-top{border-top-left-radius:var(--bs-border-radius)!important;border-top-right-radius:var(--bs-border-radius)!important}.rounded-top-0{border-top-left-radius:0!important;border-top-right-radius:0!important}.rounded-top-1{border-top-left-radius:var(--bs-border-radius-sm)!important;border-top-right-radius:var(--bs-border-radius-sm)!important}.rounded-top-2{border-top-left-radius:var(--bs-border-radius)!important;border-top-right-radius:var(--bs-border-radius)!important}.rounded-top-3{border-top-left-radius:var(--bs-border-radius-lg)!important;border-top-right-radius:var(--bs-border-radius-lg)!important}.rounded-top-4{border-top-left-radius:var(--bs-border-radius-xl)!important;border-top-right-radius:var(--bs-border-radius-xl)!important}.rounded-top-5{border-top-left-radius:var(--bs-border-radius-xxl)!important;border-top-right-radius:var(--bs-border-radius-xxl)!important}.rounded-top-circle{border-top-left-radius:50%!important;border-top-right-radius:50%!important}.rounded-top-pill{border-top-left-radius:var(--bs-border-radius-pill)!important;border-top-right-radius:var(--bs-border-radius-pill)!important}.rounded-end{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important}.rounded-end-0{border-top-right-radius:0!important;border-bottom-right-radius:0!important}.rounded-end-1{border-top-right-radius:var(--bs-border-radius-sm)!important;border-bottom-right-radius:var(--bs-border-radius-sm)!important}.rounded-end-2{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important}.rounded-end-3{border-top-right-radius:var(--bs-border-radius-lg)!important;border-bottom-right-radius:var(--bs-border-radius-lg)!important}.rounded-end-4{border-top-right-radius:var(--bs-border-radius-xl)!important;border-bottom-right-radius:var(--bs-border-radius-xl)!important}.rounded-end-5{border-top-right-radius:var(--bs-border-radius-xxl)!important;border-bottom-right-radius:var(--bs-border-radius-xxl)!important}.rounded-end-circle{border-top-right-radius:50%!important;border-bottom-right-radius:50%!important}.rounded-end-pill{border-top-right-radius:var(--bs-border-radius-pill)!important;border-bottom-right-radius:var(--bs-border-radius-pill)!important}.rounded-bottom{border-bottom-right-radius:var(--bs-border-radius)!important;border-bottom-left-radius:var(--bs-border-radius)!important}.rounded-bottom-0{border-bottom-right-radius:0!important;border-bottom-left-radius:0!important}.rounded-bottom-1{border-bottom-right-radius:var(--bs-border-radius-sm)!important;border-bottom-left-radius:var(--bs-border-radius-sm)!important}.rounded-bottom-2{border-bottom-right-radius:var(--bs-border-radius)!important;border-bottom-left-radius:var(--bs-border-radius)!important}.rounded-bottom-3{border-bottom-right-radius:var(--bs-border-radius-lg)!important;border-bottom-left-radius:var(--bs-border-radius-lg)!important}.rounded-bottom-4{border-bottom-right-radius:var(--bs-border-radius-xl)!important;border-bottom-left-radius:var(--bs-border-radius-xl)!important}.rounded-bottom-5{border-bottom-right-radius:var(--bs-border-radius-xxl)!important;border-bottom-left-radius:var(--bs-border-radius-xxl)!important}.rounded-bottom-circle{border-bottom-right-radius:50%!important;border-bottom-left-radius:50%!important}.rounded-bottom-pill{border-bottom-right-radius:var(--bs-border-radius-pill)!important;border-bottom-left-radius:var(--bs-border-radius-pill)!important}.rounded-start{border-bottom-left-radius:var(--bs-border-radius)!important;border-top-left-radius:var(--bs-border-radius)!important}.rounded-start-0{border-bottom-left-radius:0!important;border-top-left-radius:0!important}.rounded-start-1{border-bottom-left-radius:var(--bs-border-radius-sm)!important;border-top-left-radius:var(--bs-border-radius-sm)!important}.rounded-start-2{border-bottom-left-radius:var(--bs-border-radius)!important;border-top-left-radius:var(--bs-border-radius)!important}.rounded-start-3{border-bottom-left-radius:var(--bs-border-radius-lg)!important;border-top-left-radius:var(--bs-border-radius-lg)!important}.rounded-start-4{border-bottom-left-radius:var(--bs-border-radius-xl)!important;border-top-left-radius:var(--bs-border-radius-xl)!important}.rounded-start-5{border-bottom-left-radius:var(--bs-border-radius-xxl)!important;border-top-left-radius:var(--bs-border-radius-xxl)!important}.rounded-start-circle{border-bottom-left-radius:50%!important;border-top-left-radius:50%!important}.rounded-start-pill{border-bottom-left-radius:var(--bs-border-radius-pill)!important;border-top-left-radius:var(--bs-border-radius-pill)!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}.z-n1{z-index:-1!important}.z-0{z-index:0!important}.z-1{z-index:1!important}.z-2{z-index:2!important}.z-3{z-index:3!important}@media (min-width:576px){.float-sm-start{float:left!important}.float-sm-end{float:right!important}.float-sm-none{float:none!important}.object-fit-sm-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-sm-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-sm-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-sm-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-sm-none{-o-object-fit:none!important;object-fit:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-grid{display:grid!important}.d-sm-inline-grid{display:inline-grid!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-none{display:none!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.justify-content-sm-evenly{justify-content:space-evenly!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}.order-sm-first{order:-1!important}.order-sm-0{order:0!important}.order-sm-1{order:1!important}.order-sm-2{order:2!important}.order-sm-3{order:3!important}.order-sm-4{order:4!important}.order-sm-5{order:5!important}.order-sm-last{order:6!important}.m-sm-0{margin:0!important}.m-sm-1{margin:.25rem!important}.m-sm-2{margin:.5rem!important}.m-sm-3{margin:1rem!important}.m-sm-4{margin:1.5rem!important}.m-sm-5{margin:3rem!important}.m-sm-auto{margin:auto!important}.mx-sm-0{margin-right:0!important;margin-left:0!important}.mx-sm-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.my-sm-0{margin-top:0!important;margin-bottom:0!important}.my-sm-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0{margin-top:0!important}.mt-sm-1{margin-top:.25rem!important}.mt-sm-2{margin-top:.5rem!important}.mt-sm-3{margin-top:1rem!important}.mt-sm-4{margin-top:1.5rem!important}.mt-sm-5{margin-top:3rem!important}.mt-sm-auto{margin-top:auto!important}.me-sm-0{margin-right:0!important}.me-sm-1{margin-right:.25rem!important}.me-sm-2{margin-right:.5rem!important}.me-sm-3{margin-right:1rem!important}.me-sm-4{margin-right:1.5rem!important}.me-sm-5{margin-right:3rem!important}.me-sm-auto{margin-right:auto!important}.mb-sm-0{margin-bottom:0!important}.mb-sm-1{margin-bottom:.25rem!important}.mb-sm-2{margin-bottom:.5rem!important}.mb-sm-3{margin-bottom:1rem!important}.mb-sm-4{margin-bottom:1.5rem!important}.mb-sm-5{margin-bottom:3rem!important}.mb-sm-auto{margin-bottom:auto!important}.ms-sm-0{margin-left:0!important}.ms-sm-1{margin-left:.25rem!important}.ms-sm-2{margin-left:.5rem!important}.ms-sm-3{margin-left:1rem!important}.ms-sm-4{margin-left:1.5rem!important}.ms-sm-5{margin-left:3rem!important}.ms-sm-auto{margin-left:auto!important}.p-sm-0{padding:0!important}.p-sm-1{padding:.25rem!important}.p-sm-2{padding:.5rem!important}.p-sm-3{padding:1rem!important}.p-sm-4{padding:1.5rem!important}.p-sm-5{padding:3rem!important}.px-sm-0{padding-right:0!important;padding-left:0!important}.px-sm-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0{padding-top:0!important;padding-bottom:0!important}.py-sm-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0{padding-top:0!important}.pt-sm-1{padding-top:.25rem!important}.pt-sm-2{padding-top:.5rem!important}.pt-sm-3{padding-top:1rem!important}.pt-sm-4{padding-top:1.5rem!important}.pt-sm-5{padding-top:3rem!important}.pe-sm-0{padding-right:0!important}.pe-sm-1{padding-right:.25rem!important}.pe-sm-2{padding-right:.5rem!important}.pe-sm-3{padding-right:1rem!important}.pe-sm-4{padding-right:1.5rem!important}.pe-sm-5{padding-right:3rem!important}.pb-sm-0{padding-bottom:0!important}.pb-sm-1{padding-bottom:.25rem!important}.pb-sm-2{padding-bottom:.5rem!important}.pb-sm-3{padding-bottom:1rem!important}.pb-sm-4{padding-bottom:1.5rem!important}.pb-sm-5{padding-bottom:3rem!important}.ps-sm-0{padding-left:0!important}.ps-sm-1{padding-left:.25rem!important}.ps-sm-2{padding-left:.5rem!important}.ps-sm-3{padding-left:1rem!important}.ps-sm-4{padding-left:1.5rem!important}.ps-sm-5{padding-left:3rem!important}.gap-sm-0{gap:0!important}.gap-sm-1{gap:.25rem!important}.gap-sm-2{gap:.5rem!important}.gap-sm-3{gap:1rem!important}.gap-sm-4{gap:1.5rem!important}.gap-sm-5{gap:3rem!important}.row-gap-sm-0{row-gap:0!important}.row-gap-sm-1{row-gap:.25rem!important}.row-gap-sm-2{row-gap:.5rem!important}.row-gap-sm-3{row-gap:1rem!important}.row-gap-sm-4{row-gap:1.5rem!important}.row-gap-sm-5{row-gap:3rem!important}.column-gap-sm-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-sm-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-sm-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-sm-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-sm-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-sm-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.float-md-start{float:left!important}.float-md-end{float:right!important}.float-md-none{float:none!important}.object-fit-md-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-md-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-md-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-md-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-md-none{-o-object-fit:none!important;object-fit:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-grid{display:grid!important}.d-md-inline-grid{display:inline-grid!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-none{display:none!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.justify-content-md-evenly{justify-content:space-evenly!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}.order-md-first{order:-1!important}.order-md-0{order:0!important}.order-md-1{order:1!important}.order-md-2{order:2!important}.order-md-3{order:3!important}.order-md-4{order:4!important}.order-md-5{order:5!important}.order-md-last{order:6!important}.m-md-0{margin:0!important}.m-md-1{margin:.25rem!important}.m-md-2{margin:.5rem!important}.m-md-3{margin:1rem!important}.m-md-4{margin:1.5rem!important}.m-md-5{margin:3rem!important}.m-md-auto{margin:auto!important}.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0{margin-top:0!important}.mt-md-1{margin-top:.25rem!important}.mt-md-2{margin-top:.5rem!important}.mt-md-3{margin-top:1rem!important}.mt-md-4{margin-top:1.5rem!important}.mt-md-5{margin-top:3rem!important}.mt-md-auto{margin-top:auto!important}.me-md-0{margin-right:0!important}.me-md-1{margin-right:.25rem!important}.me-md-2{margin-right:.5rem!important}.me-md-3{margin-right:1rem!important}.me-md-4{margin-right:1.5rem!important}.me-md-5{margin-right:3rem!important}.me-md-auto{margin-right:auto!important}.mb-md-0{margin-bottom:0!important}.mb-md-1{margin-bottom:.25rem!important}.mb-md-2{margin-bottom:.5rem!important}.mb-md-3{margin-bottom:1rem!important}.mb-md-4{margin-bottom:1.5rem!important}.mb-md-5{margin-bottom:3rem!important}.mb-md-auto{margin-bottom:auto!important}.ms-md-0{margin-left:0!important}.ms-md-1{margin-left:.25rem!important}.ms-md-2{margin-left:.5rem!important}.ms-md-3{margin-left:1rem!important}.ms-md-4{margin-left:1.5rem!important}.ms-md-5{margin-left:3rem!important}.ms-md-auto{margin-left:auto!important}.p-md-0{padding:0!important}.p-md-1{padding:.25rem!important}.p-md-2{padding:.5rem!important}.p-md-3{padding:1rem!important}.p-md-4{padding:1.5rem!important}.p-md-5{padding:3rem!important}.px-md-0{padding-right:0!important;padding-left:0!important}.px-md-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3{padding-right:1rem!important;padding-left:1rem!important}.px-md-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5{padding-right:3rem!important;padding-left:3rem!important}.py-md-0{padding-top:0!important;padding-bottom:0!important}.py-md-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0{padding-top:0!important}.pt-md-1{padding-top:.25rem!important}.pt-md-2{padding-top:.5rem!important}.pt-md-3{padding-top:1rem!important}.pt-md-4{padding-top:1.5rem!important}.pt-md-5{padding-top:3rem!important}.pe-md-0{padding-right:0!important}.pe-md-1{padding-right:.25rem!important}.pe-md-2{padding-right:.5rem!important}.pe-md-3{padding-right:1rem!important}.pe-md-4{padding-right:1.5rem!important}.pe-md-5{padding-right:3rem!important}.pb-md-0{padding-bottom:0!important}.pb-md-1{padding-bottom:.25rem!important}.pb-md-2{padding-bottom:.5rem!important}.pb-md-3{padding-bottom:1rem!important}.pb-md-4{padding-bottom:1.5rem!important}.pb-md-5{padding-bottom:3rem!important}.ps-md-0{padding-left:0!important}.ps-md-1{padding-left:.25rem!important}.ps-md-2{padding-left:.5rem!important}.ps-md-3{padding-left:1rem!important}.ps-md-4{padding-left:1.5rem!important}.ps-md-5{padding-left:3rem!important}.gap-md-0{gap:0!important}.gap-md-1{gap:.25rem!important}.gap-md-2{gap:.5rem!important}.gap-md-3{gap:1rem!important}.gap-md-4{gap:1.5rem!important}.gap-md-5{gap:3rem!important}.row-gap-md-0{row-gap:0!important}.row-gap-md-1{row-gap:.25rem!important}.row-gap-md-2{row-gap:.5rem!important}.row-gap-md-3{row-gap:1rem!important}.row-gap-md-4{row-gap:1.5rem!important}.row-gap-md-5{row-gap:3rem!important}.column-gap-md-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-md-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-md-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-md-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-md-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-md-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-md-start{text-align:left!important}.text-md-end{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.float-lg-start{float:left!important}.float-lg-end{float:right!important}.float-lg-none{float:none!important}.object-fit-lg-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-lg-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-lg-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-lg-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-lg-none{-o-object-fit:none!important;object-fit:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-grid{display:grid!important}.d-lg-inline-grid{display:inline-grid!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-none{display:none!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.justify-content-lg-evenly{justify-content:space-evenly!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}.order-lg-first{order:-1!important}.order-lg-0{order:0!important}.order-lg-1{order:1!important}.order-lg-2{order:2!important}.order-lg-3{order:3!important}.order-lg-4{order:4!important}.order-lg-5{order:5!important}.order-lg-last{order:6!important}.m-lg-0{margin:0!important}.m-lg-1{margin:.25rem!important}.m-lg-2{margin:.5rem!important}.m-lg-3{margin:1rem!important}.m-lg-4{margin:1.5rem!important}.m-lg-5{margin:3rem!important}.m-lg-auto{margin:auto!important}.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0{margin-top:0!important}.mt-lg-1{margin-top:.25rem!important}.mt-lg-2{margin-top:.5rem!important}.mt-lg-3{margin-top:1rem!important}.mt-lg-4{margin-top:1.5rem!important}.mt-lg-5{margin-top:3rem!important}.mt-lg-auto{margin-top:auto!important}.me-lg-0{margin-right:0!important}.me-lg-1{margin-right:.25rem!important}.me-lg-2{margin-right:.5rem!important}.me-lg-3{margin-right:1rem!important}.me-lg-4{margin-right:1.5rem!important}.me-lg-5{margin-right:3rem!important}.me-lg-auto{margin-right:auto!important}.mb-lg-0{margin-bottom:0!important}.mb-lg-1{margin-bottom:.25rem!important}.mb-lg-2{margin-bottom:.5rem!important}.mb-lg-3{margin-bottom:1rem!important}.mb-lg-4{margin-bottom:1.5rem!important}.mb-lg-5{margin-bottom:3rem!important}.mb-lg-auto{margin-bottom:auto!important}.ms-lg-0{margin-left:0!important}.ms-lg-1{margin-left:.25rem!important}.ms-lg-2{margin-left:.5rem!important}.ms-lg-3{margin-left:1rem!important}.ms-lg-4{margin-left:1.5rem!important}.ms-lg-5{margin-left:3rem!important}.ms-lg-auto{margin-left:auto!important}.p-lg-0{padding:0!important}.p-lg-1{padding:.25rem!important}.p-lg-2{padding:.5rem!important}.p-lg-3{padding:1rem!important}.p-lg-4{padding:1.5rem!important}.p-lg-5{padding:3rem!important}.px-lg-0{padding-right:0!important;padding-left:0!important}.px-lg-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0{padding-top:0!important;padding-bottom:0!important}.py-lg-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0{padding-top:0!important}.pt-lg-1{padding-top:.25rem!important}.pt-lg-2{padding-top:.5rem!important}.pt-lg-3{padding-top:1rem!important}.pt-lg-4{padding-top:1.5rem!important}.pt-lg-5{padding-top:3rem!important}.pe-lg-0{padding-right:0!important}.pe-lg-1{padding-right:.25rem!important}.pe-lg-2{padding-right:.5rem!important}.pe-lg-3{padding-right:1rem!important}.pe-lg-4{padding-right:1.5rem!important}.pe-lg-5{padding-right:3rem!important}.pb-lg-0{padding-bottom:0!important}.pb-lg-1{padding-bottom:.25rem!important}.pb-lg-2{padding-bottom:.5rem!important}.pb-lg-3{padding-bottom:1rem!important}.pb-lg-4{padding-bottom:1.5rem!important}.pb-lg-5{padding-bottom:3rem!important}.ps-lg-0{padding-left:0!important}.ps-lg-1{padding-left:.25rem!important}.ps-lg-2{padding-left:.5rem!important}.ps-lg-3{padding-left:1rem!important}.ps-lg-4{padding-left:1.5rem!important}.ps-lg-5{padding-left:3rem!important}.gap-lg-0{gap:0!important}.gap-lg-1{gap:.25rem!important}.gap-lg-2{gap:.5rem!important}.gap-lg-3{gap:1rem!important}.gap-lg-4{gap:1.5rem!important}.gap-lg-5{gap:3rem!important}.row-gap-lg-0{row-gap:0!important}.row-gap-lg-1{row-gap:.25rem!important}.row-gap-lg-2{row-gap:.5rem!important}.row-gap-lg-3{row-gap:1rem!important}.row-gap-lg-4{row-gap:1.5rem!important}.row-gap-lg-5{row-gap:3rem!important}.column-gap-lg-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-lg-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-lg-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-lg-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-lg-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-lg-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-lg-start{text-align:left!important}.text-lg-end{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.float-xl-start{float:left!important}.float-xl-end{float:right!important}.float-xl-none{float:none!important}.object-fit-xl-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-xl-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-xl-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-xl-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-xl-none{-o-object-fit:none!important;object-fit:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-grid{display:grid!important}.d-xl-inline-grid{display:inline-grid!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-none{display:none!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.justify-content-xl-evenly{justify-content:space-evenly!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}.order-xl-first{order:-1!important}.order-xl-0{order:0!important}.order-xl-1{order:1!important}.order-xl-2{order:2!important}.order-xl-3{order:3!important}.order-xl-4{order:4!important}.order-xl-5{order:5!important}.order-xl-last{order:6!important}.m-xl-0{margin:0!important}.m-xl-1{margin:.25rem!important}.m-xl-2{margin:.5rem!important}.m-xl-3{margin:1rem!important}.m-xl-4{margin:1.5rem!important}.m-xl-5{margin:3rem!important}.m-xl-auto{margin:auto!important}.mx-xl-0{margin-right:0!important;margin-left:0!important}.mx-xl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.my-xl-0{margin-top:0!important;margin-bottom:0!important}.my-xl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0{margin-top:0!important}.mt-xl-1{margin-top:.25rem!important}.mt-xl-2{margin-top:.5rem!important}.mt-xl-3{margin-top:1rem!important}.mt-xl-4{margin-top:1.5rem!important}.mt-xl-5{margin-top:3rem!important}.mt-xl-auto{margin-top:auto!important}.me-xl-0{margin-right:0!important}.me-xl-1{margin-right:.25rem!important}.me-xl-2{margin-right:.5rem!important}.me-xl-3{margin-right:1rem!important}.me-xl-4{margin-right:1.5rem!important}.me-xl-5{margin-right:3rem!important}.me-xl-auto{margin-right:auto!important}.mb-xl-0{margin-bottom:0!important}.mb-xl-1{margin-bottom:.25rem!important}.mb-xl-2{margin-bottom:.5rem!important}.mb-xl-3{margin-bottom:1rem!important}.mb-xl-4{margin-bottom:1.5rem!important}.mb-xl-5{margin-bottom:3rem!important}.mb-xl-auto{margin-bottom:auto!important}.ms-xl-0{margin-left:0!important}.ms-xl-1{margin-left:.25rem!important}.ms-xl-2{margin-left:.5rem!important}.ms-xl-3{margin-left:1rem!important}.ms-xl-4{margin-left:1.5rem!important}.ms-xl-5{margin-left:3rem!important}.ms-xl-auto{margin-left:auto!important}.p-xl-0{padding:0!important}.p-xl-1{padding:.25rem!important}.p-xl-2{padding:.5rem!important}.p-xl-3{padding:1rem!important}.p-xl-4{padding:1.5rem!important}.p-xl-5{padding:3rem!important}.px-xl-0{padding-right:0!important;padding-left:0!important}.px-xl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0{padding-top:0!important;padding-bottom:0!important}.py-xl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0{padding-top:0!important}.pt-xl-1{padding-top:.25rem!important}.pt-xl-2{padding-top:.5rem!important}.pt-xl-3{padding-top:1rem!important}.pt-xl-4{padding-top:1.5rem!important}.pt-xl-5{padding-top:3rem!important}.pe-xl-0{padding-right:0!important}.pe-xl-1{padding-right:.25rem!important}.pe-xl-2{padding-right:.5rem!important}.pe-xl-3{padding-right:1rem!important}.pe-xl-4{padding-right:1.5rem!important}.pe-xl-5{padding-right:3rem!important}.pb-xl-0{padding-bottom:0!important}.pb-xl-1{padding-bottom:.25rem!important}.pb-xl-2{padding-bottom:.5rem!important}.pb-xl-3{padding-bottom:1rem!important}.pb-xl-4{padding-bottom:1.5rem!important}.pb-xl-5{padding-bottom:3rem!important}.ps-xl-0{padding-left:0!important}.ps-xl-1{padding-left:.25rem!important}.ps-xl-2{padding-left:.5rem!important}.ps-xl-3{padding-left:1rem!important}.ps-xl-4{padding-left:1.5rem!important}.ps-xl-5{padding-left:3rem!important}.gap-xl-0{gap:0!important}.gap-xl-1{gap:.25rem!important}.gap-xl-2{gap:.5rem!important}.gap-xl-3{gap:1rem!important}.gap-xl-4{gap:1.5rem!important}.gap-xl-5{gap:3rem!important}.row-gap-xl-0{row-gap:0!important}.row-gap-xl-1{row-gap:.25rem!important}.row-gap-xl-2{row-gap:.5rem!important}.row-gap-xl-3{row-gap:1rem!important}.row-gap-xl-4{row-gap:1.5rem!important}.row-gap-xl-5{row-gap:3rem!important}.column-gap-xl-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-xl-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-xl-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-xl-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-xl-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-xl-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-xl-start{text-align:left!important}.text-xl-end{text-align:right!important}.text-xl-center{text-align:center!important}}@media (min-width:1400px){.float-xxl-start{float:left!important}.float-xxl-end{float:right!important}.float-xxl-none{float:none!important}.object-fit-xxl-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-xxl-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-xxl-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-xxl-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-xxl-none{-o-object-fit:none!important;object-fit:none!important}.d-xxl-inline{display:inline!important}.d-xxl-inline-block{display:inline-block!important}.d-xxl-block{display:block!important}.d-xxl-grid{display:grid!important}.d-xxl-inline-grid{display:inline-grid!important}.d-xxl-table{display:table!important}.d-xxl-table-row{display:table-row!important}.d-xxl-table-cell{display:table-cell!important}.d-xxl-flex{display:flex!important}.d-xxl-inline-flex{display:inline-flex!important}.d-xxl-none{display:none!important}.flex-xxl-fill{flex:1 1 auto!important}.flex-xxl-row{flex-direction:row!important}.flex-xxl-column{flex-direction:column!important}.flex-xxl-row-reverse{flex-direction:row-reverse!important}.flex-xxl-column-reverse{flex-direction:column-reverse!important}.flex-xxl-grow-0{flex-grow:0!important}.flex-xxl-grow-1{flex-grow:1!important}.flex-xxl-shrink-0{flex-shrink:0!important}.flex-xxl-shrink-1{flex-shrink:1!important}.flex-xxl-wrap{flex-wrap:wrap!important}.flex-xxl-nowrap{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xxl-start{justify-content:flex-start!important}.justify-content-xxl-end{justify-content:flex-end!important}.justify-content-xxl-center{justify-content:center!important}.justify-content-xxl-between{justify-content:space-between!important}.justify-content-xxl-around{justify-content:space-around!important}.justify-content-xxl-evenly{justify-content:space-evenly!important}.align-items-xxl-start{align-items:flex-start!important}.align-items-xxl-end{align-items:flex-end!important}.align-items-xxl-center{align-items:center!important}.align-items-xxl-baseline{align-items:baseline!important}.align-items-xxl-stretch{align-items:stretch!important}.align-content-xxl-start{align-content:flex-start!important}.align-content-xxl-end{align-content:flex-end!important}.align-content-xxl-center{align-content:center!important}.align-content-xxl-between{align-content:space-between!important}.align-content-xxl-around{align-content:space-around!important}.align-content-xxl-stretch{align-content:stretch!important}.align-self-xxl-auto{align-self:auto!important}.align-self-xxl-start{align-self:flex-start!important}.align-self-xxl-end{align-self:flex-end!important}.align-self-xxl-center{align-self:center!important}.align-self-xxl-baseline{align-self:baseline!important}.align-self-xxl-stretch{align-self:stretch!important}.order-xxl-first{order:-1!important}.order-xxl-0{order:0!important}.order-xxl-1{order:1!important}.order-xxl-2{order:2!important}.order-xxl-3{order:3!important}.order-xxl-4{order:4!important}.order-xxl-5{order:5!important}.order-xxl-last{order:6!important}.m-xxl-0{margin:0!important}.m-xxl-1{margin:.25rem!important}.m-xxl-2{margin:.5rem!important}.m-xxl-3{margin:1rem!important}.m-xxl-4{margin:1.5rem!important}.m-xxl-5{margin:3rem!important}.m-xxl-auto{margin:auto!important}.mx-xxl-0{margin-right:0!important;margin-left:0!important}.mx-xxl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto{margin-right:auto!important;margin-left:auto!important}.my-xxl-0{margin-top:0!important;margin-bottom:0!important}.my-xxl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0{margin-top:0!important}.mt-xxl-1{margin-top:.25rem!important}.mt-xxl-2{margin-top:.5rem!important}.mt-xxl-3{margin-top:1rem!important}.mt-xxl-4{margin-top:1.5rem!important}.mt-xxl-5{margin-top:3rem!important}.mt-xxl-auto{margin-top:auto!important}.me-xxl-0{margin-right:0!important}.me-xxl-1{margin-right:.25rem!important}.me-xxl-2{margin-right:.5rem!important}.me-xxl-3{margin-right:1rem!important}.me-xxl-4{margin-right:1.5rem!important}.me-xxl-5{margin-right:3rem!important}.me-xxl-auto{margin-right:auto!important}.mb-xxl-0{margin-bottom:0!important}.mb-xxl-1{margin-bottom:.25rem!important}.mb-xxl-2{margin-bottom:.5rem!important}.mb-xxl-3{margin-bottom:1rem!important}.mb-xxl-4{margin-bottom:1.5rem!important}.mb-xxl-5{margin-bottom:3rem!important}.mb-xxl-auto{margin-bottom:auto!important}.ms-xxl-0{margin-left:0!important}.ms-xxl-1{margin-left:.25rem!important}.ms-xxl-2{margin-left:.5rem!important}.ms-xxl-3{margin-left:1rem!important}.ms-xxl-4{margin-left:1.5rem!important}.ms-xxl-5{margin-left:3rem!important}.ms-xxl-auto{margin-left:auto!important}.p-xxl-0{padding:0!important}.p-xxl-1{padding:.25rem!important}.p-xxl-2{padding:.5rem!important}.p-xxl-3{padding:1rem!important}.p-xxl-4{padding:1.5rem!important}.p-xxl-5{padding:3rem!important}.px-xxl-0{padding-right:0!important;padding-left:0!important}.px-xxl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0{padding-top:0!important;padding-bottom:0!important}.py-xxl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0{padding-top:0!important}.pt-xxl-1{padding-top:.25rem!important}.pt-xxl-2{padding-top:.5rem!important}.pt-xxl-3{padding-top:1rem!important}.pt-xxl-4{padding-top:1.5rem!important}.pt-xxl-5{padding-top:3rem!important}.pe-xxl-0{padding-right:0!important}.pe-xxl-1{padding-right:.25rem!important}.pe-xxl-2{padding-right:.5rem!important}.pe-xxl-3{padding-right:1rem!important}.pe-xxl-4{padding-right:1.5rem!important}.pe-xxl-5{padding-right:3rem!important}.pb-xxl-0{padding-bottom:0!important}.pb-xxl-1{padding-bottom:.25rem!important}.pb-xxl-2{padding-bottom:.5rem!important}.pb-xxl-3{padding-bottom:1rem!important}.pb-xxl-4{padding-bottom:1.5rem!important}.pb-xxl-5{padding-bottom:3rem!important}.ps-xxl-0{padding-left:0!important}.ps-xxl-1{padding-left:.25rem!important}.ps-xxl-2{padding-left:.5rem!important}.ps-xxl-3{padding-left:1rem!important}.ps-xxl-4{padding-left:1.5rem!important}.ps-xxl-5{padding-left:3rem!important}.gap-xxl-0{gap:0!important}.gap-xxl-1{gap:.25rem!important}.gap-xxl-2{gap:.5rem!important}.gap-xxl-3{gap:1rem!important}.gap-xxl-4{gap:1.5rem!important}.gap-xxl-5{gap:3rem!important}.row-gap-xxl-0{row-gap:0!important}.row-gap-xxl-1{row-gap:.25rem!important}.row-gap-xxl-2{row-gap:.5rem!important}.row-gap-xxl-3{row-gap:1rem!important}.row-gap-xxl-4{row-gap:1.5rem!important}.row-gap-xxl-5{row-gap:3rem!important}.column-gap-xxl-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-xxl-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-xxl-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-xxl-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-xxl-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-xxl-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-xxl-start{text-align:left!important}.text-xxl-end{text-align:right!important}.text-xxl-center{text-align:center!important}}@media (min-width:1200px){.fs-1{font-size:2.5rem!important}.fs-2{font-size:2rem!important}.fs-3{font-size:1.75rem!important}.fs-4{font-size:1.5rem!important}}@media print{.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-grid{display:grid!important}.d-print-inline-grid{display:inline-grid!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-none{display:none!important}}

/*!
  Theme: Default
  Description: Original highlight.js style
  Author: (c) Ivan Sagalaev <maniac@softwaremaniacs.org>
  Maintainer: @highlightjs/core-team
  Website: https://highlightjs.org/
  License: see project LICENSE
  Touched: 2021
*/
pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{background:#f0f0f0;color:#444}.hljs-comment{color:#888}.hljs-punctuation,.hljs-tag{color:#444a}.hljs-tag .hljs-attr,.hljs-tag .hljs-name{color:#444}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-name,.hljs-selector-tag{font-weight:700}.hljs-deletion,.hljs-number,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#800}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-link,.hljs-operator,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#bc6060}.hljs-literal{color:#78a960}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta .hljs-string{color:#4d99bf}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}

    /* Enhanced CSS Variables System - Override these in Custom CSS without !important */
    :root {
      /* Core Colors */
      --bg-primary: #fafbfc;
      --bg-secondary: #ffffff;
      --bg-header-start: #ffffff;
      --bg-header-end: #f8f9fa;
      --text-primary: #1a1a1a;
      --text-secondary: #555;
      --text-muted: #aaa;
      --text-subtle: #bbb;
      --border-color: #e9ecef;
      --border-light: #dee2e6;
      --shadow-sm: rgba(0, 0, 0, 0.03);
      --shadow-md: rgba(0, 0, 0, 0.1);
      --card-bg: #fff;
      --input-bg: #fff;
      --input-border: #ced4da;
      --btn-primary-bg: #007bff;
      --btn-primary-hover: #0056b3;
      --link-color: #007bff;
      --link-hover: #0056b3;
      
      /* Layout & Spacing */
      --container-padding: 0;
      --toolbar-padding: 0;
      --titlebar-padding: 0;
      --group-padding: 16px 8px 16px 12px;
      --group-margin-bottom: 0;
      --group-border-radius: 16px;
      --group-shadow: 0 1px 2px rgba(0, 0, 0, 0.04), 0 8px 16px -4px rgba(0, 0, 0, 0.08);
      --group-shadow-hover: 0 1px 3px rgba(0, 0, 0, 0.05), 0 4px 12px rgba(0, 0, 0, 0.1), 0 20px 40px -10px rgba(0, 0, 0, 0.15);
      
      /* Group Header */
      --group-header-bg: linear-gradient(135deg, rgba(255, 255, 255, 0.6) 0%, rgba(250, 250, 251, 0.4) 100%);
      --group-header-border: 1px solid rgba(0, 0, 0, 0.05);
      
      /* Links */
      --link-padding: 2px 8px;
      --link-font-size: inherit;
      --link-border-bottom: 1px solid rgba(0, 0, 0, 0.02);
      --link-hover-bg: rgba(0, 0, 0, 0.02);
      
      /* Buttons */
      --btn-padding: 0.375rem 0.75rem;
      --btn-font-size: 0.875rem;
      --btn-border-radius: 8px;
      --btn-gap: 0.5rem;
      
      /* Typography */
      --font-family-base: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      --font-family-mono: 'Courier New', Courier, Monaco, Menlo, monospace;
      --font-size-base: 14px;
      --font-size-sm: 12px;
      --font-size-lg: 16px;
      --line-height-base: 1.5;
      
      /* Transitions */
      --transition-speed: 0.3s;
      --transition-timing: ease;
      
      /* App-level dynamic variables (set via JS) */
      --app-bg: var(--bg-primary);
      --app-bg-image: none;
      --app-text-color: var(--text-primary);
    }

    /* Modal Scrollability and Height Constraints */
    .modal-dialog {
      max-height: 90vh;
      display: flex;
      flex-direction: column;
    }
    
    .modal-content {
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    
    .modal-header {
      flex-shrink: 0;
    }
    
    .modal-body {
      overflow-y: auto;
      overflow-x: hidden;
      flex: 1 1 auto;
      max-height: calc(90vh - 120px); /* Account for header and footer */
    }
    
    .modal-footer {
      flex-shrink: 0;
    }

    .mb-edit-favicon-preview {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }

    .mb-edit-favicon-actions {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-left: 1rem;
      flex-shrink: 0;
    }

    .mb-edit-favicon-actions button {
      white-space: nowrap;
    }

    @media (max-width: 576px) {
      .mb-edit-favicon-actions {
        flex-wrap: wrap;
        justify-content: flex-end;
        margin-left: 0.5rem;
        row-gap: 0.25rem;
      }
    }

    /* Ensure centered modals respect height constraints */
    .modal-dialog-centered {
      min-height: calc(100% - 3.5rem);
      max-height: 90vh;
    }
    
    /* For large modals, ensure they don't exceed viewport */
    .modal-lg .modal-body {
      max-height: calc(90vh - 140px);
    }
    
    /* Prevent content from making dialog too wide */
    .modal-body > * {
      max-width: 100%;
      overflow-wrap: break-word;
    }

    /* Base styles */
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    body {
      /* Default styles - can be overridden by custom CSS */
      background-color: #fafbfc;
      color: #1a1a1a;
    }

    #app {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      min-height: calc(100vh - 45px);
      /* Ensure content pushes footer down */
      box-sizing: border-box;
      padding: 0 15px 80px 15px;
      /* Top padding removed, managed by header */
      /* Removed CSS variables to allow custom CSS to override */
    }
    
    /* App container - custom CSS can override these */
    #app.container-fluid {
      /* Default styles - can be overridden by custom CSS */
      min-height: 100vh;
    }
    
    /* Modern Header Bar Styling */
    #app > h1 {
      font-size: 1.25rem;
      font-weight: 700;
      margin: 0;
      padding: var(--custom-titlebar-bg-padding, 0.75rem 1rem 0 0rem);  /* Increased left padding */
      color: #1a1a1a;
      /* Removed CSS variables to allow custom CSS to override */
      opacity: var(--custom-titlebar-bg-opacity, 1);
      border-style: var(--custom-titlebar-bg-border_style, none);
      border-width: var(--custom-titlebar-bg-border_width, 0);
      border-color: var(--custom-titlebar-bg-border_color, transparent);
      border-radius: var(--custom-titlebar-bg-border_radius, 0);
      font-family: var(--custom-title-color-font_family, inherit);
      font-size: var(--custom-title-color-font_size, 1.25rem);
      font-weight: var(--custom-title-color-font_weight, 700);
      letter-spacing: -0.5px;
      display: flex;
      align-items: center;
      justify-content: flex-start;  /* Changed to flex-start for left alignment */
      background: var(--custom-titlebar-bg-background_color, var(--custom-titlebar-bg, linear-gradient(135deg, var(--bg-header-start) 0%, var(--bg-header-end) 100%)));
      border-bottom: 1px solid var(--border-color);
      text-align: left;  /* Ensure text is left-aligned */
    }
    
    /* Compact Toolbar Container */
    .container-fluid.mt-3.mb-3 {
      background: var(--custom-toolbar-bg-background_color, var(--custom-toolbar-bg, var(--bg-secondary)));
      color: var(--custom-toolbar-bg-color, inherit);
      opacity: var(--custom-toolbar-bg-opacity, 1);
      border-style: var(--custom-toolbar-bg-border_style, none);
      border-width: var(--custom-toolbar-bg-border_width, 0);
      border-color: var(--custom-toolbar-bg-border_color, transparent);
      border-radius: var(--custom-toolbar-bg-border_radius, 0);
      padding: var(--custom-toolbar-bg-padding, 0.5rem 0);
      margin-top: 0 !important;
      border-bottom: 1px solid var(--border-color);
      box-shadow: 0 1px 2px var(--shadow-sm);
      flex-shrink: 0;  /* Don't shrink */
    }
    
    /* Row adjustments for compact layout */
    .container-fluid.mt-3.mb-3 .row {
      margin: 0;
      --bs-gutter-x: 0;
    }
    
    .container-fluid.mt-3.mb-3 .col-md-auto,
    .container-fluid.mt-3.mb-3 .col {
      padding: 0.25rem 0;
      --bs-gutter-x: 0;
    }
    
    /* Keywords row optimization */
    .row.mt-2 {
      margin-top: 0.5rem !important;
    }
    
    .input-group-sm .input-group-text + .form-control[style*="height:auto"] {
      min-height: 32px;
      max-height: 60px;
      overflow-y: auto;
      padding: 0.25rem 0.5rem;
    }
    
    /* Keyword badges more compact */
    .keyword-badge {
      padding: 0.15rem 0.4rem !important;
      font-size: 0.75rem !important;
      margin: 0.1rem !important;
      opacity: 1 !important;
    }
    
    /* Ensure badge colors are not overridden */
    .badge.keyword-badge {
      opacity: 1 !important;
    }
    
    /* Integrate title and toolbar visually */
    #app {
      padding-top: 0;
    }
    
    /* Create a unified header section */
    #app > h1 + .container-fluid {
      border-top-left-radius: 0;
      border-top-right-radius: 0;
    }
    
    /* Adjust button toolbar spacing */
    .btn-toolbar {
      gap: 0.5rem;
    }
        
    /* Link count badge in group headers */
    .groupLinkCount {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background-color: #6c757d;
      color: white;
      border-radius: 10px;
      padding: 2px 8px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-left: 8px;
      min-width: 24px;
      height: 20px;
    }
    
    .groupLinkCount.empty {
      background-color: #dee2e6;
      color: #6c757d;
    }
    
    /* Keyword badges */
    .keyword-badge {
      display: inline-flex;
      align-items: center;
      padding: 0.25em 0.6em;
      font-size: 0.75rem;
      font-weight: 600;
      border-radius: 0.375rem;
      background-color: #6c757d;
      color: white;
      cursor: pointer;
      transition: opacity 0.2s ease;
    }
    
    .keyword-badge:hover {
      opacity: 0.8;
    }
    
    /* General badge styles */
    .badge {
      display: inline-block;
      padding: 0.35em 0.65em;
      font-size: 0.75em;
      font-weight: 700;
      line-height: 1;
      text-align: center;
      white-space: nowrap;
      vertical-align: baseline;
      border-radius: 0.375rem;
    }
    
    .badge.rounded-pill {
      border-radius: 50rem;
    }
    
    /* Make reset button less prominent */
    .btn-toolbar .btn-danger {
      background-color: #fff;
      color: #dc3545;
      border-color: #dc3545;
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
      opacity: 0.8;
      transition: all 0.2s ease;
    }
    
    .btn-toolbar .btn-danger:hover {
      background-color: #dc3545;
      color: #fff;
      opacity: 1;
      box-shadow: 0 2px 4px rgba(220, 53, 69, 0.2);
    }
    
    /* Compact add group button */
    .btn-toolbar .btn-success {
      padding: 0.375rem 0.75rem;
      font-size: 0.875rem;
      background-color: #28a745;
      border-color: #28a745;
      transition: all 0.2s ease;
    }
    
    .btn-toolbar .btn-success:hover {
      background-color: #218838;
      box-shadow: 0 2px 4px rgba(40, 167, 69, 0.2);
    }

    /* Text and Link Styles */
    .text-strikethrough {
      text-decoration: line-through;
    }

    .groupName {
      cursor: move;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      /* font-size removed - now controlled by inline styles */
      margin-bottom: 15px;
      display: flex;
      /* Use flex for alignment */
      align-items: center;
      /* Vertically align items */
    }

    .groupLinkCount {
      display: inline-block;
      /* Background now controlled via inline style from getPillStyle */
      color: white;
      font-size: 0.7rem;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 12px;
      min-width: 24px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-left: 8px;
      vertical-align: middle;
      position: relative;
      top: 1px;
      transition: all 0.2s ease;
    }
    
    .groupLinkCount:hover {
      transform: scale(1.05);
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
    }
    
    .groupLinkCount.empty {
      /* Default for empty pills comes from getPillStyle; keep class for semantics */
    }

    .linkText {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-size: 1em;
      display: flex;
      /* Use flex for alignment */
      align-items: center;
      /* Vertically align items */
      flex: 1;
      min-width: 0;
      position: relative;
    }
    
    /* URL preview on hover */
    .link-url-preview {
      display: none;
      color: #6b7280;
      font-size: 0.85em;
      white-space: nowrap;
      max-width: clamp(110px, 34%, 260px);
      overflow: hidden;
      text-overflow: ellipsis;
      pointer-events: none;
      margin-left: 8px;
      margin-right: 0;
      flex: 0 1 clamp(110px, 34%, 260px);
      min-width: 0;
    }
    
    .linkContainerListItem:hover .link-url-preview,
    .linkContainerListItem:focus-within .link-url-preview {
      display: inline-block;
    }

    .linkContainerListItem:hover .linkText .text-truncate,
    .linkContainerListItem:focus-within .linkText .text-truncate {
      min-width: 0;
      flex: 0 1 auto;
      width: fit-content;
      max-width: 100%;
    }
    
    .linkText > span:first-child {
      display: inline-block;
      width: fit-content;
      max-width: 100%;
    }
    
    /* Allow badges to wrap if needed but keep inline when possible */
    .linkText .badge.keyword-badge {
      white-space: nowrap;
      flex-shrink: 0;
    }

    .mb-keyword-add-badge {
      width: 1.3rem;
      height: 1.3rem;
      min-width: 1.3rem;
      aspect-ratio: 1 / 1;
      border-radius: 999px !important;
      padding: 0 !important;
      display: inline-flex !important;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.9rem;
      line-height: 1;
      flex-shrink: 0;
      cursor: pointer;
      color: #fff;
      background: #198754;
      border: 1px solid rgba(0, 0, 0, 0.08);
      user-select: none;
      transition: transform 0.15s ease, filter 0.15s ease;
    }

    .mb-keyword-add-badge:hover,
    .mb-keyword-add-badge:focus {
      transform: scale(1.05);
      filter: brightness(0.95);
      outline: none;
    }

    .linkTextCategory {
      font-weight: bold;
      font-style: italic;
      /* Differentiate categories */
      color: var(--text-secondary);
    }

    .linkTextGrip {
      cursor: grab;
      width: 12px;
      /* Slightly wider */
      height: 20px;
      padding: 0px;
      margin: 0px 5px 0px -5px;
      /* Adjust spacing */
      color: #bbb;
      /* Make grip subtle */
    }

    .qrCodeUrl {
      font-size: 1.5em;
      /* Adjusted for better readability */
      word-wrap: break-word;
      /* Allow long URLs to wrap */
    }

    /* Buttons and Icons */
    .svg-button {
      cursor: pointer;
      vertical-align: middle;
      /* Align icons nicely */
    }
    
    /* Make action button icons properly sized */
    .groupActions .svg-button.actionIcon {
      width: 18px !important;
      height: 18px !important;
      margin: 0;
    }
    
    .groupActions .svg-button.actionIconLink {
      width: 16px !important;
      height: 16px !important;
      margin: 0;
    }
    
    /* Elegant Tool Buttons Styling */
    .btn-group-sm .btn-outline-secondary {
      border-color: #dee2e6;
      background-color: #ffffff;
      color: #6c757d;
      transition: all 0.2s ease-in-out;
      position: relative;
      overflow: hidden;
      border-radius: 6px;
      padding: 0.25rem 0.5rem;  /* Standard btn-sm padding fr einheitliche Gre */
    }
    
    /* Fix border-radius for buttons inside button groups */
    .btn-group > .btn:not(:first-child),
    .btn-group > .btn-group:not(:first-child) {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
    
    .btn-group > .btn:not(:last-child):not(.dropdown-toggle),
    .btn-group > .btn-group:not(:last-child) > .btn {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }
    
    /* Ensure middle buttons have no radius */
    .btn-group > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle) {
      border-radius: 0;
    }
    
    .btn-group-sm .btn-outline-secondary:hover {
      background-color: #f8f9fa;
      border-color: #adb5bd;
      color: #495057;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
    }
    
    .btn-group-sm .btn-outline-secondary:active {
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }
    
    .btn-group-sm .btn-outline-secondary svg {
      transition: transform 0.2s ease;
    }
    
    .btn-group-sm .btn-outline-secondary:hover svg {
      opacity: 1;
    }
    
    /* Button group styling */
    .btn-group {
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      border-radius: 8px;
    }
    
    .btn-group .btn:first-child {
      border-top-left-radius: 8px !important;
      border-bottom-left-radius: 8px !important;
    }
    
    .btn-group .btn:last-child {
      border-top-right-radius: 8px !important;
      border-bottom-right-radius: 8px !important;
    }
    
    .btn-group .btn:not(:first-child) {
      margin-left: -1px;
    }
    
    /* Dropdown button special styling */
    .btn-group .dropdown-toggle {
      border-left: 1px solid #dee2e6;
    }
    
    .btn-group .dropdown-toggle::after {
      transition: transform 0.2s ease;
    }
    
    .btn-group .dropdown-toggle[aria-expanded="true"]::after {
      transform: rotate(180deg);
    }
    
    /* Focus state for accessibility */
    .btn-group-sm .btn-outline-secondary:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(108, 117, 125, 0.1);
    }
    
    /* Separator between button groups */
    .btn-group + .btn-group {
      margin-left: 0.5rem;
    }
    
    /* Undo/Redo special styling - same size as other buttons */
    .btn-group-sm .btn-outline-secondary[title*="undo"],
    .btn-group-sm .btn-outline-secondary[title*="redo"],
    .btn-group-sm .btn-outline-secondary[title*="Undo"],
    .btn-group-sm .btn-outline-secondary[title*="Redo"] {
      font-size: 0.875rem;  /* Standard btn-sm font-size statt 1.1rem */
      padding: 0.25rem 0.5rem;
      line-height: 1.5;
    }
    
    /* Smooth icon rotation for expand/collapse buttons */
    .btn-group-sm .btn-outline-secondary svg[viewBox="0 0 16 16"] {
      transition: transform 0.3s ease;
    }
    
    /* Tooltip-like effect on hover (optional) */
    .btn-group-sm .btn-outline-secondary {
      position: relative;
    }
    
    .btn-group-sm .btn-outline-secondary:hover::before {
      content: attr(title);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      padding: 0.25rem 0.5rem;
      background-color: #333;
      color: white;
      font-size: 0.75rem;
      border-radius: 4px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease;
      margin-bottom: 5px;
      z-index: 1000;
    }
    
    /* Disable tooltip for buttons with native tooltips */
    .btn-group-sm .btn-outline-secondary[data-bs-toggle]:hover::before {
      display: none;
    }
    
    /* Search input group styling to match tool buttons */
    .input-group-sm .btn-outline-secondary {
      border-color: #dee2e6;
      background-color: #ffffff;
      color: #6c757d;
      transition: all 0.2s ease-in-out;
      position: relative;
      overflow: hidden;
      padding: 0.25rem 0.5rem !important;  /* Standard btn-sm padding fr einheitliche Gre */
      font-size: 0.875rem !important;      /* Standard btn-sm font-size */
      line-height: 1.5 !important;
    }
    
    .input-group-sm .btn-outline-secondary:hover {
      background-color: #f8f9fa;
      border-color: #adb5bd;
      color: #495057;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
    }
    
    .input-group-sm .btn-outline-secondary:active {
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }
    
    .input-group-sm .btn-outline-secondary svg {
      transition: transform 0.2s ease;
    }
    
    .input-group-sm .btn-outline-secondary:hover svg {
      transform: scale(1.1);
    }
    
    /* Search input group special styling */
    .input-group-sm {
      box-shadow: none;
      border-radius: 6px;
    }
    
    .input-group-sm:focus-within {
      box-shadow: 0 0 0 3px rgba(108, 117, 125, 0.08);
      border-color: #adb5bd;
    }
    
    .input-group-sm .input-group-text {
      background-color: #f8f9fa;
      border-color: #dee2e6;
      color: #6c757d;
      font-weight: 500;
      padding: 0.25rem 0.5rem;  /* Standard btn-sm padding fr einheitliche Gre */
      font-size: 0.875rem;
      line-height: 1.5;
    }

    .input-group-sm .form-control {
      border-color: #dee2e6;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
      padding: 0.25rem 0.5rem;  /* Standard btn-sm padding fr einheitliche Gre */
      font-size: 0.875rem;
      height: calc(1.5em + 0.5rem + 2px);  /* Angepasst an das neue Padding */
      line-height: 1.5;
    }
    
    /* Ensure search buttons match the height */
    .input-group-sm .btn {
      padding: 0.25rem 0.5rem;  /* Standard btn-sm padding fr einheitliche Gre */
      font-size: 0.875rem;
      height: calc(1.5em + 0.5rem + 2px);  /* Angepasst an das neue Padding */
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1.5;
    }
    
    .input-group-sm .form-control:focus {
      border-color: #adb5bd;
      box-shadow: 0 0 0 3px rgba(108, 117, 125, 0.1);
    }
    
    /* Clear button special effect */
    .input-group-sm .btn-outline-secondary[title*="Clear"],
    .input-group-sm .btn-outline-secondary[title*="clear"] {
      border-radius: 0;
    }
    
    .input-group-sm .btn-outline-secondary[title*="Clear"]:hover svg,
    .input-group-sm .btn-outline-secondary[title*="clear"]:hover svg {
      transform: rotate(90deg) scale(1.1);
    }
    
    /* Save search button special effect */
    .input-group-sm .btn-outline-secondary[title*="save"],
    .input-group-sm .btn-outline-secondary[title*="Save"] {
      border-radius: 0;
    }
    
    /* Delete button in search group */
    .input-group-sm .btn-outline-danger {
      border-color: #dc3545;
      color: #dc3545;
      background-color: #ffffff;
      transition: all 0.2s ease-in-out;
    }
    
    .input-group-sm .btn-outline-danger:hover {
      background-color: #dc3545;
      color: #ffffff;
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(220, 53, 69, 0.2);
    }
    
    .input-group-sm .btn-outline-danger:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      transform: none;
    }
    
    /* Select dropdown in search group */
    .input-group-sm .form-select {
      border-color: #dee2e6;
      transition: border-color 0.2s ease;
      cursor: pointer;
      padding: 0.25rem 0.5rem;  /* Standard btn-sm padding fr einheitliche Gre */
      font-size: 0.875rem;
      height: calc(1.5em + 0.5rem + 2px);  /* Angepasst an das neue Padding */
      line-height: 1.5;
    }

    .input-group-sm .form-select:hover {
      border-color: #adb5bd;
    }

    .input-group-sm .form-select:focus {
      border-color: #adb5bd;
      box-shadow: 0 0 0 3px rgba(108, 117, 125, 0.1);
    }

    /* Ensure all dropdown toggles have consistent size */
    .btn-group-sm .dropdown-toggle {
      padding: 0.25rem 0.5rem !important;  /* Standard btn-sm padding */
      font-size: 0.875rem !important;
      line-height: 1.5 !important;
      height: calc(1.5em + 0.5rem + 2px) !important;  /* Explizite Hhe fr Konsistenz */
    }

    /* Make the app take full height and prevent body scrolling */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;  /* Prevent body scrolling */
    }

    #app {
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;  /* Prevent app scrolling */
    }

    /* Ensure main app container uses flexbox properly */
    #app.container-fluid {
      max-width: 100%;
      padding: 0;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    .actionAdd {
      width: 28px;
      height: 28px;
      color: #10b981;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      filter: drop-shadow(0 2px 4px rgba(16, 185, 129, 0.15));
    }
    
    .actionAdd:hover {
      transform: rotate(90deg) scale(1.1);
      color: #059669;
      filter: drop-shadow(0 4px 8px rgba(16, 185, 129, 0.25));
    }

    .actionIcon {
      width: 18px;
      height: 18px;
      padding: 0;
      margin: 0 2px;
      color: var(--text-secondary);
      background: transparent;
      border: none;
      border-radius: 6px;
      transition: all 0.2s ease;
      opacity: 0.7;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-sizing: content-box;
    }
    
    .groupContainer:hover .actionIcon {
      opacity: 1;
      background: transparent;
      color: var(--text-primary);
    }
    
    .actionIcon:hover {
      color: var(--link-color);
      background: var(--bg-secondary);
      opacity: 1;
      transform: scale(1.1);
    }
    
    .actionIcon:active {
      transform: scale(0.95);
      opacity: 0.8;
    }

    .actionIconLink {
      width: 16px;
      height: 16px;
      padding: 0;
      margin: 0 1px;
      color: var(--text-secondary);
      background: transparent;
      border: none;
      border-radius: 4px;
      transition: all 0.15s ease;
      opacity: 0.7;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-sizing: content-box;
    }
    
    .linkContainerListItem:hover .actionIconLink {
      opacity: 1;
      background: transparent;
      color: var(--text-primary);
    }
    
    .actionIconLink:hover {
      color: var(--link-color);
      background: var(--bg-secondary);
      opacity: 1;
      transform: scale(1.1);
    }
    
    .actionIconLink:active {
      transform: scale(0.92);
      opacity: 0.8;
    }

    .collapseIcon {
      cursor: pointer;
      color: #999;
      transition: transform 0.3s ease;
    }
    
    /* Rotate icon when collapsed - for settings dialog */
    .modal .collapsed .collapseIcon {
      transform: rotate(-90deg);
    }

    /* Layout and Containers */
    .groupsTable {
      width: 100%;
      table-layout: fixed;
      border-spacing: 0 10px;
      padding: 0px 8px 50px 8px;
      /* Add vertical space between groups */
      min-height: 100%;  /* Ensure table takes at least full height */
    }

    .groupCell {
      vertical-align: top;
      padding-right: 0; /* Remove padding - spacing handled by vertical dropzones */
      transition: box-shadow 0.15s ease;
    }

    .groupCell.group-cell--resizing {
      box-shadow: inset 0 0 0 2px rgba(13, 110, 253, 0.2);
    }

    .groupCell:last-child {
      padding-right: 0;
    }

    .linkCell {
      vertical-align: top;
      padding: 0;
      margin: 0;
    }

    .linksList {
      list-style: none;
      /* Ensure no list bullets */
      padding: 0px;
      margin: 0px;
    }

    .linksTable {
      width: 100%;
      table-layout: fixed;
    }
    
    /* Link colors - manual or default */
    .groupContainer .linkText a {
      transition: all 0.2s ease;
      text-decoration: none;
      position: relative;
    }
    
    .groupContainer .linkText a:hover {
      text-decoration: underline;
      text-underline-offset: 2px;
      text-decoration-thickness: 1px;
      opacity: 0.8;
    }

    .groupContainer {
      border: none;
      border-radius: 16px;
      margin-bottom: 0;
      /* removed - spacing handled by dropzones */
      padding: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 
        0 0.5px 2px rgba(0, 0, 0, 0.05),
        0 2px 8px rgba(0, 0, 0, 0.08),
        0 10px 20px -5px rgba(0, 0, 0, 0.1);
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      overflow: hidden;
      position: relative;
      transform-style: preserve-3d;
    }
    
    .groupContainer::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 16px;
      padding: 1px;
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.2) 0%, 
        rgba(255, 255, 255, 0) 100%);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
      pointer-events: none;
    }

    .groupContainer:hover {
      box-shadow: 
        0 1px 3px rgba(0, 0, 0, 0.05),
        0 4px 12px rgba(0, 0, 0, 0.1),
        0 20px 40px -10px rgba(0, 0, 0, 0.15);
    }

    .groupContainerHeader {
      padding: 16px 8px 16px 12px;
      margin: 0;
      position: relative;
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.6) 0%, 
        rgba(250, 250, 251, 0.4) 100%);
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
      z-index: 1;
    }
    
    .groupContainerHeader:hover {
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.8) 0%, 
        rgba(250, 250, 251, 0.6) 100%);
    }
    
    /* Modern integrated group title design */
    .groupContainerHeader .groupTitle {
      /* Font styling removed - now controlled by inline styles from formatting settings */
      /* Inherit font properties from parent h2 element which has the inline styles */
      font-family: inherit;
      font-weight: inherit;
      font-size: inherit;
      color: inherit;
      letter-spacing: inherit;
      transition: all 0.25s ease;
      display: inline-block;
      position: relative;
      padding: 2px 0;
      margin-left: 4px;
    }
    
    /* Hover effect on title - subtle opacity change */
    .groupContainer:hover .groupTitle {
      opacity: 0.9;
    }
    
    /* Integrate collapse icon with title */
    .groupContainerHeader .collapseIcon {
      opacity: 0.75;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      width: 24px;
      height: 24px;
      padding: 2px;
      border-radius: 6px;
      background: rgba(0, 0, 0, 0.02);
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    
    .groupContainerHeader .collapseIcon:hover {
      opacity: 1;
      background: rgba(0, 0, 0, 0.06);
    }
    
    /* Icon animation for collapse state */
    .groupContainer .collapseIcon {
      transform: rotate(0deg);
    }
    
    .groupContainer .collapseIcon path {
      transition: d 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .mb-group__body {
      overflow-y: auto;
      overflow-x: hidden;
      scrollbar-gutter: stable;
    }

    .mb-group__body.collapsing,
    .mb-group__body.collapse:not(.show) {
      overflow: hidden;
    }

    .mb-group-resize-handle {
      height: 10px;
      border-top: 1px solid transparent;
      background: transparent;
      cursor: ns-resize;
      user-select: none;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      transition: background-color 0.15s ease;
    }

    .mb-group-resize-handle::before {
      content: '';
      width: 42px;
      height: 2px;
      border-radius: 2px;
      background: rgba(108, 117, 125, 0.6);
      opacity: 0;
      transition: opacity 0.15s ease, background-color 0.15s ease, box-shadow 0.15s ease;
    }

    .groupContainer:hover .mb-group-resize-handle {
      border-top-color: rgba(0, 0, 0, 0.06);
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.015), rgba(0, 0, 0, 0.035));
    }

    .groupContainer:hover .mb-group-resize-handle::before {
      opacity: 1;
    }

    .mb-group-resize-handle:hover {
      background: rgba(0, 0, 0, 0.08);
    }

    .mb-group-resize-handle:hover::before {
      background: rgba(52, 58, 64, 0.8);
    }

    .mb-group-resize-handle.resizing {
      background: rgba(13, 110, 253, 0.18);
    }

    .mb-group-resize-handle.resizing::before {
      opacity: 1;
    }

    .mb-group--resizing {
      box-shadow:
        0 0 0 2px rgba(13, 110, 253, 0.32),
        0 1px 3px rgba(0, 0, 0, 0.06),
        0 6px 18px rgba(0, 0, 0, 0.12);
    }

    .mb-group--resizing .mb-group__body {
      box-shadow: inset 0 0 0 2px rgba(13, 110, 253, 0.2);
    }

    .mb-group-resize-readout {
      position: absolute;
      right: 10px;
      top: -28px;
      background: rgba(13, 110, 253, 0.94);
      color: #fff;
      font-size: 0.72rem;
      line-height: 1;
      font-weight: 700;
      border-radius: 10px;
      padding: 4px 8px;
      letter-spacing: 0.01em;
      pointer-events: none;
      box-shadow: 0 2px 8px rgba(13, 110, 253, 0.35);
      white-space: nowrap;
      z-index: 3;
    }

    body.mb-group-resizing,
    body.mb-group-resizing * {
      cursor: ns-resize !important;
      user-select: none !important;
    }

    body.mb-group-column-resizing,
    body.mb-group-column-resizing * {
      cursor: ew-resize !important;
      user-select: none !important;
    }


    .linkContainerListItem {
      padding: 2px 8px;
      margin: 0;
      /* no margin - spacing handled by dropzones */
      border: 0;
      border-bottom: none;
      transition: all 0.2s ease;
      position: relative;
      background: transparent;
      display: flex;
      align-items: center;
      gap: 8px;
      min-height: 24px;
      width: 100%;
      container-type: inline-size;
    }
    
    .linkContainerListItem:hover {
      background: rgba(0, 0, 0, 0.015);
    }
    
    /* Subtle accent indicator */
    .linkContainerListItem::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 2px;
      height: 0;
      background: var(--group-accent-color, #6c757d);
      transition: height 0.2s ease;
      border-radius: 1px;
    }
    
    .linkContainerListItem:hover::before {
      height: 60%;
    }

    .mb-link-separator-row {
      cursor: default;
    }

    .mb-link-separator-row::before {
      display: none;
    }

    .mb-link-note-row {
      align-items: flex-start;
      padding-top: 6px;
      padding-bottom: 6px;
    }

    .mb-link-note-row .mb-link__actions {
      align-self: flex-start;
      margin-top: 2px;
    }

    .mb-link-note-row .mb-link__actions .mb-link-note__action-badges {
      flex: 0 1 auto;
      max-width: clamp(120px, 28vw, 360px);
      min-width: 0;
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
      margin-right: 6px;
    }

    .mb-link-note-row .mb-link__actions .mb-link-note__action-badges .mb-link__badge-list {
      display: inline-block;
      flex: 1 1 auto;
      min-width: 0;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .mb-link-separator {
      width: 100%;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #6c757d;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      user-select: none;
    }

    .mb-link-separator::before,
    .mb-link-separator::after {
      content: '';
      height: 1px;
      background: rgba(108, 117, 125, 0.35);
      flex: 1 1 auto;
      min-width: 12px;
    }

    .mb-link-separator__label {
      white-space: nowrap;
      max-width: 65%;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .mb-link-note {
      width: 100%;
      min-width: 0;
      display: flex;
      flex-direction: column;
      gap: 4px;
      white-space: normal;
    }

    .mb-link-note__header {
      display: flex;
      align-items: center;
      gap: 6px;
      min-width: 0;
      width: 100%;
    }

    .mb-link-note__toggle {
      border: 0;
      background: transparent;
      color: #6c757d;
      padding: 0;
      margin: 0;
      cursor: pointer;
      line-height: 1;
      flex: 0 0 auto;
      width: 24px;
      height: 24px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .mb-link-note__toggle:hover {
      color: #334155;
    }

    .mb-link-note__chevron {
      display: block;
      width: 100%;
      line-height: 1;
      font-size: 1.6rem;
      text-align: center;
      user-select: none;
    }

    .mb-link-note__title {
      min-width: 0;
      flex: 1 1 auto;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      font-weight: 600;
    }

    .mb-link-note__body {
      margin-left: 30px;
      font-size: 0.85rem;
      line-height: 1.35;
      color: #475569;
      word-break: break-word;
      white-space: normal;
    }

    .mb-link-note__body p {
      margin: 0;
    }

    /* Make headers and link rows easy drag targets */
    .groupContainerHeader {
      cursor: grab;
    }

    .linkContainerListItem {
      cursor: grab;
    }
    
    .linkContainerListItem a {
      color: #334155;
      text-decoration: none;
      transition: all 0.2s ease;
      font-size: 0.875rem;
      font-weight: 450;
      letter-spacing: -0.01em;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    
    .linkContainerListItem:hover a {
      color: var(--group-text-hover-color, var(--group-accent-color, #2563eb));
    }
    
    .linkContainerListItem .link-favicon {
      width: 16px;
      height: 16px;
      border-radius: 4px;
      flex-shrink: 0;
      filter: saturate(0.9);
      transition: all 0.2s ease;
    }
    
    .linkText {
      flex: 1;
      min-width: 0;
      overflow: hidden;
      display: flex;
      align-items: center;
    }

    .linkanchor {
      min-width: 0;
    }
    
    .linkText .text-truncate {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      display: inline-block;
      width: fit-content;
      max-width: 100%;
      min-width: 0;
      flex: 0 1 auto;
    }

    .mb-link-text-with-marker {
      display: inline;
    }

    .mb-ref-marker {
      font-size: 0.75em;
      line-height: 1;
      vertical-align: super;
      margin-left: 0.02rem;
      opacity: 0.55;
      font-weight: 700;
      user-select: none;
    }

    .linkText .mb-link__badges {
      flex-shrink: 0;
      max-width: 45%;
      min-width: 0;
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
    }

    .linkText .mb-link__badge-list {
      display: inline-block;
      flex: 1 1 auto;
      min-width: 0;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    @container (max-width: 420px) {
      .linkText .mb-link__badges {
        max-width: 55%;
      }
    }

    @container (max-width: 340px) {
      .linkText .mb-link__badges {
        max-width: 40%;
      }
    }
    
    .linkContainerListItem:hover .link-favicon {
      filter: saturate(1.2);
    }

    /* Hide tiny drag handle icons */
    .groupDragHandle,
    .linkTextGrip {
      display: none !important;
    }

    .linkContainerListItem:last-child {
      border-bottom: none;
    }

    /* Vertical spacing and separators between link columns */
    .linksTable {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0px 0;
      /* horizontal gap between columns */
    }

    .linksTable td.linkCell {
      vertical-align: top;
      padding: 0px;
    }

    .linksTable td.linkVerticalDropZone {
      vertical-align: top;
      padding: 0;
    }

    .linksTable td:first-child {
      border-left: 0;
    }

    .linkContainer {
      padding: 0;
      border: 0px solid #ccc;
    }

    /* Conflict Resolution Indicators */
    .conflict-indicator {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: #fbbf24;
      margin-left: 4px;
      animation: pulse 2s infinite;
      cursor: help;
      vertical-align: middle;
    }
    
    .conflict-resolved {
      background-color: #10b981;
      animation: none;
    }
    
    @keyframes pulse {
      0% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.1); }
      100% { opacity: 1; transform: scale(1); }
    }
    
    .conflict-notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 12px 16px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 9999;
      max-width: 300px;
      animation: slideIn 0.3s ease-out;
    }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    .conflict-notification-title {
      font-weight: 600;
      margin-bottom: 4px;
      color: #111827;
    }
    
    .conflict-notification-text {
      font-size: 0.875rem;
      color: #6b7280;
    }
    
    .addLinkContainer {
      padding: 16px 20px;
      background: linear-gradient(135deg, 
        rgba(250, 250, 251, 0.6) 0%, 
        rgba(255, 255, 255, 0.9) 100%);
      border-top: 1px solid rgba(0, 0, 0, 0.03);
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      position: relative;
    }
    
    .addLinkContainer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 20px;
      right: 20px;
      height: 1px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        var(--group-accent-color, #cbd5e1) 50%, 
        transparent 100%);
      opacity: 0.3;
    }
    
    .addLinkContainer:hover {
      background: linear-gradient(135deg, 
        rgba(250, 250, 251, 0.8) 0%, 
        rgba(255, 255, 255, 1) 100%);
    }
    
    .addLinkContainer .form-control {
      border: 1px solid rgba(0, 0, 0, 0.08);
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      font-size: 0.875rem;
      border-radius: 10px;
      padding: 8px 12px;
    }
    
    .addLinkContainer .form-control:focus {
      border-color: var(--group-accent-color, #3b82f6);
      background: rgba(255, 255, 255, 1);
      box-shadow: 
        0 0 0 3px color-mix(in srgb, var(--group-accent-color, #3b82f6) 15%, transparent),
        0 1px 2px rgba(0, 0, 0, 0.05);
    }
    
    .addLinkContainer .btn-primary {
      background: linear-gradient(135deg, 
        var(--group-accent-color, #3b82f6) 0%, 
        color-mix(in srgb, var(--group-accent-color, #3b82f6) 85%, #000) 100%);
      border: none;
      padding: 8px 16px;
      font-size: 0.875rem;
      font-weight: 600;
      border-radius: 10px;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: 
        0 1px 3px rgba(0, 0, 0, 0.1),
        0 4px 6px -2px color-mix(in srgb, var(--group-accent-color, #3b82f6) 30%, transparent);
      position: relative;
      overflow: hidden;
    }
    
    .addLinkContainer .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.3) 50%, 
        transparent 100%);
      transition: left 0.5s ease;
    }
    
    .addLinkContainer .btn-primary:hover {
      box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.15),
        0 8px 16px -4px color-mix(in srgb, var(--group-accent-color, #3b82f6) 40%, transparent);
    }
    
    .addLinkContainer .btn-primary:hover::before {
      left: 100%;
    }
    
    .addLinkContainer .btn-primary:active {
      box-shadow:
        0 1px 3px rgba(0, 0, 0, 0.1),
        0 2px 4px -2px color-mix(in srgb, var(--group-accent-color, #3b82f6) 30%, transparent);
    }

    /* Vertical drop zones between columns - acts as permanent spacing */
    .verticalDropZone {
      width: 10px !important;
      min-width: 10px !important;
      max-width: 10px !important;
      padding: 0 !important;
      margin: 0 !important;
      border: 0 !important;
      background: transparent;
      position: relative;
      vertical-align: top;
      pointer-events: none;
      transition: all 0.2s ease;
      height: 100%;
    }

    .verticalDropZoneIndicator {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0px;
      background: transparent;
      transition: all 0.2s ease;
    }

    .groupColumnResizeHandle {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 10px;
      cursor: ew-resize;
      pointer-events: auto;
      z-index: 3;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      transition: background-color 0.15s ease;
    }

    .groupColumnResizeHandle::before {
      content: '';
      width: 2px;
      height: 70%;
      border-radius: 2px;
      background: rgba(108, 117, 125, 0.28);
      opacity: 0;
      transition: opacity 0.15s ease, background-color 0.15s ease, box-shadow 0.15s ease;
    }

    .groupColumnResizeHandle:hover::before {
      opacity: 1;
      background: rgba(13, 110, 253, 0.75);
      box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.16);
    }

    .groupColumnResizeHandle.resizing::before {
      opacity: 1;
      background: rgba(13, 110, 253, 0.9);
      box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.22);
    }

    .groupColumnResizeReadout {
      position: absolute;
      top: 8px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(13, 110, 253, 0.94);
      color: #fff;
      font-size: 0.7rem;
      line-height: 1;
      font-weight: 700;
      border-radius: 10px;
      padding: 4px 8px;
      letter-spacing: 0.01em;
      pointer-events: none;
      box-shadow: 0 2px 8px rgba(13, 110, 253, 0.35);
      white-space: nowrap;
      z-index: 4;
    }

    /* Active state when dragging groups */
    #app.dragging-group .verticalDropZone {
      pointer-events: auto;
    }

    #app.dragging-group .groupColumnResizeHandle {
      pointer-events: none;
      opacity: 0;
    }

    /* Expanded hit area for easier dropping */
    #app.dragging-group .verticalDropZone::before {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      left: -15px;
      right: -15px;
      background: transparent;
      pointer-events: auto;
      z-index: 1;
    }

    #app.dragging-group .verticalDropZone.drag-over-active .verticalDropZoneIndicator {
      width: 10px;
      background: linear-gradient(to right,
        transparent 0%,
        rgba(51, 153, 255, 0.25) 20%,
        rgba(51, 153, 255, 0.25) 80%,
        transparent 100%);
      box-shadow:
        inset 2px 0 0 #3399ff,
        inset -2px 0 0 #3399ff;
    }

    /* Vertical dropzones for link columns */
    .linkVerticalDropZone {
      position: relative;
      width: 6px;
      min-width: 6px;
      padding: 0;
      vertical-align: top;
      pointer-events: none;
      min-height: 50px;
    }

    .linkVerticalDropZoneIndicator {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      width: 100%;
      background: transparent;
      transition: all 0.2s ease;
      pointer-events: none;
    }

    #app.dragging-link .linkVerticalDropZone {
      pointer-events: auto;
    }

    /* Expanded hit area for easier dropping */
    #app.dragging-link .linkVerticalDropZone::before {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      left: -10px;
      right: -10px;
      background: transparent;
      pointer-events: auto;
      z-index: 1;
    }

    #app.dragging-link .linkVerticalDropZone.drag-over-active .linkVerticalDropZoneIndicator {
      width: 100%;
      background: linear-gradient(to right,
        transparent 0%,
        rgba(0, 204, 153, 0.25) 20%,
        rgba(0, 204, 153, 0.25) 80%,
        transparent 100%);
      box-shadow:
        inset 1px 0 0 #00cc99,
        inset -1px 0 0 #00cc99;
    }

    /* Drag and Drop Styles: permanent spacers that replace normal margins */
    .group-drop-zone,
    .linkContainerDragAndDrop {
      display: block !important;
      /* always visible as spacer */
      padding: 0 !important;
      margin: 0 !important;
      border: 0 !important;
      background: transparent;
      color: transparent;
      /* hide any text */
      line-height: 0 !important;
      font-size: 0 !important;
      pointer-events: none;
      /* only active during drag */
      position: relative;
      transition: background 0.15s ease, box-shadow 0.15s ease;
      overflow: hidden;
      box-sizing: border-box !important;
    }

    /* Drop zones act as normal spacing between elements */
    .groupContainerDragAndDrop,
    .group-drop-zone {
      height: 10px !important;
      min-height: 10px !important;
      max-height: 10px !important;
      /* fixed spacing between groups - matches vertical dropzone width */
    }
    
    .linkContainerDragAndDrop,
    .link-drop-zone {
      height: 6px !important;
      min-height: 6px !important;
      max-height: 6px !important;
      /* fixed spacing between links */
    }
    
    /* Enable pointer events only when dragging */
    #app.dragging-group .group-drop-zone,
    #app.dragging-group .groupContainerDragAndDrop,
    #app.dragging-link .linkContainerDragAndDrop {
      pointer-events: auto;
    }

    /* Visual feedback only when actively dragging over the zone - no height change */
    #app.dragging-group .groupContainerDragAndDrop.drag-over-active,
    #app.dragging-group .group-drop-zone.drag-over-active {
      background: linear-gradient(to bottom, 
        transparent, 
        rgba(51, 153, 255, 0.25) 30%, 
        rgba(51, 153, 255, 0.25) 70%, 
        transparent);
      box-shadow: 
        inset 0 2px 0 #3399ff,
        inset 0 -2px 0 #3399ff;
    }

    /* Visual feedback for link drop zones when dragging over - no height change */
    #app.dragging-link .linkContainerDragAndDrop.drag-over-active {
      background: linear-gradient(to bottom, 
        transparent, 
        rgba(0, 204, 153, 0.25) 30%, 
        rgba(0, 204, 153, 0.25) 70%, 
        transparent);
      box-shadow: 
        inset 0 1px 0 #00cc99,
        inset 0 -1px 0 #00cc99;
    }

    /* Expanded hit area for easier dropping - only active when dragging */
    #app.dragging-group .group-drop-zone::before,
    #app.dragging-link .linkContainerDragAndDrop::before {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      top: -10px;
      height: calc(100% + 20px);
      /* use height instead of bottom to avoid layout issues */
      background: transparent;
      pointer-events: auto;
      z-index: 2;
    }

    /* Deprecated - these classes are no longer used */

    /* Removed - handled by main dropzone styles above */

    /* .isDragged class deprecated - dropzones are permanent spacers now */

    .drag-over-active {
      border-color: #0288d1 !important;
    }

    /* Deprecated isDragged classes */

    /* Optional: Klasse fr die Zone, ber der *aktiv* geschwebt wird
    (kannst du behalten oder entfernen, je nachdem, ob du eine zustzliche Hervorhebung willst) */
    .drag-over-active {
      border-color: #0288d1 !important;
      background-color: transparent;
    }

    /* Remove redundant styles - handled above */

    .group-drag-el {
      /* Style for the item being dragged (optional) */
      opacity: 0.7;
      background-color: #fff3cd;
    }

    .grabbing * {
      cursor: grabbing !important;
    }

    .grabbing {
      cursor: grabbing !important;
    }

    /* Keyword cloud */
    .keyword-badge {
      cursor: pointer;
      user-select: none;
    }

    .mb-keyword-active {
      outline: 2px solid rgba(13, 110, 253, 0.45);
      outline-offset: 1px;
      box-shadow: 0 0 0 1px rgba(13, 110, 253, 0.25) inset;
      opacity: 1 !important;
    }

    .mb-keyword-label {
      gap: 0.35rem;
    }

    .mb-keyword-manage-btn {
      line-height: 1;
      font-size: 0.75rem;
      padding: 0.15rem 0.35rem;
    }

    .mb-keyword-manager-list .list-group-item {
      cursor: pointer;
      user-select: none;
    }

    #keywordManagerModal .mb-keyword-manager-body {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      overflow: hidden;
    }

    #keywordManagerModal .mb-keyword-manager-list {
      flex: 1 1 auto;
      min-height: 0;
      overflow-y: auto;
      margin-bottom: 0 !important;
    }

    #keywordManagerModal .mb-keyword-manager-empty {
      flex: 1 1 auto;
      overflow-y: auto;
    }

    #keywordManagerModal .mb-keyword-manager-editor {
      position: sticky;
      bottom: 0;
      background: var(--bg-secondary, #fff);
      border-top: 1px solid var(--border-color, #dee2e6);
      padding-top: 0.5rem;
      z-index: 1;
    }

    #shortcutManagerModal .mb-shortcut-manager-body {
      display: flex;
      flex-direction: column;
      gap: 0.85rem;
      max-height: 70vh;
      overflow-y: auto;
    }

    #shortcutManagerModal .mb-shortcut-manager-section {
      border: 1px solid var(--border-color, #dee2e6);
      border-radius: 0.5rem;
      padding: 0.65rem;
      background: var(--bg-secondary, #fff);
    }

    #shortcutManagerModal .mb-shortcut-manager-section-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    #shortcutManagerModal .mb-shortcut-defined-list {
      max-height: 260px;
      overflow-y: auto;
    }

    #shortcutManagerModal .mb-shortcut-defined-combo {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.82rem;
      letter-spacing: 0.01em;
    }

    #shortcutManagerModal .mb-shortcut-global-card {
      border: 1px solid var(--border-color, #dee2e6);
      border-radius: 0.4rem;
      padding: 0.55rem;
      margin-bottom: 0.6rem;
    }

    #shortcutManagerModal .mb-shortcut-target-tree {
      border: 1px solid var(--border-color, #dee2e6);
      border-radius: 0.45rem;
      padding: 0.5rem;
      max-height: 300px;
      overflow-y: auto;
      background: var(--bg-surface, #fff);
    }

    #shortcutManagerModal .mb-shortcut-target-group {
      border-top: 1px solid var(--border-color, #e9ecef);
      padding-top: 0.45rem;
      margin-top: 0.45rem;
    }

    #shortcutManagerModal .mb-shortcut-target-group:first-child {
      border-top: none;
      padding-top: 0;
      margin-top: 0;
    }

    #shortcutManagerModal .mb-shortcut-target-link-url {
      max-width: 680px;
    }

    /* Keep keyword bar height aligned with left "Manage" label cell */
    .mb-keywords-cloud .input-group {
      align-items: stretch;
    }

    .mb-keywords-cloud .keyword-container {
      padding: 0 0.35rem !important;
      height: auto !important;
      min-height: calc(1.5em + 0.5rem + 2px);
      align-self: stretch;
      display: flex;
      align-items: center;
      overflow-x: auto;
      overflow-y: hidden;
    }

    .mb-keywords-cloud .mb-keyword-row {
      flex-wrap: nowrap !important;
      width: max-content;
    }

    .mb-keywords-cloud .mb-keyword-row .keyword-badge {
      margin-bottom: 0 !important;
    }

    /* Keywords container badges alignment */
    .form-control .keyword-badge {
      position: relative;
      top: 2px;
    }

    /* Ensure badges are visible even without bootstrap color helpers */
    .groupName .keyword-badge,
    h2 .keyword-badge {
      border: 1px solid rgba(0, 0, 0, 0.08);
      font-size: 0.65rem;
      line-height: 0.95rem;
      padding: 0.1rem 0.35rem;
      vertical-align: middle;
      position: relative;
      top: 1px;
    }

    .link-favicon {
      width: 16px;
      height: 16px;
      margin-right: 2px;
      vertical-align: -2px;
      border-radius: 3px;
      /* Ensure base64 favicons display correctly */
      object-fit: contain;
      background-color: transparent;
    }

    .link-favicon-wrap {
      position: relative;
      display: inline-block;
      vertical-align: -2px;
      margin-right: 2px;
    }
    .link-favicon-wrap .link-favicon { margin-right: 0; }
    .link-favicon-dot {
      position: absolute;
      top: 0;
      right: 0;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      border: 1px solid #fff;
      box-shadow: 0 0 0 1px rgba(0,0,0,0.08);
      z-index: 2;
    }
    .link-favicon-dot.src-rule { background-color: #0d6efd; }
    .link-favicon-dot.src-upload { background-color: #6f42c1; }
    .link-favicon-dot.src-extension { background-color: #6c757d; }

    .link-favicon-error {
      display: inline-block;
      width: 16px;
      height: 16px;
      margin-right: 2px;
      vertical-align: -2px;
      font-size: 14px;
      line-height: 16px;
      text-align: center;
      opacity: 0.6;
      cursor: help;
    }

    .mb-group-favicon-wrap {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      margin-right: 6px;
    }

    .mb-group-favicon {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      object-fit: contain;
      background-color: #fff;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12);
    }

    .mb-group-favicon-placeholder {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      border: 1px dashed #c8cdd5;
      background: linear-gradient(135deg, #f8f9fa 0%, #f1f3f5 100%);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      color: #adb5bd;
    }

    .mb-group-emoji {
      font-size: 1.1rem;
      line-height: 1;
      margin-right: 6px;
    }

    /* Actions and Visibility */
    .groupActions {
      display: inline-flex;
      align-items: center;
      justify-content: flex-end;
      gap: 4px;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
      margin-left: auto;
      pointer-events: all; /* Ensure mouse events work even when invisible */
    }
    
    .groupActions:hover {
      opacity: 1;
    }
    
    .groupActionsVisibleOnMouseOver {
      opacity: 1 !important;
    }
    
    /* Link action container should not reserve width while hidden */
    .linkContainerListItem .groupActions {
      display: none !important;
      margin-left: 0;
    }

    .linkContainerListItem:hover .groupActions,
    .linkContainerListItem:focus-within .groupActions,
    .linkContainerListItem .groupActions.groupActionsVisibleOnMouseOver {
      display: flex !important;
      margin-left: auto;
      opacity: 1;
    }

    /* Keep note keyword badges visible while action icons stay hover/focus-driven. */
    .linkContainerListItem.mb-link-note-row .mb-link__actions {
      display: flex !important;
      margin-left: auto;
      opacity: 1;
    }

    .linkContainerListItem.mb-link-note-row .mb-link__actions .actionIcon,
    .linkContainerListItem.mb-link-note-row .mb-link__actions .actionIconLink {
      display: none;
    }

    .linkContainerListItem.mb-link-note-row:hover .mb-link__actions .actionIcon,
    .linkContainerListItem.mb-link-note-row:hover .mb-link__actions .actionIconLink,
    .linkContainerListItem.mb-link-note-row:focus-within .mb-link__actions .actionIcon,
    .linkContainerListItem.mb-link-note-row:focus-within .mb-link__actions .actionIconLink,
    .linkContainerListItem.mb-link-note-row .mb-link__actions.groupActionsVisibleOnMouseOver .actionIcon,
    .linkContainerListItem.mb-link-note-row .mb-link__actions.groupActionsVisibleOnMouseOver .actionIconLink {
      display: inline-flex;
    }
    
    /* Show group actions when hovering over the group header */
    .groupContainer .card-header:hover .groupActions {
      opacity: 1;
    }

    /* Dark Mode Toggle Button */
    .dark-mode-toggle {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 5px 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.875rem;
      color: var(--text-primary);
      transition: all 0.3s ease;
    }
    
    .dark-mode-toggle:hover {
      background: var(--bg-primary);
      border-color: var(--border-light);
      box-shadow: 0 2px 4px var(--shadow-sm);
    }
    
    .dark-mode-toggle .icon {
      font-size: 1rem;
      transition: transform 0.3s ease;
    }
    
    .dark-mode-toggle:hover .icon {
      transform: rotate(20deg);
    }
    
    /* Options Modal */
    .optionsGroupRow {
      padding: 0;
      margin-top: 15px;
    }

    .optionsGroupSettingContainer {
      margin-bottom: 15px;
      margin-left: 25px;
      margin-right: 25px;
    }

    .optionsGroupSetting {
      width: 250px;
      white-space: normal;
      word-wrap: break-word;
      /* Consistent width for labels with text wrapping */
    }

    /* Limit width for checkbox settings */
    .optionsGroupSettingContainer .input-group:has(input[type="checkbox"]) {
      width: auto;
      display: inline-flex;
      max-width: 400px;
    }
    
    /* Wider color picker settings for better color visibility */
    .optionsGroupSettingContainer .input-group:has(input[type="color"]) {
      width: auto;
      display: inline-flex;
      max-width: 600px;
    }
    
    .optionsGroupSettingContainer input[type="color"] {
      min-width: 100px;
      width: 100px;
    }
    
    /* Consistent color picker design across all dialogs */
    #groupEditModal input[type="color"] {
      min-width: 100px;
      width: 100px;
      height: 38px;
      padding: 0.25rem;
      border: 1px solid var(--input-border);
      border-radius: 0.25rem;
    }

    /* Visual CSS Editor: normalize heights in color property input-group */
    .visual-css-editor .input-group.input-group-sm .input-group-text {
      display: flex;
      align-items: center;
      height: calc(1.5em + 0.5rem + 2px);
      padding-top: 0.25rem;
      padding-bottom: 0.25rem;
    }
    .visual-css-editor .input-group.input-group-sm .form-control,
    .visual-css-editor .input-group.input-group-sm .form-select {
      height: calc(1.5em + 0.5rem + 2px);
      padding-top: 0.25rem;
      padding-bottom: 0.25rem;
    }
    .visual-css-editor .input-group.input-group-sm .form-control-color {
      width: 2rem;
      height: calc(1.5em + 0.5rem + 2px);
      padding: 0;
      border-radius: 0 !important;
    }

    /* Visual CSS Editor: more compact collapsed rule card */
    .visual-css-editor .css-rule-card.collapsed {
      padding-top: 6px !important;
      padding-bottom: 6px !important;
    }
    .visual-css-editor .css-rule-card.collapsed .rule-header {
      margin-bottom: 0 !important;
    }

    /* Visual CSS Editor: compact Design Tokens when collapsed */
    .visual-css-editor .design-tokens-section.collapsed {
      padding-top: 6px !important;
      padding-bottom: 6px !important;
    }
    .visual-css-editor .design-tokens-section.collapsed .design-tokens-header {
      margin-bottom: 0 !important;
    }
    
    /* Role scope badges for sync settings */
    .role-badge {
      display: inline-block;
      padding: 2px 6px;
      margin-left: 8px;
      font-size: 0.7rem;
      font-weight: 600;
      text-transform: uppercase;
      border-radius: 4px;
      vertical-align: middle;
    }
    
    .role-badge.role-all {
      background-color: #3b82f6;
      color: white;
    }
    
    .role-badge.role-owner {
      background-color: #fbbf24;
      color: #78350f;
    }
    
    .role-badge.role-member {
      background-color: #10b981;
      color: white;
    }
    
    .option-row.role-disabled {
      opacity: 0.5;
      pointer-events: none;
    }
    
    .role-info {
      display: inline-block;
      margin-left: 4px;
      color: #6b7280;
      cursor: help;
    }


    /* Context Menus */
    .context-menu {
      display: none;
      position: absolute;
      background-color: white;
      border: 1px solid #ccc;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      z-index: 9999;
      min-width: 150px;
      /* Ensure minimum width */
      border-radius: 4px;
    }

    .context-menu ul {
      list-style: none;
      padding: 5px 0;
      /* Padding around list items */
      margin: 0;
    }

    .context-menu ul li {
      padding: 8px 15px;
      /* Increased padding */
      cursor: pointer;
      font-size: 0.9em;
    }

    .context-menu ul li:hover {
      background-color: #f0f0f0;
    }

    .context-menu-visible {
      display: block;
    }
    .context-menu .separator {
      border-top: 1px solid #e5e7eb;
      margin: 4px 0;
      padding: 0;
    }
    .context-menu .submenu { position: relative; }
    .context-menu .submenu::after {
      content: '';
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: #9aa0a6;
      pointer-events: none;
    }
    .context-menu .submenu.open-left::after { content: ''; }
    .context-menu .submenu > .context-submenu {
      list-style: none;
      margin: 0;
      padding: 5px 0;
      position: absolute;
      left: 100%;
      top: 0;
      min-width: 220px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      display: none;
      z-index: 10000;
    }
    .context-menu .submenu.open-left > .context-submenu {
      left: auto;
      right: 100%;
    }
    .context-menu .submenu:hover > .context-submenu,
    .context-menu .submenu:focus-within > .context-submenu,
    .context-menu .submenu.open > .context-submenu { display: block; }
    .context-menu .context-submenu li { padding: 8px 15px; white-space: nowrap; }
    .context-menu .context-submenu.keyword-submenu {
      max-height: min(60vh, 420px);
      overflow-y: auto;
      overflow-x: hidden;
    }
    .context-menu li.disabled {
      color: #9aa0a6;
      cursor: default;
      pointer-events: none;
      background: transparent !important;
    }

    /* Footer */
    .copyrightBar {
      position: fixed;
      bottom: 0;
      left: 0;
      /* Ensure it spans full width */
      width: 100%;
      background-color: #f8f9fa;
      text-align: center;
      border-top: 1px solid #e7e7e7;
      padding: 8px 0;
      /* Add some padding */
      font-size: 0.85em;
      color: #666;
      z-index: 1010;
      /* Ensure it's above context menus if needed */
      /* Calculate total height: padding (16px) + font-size (~14px) + line-height + border (1px)  35-40px */
      height: auto;
      min-height: 35px;
    }

    /* QR Code Modal */
    #qrCodeDiv {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 300px;
      /* Ensure space for QR code */
    }

    #qrCodeDiv img {
      max-width: 100%;
      /* Ensure QR code image is responsive */
      height: auto;
    }

    .disabled-arrow {
      opacity: 0.4;
      cursor: not-allowed;
      pointer-events: none;
      /* Verhindert Klick-Events auf dem SVG selbst */
    }
    
    .cursor-pointer {
      cursor: pointer;
    }

    /* Remove after legacy icons are deleted */

    /* Rounded look across UI */
    .btn,
    .form-control,
    .input-group-text,
    .dropdown-menu,
    .modal-content,
    .context-menu,
    .groupContainer,
    .linkContainer,
    .linksTable td {
      border-radius: 8px;
    }

    .badge {
      border-radius: 999px;
    }

    .groupContainer {
      overflow: hidden;
    }

    .input-group .btn {
      border-radius: 8px;
    }

    .input-group .form-control {
      border-top-left-radius: 8px;
      border-bottom-left-radius: 8px;
    }

    .input-group .input-group-text {
      border-radius: 8px;
    }

    .mb-toolbar__backup-urgency {
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .mb-backup-urgency-indicator {
      width: 14px;
      height: 14px;
      border: 1px solid rgba(33, 37, 41, 0.35);
      border-radius: 0 !important;
      display: inline-block;
      flex-shrink: 0;
    }

    .mb-export-backup-alert {
      border-color: var(--mb-backup-alert-color, #dc3545) !important;
      color: var(--mb-backup-alert-color, #dc3545) !important;
      background-color: transparent !important;
      box-shadow: 0 0 0 1px var(--mb-backup-alert-color, #dc3545) inset;
    }

    .mb-export-backup-alert:hover,
    .mb-export-backup-alert:focus,
    .mb-export-backup-alert:active {
      border-color: var(--mb-backup-alert-color, #dc3545) !important;
      color: var(--mb-backup-alert-color, #dc3545) !important;
      background-color: rgba(0, 0, 0, 0.02) !important;
      box-shadow: 0 0 0 1px var(--mb-backup-alert-color, #dc3545) inset;
    }

    .mb-export-backup-alert--blink {
      animation: mb-backup-export-blink var(--mb-backup-blink-duration, 1.15s) ease-in-out infinite;
    }

    @keyframes mb-backup-export-blink {
      0%, 100% {
        opacity: 1;
        box-shadow: 0 0 0 1px var(--mb-backup-alert-color, #dc3545) inset;
      }
      50% {
        opacity: var(--mb-backup-blink-min-opacity, 0.5);
        box-shadow:
          0 0 0 1px var(--mb-backup-alert-color, #dc3545) inset,
          0 0 0 var(--mb-backup-blink-ring-size, 2px) var(--mb-backup-alert-color, #dc3545),
          0 0 var(--mb-backup-blink-blur, 4px) var(--mb-backup-alert-color, #dc3545);
      }
    }

    /* Hide legacy inline icons if still present */
    .btn-toolbar>svg.svg-button {
      display: none !important;
    }

    .btn-toolbar>.dropdown.ms-2 {
      display: none !important;
    }
    
    /* Info popup styles */
    .info-popup {
      position: fixed;
      background: white;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 10000;
      max-width: 400px;
      max-height: 300px;
      overflow-y: auto;
      font-size: 0.9rem;
      display: none;
    }
    
    .info-popup.show {
      display: block;
    }

    .info-icon-trigger {
      transition: transform 0.2s ease;
    }

    .info-icon-trigger:hover {
      transform: scale(1.1);
    }

    /* Link detail popover */
    .link-detail-popover {
      position: fixed;
      min-width: 260px;
      max-width: 320px;
      background: var(--popover-bg, #ffffff);
      color: var(--text-primary, #1a1a1a);
      border-radius: 14px;
      padding: 16px 18px;
      box-shadow:
        0 18px 45px rgba(15, 23, 42, 0.18),
        0 2px 12px rgba(15, 23, 42, 0.12);
      border: 1px solid rgba(15, 23, 42, 0.06);
      z-index: 8000;
      backdrop-filter: blur(8px);
      transition: opacity 0.18s ease, transform 0.18s ease;
      pointer-events: auto;
    }

    .link-detail-popover__title {
      font-size: 1rem;
      font-weight: 600;
      margin: 0 0 8px 0;
      display: flex;
      align-items: flex-start;
      gap: 6px;
      vertical-align: top;
    }

    .link-detail-popover__title-emoji {
      font-size: 1.2rem;
      line-height: 1;
    }

    .link-detail-popover__url {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.9rem;
      color: var(--link-color, #0d6efd);
      text-decoration: none;
      word-break: break-all;
      margin: 6px 0;
    }

    .link-detail-popover__url svg {
      flex-shrink: 0;
      align-items: flex-start;
      width: 14px;
      height: 14px;
    }

    .link-detail-popover__url:hover,
    .link-detail-popover__url:focus {
      text-decoration: underline;
    }

    .link-detail-popover__meta {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 10px;
      font-size: 0.82rem;
      color: var(--text-secondary, #555);
    }

    .link-detail-popover__row {
      display: flex;
      gap: 8px;
      align-items: flex-start;
    }

    .link-detail-popover__label {
      width: 110px;
      flex-shrink: 0;
      font-weight: 500;
      color: var(--text-muted, #888);
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    .link-detail-popover__value {
      flex: 1;
      color: var(--text-primary, #1a1a1a);
      word-break: break-word;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .link-detail-popover__value--muted {
      font-size: 0.75rem;
      color: var(--text-muted, #888);
    }

    .link-detail-popover__keywords {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .link-detail-popover__badge {
      padding: 4px 8px;
      background: rgba(13, 110, 253, 0.12);
      border-radius: 999px;
      font-size: 0.75rem;
      color: var(--link-color, #0d6efd);
    }

    .link-detail-popover__favicon {
      width: 24px;
      height: 24px;
      border-radius: 6px;
      object-fit: contain;
      box-shadow: 0 2px 6px rgba(15, 23, 42, 0.18);
      flex-shrink: 0;
      vertical-align: top;
    }

    .favicon-rule-actions .btn {
      width: 32px;
      height: 32px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.25rem;
    }

    @media (max-width: 768px) {
      .link-detail-popover {
        left: 16px !important;
        right: 16px !important;
        width: auto;
      }
    }

    
    /* Generic Options Dialog Styles */
    .options-section {
      margin-bottom: 1rem;
      border: 1px solid #dee2e6;
      border-radius: 0.375rem;
    }
    /* Sync progress (bottom-right) */
    .mb-sync-progress {
      position: fixed;
      right: 16px;
      bottom: 24px;
      z-index: 1050;
      width: 280px;
      background: rgba(33, 37, 41, 0.9);
      border-radius: 8px;
      padding: 10px 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
      color: #fff;
    }
    .mb-sync-progress .mb-sync-title { font-size: 12px; opacity: 0.85; margin-bottom: 6px; }
    .mb-sync-progress .progress { height: 8px; background: rgba(255,255,255,0.15); }
    .mb-sync-progress .progress-bar { background-color: #0d6efd; }
    
    .options-section-header {
      background-color: #f8f9fa;
      padding: 0.75rem 1rem;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background-color 0.2s;
    }
    
    .options-section-header:hover {
      background-color: #e9ecef;
    }
    
    .options-section-body {
      padding: 1rem;
      background-color: white;
    }
    
    .option-row {
      margin-bottom: 1rem;
    }

    .option-row:last-child {
      margin-bottom: 0;
    }

    .option-row.mb-edit-field-row {
      position: relative;
    }

    .mb-keyword-suggestions {
      position: absolute;
      top: 75%;
      left: 0;
      right: 0;
      display: flex;
      flex-direction: column;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 6px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
      max-height: 200px;
      overflow-y: auto;
      z-index: 2000;
    }

    .mb-keyword-suggestions--overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: auto;
      max-height: 220px;
      z-index: 12050;
    }

    .mb-keyword-quick-field {
      position: relative;
    }

    .mb-keyword-quick-field .mb-keyword-suggestions {
      top: calc(100% - 1px);
    }

    .mb-keyword-suggestion {
      background: transparent;
      border: none;
      text-align: left;
      padding: 6px 10px;
      font-size: 0.85rem;
      cursor: pointer;
      color: inherit;
    }

    .mb-keyword-suggestion + .mb-keyword-suggestion {
      border-top: 1px solid var(--border-color);
    }

    .mb-keyword-suggestion:hover,
    .mb-keyword-suggestion:focus {
      background: rgba(0, 0, 0, 0.05);
      outline: none;
    }
    
    .chevron-icon {
      transition: transform 0.3s;
    }
    
    .collapsed .chevron-icon {
      transform: rotate(-90deg);
    }
    
    .css-sidebar {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      height: 100vh;
      background-color: var(--bg-primary, #ffffff);
      color: var(--text-primary, #212529);
      box-shadow: -2px 0 5px rgba(0,0,0,0.1);
      transition: right 0.3s ease;
      z-index: 1040;
      display: flex;
      flex-direction: column;
    }

    .css-sidebar.template-dark-active {
      background-color: var(--bg-primary, #1f2428);
      color: var(--text-primary, #f1f3f5);
      box-shadow: -2px 0 12px rgba(0, 0, 0, 0.45);
    }

    /* When sidebar is open, shift the main content */
    body.css-sidebar-open {
      transition: margin-right 0.3s ease;
    }

    body.css-sidebar-open .css-sidebar {
      right: 0;
    }
    
    .css-sidebar-resize-handle {
      position: absolute;
      left: 0;
      top: 0;
      width: 5px;
      height: 100%;
      cursor: ew-resize;
      background: transparent;
      transition: background-color 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .css-sidebar-resize-handle::before {
      content: '';
      width: 2px;
      height: 40px;
      background-color: #adb5bd;
      border-radius: 1px;
    }
    
    .css-sidebar-resize-handle:hover {
      background-color: rgba(0, 123, 255, 0.1);
    }
    
    .css-sidebar-resize-handle:hover::before {
      background-color: #007bff;
      height: 60px;
    }
    
    .css-sidebar-resize-handle.resizing {
      background-color: rgba(0, 123, 255, 0.2);
    }
    
    .css-sidebar-resize-handle.resizing::before {
      background-color: #0056b3;
      height: 80px;
    }
    
    .css-sidebar.resizing {
      transition: none;
    }
    
    /* Removed - now handled by body.css-sidebar-open */
    
    .css-sidebar .sidebar-header {
      padding: 1rem;
      margin: 0.5rem;
      margin-bottom: 0;
      border-bottom: 1px solid var(--border-color, #dee2e6);
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 0.25rem 0.25rem 0 0;
      background-color: var(--bg-secondary, #f8f9fa);
    }
    
    .css-sidebar .sidebar-split-container {
      display: flex;
      flex-direction: column;
      height: calc(100vh - 60px);
      padding: 0.5rem;
      padding-top: 0;
      gap: 0.5rem;
      overflow: hidden;
    }
    
    .css-sidebar .sidebar-top-section {
      min-height: 160px;
      overflow: hidden;
      position: relative;
      background-color: var(--bg-secondary, #f8f9fa);
      color: var(--text-primary, #212529);
      border-radius: 0.25rem;
      border: 1px solid var(--border-color, #dee2e6);
    }
    
    .css-sidebar .sidebar-divider {
      height: 8px;
      background-color: var(--bg-tertiary, #e9ecef);
      cursor: ns-resize;
      position: relative;
      user-select: none;
      transition: background-color 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      flex-shrink: 0;
    }
    
    .css-sidebar .sidebar-divider::before {
      content: '';
      width: 40px;
      height: 2px;
      background-color: var(--border-color-strong, #adb5bd);
      border-radius: 1px;
    }
    
    .css-sidebar .sidebar-divider:hover {
      background-color: var(--surface-hover, #dee2e6);
    }
    
    .css-sidebar .sidebar-divider:hover::before {
      background-color: var(--text-muted, #6c757d);
    }
    
    .css-sidebar .sidebar-divider.resizing {
      background-color: var(--surface-active, #ced4da);
    }
    
    .css-sidebar .sidebar-bottom-section {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      min-height: 160px;
      padding: 0;
      background-color: var(--bg-primary, #ffffff);
      border-radius: 0.25rem;
      border: 1px solid var(--border-color, #dee2e6);
    }
    
    .css-sidebar .editor-header {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--border-color, #dee2e6);
      background-color: var(--bg-secondary, #f8f9fa);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .css-sidebar .editor-content {
      flex: 1;
      padding: 1rem;
      overflow-y: auto;
    }

    .css-sidebar.template-dark-active .sidebar-top-section,
    .css-sidebar.template-dark-active .sidebar-bottom-section {
      background-color: var(--bg-primary, #1f2428);
      color: var(--text-primary, #f1f3f5);
      border-color: var(--border-color, #495057);
    }

    .css-sidebar.template-dark-active .editor-header {
      background-color: var(--bg-secondary, #2a2f34);
      border-color: var(--border-color, #495057);
    }

    .css-sidebar.template-dark-active .sidebar-divider {
      background-color: var(--bg-tertiary, #343a40);
    }

    .css-sidebar.template-dark-active .sidebar-divider:hover {
      background-color: var(--surface-hover, #3f464d);
    }

    .css-sidebar .mb-css-property-editor .options-section {
      margin-bottom: 0;
      border-color: var(--border-color, #dee2e6);
    }

    .css-sidebar .mb-css-property-editor .options-section + .options-section {
      margin-top: 0.5rem;
    }

    .css-sidebar .mb-css-property-editor .options-section-header {
      background-color: var(--bg-secondary, #f8f9fa);
      color: var(--text-primary, #212529);
      border-bottom: 1px solid var(--border-color, #dee2e6);
    }

    .css-sidebar .mb-css-property-editor .options-section-header:hover {
      background-color: var(--surface-hover, #e9ecef);
    }

    .css-sidebar .mb-css-property-editor .options-section-body {
      background-color: var(--bg-primary, #ffffff);
      color: var(--text-primary, #212529);
    }

    .visual-css-editor .property-item.property-editor-active {
      border: 1px solid var(--accent-color, #0d6efd);
      border-radius: 0.25rem;
      padding: 0.4rem;
      background: rgba(13, 110, 253, 0.06);
    }

    .css-sidebar.template-dark-active .mb-css-property-editor .options-section-header {
      background-color: var(--bg-secondary, #2a2f34);
      color: var(--text-primary, #f1f3f5);
      border-color: var(--border-color, #495057);
    }

    .css-sidebar.template-dark-active .mb-css-property-editor .options-section-header:hover {
      background-color: var(--surface-hover, #3f464d);
    }

    .css-sidebar.template-dark-active .mb-css-property-editor .options-section-body {
      background-color: var(--bg-primary, #1f2428);
      color: var(--text-primary, #f1f3f5);
    }

    .css-sidebar.template-dark-active .mb-css-property-editor .text-muted {
      color: var(--text-muted, #adb5bd) !important;
    }
    
    .css-sidebar .sidebar-content {
      padding: 0.5rem;
    }
    
    /* Feature Overview Sidebar */
    .feature-sidebar {
      position: fixed;
      top: 0;
      right: -450px;
      width: 450px;
      height: 100vh;
      background-color: #ffffff;
      box-shadow: -2px 0 5px rgba(0,0,0,0.1);
      transition: right 0.3s ease;
      z-index: 1040;
      display: flex;
      flex-direction: column;
    }
    
    .feature-sidebar.sidebar-open {
      right: 0;
    }
    
    .feature-sidebar .sidebar-header {
      padding: 15px 20px;
      border-bottom: 1px solid #dee2e6;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #f8f9fa;
    }

    /* Toast Notification Styles */
    .toast-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-width: 350px;
    }

    .toast-notification {
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      padding: 0;
      opacity: 0;
      transform: translateX(100%);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      min-width: 300px;
    }

    .toast-notification.toast-show {
      opacity: 1;
      transform: translateX(0);
    }

    .toast-notification.toast-hide {
      opacity: 0;
      transform: translateX(100%);
    }

    .toast-content {
      padding: 12px 40px 12px 16px;
    }

    .toast-title {
      font-weight: 600;
      margin-bottom: 4px;
      color: #212529;
      font-size: 14px;
    }

    .toast-body {
      color: #6c757d;
      font-size: 13px;
      line-height: 1.4;
    }

    .toast-close {
      position: absolute;
      top: 8px;
      right: 8px;
      background: none;
      border: none;
      font-size: 24px;
      line-height: 1;
      color: #6c757d;
      cursor: pointer;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.7;
      transition: opacity 0.2s;
    }

    .toast-close:hover {
      opacity: 1;
    }

    .toast-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .toast-progress-fill {
      height: 100%;
      width: 100%;
      background: currentColor;
      transition: width linear;
    }

    /* Toast type variations */
    .toast-success {
      border-left: 4px solid #28a745;
    }

    .toast-success .toast-progress-fill {
      background: #28a745;
    }

    .toast-error {
      border-left: 4px solid #dc3545;
    }

    .toast-error .toast-progress-fill {
      background: #dc3545;
    }

    .toast-warning {
      border-left: 4px solid #ffc107;
    }

    .toast-warning .toast-progress-fill {
      background: #ffc107;
    }

    .toast-info {
      border-left: 4px solid #17a2b8;
    }

    .toast-info .toast-progress-fill {
      background: #17a2b8;
    }

    /* Dark mode support for toasts */
    body.dark-mode .toast-notification {
      background: #2d3748;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }

    body.dark-mode .toast-title {
      color: #f7fafc;
    }

    body.dark-mode .toast-body {
      color: #a0aec0;
    }

    body.dark-mode .toast-close {
      color: #a0aec0;
    }

    body.dark-mode .toast-progress {
      background: rgba(255, 255, 255, 0.1);
    }

    .feature-sidebar .sidebar-content {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
    }
    
    .feature-section {
      margin-bottom: 25px;
    }
    
    .feature-section-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .feature-list {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }
    
    .feature-list li {
      margin-bottom: 10px;
      padding-left: 20px;
      position: relative;
    }
    
    .feature-list li::before {
      content: "";
      position: absolute;
      left: 0;
      color: var(--bs-primary);
    }
    
    .feature-list li strong {
      color: var(--bs-dark);
    }
    
    .feature-list.small {
      font-size: 0.9rem;
    }
    
    .text-purple {
      color: #6f42c1;
    }
    
    /* Online Status Indicators */
    .online-indicator {
      display: inline-block;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      margin-left: 0.5rem;
      position: relative;
    }
    
    .online-indicator.online {
      background-color: #28a745;
      box-shadow: 0 0 0 2px rgba(40, 167, 69, 0.2);
    }
    
    .online-indicator.offline {
      background-color: #6c757d;
    }
    
    .online-indicator.checking {
      background-color: #ffc107;
      animation: pulse 1.5s infinite;
    }
    
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }
    
    .contact-row {
      position: relative;
    }
    
    .contact-row.offline {
      opacity: 0.6;
    }
    
    .contact-status-text {
      font-size: 0.85rem;
      margin-left: 0.5rem;
    }
    
    .contact-status-text.online {
      color: #28a745;
    }
    
    .contact-status-text.offline {
      color: #6c757d;
    }

    .title-bar {
      padding: 0px 8px 0px 8px;
    }
    
    .toolbar {
      padding: 0px 8px 0px 8px;
    }

    .keywords-cloud {
      padding: 0px 8px 0px 8px;
    }

    /* Make mainContainer vertically scrollable */
    .mainContainer {
      height: calc(100vh - 200px); /* Adjust based on header/toolbar height */
      overflow-y: auto;
      overflow-x: hidden;
    }

    .mb-local-lock-overlay {
      position: fixed;
      inset: 0;
      z-index: 20000;
      background: rgba(15, 23, 42, 0.55);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .mb-local-lock-card {
      width: min(460px, 100%);
      background: #ffffff;
      border-radius: 12px;
      padding: 1rem;
      border: 1px solid rgba(15, 23, 42, 0.15);
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.35);
    }

    body.dark-mode .mb-local-lock-card {
      background: #1f2937;
      color: #f3f4f6;
      border-color: rgba(255, 255, 255, 0.15);
    }
  </style>
  <style id="user-custom-css"></style>
</head>

<body>
  <div id="app"
    :class="['container-fluid', 'app', 'mb-app', {'dragging-group': dragState === 'group', 'dragging-link': dragState === 'link' || externalLinkDragActive}]"
    @click.self="hideMenus">
    <div v-if="localSecurity.locked" class="mb-local-lock-overlay">
      <div class="mb-local-lock-card">
        <h5 class="mb-2">{{ getTranslation('options.security.unlockTitle') || 'Unlock local data' }}</h5>
        <p class="text-muted small mb-2">{{ getTranslation('options.security.unlockDescription') || 'Enter your password to unlock local data.' }}</p>
        <p v-if="localSecurity.lockReason === 'timeout'" class="text-warning small mb-2">
          {{ getTranslation('options.security.lockedByTimeout') || 'Session expired. Data has been locked again.' }}
        </p>
        <label class="form-label mb-1">{{ getTranslation('options.security.unlockPassword') || 'Password' }}</label>
        <input
          ref="localUnlockPasswordInput"
          v-model="localSecurity.unlockPassword"
          type="password"
          class="form-control mb-2"
          autocomplete="current-password"
          :disabled="localSecurity.unlockBusy"
          @keyup.enter="submitLocalSecurityUnlock">
        <div v-if="localSecurity.unlockError" class="alert alert-danger py-2 px-3 small mb-2">
          {{ localSecurity.unlockError }}
        </div>
        <button type="button"
          class="btn btn-primary w-100"
          :disabled="localSecurity.unlockBusy || !localSecurity.unlockPassword"
          @click="submitLocalSecurityUnlock">
          {{ getTranslation('options.security.unlockButton') || 'Unlock' }}
        </button>
      </div>
    </div>
    <!-- Dark Mode Toggle -->
    <!-- <button class="dark-mode-toggle" @click="toggleDarkMode" :title="isDarkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode'">
      <svg v-if="isDarkMode" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
        <path d="M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
      </svg>
      <svg v-else xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
        <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
      </svg>
    </button> -->
    
    <div class="title-bar mb-titlebar">
      <h1 class="text-start mb-titlebar__title">
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAAEnCAYAAAD2JLvaAAAACXBIWXMAAAdiAAAHYgE4epnbAAAEt2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA5LTA3PC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmJlMWYwZTI1LWIzNTUtNDBlMi1iYjQyLWE4ZTllM2UxODUzNzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5EZXNpZ24gb2huZSBUaXRlbCAtIDE8L3JkZjpsaT4KICAgPC9yZGY6QWx0PgogIDwvZGM6dGl0bGU+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0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" 
           alt="Logo" 
           style="height: 32px; width: 32px; margin-right: 10px; vertical-align: middle;">
        {{ title }}
      </h1>
    </div>

    <div class="container-fluid toolbar mb-toolbar">
      <div class="btn-toolbar" role="toolbar" aria-label="Toolbar">
        <div class="d-flex align-items-center w-100" style="gap: 0.25rem;">
          <button @click="addGroup" type="button" class="btn btn-sm btn-success mb-btn mb-btn--add-group text-nowrap" style="border-radius: 8px;">
            {{ getTranslation('addGroup') }}
          </button>
          
          <!-- Options & Find duplicates group -->
          <div class="btn-group btn-group-sm mb-tools" role="group" aria-label="Options" style="margin-left: 0.25rem;">
            <button type="button" class="btn btn-outline-secondary mb-btn mb-btn--options" :title="getTranslation('options')"
              @click="showOptionsDialog">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-fill" viewBox="0 0 16 16">
                <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
              </svg>
            </button>
            <button type="button" class="btn btn-outline-secondary mb-btn mb-btn--favicon-rules" :title="getTranslation('options.links.faviconRules.manage') || 'Favicon rules'"
              @click="openFaviconRulesModal">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
                <path d="M6.002 5.5a1.5 1.5 0 1 1-3.002 0 1.5 1.5 0 0 1 3.002 0"/>
                <path d="M1 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 1h14a1 1 0 0 1 1 1v5.5l-3.146-3.147a.5.5 0 0 0-.708 0L8 10 5.854 7.854a.5.5 0 0 0-.708 0L0 13V4a1 1 0 0 1 1-1"/>
              </svg>
            </button>
            <button type="button" class="btn btn-outline-secondary mb-btn mb-btn--custom-css" :title="getTranslation('css.custom.open') || 'Custom CSS'"
              @click="openCssSidebar">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M6.5 0a.5.5 0 0 1 .5.5V2h2V.5a.5.5 0 0 1 1 0V2h.5A2.5 2.5 0 0 1 13 4.5V5h.5a.5.5 0 0 1 0 1H13v2h.5a.5.5 0 0 1 0 1H13v.5A2.5 2.5 0 0 1 10.5 12H10v1.5a.5.5 0 0 1-1 0V12H7v1.5a.5.5 0 0 1-1 0V12h-.5A2.5 2.5 0 0 1 3 9.5V9h-.5a.5.5 0 0 1 0-1H3V6h-.5a.5.5 0 0 1 0-1H3v-.5A2.5 2.5 0 0 1 5.5 2H6V.5a.5.5 0 0 1 .5-.5ZM4 6v3.5A1.5 1.5 0 0 0 5.5 11h5A1.5 1.5 0 0 0 12 9.5V6H4Z"/>
              </svg>
            </button>
            <button type="button" class="btn btn-outline-secondary mb-btn mb-btn--find-duplicates" :title="getTranslation('duplicates.find')"
              @click="findAndResolveDuplicates">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-binoculars-fill" viewBox="0 0 16 16">
                <path d="M4.5 1A1.5 1.5 0 0 0 3 2.5V3h4v-.5A1.5 1.5 0 0 0 5.5 1zM7 4v1h2V4h4v.882a.5.5 0 0 0 .276.447l.895.447A1.5 1.5 0 0 1 15 7.118V13H9v-1.5a.5.5 0 0 1 .146-.354l.854-.853V9.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v.793l.854.853A.5.5 0 0 1 7 11.5V13H1V7.118a1.5 1.5 0 0 1 .83-1.342l.894-.447A.5.5 0 0 0 3 4.882V4zM1 14v.5A1.5 1.5 0 0 0 2.5 16h3A1.5 1.5 0 0 0 7 14.5V14zm8 0v.5a1.5 1.5 0 0 0 1.5 1.5h3a1.5 1.5 0 0 0 1.5-1.5V14zm4-11H9v-.5A1.5 1.5 0 0 1 10.5 1h1A1.5 1.5 0 0 1 13 2.5z"/>
              </svg>
            </button>
            <button type="button" class="btn btn-outline-secondary mb-btn mb-btn--shortcuts" :title="getTranslation('shortcuts.manage') || 'Shortcut Manager'"
              @click="openShortcutManagerDialog">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-keyboard-fill" viewBox="0 0 16 16">
                <path d="M0 5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm1 0v6a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1m2 1h1v1H3zm2 0h1v1H5zm2 0h1v1H7zm2 0h1v1H9zm2 0h1v1h-1zM3 8h1v1H3zm2 0h1v1H5zm2 0h1v1H7zm2 0h1v1H9zm2 0h1v1h-1zM3 10h10v1H3z"/>
              </svg>
            </button>
            <button type="button" class="btn btn-outline-secondary mb-btn mb-btn--global-placeholders" :title="getTranslation('placeholders.global.manage') || 'Manage global placeholders'"
              @click="openGlobalPlaceholderDialog">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M6.5 3.5a.5.5 0 0 1 0 1H4v7h2.5a.5.5 0 0 1 0 1H3.5a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5zM12.5 3a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H9.5a.5.5 0 0 1 0-1H12v-7H9.5a.5.5 0 0 1 0-1z"/>
              </svg>
            </button>
            <button v-if="extensionAvailable" type="button" class="btn btn-outline-secondary mb-btn mb-btn--clear-ext-cache" :title="getTranslation('extension.clearCache') || 'Extension Cache leeren'"
              @click="clearExtensionCache">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
              </svg>
            </button>
          </div>

          <!-- CardDAV Sync group (only when extension available and enabled) -->
          <div class="btn-group btn-group-sm" role="group" aria-label="Sync" style="margin-left: 0.25rem;"
               v-if="extensionAvailable && data.options?.sync?.backend">
            <button type="button" class="btn btn-outline-secondary mb-btn mb-btn--sync-now"
                    :title="getTranslation('carddav.syncNow')"
                    @click="syncNowGeneric">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16">
                <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"/>
                <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"/>
              </svg>
            </button>
          </div>

          <!-- Contacts group -->
          <div class="btn-group btn-group-sm position-relative" role="group" aria-label="Contacts" style="margin-left: 0.25rem;">
            <button type="button" class="btn btn-outline-secondary mb-btn mb-btn--contacts" title="Contacts & Quick-Connect" @click="openContactsDialog" data-bs-toggle="modal" data-bs-target="#contactsModal">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
              </svg>
            </button>
            <!--
            <button type="button" class="btn btn-outline-secondary" 
              :title="syncAllCooldown > 0 ? `Sync All (wait ${syncAllCooldown}s)` : 'Sync All Groups'" 
              @click="syncAllGroups"
              :disabled="syncAllCooldown > 0 || isSyncingAll">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
                <circle v-if="isSyncingAll" cx="8" cy="8" r="2" fill="none" stroke="currentColor" stroke-width="1">
                  <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="1s" repeatCount="indefinite"/>
                </circle>
              </svg>
            </button>
          -->
            <!-- Countdown badge outside button but inside btn-group -->
             <!--
            <span v-if="syncAllCooldown > 0" 
                  class="position-absolute badge rounded-pill bg-danger"
                  style="font-size: 0.65em; z-index: 1050; top: -8px; right: -8px;">
              {{ syncAllCooldown }}
            </span>
          -->
          </div>
          
          <!-- Open all & Close all group -->
          <div class="btn-group btn-group-sm" role="group" aria-label="Expand Collapse" style="margin-left: 0.25rem;">
            <button type="button" class="btn btn-outline-secondary" :title="getTranslation('groups.openAll')"
              @click="expandAllGroups">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                  d="M1.646 3.646a.5.5 0 0 1 .708 0L8 9.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708Z" />
                <path fill-rule="evenodd"
                  d="M1.646 7.646a.5.5 0 0 1 .708 0L8 13.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708Z" />
              </svg>
            </button>
            <button type="button" class="btn btn-outline-secondary" :title="getTranslation('groups.closeAll')"
              @click="collapseAllGroups">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                  d="M14.354 12.354a.5.5 0 0 1-.708 0L8 6.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708Z" />
                <path fill-rule="evenodd"
                  d="M14.354 8.354a.5.5 0 0 1-.708 0L8 2.707l-5.646 5.647a.5.5 0 1 1-.708-.708l6-6a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708Z" />
              </svg>
            </button>
            <button v-if="isManualGroupColumnWidthEnabled()"
              type="button"
              class="btn btn-outline-secondary"
              :title="getTranslation('toolbar.equalizeGroupColumns') || 'Equalize group column widths'"
              @click="equalizeGroupColumnWidths">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <rect x="1.5" y="2" width="3" height="12" rx="0.75"></rect>
                <rect x="6.5" y="2" width="3" height="12" rx="0.75"></rect>
                <rect x="11.5" y="2" width="3" height="12" rx="0.75"></rect>
              </svg>
            </button>
          </div>
          
          <!-- Import & Export group -->
          <div class="btn-group btn-group-sm" role="group" aria-label="Import Export" style="margin-left: 0.25rem;">
            <button type="button" class="btn btn-outline-secondary"
              :class="getExportBackupAlertClass()"
              :style="getExportBackupAlertStyle()"
              :title="getTranslation('exportToFile')"
              @click="exportAndDownload">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
              </svg>
            </button>
            <button type="button" class="btn btn-outline-secondary" :title="getTranslation('import')" @click="openPasteModal">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"/>
              </svg>
            </button>
          </div>
          
          <!-- Bookmarklet group -->
          <div class="btn-group btn-group-sm" role="group" aria-label="Bookmarklet" style="margin-left: 0.25rem;">
            <button type="button" class="btn btn-outline-secondary"
              :title="getTranslation('bookmarklet.addCurrentTab')" @click="showBookmarkletHelp">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark-check-fill" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m8.854-9.646a.5.5 0 0 0-.708-.708L7.5 7.793 6.354 6.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0z"/>
              </svg>
            </button>
          </div>

          <!-- Snapshots dropdown as a grouped item -->
          <div class="btn-group btn-group-sm mb-snapshots-dropdown" role="group" aria-label="Snapshots" style="margin-left: 0.25rem;">
            <button type="button" class="btn btn-outline-secondary" :title="getTranslation('undo')" @click="undo">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
              </svg>
            </button>
            <button type="button" class="btn btn-outline-secondary" :title="getTranslation('redo')" @click="redo">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
                <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
              </svg>
            </button>
            <button class="btn btn-outline-secondary dropdown-toggle mb-snapshots-btn" type="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-plus-fill me-1" viewBox="0 0 16 16">
                <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"/>
                <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5zm4.5 6V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5a.5.5 0 0 1 1 0"/>
              </svg>
              {{ getTranslation('snapshots.title') }}
            </button>
            <ul class="dropdown-menu mb-snapshots-menu">
              <li><a class="dropdown-item" href="#" @click.prevent="saveSnapshot">{{
                  getTranslation('snapshots.save') }}</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li v-if="!data.snapshots || !data.snapshots.length" class="dropdown-item text-muted">{{
                getTranslation('snapshots.none') }}</li>
              <li v-for="s in (data.snapshots || [])" :key="'snap-'+s.id" class="dropdown-item">
                <div class="d-flex align-items-center justify-content-between">
                  <a href="#" @click.prevent="restoreSnapshot(s.id)">{{ formatSnapshotLabel(s) }}</a>
                  <button class="btn btn-xs btn-link text-danger ms-2"
                    @click.stop.prevent="deleteSnapshot(s.id)"></button>
                </div>
              </li>
            </ul>
          </div>

          <!-- Search group -->
          <div class="input-group input-group-sm align-items-stretch flex-grow-1 mb-toolbar__search" style="margin-left: 0.25rem;">
            <span class="input-group-text" id="search-addon">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search me-1" viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
              </svg>
              <span>
              {{ getTranslation('search') }}
              </span>
            </span>
            <button class="btn btn-outline-secondary" type="button" @click="onClearClick"
              :title="getTranslation('clear')">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path
                  d="M2.5 2.5a.7.7 0 0 1 .99 0L8 7.01l4.51-4.51a.7.7 0 1 1 .99.99L8.99 8l4.51 4.51a.7.7 0 0 1-.99.99L8 8.99l-4.51 4.51a.7.7 0 1 1-.99-.99L7.01 8 2.5 3.49a.7.7 0 0 1 0-.99Z" />
              </svg>
            </button>
            <input type="text" class="form-control" v-model="filterText" :aria-label="getTranslation('search')"
              aria-describedby="search-addon" id="searchFilter">
            
            <!-- Storage indicator (show used only) -->
            <div class="ms-2 me-2 d-flex align-items-center text-muted small mb-toolbar__storage" :title="getStorageTooltip()" style="min-width: auto;">
              <span
                v-if="isBackupUrgencyIndicatorVisible()"
                class="mb-toolbar__backup-urgency mb-backup-urgency-indicator me-1"
                :style="getBackupUrgencyIndicatorStyle()"
                :title="getBackupUrgencyTooltip()"
                aria-hidden="true"></span>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-database-fill me-1" viewBox="0 0 16 16">
                <path d="M3.904 1.777C4.978 1.289 6.427 1 8 1s3.022.289 4.096.777C13.125 2.245 14 2.993 14 4s-.875 1.755-1.904 2.223C11.022 6.711 9.573 7 8 7s-3.022-.289-4.096-.777C2.875 5.755 2 5.007 2 4s.875-1.755 1.904-2.223Z"/>
                <path d="M2 6.161V7c0 1.007.875 1.755 1.904 2.223C4.978 9.71 6.427 10 8 10s3.022-.289 4.096-.777C13.125 8.755 14 8.007 14 7v-.839c-.457.432-1.004.751-1.49.972C11.278 7.693 9.682 8 8 8s-3.278-.307-4.51-.867c-.486-.22-1.033-.54-1.49-.972Z"/>
                <path d="M2 9.161V10c0 1.007.875 1.755 1.904 2.223C4.978 12.711 6.427 13 8 13s3.022-.289 4.096-.777C13.125 11.755 14 11.007 14 10v-.839c-.457.432-1.004.751-1.49.972-1.232.56-2.828.867-4.51.867s-3.278-.307-4.51-.867c-.486-.22-1.033-.54-1.49-.972Z"/>
                <path d="M2 12.161V13c0 1.007.875 1.755 1.904 2.223C4.978 15.711 6.427 16 8 16s3.022-.289 4.096-.777C13.125 14.755 14 14.007 14 13v-.839c-.457.432-1.004.751-1.49.972-1.232.56-2.828.867-4.51.867s-3.278-.307-4.51-.867c-.486-.22-1.033-.54-1.49-.972Z"/>
              </svg>
              <span>{{ formatStorageSize(storageUsed) }}</span>
            </div>
            
            <!-- Help/Feature Overview Button (moved to right end) -->
            <button type="button" class="btn btn-sm btn-outline-secondary mb-btn mb-btn--features ms-2" :title="getTranslation('features.open') || 'Hilfe / Help'"
              @click="openFeatureSidebar">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
              </svg>
            </button>
          </div>              
        </div>
      </div>
    </div>

    <!-- Keywords Cloud -->
    <div class="container-fluid keywords-cloud mb-keywords-cloud">
      <div class="input-group input-group-sm">
        <span class="input-group-text mb-keyword-label">
          <span>{{ getTranslation('group.keywords') || 'Keywords' }}</span>
          <button
            type="button"
            class="btn btn-outline-secondary btn-sm mb-keyword-manage-btn"
            :title="getTranslation('keywords.manage') || 'Manage keywords'"
            @click="openKeywordManagerDialog">
            {{ getTranslation('keywords.manage') || 'Manage' }}
          </button>
        </span>
        <div class="form-control p-0 keyword-container">
          <div class="d-flex align-items-center mb-keyword-row">
            <span v-for="kw in displayedKeywords" :key="'kw-'+kw" role="button" 
              :class="['badge','me-1','mb-1','keyword-badge','mb-keyword', keywordClass(kw), { 'mb-keyword-active': isKeywordFilterActive(kw) }]"
              :data-keyword="keywordSlug(kw)"
              :style="getKeywordGradientStyle(kw)"
              @click="onKeywordClick(kw)"><span class="mb-keyword-text">{{ kw }}</span></span>
          </div>
        </div>
      </div>
    </div>

    <!-- Groups and Links Content Container -->
    <div class="container-fluid m-0 p-0 mainContainer mb-groups-links-container">
      <table class="groupsTable">
        <tr>
          <!-- Vertikale Dropzone vor der ersten Spalte -->
          <td class="verticalDropZone"
              @drop.stop.prevent="handleDropToNewColumn($event, -1)"
              @dragover.prevent
              @dragenter.prevent="dropManager.handleDragEnterVerticalZone($event)"
              @dragleave="dropManager.handleDragLeaveVerticalZone($event)">
            <div class="verticalDropZoneIndicator"></div>
          </td>

          <template v-for="(colIndex, groupColumnIndex) in getGroupColumns()" :key="'groupColumn-' + groupColumnIndex">
            <td class="groupCell"
                :data-column-index="colIndex"
                :style="getGroupColumnCellStyle(colIndex)"
                :class="{ 'group-cell--resizing': isGroupColumnResizing && (groupColumnResizeState.leftColumn === colIndex || groupColumnResizeState.rightColumn === colIndex) }">

            <div v-if="getGroupsByColumn(colIndex).length === 0"
              :class="['groupContainerDragAndDrop', 'group-drop-zone']"
              @drop.stop.prevent="dropManager.onDrop($event, data.groups, null, 0, colIndex, 'group'); saveData()"
              @dragover.prevent @dragenter.prevent="dropManager.handleDragEnterZone($event)"
              @dragleave="dropManager.handleDragLeaveZone($event)"> {{ getTranslation('group.dropAfter') }}
            </div>

            <template v-for="(group, groupIndex) in getGroupsByColumn(colIndex)" :key="'group-template-' + group.uuid">
              <div :key="'group-drop-before-' + group.uuid"
                :class="['groupContainerDragAndDrop', 'group-drop-zone']"
                @drop.stop.prevent="dropManager.onDrop($event, data.groups, null, groupIndex, colIndex, 'group'); saveData()"
                @dragover.prevent @dragenter.prevent="dropManager.handleDragEnterZone($event)"
                @dragleave="dropManager.handleDragLeaveZone($event)">
                {{ getTranslation('group.dropAfter') }}
              </div>

              <div :key="'group-' + group.uuid" :class="['groupContainer', 'mb-group', cssClassFromUuid('group', group.uuid), { 'mb-group--resizing': isGroupHeightResizing && groupHeightResizeState.groupUuid === group.uuid }]"
                :data-uuid="group.uuid"
                :data-group-id="group.id"
                @mouseover="group.isMouseOver = true"
                @mouseleave="group.isMouseOver = false" @dragover.prevent="handleGroupDragOver($event, group)"
                @dragenter.prevent="handleGroupDragEnter($event, group)" @dragleave="handleGroupDragLeave(group)"
                @drop.stop.prevent="handleLinkDrop($event, group, getLinksByColumn(group.links, (getLinkColumns(group.links)[0] ?? 0)).length, (getLinkColumns(group.links)[0] ?? 0))">

                <div class="container-fluid groupContainerHeader p-0 mb-group__header" 
                  draggable="true"
                  :data-drag-id="'group-' + group.uuid"
                  @mouseover="group.isMouseOver = true; prepareForDrag($event, $event.currentTarget)"
                  @mouseleave="group.isMouseOver = false"
                  @mousedown="prepareForDrag($event, $event.currentTarget)"
                  @dragstart="dropManager.startDrag($event, data.groups, group, 'group')" 
                  @dragend="handleDragEnd($event)"
                  style="cursor: grab;">
                  <div class="row align-items-center g-0">
                    <div class="col">
                      <div class="d-flex align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"
                          class="collapseIcon flex-shrink-0" viewBox="0 0 24 24"
                          data-bs-toggle="collapse" :href="'#collapseGroup-' + group.uuid" role="button" tabindex="0"
                          @keydown="onKeyActivate($event, () => toggleGroupCollapse(group))"
                          :aria-expanded="!group.collapsed" :aria-controls="'#collapseGroup-' + group.uuid"
                          @click.prevent="toggleGroupCollapse(group)">
                          <path v-if="group.collapsed && group.searchCollapsed"
                            stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"
                            d="M9 6l6 6-6 6" />
                          <path v-else
                            stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"
                            d="M6 9l6 6 6-6" />
                          <title>{{ getTranslation('group.toggleGroupCollapse') }}</title>
                        </svg>
                        <!-- Drag Handle Icon fr Gruppen-Drag & Drop (div fr stabilere Drag Events) -->
                        <div class="groupDragHandle flex-shrink-0 me-1" :draggable="'true'"
                          @dragstart="dropManager.startDrag($event, data.groups, group, 'group')"
                          @dragend="handleDragEnd()" @mousedown="prepareForDrag($event, $event.currentTarget); $event.stopPropagation()"
                          @click="$event.stopPropagation()"
                          style="cursor: grab; display: inline-flex; align-items: center; user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; padding: 2px; min-width: 24px; min-height: 24px; justify-content: center;">
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                            class="bi bi-grip-vertical" viewBox="0 0 16 16" style="pointer-events: none;">
                            <title>Drag to move group</title>
                            <path
                              d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0" />
                          </svg>
                        </div>
                        <h2 v-if="!group.editing" class="groupName mb-group__name mb-0 d-flex align-items-center"
                          @dblclick="startEditing(group)"
                          @mouseover="group.isMouseOver = true"
                          @mouseleave="group.isMouseOver = false">
                          <span class="flex-grow-1 d-flex align-items-center groupTitle mb-group__title">
                            <span v-if="group.favicon" class="mb-group-favicon-wrap" :title="faviconSourceTooltip(group)">
                              <img :src="group.favicon" alt="" class="mb-group-favicon">
                            </span>
                            <span v-else-if="group.emoji" class="mb-group-emoji">{{ group.emoji }}</span>
                            <span class="text-truncate" v-html="sanitizeHtml(group.name || '')"></span>
                            <!-- Shared group icon -->
                            <svg v-if="group.shared" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" 
                              class="bi bi-share-fill text-primary ms-2" viewBox="0 0 16 16" style="vertical-align: middle;">
                              <title>{{ getTranslation('group.shared') }}</title>
                              <path d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.5 2.5 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5"/>
                            </svg>
                            <!-- Link count pill -->
                            <span :class="['groupLinkCount', 'mb-linkcount-badge', { 'empty': getGroupLinkCount(group) === 0 }]"
                              :data-group-uuid="group.uuid"
                              :data-group-name="keywordSlug(group.name)"
                              :data-link-count="getGroupLinkCount(group)">
                              {{ getGroupLinkCount(group) }}
                            </span>
                          </span>
                          <span class="ms-2 d-flex align-items-center mb-group__badges">
                            <span v-for="kw in groupKeywordsArray(group)" :key="'gkw-'+group.uuid+'-'+kw"
                              :class="['badge','keyword-badge','mb-group__keyword-badge', keywordClass(kw)]"
                              :data-group-uuid="group.uuid"
                              :data-group-name="keywordSlug(group.name)"
                              :data-keyword="keywordSlug(kw)"
                              @click.stop="onKeywordClick(kw)" role="button">{{ kw }}</span>
                            <span v-if="shouldShowGroupKeywordQuickAddBadge(group)"
                              class="badge mb-keyword-add-badge ms-1"
                              role="button"
                              tabindex="0"
                              :title="getTranslation('menu.keyword.new') || 'New keyword'"
                              @keydown.stop="onKeyActivate($event, () => openKeywordQuickDialogForGroup(group))"
                              @click.stop="openKeywordQuickDialogForGroup(group)">+</span>
                          </span>
                        </h2>
                        <input v-else v-model="group.name" type="text" class="form-control form-control-sm"
                          aria-label="GroupName" @blur="saveEditing(group)" @keyup.enter="saveEditing(group)"
                          @keyup.esc="cancelEditing(group)" v-focus="group.editing">
                      </div>
                    </div>
                    <div
                      :class="['col-auto', 'text-end', 'ps-2', 'groupActions', 'mb-group__actions', {'groupActionsVisibleOnMouseOver': group.isMouseOver}]" 
                      style="margin-left: auto;">
                      <!-- Add link button (dialog mode) -->
                      <svg v-if="data.options?.buttons?.showAddLink" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        :class="['bi bi-node-plus-fill fw-bold actionIcon ms-2 me-1', canAdd(group) ? 'text-success' : 'text-muted']"
                        :style="{ cursor: canAdd(group) ? 'pointer' : 'not-allowed', opacity: canAdd(group) ? 1 : 0.5 }"
                        viewBox="0 0 16 16"
                        role="button" tabindex="0"
                        @keydown="canAdd(group) ? onKeyActivate($event, () => openAddLinkDialog(group)) : null"
                        @click="canAdd(group) ? openAddLinkDialog(group) : null"
                        :title="canAdd(group) ? getTranslation('group.addLink') : getTranslation('error.perm.add')">
                        <path d="M11 13a5 5 0 1 0-4.975-5.5H4A1.5 1.5 0 0 0 2.5 6h-1A1.5 1.5 0 0 0 0 7.5v1A1.5 1.5 0 0 0 1.5 10h1A1.5 1.5 0 0 0 4 8.5h2.025A5 5 0 0 0 11 13m.5-7.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2a.5.5 0 0 1 1 0"/>
                      </svg>
                      <!-- Delete group button -->
                      <svg v-if="data.options?.buttons?.showDeleteGroup" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        :class="['bi bi-trash-fill fw-bold actionIcon ms-1 me-1', isOwnerOfGroup(group) ? 'text-danger' : 'text-muted']"
                        :style="{ cursor: isOwnerOfGroup(group) ? 'pointer' : 'not-allowed', opacity: isOwnerOfGroup(group) ? 1 : 0.5 }"
                        viewBox="0 0 16 16"
                        role="button" tabindex="0"
                        @keydown.stop="isOwnerOfGroup(group) ? onKeyActivate($event, () => delGroup(group)) : null"
                        @click.stop="isOwnerOfGroup(group) ? delGroup(group) : null"
                        :title="isOwnerOfGroup(group) ? getTranslation('group.deleteGroup') : (group.shared ? getTranslation('menu.group.leaveGroup') : getTranslation('error.perm.delete'))">
                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"/>
                      </svg>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                        class="bi bi-three-dots-vertical svg-button actionIcon mb-group-menu-btn me-2" viewBox="0 0 16 16" 
                        role="button" tabindex="0" @keydown.stop="onKeyActivate($event, () => showGroupMenu($event, group))"
                        @click.stop="showGroupMenu($event, group)">
                        <path
                          d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
                      </svg>
                    </div>
                  </div>
                </div>
                <div :class="['collapse', 'linkContainer', 'mb-group__body', 'mb-links-container', {'show': !group.collapsed}]"
                  :id="'collapseGroup-' + group.uuid"
                  :style="group.collapsed ? null : { height: getGroupBodyHeight(group) + 'px' }">
                  <!-- Collapsible info section -->
                  <div v-if="group.infoHtml" class="group-info-section mb-group-info-section">
                    <div class="d-flex align-items-center px-1 py-0 mb-group-info-header" 
                         role="button"
                         @click="toggleGroupInfo(group)">
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" 
                           class="bi bi-info-circle me-1 text-info" viewBox="0 0 16 16">
                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                      </svg>
                      <span class="text-info mb-group-info-label">{{ getTranslation('group.info.toggle') || 'Information' }}</span>
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" 
                           class="bi ms-auto text-info" viewBox="0 0 16 16">
                        <path v-if="!group.infoExpanded" fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                        <path v-else fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/>
                      </svg>
                    </div>
                    <div v-show="group.infoExpanded" class="px-2 py-1 mb-1 mb-group-info-content" 
                         v-html="group.infoHtml"></div>
                  </div>
                  <table class="linksTable mb-links">
                    <tr>
                      <!-- Vertikale Dropzone vor der ersten Link-Spalte -->
                      <td class="linkVerticalDropZone"
                          @drop.stop.prevent="handleLinkDropToNewColumn($event, group, -1)"
                          @dragover.prevent
                          @dragenter.prevent="dropManager.handleDragEnterVerticalZone($event)"
                          @dragleave="dropManager.handleDragLeaveVerticalZone($event)">
                        <div class="linkVerticalDropZoneIndicator"></div>
                      </td>

                      <template v-for="(linkColIndex, linkColumnIndex) in getLinkColumns(group.links)">
                        <td :key="'linkColumn-' + linkColumnIndex" class="linkCell" :data-link-column="linkColIndex">

                        <div v-if="getLinksByColumn(group.links, linkColIndex).length === 0"
                          :class="['linkContainerDragAndDrop', 'link-drop-zone']"
                          @drop.stop.prevent="handleLinkDrop($event, group, 0, linkColIndex)" @dragover.prevent
                          @dragenter.prevent="dropManager.handleDragEnterZone($event)"
                          @dragleave="dropManager.handleDragLeaveZone($event)">
                          {{ getTranslation('group.link.dropAfter') }}
                        </div>

                        <template v-for="(link, linkIndex) in getLinksByColumn(group.links, linkColIndex)">
                          <div :key="'link-drop-before-' + link.uuid"
                            :class="['linkContainerDragAndDrop', 'link-drop-zone']"
                            @drop.stop.prevent="handleLinkDrop($event, group, linkIndex, linkColIndex)"
                            @dragover.prevent @dragenter.prevent="dropManager.handleDragEnterZone($event)"
                            @dragleave="dropManager.handleDragLeaveZone($event)">
                            {{ getTranslation('group.link.dropAfter') }}
                          </div>

                          <div :key="'link-' + link.uuid" :class="['linkContainerListItem', 'mb-link', cssClassFromUuid('link', link.uuid), { 'mb-link-separator-row': isSeparatorLink(link), 'mb-link-note-row': isNoteLink(link) }]"
                            :data-uuid="link.uuid"
                            :data-link-id="link.id"
                            :data-drag-id="'link-' + link.uuid"
                            @mouseover="link.isMouseOver = true; prepareForDrag($event, $event.currentTarget); if (shouldShowLinkPopover()) { cancelHideLinkPopover(); showLinkPopover($event, link); }" 
                            @mouseleave="link.isMouseOver = false; setLinkKeywordQuickAddBadgeHover(link, false); if (shouldShowLinkPopover()) queueHideLinkPopover()"
                            @focusin="if (shouldShowLinkPopover()) { cancelHideLinkPopover(); showLinkPopover($event, link); }"
                            @focusout="if (shouldShowLinkPopover()) queueHideLinkPopover()"
                            @dblclick="onLinkRowDblClick(link)"
                            :draggable="!link.editing"
                            @mousedown="prepareForDrag($event, $event.currentTarget)"
                            @dragstart="hideLinkPopover(); dropManager.startDrag($event, group.links, link, 'link')"
                            @dragend="handleDragEnd($event)" 
                            @dragover.prevent @dragenter.prevent
>
                                <div class="linkText mb-link__url">
                                  <template v-if="!link.editing">
                                    <template v-if="isSeparatorLink(link)">
                                      <div class="mb-link-separator">
                                        <span v-if="(link.text || '').trim()" class="mb-link-separator__label" v-html="sanitizeInlineNoAnchor(link.text || '')"></span>
                                      </div>
                                    </template>
                                    <template v-else-if="isNoteLink(link)">
                                      <div class="mb-link-note">
                                        <div class="mb-link-note__header">
                                          <button type="button"
                                            class="mb-link-note__toggle"
                                            :title="isNoteCollapsed(link) ? (getTranslation('note.expand') || 'Expand note') : (getTranslation('note.collapse') || 'Collapse note')"
                                            @mousedown.stop
                                            @click.stop="toggleNoteCollapsed(link)">
                                            <span class="mb-link-note__chevron">{{ isNoteCollapsed(link) ? '' : '' }}</span>
                                          </button>
                                          <span class="mb-link-note__title" v-html="sanitizeInlineNoAnchor(getEffectiveLinkText(link) || '')"></span>
                                        </div>
                                        <div v-if="!isNoteCollapsed(link) && getEffectiveLinkInfoHtml(link)"
                                          class="mb-link-note__body"
                                          v-html="sanitizeHtml(getEffectiveLinkInfoHtml(link) || '')"></div>
                                      </div>
                                    </template>
                                    <template v-else>
                                      <span
                                        :class="[{'linkTextCategory': !getEffectiveLinkUrl(link)}, 'text-truncate']" style="min-width: 0; overflow: hidden;">
                                        <a v-if="getEffectiveLinkUrl(link)" :href="getEffectiveLinkUrl(link)" :title="getEffectiveLinkUrl(link)"
                                          :target="data.options?.links?.openInNewTab ? '_blank' : null"
                                          :rel="data.options?.links?.openInNewTab ? 'noopener noreferrer' : null"
                                          class="text-decoration-none linkanchor mb-link__anchor" draggable="false"
                                          @click.stop>
                                          <img
                                            v-if="getEffectiveLinkFavicon(link)"
                                            :src="getEffectiveLinkFavicon(link)" alt="" class="link-favicon mb-link__icon" />
                                          <span
                                            v-else-if="data.options?.links?.autoFetchFavicon && getEffectiveLinkFaviconError(link)"
                                            class="link-favicon-error mb-link__icon" title="Favicon konnte nicht geladen werden (Extension erforderlich)"></span>
                                          <span class="mb-link-text-with-marker">
                                            <span v-html="sanitizeInlineNoAnchor(getEffectiveLinkText(link) || '')"></span>
                                            <span v-if="isReferenceLink(link) && data.options?.links?.showReferenceMarker !== false"
                                              class="mb-ref-marker"
                                              :title="getReferenceMarkerTitle(link)">*</span>
                                          </span>
                                        </a>
                                        <span v-else>
                                          <span class="mb-link-text-with-marker">
                                            <span v-html="sanitizeHtml(getEffectiveLinkText(link) || '')"></span>
                                            <span v-if="isReferenceLink(link) && data.options?.links?.showReferenceMarker !== false"
                                              class="mb-ref-marker"
                                              :title="getReferenceMarkerTitle(link)">*</span>
                                          </span>
                                        </span>
                                      </span>
                                      <!-- URL preview on hover - moved before badges -->
                                      <span v-if="getEffectiveLinkUrl(link)" class="link-url-preview">{{ getEffectiveLinkUrl(link) }}</span>
                                      <!-- Link keyword badges - moved outside text-truncate to stay visible -->
                                      <span v-if="data.options?.links?.showLinkBadges && (getEffectiveLinkKeywords(link) || shouldShowLinkKeywordQuickAddBadge(group, link))"
                                        class="margin-left ms-3 mb-link__badges">
                                        <span class="mb-link__badge-list">
                                          <span v-for="kw in parseKeywords(getEffectiveLinkKeywords(link))"
                                            :key="'lkw-' + link.uuid + '-' + kw"
                                            :class="['badge','keyword-badge','mb-link__keyword-badge', keywordClass(kw)]"
                                            :data-group-uuid="group.uuid"
                                            :data-group-name="keywordSlug(group.name)"
                                            :data-link-uuid="link.uuid"
                                            :data-link-text="keywordSlug(getEffectiveLinkText(link))"
                                            :data-keyword="keywordSlug(kw)"
                                            @click.stop="onKeywordClick(kw)" role="button">{{ kw }}</span>
                                        </span>
                                        <span v-if="shouldShowLinkKeywordQuickAddBadge(group, link)"
                                          class="badge mb-keyword-add-badge"
                                          role="button"
                                          tabindex="0"
                                          :title="getTranslation('menu.keyword.new') || 'New keyword'"
                                          @mouseenter.stop="setLinkKeywordQuickAddBadgeHover(link, true)"
                                          @mouseleave.stop="setLinkKeywordQuickAddBadgeHover(link, false)"
                                          @keydown.stop="onKeyActivate($event, () => openKeywordQuickDialogForLink(group, link))"
                                          @click.stop="openKeywordQuickDialogForLink(group, link)">+</span>
                                      </span>
                                    </template>
                                  </template>
                                  <input v-else v-model="link.text" type="text" ref="linkTextInput"
                                    class="form-control form-control-sm flex-grow-1" aria-label="LinkText"
                                    @blur="saveEditing(link)" @keyup.enter="saveEditing(link)"
                                    @keyup.esc="cancelEditing(link)" v-focus="link.editing">
                                </div>
                              <div
                                :class="['groupActions', 'mb-link__actions', {'groupActionsVisibleOnMouseOver': link.isMouseOver && !link.editing}]" style="display: flex; align-items: center; gap: 2px; flex-shrink: 0;">
                                <span v-if="isNoteLink(link) && data.options?.links?.showLinkBadges && (getEffectiveLinkKeywords(link) || shouldShowLinkKeywordQuickAddBadge(group, link))"
                                  class="mb-link__badges mb-link-note__action-badges">
                                  <span class="mb-link__badge-list">
                                    <span v-for="kw in parseKeywords(getEffectiveLinkKeywords(link))"
                                      :key="'lkw-' + link.uuid + '-' + kw"
                                      :class="['badge','keyword-badge','mb-link__keyword-badge', keywordClass(kw)]"
                                      :data-group-uuid="group.uuid"
                                      :data-group-name="keywordSlug(group.name)"
                                      :data-link-uuid="link.uuid"
                                      :data-link-text="keywordSlug(getEffectiveLinkText(link))"
                                      :data-keyword="keywordSlug(kw)"
                                      @click.stop="onKeywordClick(kw)" role="button">{{ kw }}</span>
                                  </span>
                                  <span v-if="shouldShowLinkKeywordQuickAddBadge(group, link)"
                                    class="badge mb-keyword-add-badge"
                                    role="button"
                                    tabindex="0"
                                    :title="getTranslation('menu.keyword.new') || 'New keyword'"
                                    @mouseenter.stop="setLinkKeywordQuickAddBadgeHover(link, true)"
                                    @mouseleave.stop="setLinkKeywordQuickAddBadgeHover(link, false)"
                                    @keydown.stop="onKeyActivate($event, () => openKeywordQuickDialogForLink(group, link))"
                                    @click.stop="openKeywordQuickDialogForLink(group, link)">+</span>
                                </span>
                                <!-- Info button - shows HTML popup on hover -->
                                <svg v-if="!isSeparatorLink(link) && !isNoteLink(link) && getEffectiveLinkInfoHtml(link)" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                  class="bi bi-info-circle-fill text-info actionIcon" viewBox="0 0 16 16"
                                  style="cursor: help;"
                                  @mouseover="showInfoPopup($event, getEffectiveLinkInfoHtml(link))"
                                  @mouseleave="hideInfoPopup()">
                                  <title>{{ getTranslation('link.info') || 'Info' }}</title>
                                  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
                                </svg>

                                <!-- Copy URL button -->
                                <svg v-if="getEffectiveLinkUrl(link) && data.options?.buttons?.showCopyUrl" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                  class="bi bi-clipboard actionIcon" viewBox="0 0 16 16" role="button"
                                  tabindex="0" @keydown.stop="onKeyActivate($event, () => copyLinkToClipboard(link))"
                                  @click.stop="copyLinkToClipboard(link)">
                                  <title>{{ getTranslation('link.copyUrl') || 'Copy URL' }}</title>
                                  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                                  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
                                </svg>

                                <!-- QR code button -->
                                <svg v-if="getEffectiveLinkUrl(link) && data.options?.buttons?.showQrCode" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                  class="bi bi-qr-code actionIcon" viewBox="0 0 16 16" role="button"
                                  tabindex="0" @keydown.stop="onKeyActivate($event, () => showQrCodeModal(getEffectiveLinkUrl(link)))"
                                  @click.stop="showQrCodeModal(getEffectiveLinkUrl(link))">
                                  <title>{{ getTranslation('link.qrCode') || 'Generate QR Code' }}</title>
                                  <path d="M2 2h2v2H2z"/>
                                  <path d="M6 0v6H0V0zM5 1H1v4h4zM4 12H2v2h2z"/>
                                  <path d="M6 10v6H0v-6zm-5 1v4h4v-4zm11-9h2v2h-2z"/>
                                  <path d="M10 0v6h6V0zm5 1v4h-4V1zM8 1V0h1v2H8v2H7V1zm0 5V4h1v2zM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8zm0 0v1H2V8H1v1H0V7h3v1zm10 1h-1V7h1zm-1 0h-1v2h2v-1h-1zm-4 0h2v1h-1v1h-1zm2 3v-1h-1v1h-1v1H9v1h3v-2zm0 0h3v1h-2v1h-1zm-4-1v1h1v-2H7v1z"/>
                                  <path d="M7 12h1v3h4v1H7zm9 2v2h-3v-1h2v-1z"/>
                                </svg>
                                
                                <!-- Delete link button -->
                                <svg v-if="data.options?.buttons?.showDeleteLink" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                  :class="['bi bi-trash-fill svg-button fw-bold actionIcon', canDelete(group) ? 'text-danger' : 'text-muted']"
                                  :style="{ cursor: canDelete(group) ? 'pointer' : 'not-allowed', opacity: canDelete(group) ? 1 : 0.5 }"
                                  viewBox="0 0 16 16"
                                  role="button" tabindex="0"
                                  @keydown.stop="canDelete(group) ? onKeyActivate($event, () => deleteLink(link)) : null"
                                  @click.stop="canDelete(group) ? deleteLink(link) : null">
                                  <title>{{ canDelete(group) ? (isSeparatorLink(link) ? (getTranslation('menu.link.deleteSeparator') || 'Delete separator') : (isNoteLink(link) ? (getTranslation('menu.link.deleteNote') || 'Delete note') : (isReferenceLink(link) ? (getTranslation('menu.link.deleteRefLink') || 'Delete ref link') : getTranslation('menu.link.deleteLink')))) : getTranslation('error.perm.delete') }}</title>
                                  <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"/>
                                </svg>

                                <!-- Context menu button -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" 
                                  class="bi bi-three-dots-vertical svg-button actionIconLink mb-link-menu-btn" viewBox="0 0 16 16"
                                  @click.stop="showLinkMenu($event, group, link)">
                                  <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                                </svg>
                              </div>
                          </div>
                        </template>
                        <div v-if="getLinksByColumn(group.links, linkColIndex).length > 0"
                          :class="['linkContainerDragAndDrop', 'link-drop-zone']"
                          @drop.stop.prevent="handleLinkDrop($event, group, getLinksByColumn(group.links, linkColIndex).length, linkColIndex)"
                          @dragover.prevent @dragenter.prevent="dropManager.handleDragEnterZone($event)"
                          @dragleave="dropManager.handleDragLeaveZone($event)">
                          {{ getTranslation('group.link.dropAfter') }}
                        </div>
                      </td>

                        <!-- Vertikale Dropzone nach jeder Link-Spalte -->
                        <td :key="'linkVerticalDropZone-' + linkColumnIndex"
                            class="linkVerticalDropZone"
                            @drop.stop.prevent="handleLinkDropToNewColumn($event, group, linkColIndex + 1)"
                            @dragover.prevent
                            @dragenter.prevent="dropManager.handleDragEnterVerticalZone($event)"
                            @dragleave="dropManager.handleDragLeaveVerticalZone($event)">
                          <div class="linkVerticalDropZoneIndicator"></div>
                        </td>
                      </template>
                    </tr>
                  </table>

                  <!-- Show more/less button for progressive loading (full width at bottom) -->
                  <div v-if="shouldShowExpandButton(group)"
                    class="mb-progressive-btn-wrapper">
                    <button
                      @click="toggleGroupExpansion(group)"
                      class="btn btn-sm w-100 mb-progressive-btn">
                      <span v-if="!group.linksExpanded">
                        {{ getTranslation('group.showMore') || 'Show more' }}
                      </span>
                      <span v-else>
                        {{ getTranslation('group.showLess') || 'Show less' }}
                      </span>
                    </button>
                  </div>



                  <div v-if="!data.options?.links?.addViaDialog"
                    class="input-group input-group-sm addLinkContainer mt-2">
                    <input v-model="group.newLinkText" type="text" class="form-control"
                      :placeholder="getTranslation('group.link.linkText')"
                      :aria-label="getTranslation('group.link.linkText')" :aria-describedby="'groupNewLink' + group.uuid"
                      @keyup.enter="addLink(group)">
                    <input v-model="group.newLinkUrl" type="text" class="form-control"
                      :placeholder="getTranslation('group.link.linkUrl')"
                      :aria-label="getTranslation('group.link.linkUrl')" :aria-describedby="'groupNewLink' + group.uuid"
                      @keyup.enter="addLink(group)">
                    <button @click="addLink(group)" :id="'groupNewLink' + group.uuid" type="button"
                      class="btn btn-sm btn-success">{{ getTranslation('group.link.add') }}</button>
                  </div>
                </div>
                <div v-if="!group.collapsed && canManuallyResizeGroupHeight(group)"
                  :class="['mb-group-resize-handle', { 'resizing': isGroupHeightResizing && groupHeightResizeState.groupUuid === group.uuid }]"
                  role="separator"
                  aria-orientation="horizontal"
                  :title="getTranslation('group.resizeHeight') || 'Drag to resize group height. Double-click to auto-fit this group.'"
                  @mousedown.stop.prevent="startGroupHeightResize($event, group)"
                  @dblclick.stop.prevent="autoFitGroupHeight(group)">
                  <span v-if="isGroupHeightResizing && groupHeightResizeState.groupUuid === group.uuid" class="mb-group-resize-readout">
                    {{ getGroupBodyHeight(group) }}px
                  </span>
                </div>
              </div>
            </template>
            <div v-if="getGroupsByColumn(colIndex).length > 0"
              :class="['groupContainerDragAndDrop', 'group-drop-zone']"
              @drop.stop.prevent="dropManager.onDrop($event, data.groups, null, getGroupsByColumn(colIndex).length, colIndex, 'group'); saveData()"
              @dragover.prevent @dragenter.prevent="dropManager.handleDragEnterZone($event)"
              @dragleave="dropManager.handleDragLeaveZone($event)">
              {{ getTranslation('group.dropAfter') }}
            </div>
    </div>
    </td>

    <!-- Vertikale Dropzone nach jeder Spalte -->
    <td class="verticalDropZone"
        @drop.stop.prevent="handleDropToNewColumn($event, colIndex + 1)"
        @dragover.prevent
        @dragenter.prevent="dropManager.handleDragEnterVerticalZone($event)"
        @dragleave="dropManager.handleDragLeaveVerticalZone($event)">
      <div class="verticalDropZoneIndicator"></div>
      <div v-if="groupColumnIndex < getGroupColumns().length - 1 && isManualGroupColumnWidthEnabled()"
           :class="['groupColumnResizeHandle', { 'resizing': isGroupColumnResizing && groupColumnResizeState.leftColumn === colIndex }]"
           role="separator"
           aria-orientation="vertical"
           :title="getTranslation('group.resizeWidth') || 'Drag to resize group column width'"
           @mousedown.stop.prevent="startGroupColumnResize($event, colIndex, getGroupColumns()[groupColumnIndex + 1])">
        <span v-if="isGroupColumnResizing && groupColumnResizeState.leftColumn === colIndex" class="groupColumnResizeReadout">
          {{ getGroupColumnWidthLabel(colIndex) }}
        </span>
      </div>
    </td>
    </template>
    </tr>
    </table>
    </div>
    <!-- End of Groups and Links Content Container -->

  <div id="groupMenu" class="context-menu mb-context-menu" :style="contextMenuStyle"
    :class="{ 'context-menu-visible': isGroupMenuVisible }">
    <ul v-if="contextGroup" class="mb-context-menu-list">
      <li @click="showGroupEditModal(contextGroup); hideMenus()">{{ getTranslation('menu.group.editGroup') }}</li>
      <li @click="duplicateGroup(contextGroup); hideMenus()">{{ getTranslation('menu.group.duplicate') }}</li>
      <li @click="openAddSeparatorDialog(contextGroup); hideMenus()">{{ getTranslation('menu.group.addSeparator') || 'Add separator' }}</li>
      <li @click="openAddNoteDialog(contextGroup); hideMenus()">{{ getTranslation('menu.group.addNote') || 'Add note' }}</li>
      <li class="submenu" tabindex="0">
        {{ getTranslation('menu.keywords') || 'Keywords' }}
        <ul class="context-submenu mb-context-submenu keyword-submenu">
          <li @click="openKeywordQuickDialogForGroup(contextGroup); hideMenus()">
            {{ getTranslation('menu.keyword.new') || 'New keyword' }}
          </li>
          <li class="separator mb-context-menu-separator"></li>
          <li v-if="getAssignedKeywordsForGroup(contextGroup).length === 0" class="disabled">
            {{ getTranslation('menu.keyword.noneAssigned') || 'No assigned keywords' }}
          </li>
          <li v-for="kw in getAssignedKeywordsForGroup(contextGroup)" :key="'group-menu-remove-kw-' + kw"
              @click="removeKeywordFromGroup(contextGroup, kw); hideMenus()">
            {{ (getTranslation('menu.keyword.remove') || 'Remove') + ': ' + kw }}
          </li>
          <li class="separator mb-context-menu-separator"></li>
          <li v-if="getAvailableKeywordsForGroup(contextGroup).length === 0" class="disabled">
            {{ getTranslation('menu.keyword.noneAvailable') || 'No remaining keywords' }}
          </li>
          <li v-for="kw in getAvailableKeywordsForGroup(contextGroup)" :key="'group-menu-add-kw-' + kw"
              @click="addKeywordToGroup(contextGroup, kw); hideMenus()">
            {{ (getTranslation('menu.keyword.add') || 'Add') + ': ' + kw }}
          </li>
        </ul>
      </li>
      <li v-if="shouldShowGroupSharingSection(contextGroup)" class="separator mb-context-menu-separator"></li>
      <li v-if="hasNtfyUrl() && hasConnectedContacts()" @click="shareGroup(contextGroup); hideMenus()">{{ getTranslation('menu.group.sendGroup') }}</li>
      <li v-if="hasNtfyUrl() && hasConnectedContacts() && (!contextGroup?.shared || isOwnerOfGroup(contextGroup))" @click="inviteMembers(contextGroup); hideMenus()">{{ getTranslation('menu.group.inviteMembers') }}</li>
      <li v-if="hasNtfyUrl() && contextGroup?.shared && isOwnerOfGroup(contextGroup)" @click="openOwnerTransferDialog(contextGroup); hideMenus()">{{ getTranslation('menu.group.transferOwnership') || 'Transfer ownership' }}</li>
      <li v-if="hasNtfyUrl() && hasConnectedContacts()" @click="openMembersModal(contextGroup); hideMenus()">{{ getTranslation('menu.group.members') }}</li>
      <li v-if="shouldShowGroupSharingSection(contextGroup)" class="separator mb-context-menu-separator"></li>
      <li class="submenu" tabindex="0">
        {{ getTranslation('menu.group.sort') || 'Sort links' }}
        <ul class="context-submenu mb-context-submenu">
          <li @click="sortGroupLinksByText(contextGroup, { strategy: 'within-columns', direction: 'asc', ignoreArticles: true }); hideMenus()">
            {{ getTranslation('menu.group.sort.withinColumns') || 'Within columns (AZ)' }}
          </li>
          <li @click="sortGroupLinksByText(contextGroup, { strategy: 'preserve-counts', direction: 'asc', ignoreArticles: true }); hideMenus()">
            {{ getTranslation('menu.group.sort.preserveCounts') || 'Global AZ, preserve column sizes' }}
          </li>
          <li @click="sortGroupLinksByText(contextGroup, { strategy: 'rebalance-columns', direction: 'asc', ignoreArticles: true }); hideMenus()">
            {{ getTranslation('menu.group.sort.rebalance') || 'Global AZ, rebalance columns' }}
          </li>
          <li class="separator mb-context-menu-separator"></li>
          <li @click="sortGroupLinksByText(contextGroup, { strategy: 'within-columns', direction: 'desc', ignoreArticles: true }); hideMenus()">
            {{ getTranslation('menu.group.sort.withinColumnsDesc') || 'Within columns (ZA)' }}
          </li>
          <li @click="sortGroupLinksByText(contextGroup, { strategy: 'preserve-counts', direction: 'desc', ignoreArticles: true }); hideMenus()">
            {{ getTranslation('menu.group.sort.preserveCountsDesc') || 'Global ZA, preserve column sizes' }}
          </li>
          <li @click="sortGroupLinksByText(contextGroup, { strategy: 'rebalance-columns', direction: 'desc', ignoreArticles: true }); hideMenus()">
            {{ getTranslation('menu.group.sort.rebalanceDesc') || 'Global ZA, rebalance columns' }}
          </li>
        </ul>
      </li>
      <li class="separator mb-context-menu-separator"></li>
      <li @click="inspectGroupJSON(contextGroup); hideMenus()">{{ getTranslation('menu.group.inspectJSON') || 'Inspect JSON' }}</li>
      <li class="separator mb-context-menu-separator"></li>
      <li v-if="cssSidebarVisible" class="submenu" tabindex="0">
        {{ getTranslation('menu.group.copyForCss') || 'Copy for CSS' }}
        <ul class="context-submenu mb-context-submenu">
          <li @click="copyGroupCssClass(contextGroup); hideMenus()">{{ getTranslation('menu.group.copyCssClass') || 'Copy CSS class' }}</li>
          <li @click="copyGroupUuid(contextGroup); hideMenus()">{{ getTranslation('menu.group.copyUuid') || 'Copy UUID' }}</li>
          <li @click="copyGroupUuid(contextGroup, {shiftKey: true}); hideMenus()">{{ getTranslation('menu.group.copyCssSelector') || 'Copy CSS selector [data-group-uuid]' }}</li>
        </ul>
      </li>
      <li v-if="cssSidebarVisible" class="separator mb-context-menu-separator"></li>
      <li v-if="contextGroup?.shared && !isOwnerOfGroup(contextGroup)" @click="delGroup(contextGroup); hideMenus()">{{ getTranslation('menu.group.leaveGroup') || 'Leave group' }}</li>
      <li v-if="isOwnerOfGroup(contextGroup)" @click="delGroup(contextGroup); hideMenus()">{{ getTranslation('group.deleteGroup') }}</li>
    </ul>
  </div>
  
  <!-- Visual CSS Editor Sidebar -->
  <div v-if="cssSidebarVisible"
       class="css-sidebar mb-css-sidebar visual-css-editor-sidebar sidebar-open"
       :class="{
         'resizing': isCssSidebarWidthResizing,
         'template-dark-active': selectedVisualTemplate === 'dark-mode'
       }"
       :style="{ width: cssSidebarWidth + 'px' }">
    <!-- Resize Handle -->
    <div class="css-sidebar-resize-handle" :class="{ 'resizing': isCssSidebarWidthResizing }" @mousedown="startCssSidebarWidthResize"></div>
    <div class="sidebar-header mb-css-sidebar-header">
      <h5 class="mb-css-sidebar-title">{{ getTranslation('css.visual.title') || 'Visual CSS Editor' }}</h5>
      <button type="button" class="btn-close mb-css-sidebar-close" @click="closeCssSidebar()" aria-label="Close"></button>
    </div>
    <div ref="cssSidebarSplitContainer" class="sidebar-split-container mb-css-sidebar-container">
      <div class="sidebar-top-section mb-css-sidebar-top" :style="{ height: cssSidebarTopHeight + 'px' }">
        <!-- Visual CSS Rules Editor -->
        <div class="visual-css-editor" style="height: 100%; overflow-y: auto; padding: 15px;">

        <!-- Template Selection -->
        <div class="template-section mb-3">
          <h6 class="mb-2">{{ getTranslation('css.visual.templates') || 'CSS Vorlagen' }}</h6>
          <select v-model="selectedVisualTemplate"
                  @change="loadVisualTemplate"
                  class="form-select form-select-sm">
            <option :value="null">{{ getTranslation('css.visual.selectTemplate') || '-- Vorlage whlen --' }}</option>
            <optgroup :label="getTranslation('css.visual.defaultTemplates') || 'Standard-Vorlagen'">
              <option value="dark-mode">Dark Mode</option>
              <option value="minimal">Minimal</option>
              <option value="colorful">Colorful</option>
            </optgroup>
          </select>
        </div>

        <!-- CSS Rules List -->
      <div class="css-rules-container">
        <h6 class="mb-3">{{ getTranslation('css.visual.rules') || 'CSS Regeln' }}</h6>

        <!-- Design Tokens -->
        <div class="mb-3 p-2 border rounded design-tokens-section" :class="{ 'collapsed': designTokensCollapsed }">
          <div class="d-flex align-items-center justify-content-between mb-2 design-tokens-header">
            <div class="d-flex align-items-center gap-2">
              <button @click="toggleDesignTokensCollapse"
                      class="btn btn-sm btn-link p-0"
                      :title="getTranslation('css.visual.toggleCollapse') || 'Ein-/Ausklappen'"
                      style="width: 20px;">
                <span v-if="!designTokensCollapsed"></span>
                <span v-else></span>
              </button>
              <strong class="mb-0">{{ getTranslation('css.visual.designTokens') || 'Design Tokens' }}</strong>
            </div>
            <button class="btn btn-sm btn-outline-primary" @click="addDesignToken">+
              {{ getTranslation('css.visual.addToken') || 'Token' }}</button>
          </div>
          <div v-show="!designTokensCollapsed">
            <div v-if="designTokens.length === 0" class="text-muted small mb-2">
              {{ getTranslation('css.visual.noTokens') || 'Noch keine Tokens. Fge welche hinzu (z. B. brand-primary (ohne --), #3b82f6)' }}
            </div>
            <div class="input-group input-group-sm mb-2" v-for="(t, ti) in designTokens" :key="'tok-'+ti">
              <span class="input-group-text">{{ getTranslation('css.visual.tokenName') || 'Name' }}</span>
              <input class="form-control"
                     :value="t.name"
                     @input="onTokenNameInput(t, $event)"
                     placeholder="token-name"
                     autocomplete="off"
                     spellcheck="false">
              <span class="input-group-text">{{ getTranslation('css.visual.tokenValue') || 'Wert' }}</span>
              <input class="form-control"
                     :class="{ 'is-invalid': !isTokenValueValid(t.value) }"
                     :value="t.value"
                     @input="onTokenValueInput(t, $event)"
                     placeholder="#rrggbb oder Wert"
                     autocomplete="off"
                     spellcheck="false">
              <span class="input-group-text p-0">
                <input type="color"
                       :value="getValidHexColor(t.value)"
                       @input="t.value = $event.target.value; saveDesignTokens()"
                       class="form-control form-control-color border-0"
                       style="width: 2rem; padding: 0;">
              </span>
              <button class="btn btn-outline-danger" @click="removeDesignToken(ti)"></button>
            </div>
            <div v-for="(t, ti) in designTokens" :key="'tokhint-'+ti"
                 v-if="!isTokenValueValid(t.value)"
                 class="invalid-feedback d-block small mt-1">
              {{ getTokenValidationHint(t.value) }}
            </div>
            <div class="small text-muted">
              {{ getTranslation('css.visual.tokensHint') || 'Tokens per Dropdown neben den Properties einsetzen (var(--token)).' }}
            </div>
          </div>
        </div>

          <!-- Rule Sets Management -->
          <div class="rule-sets-section mb-3">
            <div class="d-flex align-items-center gap-2 mb-2">
              <label class="form-label small mb-0 text-nowrap">{{ getTranslation('css.visual.ruleSets') || 'Regel-Stze' }}:</label>
              <select v-model="selectedRuleSetName"
                      @change="if(selectedRuleSetName) loadRuleSet(selectedRuleSetName)"
                      class="form-select form-select-sm flex-grow-1">
                <option :value="null">{{ getTranslation('css.visual.selectRuleSet') || '-- Whlen --' }}</option>
                <option v-for="(ruleSet, name) in customRuleSets"
                        :key="name"
                        :value="name">
                  {{ name }}
                </option>
              </select>
              <button @click="saveRuleSet"
                      class="btn btn-sm btn-outline-primary px-2"
                      :title="getTranslation('css.visual.saveCurrentRules') || 'Speichern'">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1H2z"/>
                </svg>
              </button>
              <button @click="if(selectedRuleSetName) deleteRuleSet(selectedRuleSetName)"
                      :disabled="!selectedRuleSetName"
                      class="btn btn-sm btn-outline-danger px-2"
                      :title="getTranslation('css.visual.deleteRuleSet') || 'Lschen'">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                  <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                </svg>
              </button>
            </div>
          </div>

          <!-- Collapse/Expand All Buttons -->
          <div class="d-flex gap-2 mb-2 align-items-center">
            <button @click="expandAllRules()"
                    class="btn btn-sm btn-outline-secondary"
                    :title="getTranslation('css.visual.expandAll') || 'Alle aufklappen'">
              
            </button>
            <button @click="collapseAllRules()"
                    class="btn btn-sm btn-outline-secondary"
                    :title="getTranslation('css.visual.collapseAll') || 'Alle zuklappen'">
              
            </button>
            <input
              v-model="rulesFilterQuery"
              type="text"
              class="form-control form-control-sm flex-grow-1"
              style="min-width: 0;"
              :placeholder="getTranslation('css.visual.searchRules') || 'Rules durchsuchen'"
            >
            
          </div>

          <!-- Each CSS Rule -->
          <div v-for="(rule, index) in visualCssRules"
               :key="rule.id"
               class="css-rule-card mb-3 p-3 border rounded"
               :class="{ 'opacity-50': !rule.enabled, 'collapsed': isRuleCollapsed(rule) }"
               v-show="matchesRuleSearch(rule)">

            <!-- Rule Header -->
            <div class="rule-header d-flex justify-content-between align-items-center mb-2">
              <div class="d-flex align-items-center flex-grow-1">
                <button @click="toggleRuleCollapse(rule)"
                        class="btn btn-sm btn-link p-0 me-2"
                        :title="getTranslation('css.visual.toggleCollapse') || 'Ein-/Ausklappen'"
                        style="width: 20px;">
                  <span v-if="!isRuleCollapsed(rule)"></span>
                  <span v-else></span>
                </button>
                <div v-if="editingRuleId !== rule.id"
                     @dblclick="startEditingRuleName(rule)"
                     class="rule-number fw-bold"
                     style="cursor: pointer;"
                     :title="getTranslation('css.visual.doubleClickToEdit') || 'Doppelklick zum Bearbeiten'">
                  {{ rule.name || `${getTranslation('css.visual.rule') || 'Regel'} ${index + 1}` }}
                </div>
                <input v-else
                       v-model="editingRuleName"
                       @blur="saveRuleName(rule)"
                       @keyup.enter="saveRuleName(rule)"
                       @keyup.esc="cancelEditingRuleName()"
                       class="form-control form-control-sm"
                       style="max-width: 200px;"
                       type="text"
                       ref="ruleNameInput">
                <span v-if="!getRuleSelector(rule).base"
                      class="badge bg-warning text-dark ms-2"
                      :title="getTranslation('css.visual.selectElement') || '-- Element whlen --'">
                  {{ getTranslation('css.visual.selectElementShort') || 'Element whlen' }}
                </span>
              </div>
              <div class="rule-actions btn-group btn-group-sm">
                <button @click="startElementPicker(rule)"
                        class="btn btn-outline-secondary"
                        :class="{ active: elementPickerActive && currentPickerRule && currentPickerRule.id === rule.id }"
                        :title="getTranslation('css.visual.pickElement') || 'Element whlen'"></button>
                <button @click="moveCssRuleUp(index)"
                        class="btn btn-outline-secondary"
                        :disabled="index === 0"
                        :title="getTranslation('css.visual.moveUp') || 'Nach oben'"></button>
                <button @click="moveCssRuleDown(index)"
                        class="btn btn-outline-secondary"
                        :disabled="index === visualCssRules.length - 1"
                        :title="getTranslation('css.visual.moveDown') || 'Nach unten'"></button>
                <button @click="toggleCssRule(rule)"
                        class="btn btn-outline-secondary"
                        :title="rule.enabled ? getTranslation('css.visual.deactivate') : getTranslation('css.visual.activate')">
                  {{ rule.enabled ? '' : '' }}
                </button>
                <button @click="duplicateCssRule(rule)"
                        class="btn btn-outline-secondary"
                        :title="getTranslation('css.visual.duplicate') || 'Duplizieren'"></button>
                <button @click="deleteCssRule(rule)"
                        class="btn btn-outline-danger"
                        :title="getTranslation('css.visual.delete') || 'Lschen'"></button>
              </div>
            </div>

            <!-- Rule Content (Collapsible) -->
            <div v-show="!isRuleCollapsed(rule)">
              <!-- Selector Dropdowns -->
              <div class="selector-section mb-3">
              <!-- Base Selector -->
              <div class="selector-row mb-2 d-flex align-items-center">
                <label class="form-label small mb-0 me-2" style="min-width: 60px;">{{ getTranslation('css.visual.element') || 'Element' }}:</label>
                <select v-model="rule.selector.base"
                        @change="updateRuleBase(rule, $event)"
                        :ref="'baseSelector-' + rule.id"
                        class="form-select form-select-sm flex-grow-1">
                  <option value="">{{ getTranslation('css.visual.selectElement') || '-- Element whlen --' }}</option>
                  <optgroup :label="getTranslation('css.visual.appLevel') || 'App-Ebene'">
                    <option value="app">App Container</option>
                    <option value="header">Header</option>
                    <option value="toolbar">Toolbar</option>
                    <option value="footer">Footer</option>
                    <option value="groups-links-container">Groups & Links Container</option>
                  </optgroup>
                  <optgroup :label="getTranslation('css.visual.uiPrimitives') || 'UI Primitives'">
                    <option value="body">Body</option>
                    <option value="modal">Modal Container</option>
                    <option value="modal-header">Modal Header</option>
                    <option value="modal-body">Modal Body</option>
                    <option value="modal-footer">Modal Footer</option>
                    <option value="css-sidebar">CSS Sidebar</option>
                    <option value="feature-sidebar">Feature Sidebar</option>
                    <option value="sidebar-header">Sidebar Header</option>
                    <option value="sidebar-top-section">Sidebar Top Section</option>
                    <option value="sidebar-bottom-section">Sidebar Bottom Section</option>
                    <option value="sidebar-divider">Sidebar Divider</option>
                    <option value="card">Card</option>
                    <option value="card-header">Card Header</option>
                    <option value="list-group-item">List Item</option>
                    <option value="table">Table</option>
                    <option value="table-header">Table Header Cells</option>
                    <option value="table-cell">Table Cells</option>
                    <option value="form-control">Textbox / Input</option>
                    <option value="form-select">Select Box</option>
                    <option value="input-group-text">Input Prefix / Label</option>
                    <option value="form-check-input">Checkbox / Radio</option>
                    <option value="dropdown-menu">Dropdown Menu</option>
                    <option value="dropdown-item">Dropdown Item</option>
                    <option value="context-menu">Context Menu</option>
                    <option value="context-menu-item">Context Menu Item</option>
                    <option value="alert-info">Info Alert</option>
                    <option value="alert-warning">Warning Alert</option>
                    <option value="surface-panel">Surface Panel</option>
                    <option value="muted-text">Muted Text</option>
                  </optgroup>
                  <optgroup :label="getTranslation('css.visual.groupLevel') || 'Gruppen-Ebene'">
                    <option value="groups">{{ getTranslation('css.visual.allGroups') || 'Alle Gruppen' }}</option>
                    <option value="group-header">{{ getTranslation('css.visual.groupHeader') || 'Gruppen Header' }}</option>
                    <option value="group-title">{{ getTranslation('css.visual.groupTitle') || 'Gruppen Titel' }}</option>
                    <option value="group-body">{{ getTranslation('css.visual.groupContent') || 'Gruppen Inhalt' }}</option>
                    <option value="vertical-dropzone">Gruppen-Spalten Dropzone (vertikal)</option>
                    <option value="group-horizontal-dropzone">Gruppen Dropzone (horizontal)</option>
                  </optgroup>
                  <optgroup :label="getTranslation('css.visual.linkLevel') || 'Link-Ebene'">
                    <option value="links">{{ getTranslation('css.visual.allLinks') || 'Alle Links' }}</option>
                    <option value="separators">{{ getTranslation('css.visual.allSeparators') || 'Alle Trenner' }}</option>
                    <option value="notes">{{ getTranslation('css.visual.allNotes') || 'Alle Notizen' }}</option>
                    <option value="link-hover">{{ getTranslation('css.visual.linkHover') || 'Link (Hover)' }}</option>
                    <option value="link-anchor">{{ getTranslation('css.visual.linkAnchor') || 'Link Anchor' }}</option>
                    <option value="link-url">{{ getTranslation('css.visual.linkUrl') || 'Link URL' }}</option>
                    <option value="link-icon">{{ getTranslation('css.visual.linkIcon') || 'Link Icon' }}</option>
                    <option value="link-vertical-dropzone">Link-Spalten Dropzone (vertikal)</option>
                    <option value="link-horizontal-dropzone">Link Dropzone (horizontal)</option>
                  </optgroup>
                  <optgroup :label="getTranslation('css.visual.popoverLevel') || 'Link-Popover'">
                    <option value="link-popover">{{ getTranslation('css.visual.linkPopover') || 'Popover Container' }}</option>
                    <option value="link-popover-title">{{ getTranslation('css.visual.linkPopoverTitle') || 'Popover Titelzeile' }}</option>
                    <option value="link-popover-url">{{ getTranslation('css.visual.linkPopoverUrl') || 'Popover URL' }}</option>
                    <option value="link-popover-meta">{{ getTranslation('css.visual.linkPopoverMeta') || 'Popover Metadaten' }}</option>
                    <option value="link-popover-row">{{ getTranslation('css.visual.linkPopoverRow') || 'Popover Zeile' }}</option>
                    <option value="link-popover-label">{{ getTranslation('css.visual.linkPopoverLabel') || 'Popover Label' }}</option>
                    <option value="link-popover-value">{{ getTranslation('css.visual.linkPopoverValue') || 'Popover Wert' }}</option>
                    <option value="link-popover-value-muted">{{ getTranslation('css.visual.linkPopoverValueMuted') || 'Popover Wert (relativ)' }}</option>
                    <option value="link-popover-keywords">{{ getTranslation('css.visual.linkPopoverKeywords') || 'Popover Keywords' }}</option>
                    <option value="link-popover-badge">{{ getTranslation('css.visual.linkPopoverBadge') || 'Popover Keyword Badge' }}</option>
                    <option value="link-popover-favicon">{{ getTranslation('css.visual.linkPopoverFavicon') || 'Popover Favicon' }}</option>
                  </optgroup>
                  <optgroup :label="getTranslation('css.visual.keywords') || 'Keywords'">
                    <option value="keywords">{{ getTranslation('css.visual.allKeywords') || 'Alle Keywords (Keyword-Bar)' }}</option>
                    <option value="keywords-selected">{{ getTranslation('css.visual.selectedKeywords') || 'Selected Keywords (Keyword Bar)' }}</option>
                    <option value="keyword-selected-text">{{ getTranslation('css.visual.selectedKeywordText') || 'Selected Keyword Text' }}</option>
                    <option value="keywords-hierarchical">{{ getTranslation('css.visual.keywordsHierarchical') || 'Keywords (Hierarchisch)' }}</option>
                    <option value="keyword-by-name">{{ getTranslation('css.visual.keywordByName') || 'Keyword nach Name' }}</option>
                    <option value="keyword-suggestions">{{ getTranslation('css.visual.keywordSuggestions') || 'Keyword Suggestions List' }}</option>
                    <option value="keyword-suggestion-item">{{ getTranslation('css.visual.keywordSuggestionItem') || 'Keyword Suggestion Item' }}</option>
                  </optgroup>
                </select>
              </div>

              <!-- Pseudo State Selector -->
              <div v-if="getRuleSelector(rule).base"
                   class="selector-row mb-2 d-flex align-items-center">
                <label class="form-label small mb-0 me-2" style="min-width: 60px;">{{ getTranslation('css.visual.state') || 'Zustand' }}:</label>
                <div class="d-flex align-items-center flex-wrap gap-3">
                  <div class="form-check form-switch mb-0">
                    <input :id="'hover-state-' + rule.id"
                           class="form-check-input"
                           type="checkbox"
                           :checked="getRuleSelector(rule).base === 'link-hover' ? true : !!getRuleSelector(rule).hover"
                           :disabled="getRuleSelector(rule).base === 'link-hover'"
                           @change="updateRuleHover(rule, $event)">
                    <label class="form-check-label small"
                           :for="'hover-state-' + rule.id">
                      {{ getTranslation('css.visual.hoverState') || 'Hover (:hover)' }}
                    </label>
                  </div>
                  <div class="form-check form-switch mb-0">
                    <input :id="'drag-over-state-' + rule.id"
                           class="form-check-input"
                           type="checkbox"
                           :checked="!!getRuleSelector(rule).dragOver"
                           @change="updateRuleDragOver(rule, $event)">
                    <label class="form-check-label small"
                           :for="'drag-over-state-' + rule.id">
                      {{ getTranslation('css.visual.dragOverState') || 'Drag Over (.drag-over-active)' }}
                    </label>
                  </div>
                </div>
              </div>

              <!-- Group Selector (conditional) -->
              <div v-if="canSelectGroup(rule)"
                   class="selector-row mb-2 d-flex align-items-center">
                <label class="form-label small mb-0 me-2" style="min-width: 60px;">{{ getTranslation('css.visual.group') || 'Gruppe' }}:</label>
                <select :value="getRuleSelector(rule).groupId"
                        @change="updateRuleGroupId(rule, $event)"
                        class="form-select form-select-sm flex-grow-1">
                  <option :value="null">{{ getTranslation('css.visual.selectGroup') || '-- Alle Gruppen --' }}</option>
                  <option v-for="group in data.groups"
                          :key="group.id || group.uuid"
                          :value="group.id || group.uuid">
                    {{ group.name }}
                  </option>
                </select>
              </div>

              <!-- Link Selector (conditional) -->
              <div v-if="canSelectLink(rule)"
                   class="selector-row mb-2 d-flex align-items-center">
                <label class="form-label small mb-0 me-2" style="min-width: 60px;">
                  {{ getRuleSelector(rule).base === 'separators'
                    ? (getTranslation('css.visual.separatorShort') || 'Sep.')
                    : (getRuleSelector(rule).base === 'notes'
                      ? (getTranslation('css.visual.noteShort') || 'Note')
                      : (getTranslation('css.visual.link') || 'Link')) }}:
                </label>
                <select :value="getRuleSelector(rule).linkId"
                        @change="updateRuleLinkId(rule, $event)"
                        class="form-select form-select-sm flex-grow-1">
                  <option :value="null">
                    {{ getRuleSelector(rule).base === 'separators'
                      ? (getTranslation('css.visual.selectSeparator') || '-- Alle Trenner --')
                      : (getRuleSelector(rule).base === 'notes'
                        ? (getTranslation('css.visual.selectNote') || '-- Alle Notizen --')
                        : (getTranslation('css.visual.selectLink') || '-- Alle Links --')) }}
                  </option>
                  <option v-for="link in getLinksForRule(rule)"
                          :key="link.id || link.uuid"
                          :value="link.id || link.uuid">
                    {{ getCssRuleLinkLabel(link) }}
                  </option>
                </select>
              </div>

              <!-- Keyword Selector (for keyword selectors) -->
              <div v-if="getRuleSelector(rule).base === 'keyword-by-name' ||
                         getRuleSelector(rule).base === 'keywords-hierarchical'"
                   class="selector-row mb-2 d-flex align-items-center">
                <label class="form-label small mb-0 me-2" style="min-width: 60px;">{{ getTranslation('css.visual.keyword') || 'Keyword' }}:</label>
                <select :value="getRuleSelector(rule).keywordSlug || ''"
                        @change="updateRuleKeywordSlug(rule, $event)"
                        class="form-select form-select-sm flex-grow-1">
                  <option value="">-- Alle Keywords --</option>
                  <option v-for="kw in getKeywordsForRule(rule)"
                          :key="keywordSlug(kw)"
                          :value="keywordSlug(kw)">
                    {{ kw }}
                  </option>
                </select>
              </div>
            </div>

            <!-- CSS Properties -->
            <div class="properties-section">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <label class="form-label small mb-0">{{ getTranslation('css.visual.properties') || 'CSS Eigenschaften' }}:</label>
                <button v-if="Object.keys(rule.properties).length > 0 || rule.customCss"
                        @click="clearRuleProperties(rule)"
                        class="btn btn-sm btn-outline-danger px-2"
                        :title="getTranslation('css.visual.clearPropertiesTitle') || 'Alle Eigenschaften dieser Regel lschen'">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                  </svg>
                  {{ getTranslation('css.visual.clearProperties') || 'Eigenschaften lschen' }}
                </button>
              </div>
              <div class="properties-grid">
                <!-- Existing Properties as Bootstrap 5 Input Groups -->
                <div v-for="(value, prop) in rule.properties"
                     :key="prop"
                     class="property-item mb-2"
                     :class="{
                       'opacity-50': isPropertyDisabled(rule, prop),
                       'property-editor-active': isCssPropertyEditorTarget(rule, prop)
                     }">
                  <!-- Custom CSS (multiline) with delete button -->
                  <div v-if="prop === 'custom'">
                    <div class="d-flex justify-content-between align-items-center mb-1">
                      <label class="form-label small mb-0">{{ formatPropertyName(prop) }}</label>
                      <button type="button" @click="removeProperty(rule, 'custom')"
                              class="btn btn-sm btn-outline-danger px-2"></button>
                    </div>
                    <textarea
                      :id="'prop-' + rule.id + '-' + prop"
                      v-model="rule.properties[prop]"
                      @input="saveVisualCss"
                      class="form-control form-control-sm"
                      style="height: 84px; font-family: monospace; font-size: 12px;"
                      :placeholder="getTranslation('css.visual.customPropertiesHint') || 'z.B. display: flex;\njustify-content: center;'">
                    </textarea>
                  </div>

                  <!-- Color property: text + color picker + token + important + remove in one input-group -->
                  <div v-else-if="isColorProperty(prop)">
                    <div class="input-group input-group-sm">
                      <span class="input-group-text">{{ formatPropertyName(prop) }}</span>
                      <input
                        :id="'prop-' + rule.id + '-' + prop"
                        type="text"
                        v-model="rule.properties[prop]"
                        @input="saveVisualCss"
                        @blur="validateProperty(rule, prop)"
                        class="form-control"
                        :class="{ 'is-invalid': !isPropertyValid(rule, prop) }"
                        :placeholder="getTranslation('css.visual.valuePlaceholder') || 'Wert eingeben (z. B. #ff0000, rgb(), var(--...))'">
                      <button type="button"
                              class="btn btn-outline-secondary"
                              @click.stop="openCssPropertyEditor(rule, prop)"
                              :title="getTranslation('css.visual.openFormatEditor') || 'Open property format editor'">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zm-4.796 3.246a4.796 4.796 0 1 1 9.592 0 4.796 4.796 0 0 1-9.592 0z"/>
                          <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a1.873 1.873 0 0 1-2.547 1.136l-.29-.15c-1.64-.85-3.433.943-2.582 2.582l.15.29a1.873 1.873 0 0 1-1.136 2.547l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a1.873 1.873 0 0 1 1.136 2.547l-.15.29c-.851 1.64.943 3.434 2.582 2.582l.29-.15a1.873 1.873 0 0 1 2.547 1.136l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a1.873 1.873 0 0 1 2.547-1.136l.29.15c1.64.852 3.433-.943 2.582-2.582l-.15-.29a1.873 1.873 0 0 1 1.136-2.547l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a1.873 1.873 0 0 1-1.136-2.547l.15-.29c.851-1.64-.943-3.433-2.582-2.582l-.29.15a1.873 1.873 0 0 1-2.547-1.136l-.094-.319z"/>
                        </svg>
                      </button>
                      <span class="input-group-text p-0">
                        <input type="color"
                               :value="getValidHexColor(rule.properties[prop])"
                               @input="onColorPickerChange(rule, prop, $event)"
                               class="form-control form-control-color border-0"
                               style="width: 2rem; padding: 0;">
                      </span>
                      <select class="form-select" style="max-width: 170px;"
                              @change="applyTokenToProperty(rule, prop, $event.target.value)">
                        <option value="">{{ getTranslation('css.visual.tokensSelect') || '-- Token whlen --' }}</option>
                        <option v-for="t in designTokens" :value="t.name">{{ t.name }}</option>
                      </select>
                      <span class="input-group-text">
                        <input type="checkbox"
                               :id="'important-' + rule.id + '-' + prop"
                               class="form-check-input mt-0"
                               :checked="getPropertyImportant(rule, prop)"
                               @change="togglePropertyImportant(rule, prop)"
                               :title="getTranslation('css.visual.importantHint') || 'Override other styles with !important'">
                      </span>
                      <button @click="togglePropertyDisabled(rule, prop)"
                              class="btn btn-outline-secondary"
                              :title="isPropertyDisabled(rule, prop) ? (getTranslation('css.visual.activateProperty') || 'Aktivieren') : (getTranslation('css.visual.deactivateProperty') || 'Deaktivieren')">
                        {{ isPropertyDisabled(rule, prop) ? '' : '' }}
                      </button>
                      <button @click="removeProperty(rule, prop)"
                              class="btn btn-outline-danger"></button>
                    </div>
                    <div v-if="!isPropertyValid(rule, prop)"
                         class="invalid-feedback d-block small mt-1">
                      {{ getPropertyValidationHint(rule, prop) }}
                    </div>
                  </div>

                  <!-- Default text property -->
                  <div v-else class="input-group input-group-sm">
                    <span class="input-group-text">{{ formatPropertyName(prop) }}</span>
                    <input
                      :id="'prop-' + rule.id + '-' + prop"
                      type="text"
                      v-model="rule.properties[prop]"
                      @input="saveVisualCss"
                      @blur="validateProperty(rule, prop)"
                      class="form-control"
                      :class="{ 'is-invalid': !isPropertyValid(rule, prop) }"
                      :placeholder="getTranslation('css.visual.valuePlaceholder') || 'Wert eingeben'">
                    <button type="button"
                            class="btn btn-outline-secondary"
                            @click.stop="openCssPropertyEditor(rule, prop)"
                            :title="getTranslation('css.visual.openFormatEditor') || 'Open property format editor'">
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zm-4.796 3.246a4.796 4.796 0 1 1 9.592 0 4.796 4.796 0 0 1-9.592 0z"/>
                        <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a1.873 1.873 0 0 1-2.547 1.136l-.29-.15c-1.64-.85-3.433.943-2.582 2.582l.15.29a1.873 1.873 0 0 1-1.136 2.547l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a1.873 1.873 0 0 1 1.136 2.547l-.15.29c-.851 1.64.943 3.434 2.582 2.582l.29-.15a1.873 1.873 0 0 1 2.547 1.136l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a1.873 1.873 0 0 1 2.547-1.136l.29.15c1.64.852 3.433-.943 2.582-2.582l-.15-.29a1.873 1.873 0 0 1 1.136-2.547l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a1.873 1.873 0 0 1-1.136-2.547l.15-.29c.851-1.64-.943-3.433-2.582-2.582l-.29.15a1.873 1.873 0 0 1-2.547-1.136l-.094-.319z"/>
                      </svg>
                    </button>
                    <select class="form-select" style="max-width: 170px;"
                            @change="applyTokenToProperty(rule, prop, $event.target.value)">
                      <option value="">{{ getTranslation('css.visual.tokensSelect') || '-- Token whlen --' }}</option>
                      <option v-for="t in designTokens" :value="t.name">{{ t.name }}</option>
                    </select>
                    <span class="input-group-text">
                      <input type="checkbox"
                             :id="'important-' + rule.id + '-' + prop"
                             class="form-check-input mt-0"
                             :checked="getPropertyImportant(rule, prop)"
                             @change="togglePropertyImportant(rule, prop)"
                             :title="getTranslation('css.visual.importantHint') || 'Override other styles with !important'">
                    </span>
                    <button @click="togglePropertyDisabled(rule, prop)"
                            class="btn btn-outline-secondary"
                            :title="isPropertyDisabled(rule, prop) ? (getTranslation('css.visual.activateProperty') || 'Aktivieren') : (getTranslation('css.visual.deactivateProperty') || 'Deaktivieren')">
                      {{ isPropertyDisabled(rule, prop) ? '' : '' }}
                    </button>
                    <button @click="removeProperty(rule, prop)"
                            class="btn btn-outline-danger"></button>
                  </div>
                  <div v-if="prop !== 'custom' && !isColorProperty(prop) && !isPropertyValid(rule, prop)"
                       class="invalid-feedback d-block small mt-1">
                    {{ getPropertyValidationHint(rule, prop) }}
                  </div>
                </div>

                <!-- Add New Property -->
                <div class="property-add">
                  <select @change.stop="addPropertyToRule(rule, $event)"
                          class="form-select form-select-sm">
                    <option value="">{{ getTranslation('css.visual.addProperty') || '+ Eigenschaft hinzufgen...' }}</option>
                    <option value="custom" :disabled="isPropertyInRule(rule, 'custom')">{{ getTranslation('css.visual.customCss') || 'Custom CSS' }}</option>
                    <optgroup :label="getTranslation('css.visual.colors') || 'Farben'">
                      <option value="background" :disabled="isPropertyInRule(rule, 'background')">{{ getTranslation('css.background') || 'Hintergrund' }}</option>
                      <option value="background-color" :disabled="isPropertyInRule(rule, 'background-color')">{{ getTranslation('css.backgroundColor') || 'Hintergrundfarbe' }}</option>
                      <option value="color" :disabled="isPropertyInRule(rule, 'color')">{{ getTranslation('css.textColor') || 'Textfarbe' }}</option>
                      <option value="border-color" :disabled="isPropertyInRule(rule, 'border-color')">{{ getTranslation('css.borderColor') || 'Rahmenfarbe' }}</option>
                    </optgroup>
                    <optgroup :label="getTranslation('css.visual.borders') || 'Rahmen (Border)'">
                      <option value="border" :disabled="isPropertyInRule(rule, 'border')">{{ getTranslation('css.border') || 'Rahmen' }} ({{ getTranslation('css.visual.complete') || 'komplett' }})</option>
                      <option value="border-width" :disabled="isPropertyInRule(rule, 'border-width')">{{ getTranslation('css.borderWidth') || 'Rahmenbreite' }}</option>
                      <option value="border-style" :disabled="isPropertyInRule(rule, 'border-style')">{{ getTranslation('css.borderStyle') || 'Rahmenstil' }}</option>
                      <option value="border-radius" :disabled="isPropertyInRule(rule, 'border-radius')">{{ getTranslation('css.borderRadius') || 'Eckenradius' }}</option>
                      <option value="border-top">{{ getTranslation('css.border') || 'Rahmen' }} {{ getTranslation('css.top') || 'oben' }}</option>
                      <option value="border-right">{{ getTranslation('css.border') || 'Rahmen' }} {{ getTranslation('css.right') || 'rechts' }}</option>
                      <option value="border-bottom">{{ getTranslation('css.border') || 'Rahmen' }} {{ getTranslation('css.bottom') || 'unten' }}</option>
                      <option value="border-left">{{ getTranslation('css.border') || 'Rahmen' }} {{ getTranslation('css.left') || 'links' }}</option>
                      <option value="border-top-width">{{ getTranslation('css.borderWidth') || 'Rahmenbreite' }} {{ getTranslation('css.top') || 'oben' }}</option>
                      <option value="border-right-width">{{ getTranslation('css.borderWidth') || 'Rahmenbreite' }} {{ getTranslation('css.right') || 'rechts' }}</option>
                      <option value="border-bottom-width">{{ getTranslation('css.borderWidth') || 'Rahmenbreite' }} {{ getTranslation('css.bottom') || 'unten' }}</option>
                      <option value="border-left-width">{{ getTranslation('css.borderWidth') || 'Rahmenbreite' }} {{ getTranslation('css.left') || 'links' }}</option>
                      <option value="border-top-style">{{ getTranslation('css.borderStyle') || 'Rahmenstil' }} {{ getTranslation('css.top') || 'oben' }}</option>
                      <option value="border-right-style">{{ getTranslation('css.borderStyle') || 'Rahmenstil' }} {{ getTranslation('css.right') || 'rechts' }}</option>
                      <option value="border-bottom-style">{{ getTranslation('css.borderStyle') || 'Rahmenstil' }} {{ getTranslation('css.bottom') || 'unten' }}</option>
                      <option value="border-left-style">{{ getTranslation('css.borderStyle') || 'Rahmenstil' }} {{ getTranslation('css.left') || 'links' }}</option>
                      <option value="border-top-color">{{ getTranslation('css.borderColor') || 'Rahmenfarbe' }} {{ getTranslation('css.top') || 'oben' }}</option>
                      <option value="border-right-color">{{ getTranslation('css.borderColor') || 'Rahmenfarbe' }} {{ getTranslation('css.right') || 'rechts' }}</option>
                      <option value="border-bottom-color">{{ getTranslation('css.borderColor') || 'Rahmenfarbe' }} {{ getTranslation('css.bottom') || 'unten' }}</option>
                      <option value="border-left-color">{{ getTranslation('css.borderColor') || 'Rahmenfarbe' }} {{ getTranslation('css.left') || 'links' }}</option>
                      <option value="border-top-left-radius">{{ getTranslation('css.borderRadius') || 'Eckenradius' }} {{ getTranslation('css.topLeft') || 'oben links' }}</option>
                      <option value="border-top-right-radius">{{ getTranslation('css.borderRadius') || 'Eckenradius' }} {{ getTranslation('css.topRight') || 'oben rechts' }}</option>
                      <option value="border-bottom-left-radius">{{ getTranslation('css.borderRadius') || 'Eckenradius' }} {{ getTranslation('css.bottomLeft') || 'unten links' }}</option>
                      <option value="border-bottom-right-radius">{{ getTranslation('css.borderRadius') || 'Eckenradius' }} {{ getTranslation('css.bottomRight') || 'unten rechts' }}</option>
                      <option value="outline">{{ getTranslation('css.outline') || 'Umrisslinie' }}</option>
                      <option value="outline-width">{{ getTranslation('css.outlineWidth') || 'Umrissbreite' }}</option>
                      <option value="outline-style">{{ getTranslation('css.outlineStyle') || 'Umrissstil' }}</option>
                      <option value="outline-color">{{ getTranslation('css.outlineColor') || 'Umrissfarbe' }}</option>
                      <option value="outline-offset">{{ getTranslation('css.outlineOffset') || 'Umrissabstand' }}</option>
                    </optgroup>
                    <optgroup :label="getTranslation('css.visual.sizes') || 'Gren'">
                      <option value="font-size">{{ getTranslation('css.fontSize') || 'Schriftgre' }}</option>
                      <option value="padding">{{ getTranslation('css.padding') || 'Innenabstand' }}</option>
                      <option value="margin">{{ getTranslation('css.margin') || 'Auenabstand' }}</option>
                      <option value="width">{{ getTranslation('css.width') || 'Breite' }}</option>
                      <option value="height">{{ getTranslation('css.height') || 'Hhe' }}</option>
                    </optgroup>
                    <optgroup :label="getTranslation('css.visual.effects') || 'Effekte'">
                      <option value="box-shadow">{{ getTranslation('css.boxShadow') || 'Schatten' }}</option>
                      <option value="opacity">{{ getTranslation('css.opacity') || 'Transparenz' }}</option>
                    </optgroup>
                    <optgroup :label="getTranslation('css.visual.typography') || 'Text'">
                      <option value="font-family">{{ getTranslation('css.fontFamily') || 'Schriftfamilie' }}</option>
                      <option value="font-weight">{{ getTranslation('css.fontWeight') || 'Schriftstrke' }}</option>
                      <option value="text-decoration">{{ getTranslation('css.textDecoration') || 'Textdekoration' }}</option>
                      <option value="text-align">{{ getTranslation('css.textAlign') || 'Textausrichtung' }}</option>
                    </optgroup>
                  </select>
                </div>

                <!-- Apply preset to rule -->
                <div class="property-add mt-2">
                  <select @change="applyPresetToRule(rule, $event)" class="form-select form-select-sm">
                    <option value="">{{ getTranslation('css.visual.applyPreset') || 'Preset anwenden' }}</option>
                    <option v-for="p in cssPresets" :value="p.id">{{ p.name }}</option>
                  </select>
                </div>

                
              </div>
            </div>

            
            </div> <!-- End of collapsible content -->
          </div>

          <!-- Add New Rule and Clear All Buttons -->
          <div class="d-flex gap-2 mb-3">
            <button @click="addNewCssRule" class="btn btn-success flex-grow-1">
              + {{ getTranslation('css.visual.addRule') || 'Neue CSS Regel hinzufgen' }}
            </button>
            <button @click="clearAllCssSettings"
                    class="btn btn-outline-danger"
                    :title="getTranslation('css.visual.clearAllTooltip') || 'Alle CSS Einstellungen lschen'">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414l-3.879-3.879zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/>
              </svg>
              {{ getTranslation('css.visual.clearAll') || 'Alles lschen' }}
            </button>
          </div>
        </div>

        

        <!-- Migration Notice (if old CSS exists) -->
          <div v-if="showMigrationNotice" class="alert alert-info mt-3">
            {{ getTranslation('css.visual.migrationNotice') || 'Hinweis: Ihr bisheriges Custom CSS wurde importiert. Sie knnen es oben als "Legacy CSS" Regel bearbeiten oder lschen.' }}
          </div>
        </div>
      </div>

      <div class="sidebar-divider mb-css-sidebar-divider"
           :class="{ 'resizing': isCssSidebarResizing }"
           @mousedown="startCssSidebarResize"></div>

      <div class="sidebar-bottom-section mb-css-property-editor">
        <div class="editor-header mb-css-property-editor-header">
          <div>
            <strong>{{ getTranslation('css.visual.formatEditor') || 'Property Format Editor' }}</strong>
            <div class="small text-muted" v-if="cssPropertyEditor.property && cssPropertyEditorRule">
              {{ formatPropertyName(cssPropertyEditor.property) }}
              <span class="mx-1"></span>
              {{ cssPropertyEditorRule.name || ((getTranslation('css.visual.rule') || 'Rule') + ' ' + ((visualCssRules.indexOf(cssPropertyEditorRule) || 0) + 1)) }}
            </div>
          </div>
          <button type="button"
                  class="btn btn-sm btn-outline-secondary"
                  :disabled="!cssPropertyEditor.property"
                  @click="clearCssPropertyEditorSelection"
                  :title="getTranslation('close') || 'Close'">
            
          </button>
        </div>
        <div class="editor-content mb-css-property-editor-content">
          <div v-if="!cssPropertyEditor.property || !cssPropertyEditorRule" class="text-muted small">
            {{ getTranslation('css.visual.formatEditorNoSelection') || 'Select a property with the gear button next to "Enter value...".' }}
          </div>
          <div v-else>
            <div class="options-section mb-edit-section mb-2">
              <div class="options-section-header mb-edit-section-header"
                   :class="{ collapsed: !isCssPropertyEditorSectionExpanded('basic') }"
                   @click="toggleCssPropertyEditorSection('basic')">
                <span>{{ getTranslation('css.visual.formatEditorBasic') || 'Basic' }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              <div v-show="isCssPropertyEditorSectionExpanded('basic')" class="options-section-body mb-edit-section-body">
                <div class="small mb-1"><strong>{{ getTranslation('css.visual.formatEditorProperty') || 'Property' }}:</strong> <code>{{ cssPropertyEditor.property }}</code></div>
                <div class="small mb-1"><strong>{{ getTranslation('css.visual.formatEditorType') || 'Type' }}:</strong> {{ getCssPropertySchema(cssPropertyEditor.property).kind }}</div>
                <div class="small mb-0"><strong>{{ getTranslation('css.visual.formatEditorPreview') || 'Preview' }}:</strong> <code>{{ getCssPropertyEditorPreviewValue() || '' }}</code></div>
              </div>
            </div>

            <div class="options-section mb-edit-section mb-2">
              <div class="options-section-header mb-edit-section-header"
                   :class="{ collapsed: !isCssPropertyEditorSectionExpanded('value') }"
                   @click="toggleCssPropertyEditorSection('value')">
                <span>{{ getTranslation('css.visual.formatEditorValue') || 'Value Builder' }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              <div v-show="isCssPropertyEditorSectionExpanded('value')" class="options-section-body mb-edit-section-body">
                <div v-if="cssPropertyEditor.useRawValue" class="small text-muted">
                  {{ getTranslation('css.visual.formatEditorRawEnabled') || 'Raw mode enabled. Disable it to use guided controls.' }}
                </div>

                <div v-else-if="getCssPropertySchema(cssPropertyEditor.property).kind === 'color'" class="row g-2">
                  <div class="col-5">
                    <label class="form-label small mb-1">{{ getTranslation('css.visual.color') || 'Color' }}</label>
                    <input type="color" class="form-control form-control-color"
                           :value="cssPropertyEditor.model.color"
                           @input="onCssPropertyEditorColorInput($event.target.value)">
                  </div>
                  <div class="col-7">
                    <label class="form-label small mb-1">{{ getTranslation('css.visual.alpha') || 'Alpha' }}</label>
                    <input type="range" min="0" max="1" step="0.01" class="form-range"
                           v-model.number="cssPropertyEditor.model.alpha"
                           @input="onCssPropertyEditorModelChange">
                  </div>
                  <div class="col-12" v-if="(designTokens || []).length > 0">
                    <label class="form-label small mb-1">{{ getTranslation('css.visual.tokensSelect') || '-- Select Token --' }}</label>
                    <select class="form-select form-select-sm"
                            v-model="cssPropertyEditor.model.tokenName"
                            @change="onCssPropertyEditorTokenChange">
                      <option value="">{{ getTranslation('css.visual.none') || 'None' }}</option>
                      <option v-for="t in designTokens" :key="'editor-token-' + t.name" :value="t.name">{{ t.name }}</option>
                    </select>
                  </div>
                </div>

                <div v-else-if="getCssPropertySchema(cssPropertyEditor.property).kind === 'font-family'" class="row g-2">
                  <div class="col-12">
                    <label class="form-label small mb-1">{{ getTranslation('css.fontFamily') || 'Font Family' }}</label>
                    <select class="form-select form-select-sm"
                            v-model="cssPropertyEditor.model.fontFamily"
                            @change="onCssPropertyEditorModelChange">
                      <option value="">{{ getTranslation('css.visual.fontFamilyCustom') || '-- Custom value --' }}</option>
                      <option v-for="font in cssPropertyEditorFonts" :key="'font-opt-' + font.value" :value="font.value">{{ font.label }}</option>
                    </select>
                  </div>
                  <div class="col-12">
                    <input type="text"
                           class="form-control form-control-sm"
                           v-model="cssPropertyEditor.model.fontFamilyCustom"
                           @input="onCssPropertyEditorModelChange"
                           :placeholder="getTranslation('css.visual.fontFamilyCustom') || 'Custom font-family value'">
                  </div>
                </div>

                <div v-else-if="getCssPropertySchema(cssPropertyEditor.property).kind === 'enum'" class="row g-2">
                  <div class="col-12">
                    <label class="form-label small mb-1">{{ getTranslation('css.visual.value') || 'Value' }}</label>
                    <select class="form-select form-select-sm"
                            v-model="cssPropertyEditor.model.enumValue"
                            @change="onCssPropertyEditorModelChange">
                      <option v-for="opt in getCssPropertySchema(cssPropertyEditor.property).options || []"
                              :key="'enum-opt-' + opt"
                              :value="opt">{{ opt }}</option>
                    </select>
                  </div>
                </div>

                <div v-else-if="getCssPropertySchema(cssPropertyEditor.property).kind === 'number'" class="row g-2">
                  <div class="col-12">
                    <label class="form-label small mb-1">{{ getTranslation('css.visual.value') || 'Value' }}</label>
                    <input type="range"
                           class="form-range"
                           :min="getCssPropertySchema(cssPropertyEditor.property).min"
                           :max="getCssPropertySchema(cssPropertyEditor.property).max"
                           :step="getCssPropertySchema(cssPropertyEditor.property).step || 1"
                           v-model.number="cssPropertyEditor.model.numberValue"
                           @input="onCssPropertyEditorModelChange">
                    <input type="number"
                           class="form-control form-control-sm"
                           :min="getCssPropertySchema(cssPropertyEditor.property).min"
                           :max="getCssPropertySchema(cssPropertyEditor.property).max"
                           :step="getCssPropertySchema(cssPropertyEditor.property).step || 1"
                           v-model.number="cssPropertyEditor.model.numberValue"
                           @input="onCssPropertyEditorModelChange">
                  </div>
                </div>

                <div v-else-if="getCssPropertySchema(cssPropertyEditor.property).kind === 'length'" class="row g-2">
                  <div class="col-5">
                    <label class="form-label small mb-1">{{ getTranslation('css.visual.value') || 'Value' }}</label>
                    <input type="number"
                           class="form-control form-control-sm"
                           :step="getCssPropertySchema(cssPropertyEditor.property).step || 1"
                           v-model.number="cssPropertyEditor.model.lengthValue"
                           @input="onCssPropertyEditorModelChange">
                  </div>
                  <div class="col-3">
                    <label class="form-label small mb-1">{{ getTranslation('css.unit') || 'Unit' }}</label>
                    <select class="form-select form-select-sm"
                            v-model="cssPropertyEditor.model.lengthUnit"
                            @change="onCssPropertyEditorModelChange">
                      <option v-for="unit in getCssPropertySchema(cssPropertyEditor.property).units || []" :key="'len-unit-' + unit" :value="unit">{{ unit }}</option>
                    </select>
                  </div>
                  <div class="col-4" v-if="(getCssPropertySchema(cssPropertyEditor.property).keywords || []).length > 0">
                    <label class="form-label small mb-1">{{ getTranslation('css.visual.keyword') || 'Keyword' }}</label>
                    <select class="form-select form-select-sm"
                            v-model="cssPropertyEditor.model.lengthKeyword"
                            @change="onCssPropertyEditorModelChange">
                      <option value="">{{ getTranslation('css.visual.none') || 'None' }}</option>
                      <option v-for="kw in getCssPropertySchema(cssPropertyEditor.property).keywords || []" :key="'len-kw-' + kw" :value="kw">{{ kw }}</option>
                    </select>
                  </div>
                </div>

                <div v-else-if="getCssPropertySchema(cssPropertyEditor.property).kind === 'spacing'" class="row g-2">
                  <div class="col-12 d-flex align-items-center justify-content-between">
                    <label class="form-label small mb-0">{{ getTranslation('css.spacing') || 'Spacing' }}</label>
                    <div class="form-check form-switch">
                      <input class="form-check-input"
                             type="checkbox"
                             :id="'css-property-editor-link-' + cssPropertyEditor.property"
                             v-model="cssPropertyEditor.model.spacingLinked"
                             @change="onCssPropertyEditorSpacingLinked">
                      <label class="form-check-label small" :for="'css-property-editor-link-' + cssPropertyEditor.property">
                        {{ getTranslation('css.visual.linkValues') || 'Link values' }}
                      </label>
                    </div>
                  </div>
                  <div class="col-12" v-if="cssPropertyEditor.model.spacingLinked">
                    <div class="input-group input-group-sm">
                      <input type="number" class="form-control"
                             v-model.number="cssPropertyEditor.model.spacing.top.value"
                             @input="onCssPropertyEditorSpacingInput('top')">
                      <select class="form-select"
                              v-model="cssPropertyEditor.model.spacing.top.unit"
                              @change="onCssPropertyEditorSpacingInput('top')">
                        <option v-for="unit in getCssPropertySchema(cssPropertyEditor.property).units || []" :key="'sp-unit-all-' + unit" :value="unit">{{ unit }}</option>
                      </select>
                    </div>
                  </div>
                  <template v-else>
                    <div class="col-6" v-for="side in ['top', 'right', 'bottom', 'left']" :key="'spacing-side-' + side">
                      <label class="form-label small mb-1 text-capitalize">{{ side }}</label>
                      <div class="input-group input-group-sm">
                        <input type="number" class="form-control"
                               v-model.number="cssPropertyEditor.model.spacing[side].value"
                               @input="onCssPropertyEditorModelChange">
                        <select class="form-select"
                                v-model="cssPropertyEditor.model.spacing[side].unit"
                                @change="onCssPropertyEditorModelChange">
                          <option v-for="unit in getCssPropertySchema(cssPropertyEditor.property).units || []" :key="'sp-unit-' + side + '-' + unit" :value="unit">{{ unit }}</option>
                        </select>
                      </div>
                    </div>
                  </template>
                </div>

                <div v-else-if="getCssPropertySchema(cssPropertyEditor.property).kind === 'border'" class="row g-2">
                  <div class="col-4">
                    <label class="form-label small mb-1">{{ getTranslation('css.borderWidth') || 'Border Width' }}</label>
                    <input type="number" class="form-control form-control-sm"
                           :step="0.1"
                           v-model.number="cssPropertyEditor.model.border.width"
                           @input="onCssPropertyEditorModelChange">
                  </div>
                  <div class="col-3">
                    <label class="form-label small mb-1">{{ getTranslation('css.unit') || 'Unit' }}</label>
                    <select class="form-select form-select-sm"
                            v-model="cssPropertyEditor.model.border.unit"
                            @change="onCssPropertyEditorModelChange">
                      <option v-for="unit in ['px', 'rem', 'em']" :key="'bd-unit-' + unit" :value="unit">{{ unit }}</option>
                    </select>
                  </div>
                  <div class="col-5">
                    <label class="form-label small mb-1">{{ getTranslation('css.borderStyle') || 'Border Style' }}</label>
                    <select class="form-select form-select-sm"
                            v-model="cssPropertyEditor.model.border.style"
                            @change="onCssPropertyEditorModelChange">
                      <option v-for="styleOpt in getCssEnumOptions('border-style')" :key="'bd-style-' + styleOpt" :value="styleOpt">{{ styleOpt }}</option>
                    </select>
                  </div>
                  <div class="col-12">
                    <label class="form-label small mb-1">{{ getTranslation('css.borderColor') || 'Border Color' }}</label>
                    <div class="d-flex align-items-center gap-2">
                      <input type="color" class="form-control form-control-color"
                             :value="cssPropertyEditor.model.border.color"
                             @input="onCssPropertyEditorBorderColorInput($event.target.value)">
                      <input type="range" min="0" max="1" step="0.01" class="form-range flex-grow-1"
                             v-model.number="cssPropertyEditor.model.border.alpha"
                             @input="onCssPropertyEditorModelChange">
                    </div>
                  </div>
                </div>

                <div v-else-if="getCssPropertySchema(cssPropertyEditor.property).kind === 'shadow'" class="row g-2">
                  <div class="col-6">
                    <label class="form-label small mb-1">X</label>
                    <input type="number" class="form-control form-control-sm" v-model.number="cssPropertyEditor.model.shadow.offsetX" @input="onCssPropertyEditorModelChange">
                  </div>
                  <div class="col-6">
                    <label class="form-label small mb-1">Y</label>
                    <input type="number" class="form-control form-control-sm" v-model.number="cssPropertyEditor.model.shadow.offsetY" @input="onCssPropertyEditorModelChange">
                  </div>
                  <div class="col-6">
                    <label class="form-label small mb-1">{{ getTranslation('css.blur') || 'Blur' }}</label>
                    <input type="number" class="form-control form-control-sm" v-model.number="cssPropertyEditor.model.shadow.blur" @input="onCssPropertyEditorModelChange">
                  </div>
                  <div class="col-6">
                    <label class="form-label small mb-1">{{ getTranslation('css.spread') || 'Spread' }}</label>
                    <input type="number" class="form-control form-control-sm" v-model.number="cssPropertyEditor.model.shadow.spread" @input="onCssPropertyEditorModelChange">
                  </div>
                  <div class="col-12 d-flex align-items-center gap-2">
                    <input type="color" class="form-control form-control-color"
                           :value="cssPropertyEditor.model.shadow.color"
                           @input="onCssPropertyEditorShadowColorInput($event.target.value)">
                    <input type="range" min="0" max="1" step="0.01" class="form-range flex-grow-1"
                           v-model.number="cssPropertyEditor.model.shadow.alpha"
                           @input="onCssPropertyEditorModelChange">
                    <div class="form-check mb-0">
                      <input class="form-check-input" type="checkbox" :id="'shadow-inset-' + cssPropertyEditor.property"
                             v-model="cssPropertyEditor.model.shadow.inset"
                             @change="onCssPropertyEditorModelChange">
                      <label class="form-check-label small" :for="'shadow-inset-' + cssPropertyEditor.property">inset</label>
                    </div>
                  </div>
                </div>

                <div v-else class="small text-muted">
                  {{ getTranslation('css.visual.formatEditorRawOnly') || 'This property uses raw mode only.' }}
                </div>
              </div>
            </div>

            <div class="options-section mb-edit-section">
              <div class="options-section-header mb-edit-section-header"
                   :class="{ collapsed: !isCssPropertyEditorSectionExpanded('advanced') }"
                   @click="toggleCssPropertyEditorSection('advanced')">
                <span>{{ getTranslation('css.visual.formatEditorAdvanced') || 'Advanced' }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              <div v-show="isCssPropertyEditorSectionExpanded('advanced')" class="options-section-body mb-edit-section-body">
                <div class="form-check form-switch mb-2">
                  <input class="form-check-input"
                         type="checkbox"
                         :id="'css-property-editor-raw-' + cssPropertyEditor.property"
                         v-model="cssPropertyEditor.useRawValue"
                         @change="onCssPropertyEditorRawModeToggle">
                  <label class="form-check-label small" :for="'css-property-editor-raw-' + cssPropertyEditor.property">
                    {{ getTranslation('css.visual.formatEditorUseRaw') || 'Edit as raw CSS value' }}
                  </label>
                </div>
                <div class="mb-2">
                  <label class="form-label small mb-1">{{ getTranslation('css.visual.value') || 'Value' }}</label>
                  <input type="text"
                         class="form-control form-control-sm"
                         :class="{ 'is-invalid': !isCssPropertyEditorDraftValid() }"
                         v-model="cssPropertyEditor.rawValue"
                         @input="onCssPropertyEditorRawInput"
                         :placeholder="getTranslation('css.visual.valuePlaceholder') || 'Enter value (e.g., #ff0000, rgb(), var(--...))'">
                  <div v-if="!isCssPropertyEditorDraftValid()" class="invalid-feedback d-block">
                    {{ getCssPropertyEditorValidationHint() }}
                  </div>
                </div>
                <div class="form-check form-switch mb-3">
                  <input class="form-check-input"
                         type="checkbox"
                         :id="'css-property-editor-important-' + cssPropertyEditor.property"
                         v-model="cssPropertyEditor.important"
                         @change="onCssPropertyEditorImportantToggle">
                  <label class="form-check-label small" :for="'css-property-editor-important-' + cssPropertyEditor.property">
                    !important
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Sync Progress (bottom-right) -->
  <div v-if="syncInProgress" class="mb-sync-progress" role="status" aria-live="polite">
    <div class="mb-sync-title">{{ syncProgressText || (getTranslation('sync.progress') || 'Sync in progress') }}</div>
    <div class="progress">
      <div class="progress-bar" role="progressbar" :style="{ width: Math.max(0, Math.min(100, syncProgress)) + '%' }" :aria-valuenow="Math.round(syncProgress)" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    <div class="text-end mt-1" style="font-size: 11px; opacity: .8;">{{ Math.round(syncProgress) }}%</div>
  </div>

  <!-- Feature Overview Sidebar -->
  <div v-if="featureSidebarVisible" class="feature-sidebar mb-feature-sidebar" 
       :class="{ 'sidebar-open': featureSidebarVisible }" 
       :style="{ width: '450px', right: featureSidebarVisible ? 0 : '-450px' }">
    <div class="sidebar-header mb-feature-sidebar-header">
      <h5 class="mb-feature-sidebar-title"> Feature Overview / Hilfe</h5>
      <button type="button" class="btn-close mb-feature-sidebar-close" @click="featureSidebarVisible=false" aria-label="Close"></button>
    </div>
    
    <!-- Language Tabs -->
    <ul class="nav nav-tabs px-3 pt-2" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link" :class="{'active': helpLanguageTab === 'de'}" 
                @click="helpLanguageTab = 'de'" type="button">
           Deutsch
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" :class="{'active': helpLanguageTab === 'en'}" 
                @click="helpLanguageTab = 'en'" type="button">
           English
        </button>
      </li>
    </ul>
    
    <div class="sidebar-content mb-feature-sidebar-content" style="height: calc(100% - 110px); overflow-y: auto; padding: 20px;">
      
      <!-- German Content -->
      <div v-if="helpLanguageTab === 'de'">
        <!-- Kernfunktionen -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-primary mb-3">
            <i class="bi bi-star-fill"></i> Kernfunktionen
          </h6>
          <ul class="feature-list">
            <li><strong>Gruppen & Links:</strong> Erstellen Sie beliebig viele Gruppen, klappen Sie diese ein oder aus und verteilen Sie Links in mehreren Spalten pro Gruppe, damit auch groe Sammlungen bersichtlich bleiben.</li>
            <li><strong>Drag & Drop:</strong> Ziehen Sie Gruppen an neue Positionen sowie Links innerhalb einer Spalte, in andere Spalten oder direkt in andere Gruppen. Visuelle Drop-Zonen zeigen die Einfgeposition.</li>
            <li><strong>Suche & Filter:</strong> Die Volltextsuche bercksichtigt u. a. Gruppentitel, Linktitel, URL und Keywords. ber die Keyword-Cloud knnen mehrere Keyword-Filter parallel aktiviert werden.</li>
            <li><strong>Import/Export:</strong> Import aus Datei, URL oder Zwischenablage. Untersttzte Formate: JSON, CSV und HTML (inkl. Netscape-Bookmarks). Vor dem Import gibt es eine selektierbare Vorschau.</li>
            <li><strong>Bookmarklet:</strong> ber den Bookmarklet-Dialog legen Sie einen Schnellzugriff in der Browserleiste an, um aktuelle Seiten mit URL/Titel direkt in MyBookmarks zu bernehmen.</li>
          </ul>
        </div>
        
        <!-- Zusammenarbeit & Sync -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-success mb-3">
            <i class="bi bi-people-fill"></i> Zusammenarbeit & Sync
          </h6>
          <ul class="feature-list">
            <li><strong>Teilen per ntfy:</strong> Senden Sie einzelne Links oder komplette Gruppen aus dem Kontextmen an ausgewhlte Kontakte; eingehende Inhalte knnen direkt bernommen werden.</li>
            <li><strong>Kontakte & Quick-Connect:</strong> Kontakte werden zentral verwaltet, inklusive Online-Status. Neue Kontakte lassen sich mit dem Quick-Connect-Dialog per 6-stelligem Code koppeln.</li>
            <li><strong>Mitgliederverwaltung:</strong> Besitzer geteilter Gruppen knnen Mitglieder einladen, Rollen und Rechte (Add/Edit/Delete) anpassen, Mitglieder entfernen und Eigentum bertragen.</li>
            <li><strong>Event-Log:</strong> nderungen werden mit Zeitstempel und Autor nachvollziehbar protokolliert. Das hilft bei Konflikten, Prfung von nderungen und Wiederherstellungsfllen.</li>
            <li><strong>Optionaler Backend-Sync:</strong> Zustzlich zur Kontaktfreigabe kann ein Sync mit CardDAV oder Nextcloud Bookmarks aktiviert werden (Browser-Extension erforderlich).</li>
          </ul>
        </div>
        
        <!-- Anpassung -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-warning mb-3">
            <i class="bi bi-palette-fill"></i> Anpassung
          </h6>
          <ul class="feature-list">
            <li><strong>CSS-Sidebar:</strong> Der visuelle CSS-Editor untersttzt Regelsets, Selektoren, Eigenschaften, Design-Tokens und Live-Vorschau, sodass UI-Anpassungen ohne externen Build-Prozess mglich sind.</li>
            <li><strong>Formatierung:</strong> Definieren Sie Standard- und Einzelstile fr Gruppen, Gruppentitel, Links, Badges, Keyword-Chips und weitere Elemente auf Gruppen- oder Link-Ebene.</li>
            <li><strong>Favicon-Regeln:</strong> Legen Sie Regeln auf Basis von Domain/URL-Mustern fest, laden Sie eigene Favicons hoch und steuern Sie, welche Icon-Quelle bevorzugt verwendet wird.</li>
            <li><strong>Link-Darstellung:</strong> Konfigurieren Sie Link-Badges, Link-Popover, Standard-URL-Prfix und Verhalten beim ffnen (z. B. in neuem Tab) passend zu Ihrem Workflow.</li>
            <li><strong>Button-Optionen:</strong> Blenden Sie Add/Delete/Copy/QR-Aktionen gezielt ein oder aus, um die Oberflche fr unterschiedliche Nutzerrollen oder Fokus-Workflows zu vereinfachen.</li>
          </ul>
        </div>
        
        <!-- Werkzeuge -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-info mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-fill me-1" viewBox="0 0 16 16">
              <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
            </svg> Werkzeuge
          </h6>
          <ul class="feature-list">
            <li><strong>Duplikat-Finder:</strong> Erkennt doppelte URLs gruppenbergreifend, zeigt alle Fundstellen an und erlaubt das selektive Entfernen einzelner Duplikate.</li>
            <li><strong>Snapshots:</strong> Speichern Sie manuelle Sicherungspunkte ber die Toolbar, stellen Sie frhere Zustnde wieder her oder lschen Sie nicht mehr bentigte Snapshots.</li>
            <li><strong>Undo/Redo:</strong> Bearbeitungsschritte knnen ber die Toolbar gezielt zurckgenommen oder wiederhergestellt werden, um nderungen sicher auszuprobieren.</li>
            <li><strong>JSON-Inspektor:</strong> ber das Gruppen-Kontextmen lassen sich Rohdaten der Gruppe inklusive Event-Log- und Snapshot-Bereichen detailliert prfen.</li>
            <li><strong>QR & Copy:</strong> Fr Links stehen schnelle Aktionen zum URL-Kopieren (inkl. Formatvorlage) und zur QR-Code-Erzeugung fr Mobile/Sharing zur Verfgung.</li>
            <li><strong>Keyword-Manager:</strong> Keywords knnen global umbenannt oder entfernt werden; nderungen werden konsistent auf Gruppen und Links angewendet.</li>
            <li><strong>Shortcut-Manager:</strong> Zeigt alle Link-Shortcuts und erlaubt globale Shortcuts, bei denen Gruppen und einzelne Links per Treeview ausgewhlt werden, um komplette Seiten-Sets per Tastenkombination zu ffnen. Zustzlich knnen Gruppen eigene Shortcuts erhalten; im Gruppen-/Link-Dialog werden Konflikte und berschneidungen mit globalen sowie Gruppen-Shortcuts direkt angezeigt.</li>
          </ul>
        </div>
        
        <!-- Tastatur -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-secondary mb-3">
            <i class="bi bi-keyboard-fill"></i> Tastatur
          </h6>
          <ul class="feature-list small">
            <li><kbd>Esc</kbd> - Schliet geffnete Mens/Dialoge und beendet aktive Inline-Bearbeitungen ohne bernahme.</li>
            <li><kbd>Enter</kbd> - Speichert Inline-Bearbeitungen von Gruppen- oder Linkfeldern direkt aus dem Eingabefeld.</li>
            <li><kbd>Enter</kbd>/<kbd>Leertaste</kbd> - Lst fokussierte Icon-Aktionen aus (z. B. Kopieren, QR-Code, Lschen) fr bessere Tastaturbedienung.</li>
            <li>Optional: Ist <em>Search as you type</em> aktiviert, fokussiert die erste normale Taste automatisch das Suchfeld, wenn kein Eingabefeld aktiv ist.</li>
          </ul>
        </div>
        
        <!-- Hinweise -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-purple mb-3">
            <i class="bi bi-lightbulb-fill"></i> Hinweise
          </h6>
          <ul class="feature-list small">
            <li>Einige Funktionen sind nur mit Browser-Extension verfgbar, z. B. Browser-Bookmark-Import, Extension-Cache leeren und optionaler Backend-Sync.</li>
            <li>Daten werden lokal gespeichert (inkl. Einstellungen/Kontakte). Fr Backup und Gertewechsel sollten regelmig Exporte erstellt werden.</li>
            <li>Rechtsklick auf Gruppen oder Links ffnet Kontextmens mit erweiterten Aktionen wie Teilen, Sortieren, Inspektion und Keyword-Verwaltung.</li>
            <li>Fr geteilte Gruppen werden eine gltige ntfy-Konfiguration, eine lokale Identitt und passende Kontakte bentigt.</li>
            <li>Die Import-Vorschau erlaubt es, Gruppen und einzelne Links vor dem Import gezielt auszuwhlen oder abzuwhlen.</li>
          </ul>
        </div>
      </div>
      
      <!-- English Content -->
      <div v-if="helpLanguageTab === 'en'">
        <!-- Core Features -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-primary mb-3">
            <i class="bi bi-star-fill"></i> Core Features
          </h6>
          <ul class="feature-list">
            <li><strong>Groups & Links:</strong> Create as many groups as needed, collapse/expand them, and distribute links across multiple columns to keep large collections readable.</li>
            <li><strong>Drag & Drop:</strong> Reorder groups and move links within a column, between columns, or across groups. Visual drop zones indicate the exact insertion point.</li>
            <li><strong>Search & Filters:</strong> Full-text search covers group titles, link titles, URLs, and keywords. Keyword cloud filters can be combined for precise narrowing.</li>
            <li><strong>Import/Export:</strong> Import from file, URL, or clipboard with support for JSON/CSV/HTML (including Netscape bookmarks), plus a selectable preview before applying.</li>
            <li><strong>Bookmarklet:</strong> Create a browser-bar shortcut that captures the current page (title + URL) and sends it back into MyBookmarks quickly.</li>
          </ul>
        </div>
        
        <!-- Collaboration & Sync -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-success mb-3">
            <i class="bi bi-people-fill"></i> Collaboration & Sync
          </h6>
          <ul class="feature-list">
            <li><strong>ntfy Sharing:</strong> Send single links or full groups to selected contacts from context menus; incoming shared data can be accepted directly.</li>
            <li><strong>Contacts & Quick-Connect:</strong> Manage contacts in one place, see online status, and pair new contacts via the Quick-Connect 6-digit code workflow.</li>
            <li><strong>Member Management:</strong> Group owners can invite members, change Add/Edit/Delete permissions, remove members, and transfer ownership.</li>
            <li><strong>Event Log:</strong> Changes are traceable with timestamps and authors, helping with conflict resolution and auditability.</li>
            <li><strong>Optional Backend Sync:</strong> Beyond contact sharing, you can enable sync with CardDAV or Nextcloud Bookmarks (requires browser extension).</li>
          </ul>
        </div>
        
        <!-- Customization Features -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-warning mb-3">
            <i class="bi bi-palette-fill"></i> Customization
          </h6>
          <ul class="feature-list">
            <li><strong>CSS Sidebar:</strong> The visual CSS editor supports rule sets, selectors, properties, design tokens, and live preview without needing an external build step.</li>
            <li><strong>Formatting:</strong> Configure default and per-item styling for groups, titles, links, badges, keyword chips, and other UI elements.</li>
            <li><strong>Favicon Rules:</strong> Define host/URL-based icon rules, upload custom favicons, and control source priority for icon selection.</li>
            <li><strong>Link Display:</strong> Tune link badges, metadata popovers, default URL prefix behavior, and link opening behavior (e.g., new tab).</li>
            <li><strong>Button Options:</strong> Enable or disable Add/Delete/Copy/QR actions by area to keep the interface aligned with your workflow.</li>
          </ul>
        </div>
        
        <!-- Power Tools -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-info mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-fill me-1" viewBox="0 0 16 16">
              <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
            </svg> Power Tools
          </h6>
          <ul class="feature-list">
            <li><strong>Duplicate Finder:</strong> Scans across groups for duplicate URLs, lists all matches, and lets you remove selected duplicates safely.</li>
            <li><strong>Snapshots:</strong> Save manual restore points from the toolbar, restore previous states, and delete obsolete snapshots.</li>
            <li><strong>Undo/Redo:</strong> Step backward or forward through edit history using dedicated toolbar actions.</li>
            <li><strong>JSON Inspector:</strong> Open structured raw group data (including event-log and snapshot sections) from the group context menu.</li>
            <li><strong>QR & Copy:</strong> Each link supports quick URL copy (with configurable copy format) and QR generation for mobile sharing.</li>
            <li><strong>Keyword Manager:</strong> Rename or remove keywords globally and apply those changes consistently to groups and links.</li>
            <li><strong>Shortcut Manager:</strong> Shows all link shortcuts and lets you build global shortcuts by selecting groups and links in a tree view to launch full page sets at once. Groups can also have their own shortcuts, and the group/link edit dialogs now show overlap and conflict hints with global and group-level shortcuts.</li>
          </ul>
        </div>
        
        <!-- Keyboard -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-secondary mb-3">
            <i class="bi bi-keyboard-fill"></i> Keyboard
          </h6>
          <ul class="feature-list small">
            <li><kbd>Esc</kbd> - Closes menus/dialogs and cancels active inline edits without applying changes.</li>
            <li><kbd>Enter</kbd> - Saves inline edits in group and link input fields.</li>
            <li><kbd>Enter</kbd>/<kbd>Space</kbd> - Activates focused icon actions (for example Copy, QR, or Delete) for keyboard accessibility.</li>
            <li>Optional: when <em>Search as you type</em> is enabled, the first regular keypress auto-focuses the search field if no input is active.</li>
          </ul>
        </div>
        
        <!-- Notes -->
        <div class="feature-section mb-4">
          <h6 class="feature-section-title text-purple mb-3">
            <i class="bi bi-lightbulb-fill"></i> Notes
          </h6>
          <ul class="feature-list small">
            <li>Some capabilities appear only when the browser extension is available, such as browser-bookmark import, extension-cache clearing, and optional backend sync.</li>
            <li>Data is stored locally (including settings and contacts), so regular exports are strongly recommended for backup and migration.</li>
            <li>Right-click on groups or links to access advanced context actions like sharing, sorting, inspection, and keyword management.</li>
            <li>Shared-group workflows require a valid ntfy setup, a local identity, and properly configured contacts.</li>
            <li>The import preview lets you include or exclude groups and individual links before committing the import.</li>
          </ul>
        </div>
      </div>
      
    </div>
  </div>
  
  <!-- Invitation Dialog (replaces Inbox Modal) -->
  <div class="modal fade" id="invitationModal" tabindex="-1" aria-labelledby="invitationModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="invitationModalLabel">
            <span v-if="invitationDialog.type === 'group'">{{ getTranslation('invitation.groupTitle') || 'Einladung zur geteilten Gruppe' }}</span>
            <span v-else-if="invitationDialog.type === 'link' && invitationDialog.groupName">{{ getTranslation('share.groupTitle') || 'Gruppe erhalten' }}</span>
            <span v-else-if="invitationDialog.type === 'link'">{{ getTranslation('share.linkTitle') || 'Links erhalten' }}</span>
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" @click="rejectInvitation()"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <p>
              <strong>{{ getTranslation('invitation.from') || 'Von' }}:</strong> 
              {{ invitationDialog.fromName }}
            </p>
            <div v-if="invitationDialog.type === 'group'">
              <p>
                <strong>{{ getTranslation('invitation.groupName') || 'Gruppenname' }}:</strong> 
                {{ invitationDialog.groupName }}
              </p>
              <p v-if="invitationDialog.linkCount > 0">
                <strong>{{ getTranslation('invitation.linkCount') || 'Anzahl Links' }}:</strong> 
                {{ invitationDialog.linkCount }}
              </p>
            </div>
            <div v-else-if="invitationDialog.type === 'link'">
              <p v-if="invitationDialog.groupName">
                <strong>{{ getTranslation('invitation.groupName') || 'Gruppenname' }}:</strong> 
                {{ invitationDialog.groupName }}
              </p>
              <p v-if="invitationDialog.linkCount > 0">
                <strong>{{ getTranslation('invitation.linkCount') || 'Anzahl Links' }}:</strong> 
                {{ invitationDialog.linkCount }}
              </p>
              <div v-if="invitationDialog.preview.length > 0">
                <p><strong>{{ getTranslation('invitation.linksToAdd') || 'Zu hinzufgende Links' }}:</strong></p>
                <div class="border rounded p-2" style="max-height: 200px; overflow-y: auto;">
                  <div v-for="(link, idx) in invitationDialog.preview" :key="idx" class="mb-1">
                    <small> {{ link.text || link.url }}</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="alert alert-info" role="alert">
            <span v-if="invitationDialog.type === 'group'">
              {{ getTranslation('invitation.groupDescription') || 'Mchten Sie diese geteilte Gruppe hinzufgen? Sie knnen dann Links mit anderen Mitgliedern der Gruppe teilen.' }}
            </span>
            <span v-else-if="invitationDialog.type === 'link'">
              <span v-if="invitationDialog.groupName">
                {{ getTranslation('share.groupDescription') || 'Mchten Sie diese Gruppe mit allen Links hinzufgen?' }}
              </span>
              <span v-else>
                {{ getTranslation('share.linkDescription') || 'Mchten Sie diese Links hinzufgen?' }}
              </span>
            </span>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click="rejectInvitation()">
            <span v-if="invitationDialog.type === 'group'">{{ getTranslation('invitation.reject') || 'Ablehnen' }}</span>
            <span v-else>{{ getTranslation('share.cancel') || 'Abbrechen' }}</span>
          </button>
          <button type="button" class="btn btn-primary" @click="acceptInvitation()">
            <span v-if="invitationDialog.type === 'group'">{{ getTranslation('invitation.accept') || 'Annehmen' }}</span>
            <span v-else>{{ getTranslation('share.add') || 'Hinzufgen' }}</span>
          </button>
        </div>
      </div>
    </div>
  </div>


  <!-- Contacts & Quick-Connect Modal -->
  <div class="modal fade" id="contactsModal" tabindex="-1" aria-labelledby="contactsModalLabel" aria-hidden="true" v-show="contactsDialog.visible">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="contactsModalLabel">{{ getTranslation('dialog.contacts.title') || 'Contacts' }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" @click="closeContactsDialog()"></button>
        </div>
        <div class="modal-body">
          <!-- Tab Navigation -->
          <ul class="nav nav-tabs mb-3" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link" :class="{'active': contactsDialog.tab === 'contacts'}" 
                      @click="contactsDialog.tab = 'contacts'" type="button">
                {{ getTranslation('dialog.contacts.tabTitle') || 'Contacts' }}
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" :class="{'active': contactsDialog.tab === 'quickconnect'}" 
                      @click="contactsDialog.tab = 'quickconnect'" type="button">
                {{ getTranslation('dialog.quickconnect.tabTitle') || 'Quick-Connect' }}
              </button>
            </li>
          </ul>
          
          <!-- Contacts Tab -->
          <div v-if="contactsDialog.tab === 'contacts'">
            <div v-if="!data.contacts || data.contacts.length===0" class="text-muted">{{ getTranslation('dialog.contacts.empty') }}</div>
            <table class="table table-sm" v-else>
              <thead>
                <tr>
                  <th>{{ getTranslation('dialog.contacts.name') }}</th>
                  <th>{{ getTranslation('dialog.contacts.status') || 'Status' }}</th>
                  <th>{{ getTranslation('dialog.contacts.uuid') }}</th>
                  <th>{{ getTranslation('dialog.contacts.actions') }}</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="c in data.contacts" :key="c.uuid" :class="{ 'contact-row': true, 'offline': !isContactOnline(c.uuid) }">
                  <td>{{ c.name || '(no name)' }}</td>
                  <td>
                    <span :class="getContactStatusClass(c.uuid)"></span>
                    <span :class="getContactStatusTextClass(c.uuid)">
                      {{ getContactStatusText(c.uuid) }}
                    </span>
                  </td>
                  <td class="text-monospace" :title="c.uuid">{{ c.uuid.slice(-5) }}</td>
                  <td>
                    <button class="btn btn-sm btn-outline-primary me-1" 
                            :disabled="!isContactOnline(c.uuid)"
                            @click="sendTestToContact(c)"
                            :title="!isContactOnline(c.uuid) ? getTranslation('dialog.contacts.offlineTooltip') || 'Contact is offline' : ''">
                      {{ getTranslation('dialog.contacts.sendTest') }}
                    </button>
                    <button class="btn btn-sm btn-outline-danger" @click="confirmRemoveContact(c)">
                      {{ getTranslation('dialog.contacts.remove') }}
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <!-- Quick-Connect Tab -->
          <div v-if="contactsDialog.tab === 'quickconnect'">
            <div class="row mb-3">
              <div class="col-6">
                <div class="card" :class="qcDialog.mode==='receive' ? 'border-primary border-2' : 'border-secondary'" 
                     @click="qcDialog.mode='receive'" style="cursor: pointer;">
                  <div class="card-body text-center p-2">
                    <h6 class="card-title mb-1">
                      <span class="badge" :class="qcDialog.mode==='receive' ? 'bg-primary' : 'bg-secondary'">
                        {{ getTranslation('qc.receive') || 'RECEIVE' }}
                      </span>
                    </h6>
                    <small class="text-muted">{{ getTranslation('qc.receive.desc') || 'Show code' }}</small>
                  </div>
                </div>
              </div>
              <div class="col-6">
                <div class="card" :class="qcDialog.mode==='send' ? 'border-primary border-2' : 'border-secondary'" 
                     @click="qcDialog.mode='send'" style="cursor: pointer;">
                  <div class="card-body text-center p-2">
                    <h6 class="card-title mb-1">
                      <span class="badge" :class="qcDialog.mode==='send' ? 'bg-primary' : 'bg-secondary'">
                        {{ getTranslation('qc.send') || 'SEND' }}
                      </span>
                    </h6>
                    <small class="text-muted">{{ getTranslation('qc.send.desc') || 'Enter code' }}</small>
                  </div>
                </div>
              </div>
            </div>
            
            <div v-if="qcDialog.mode==='receive'" class="text-center">
              <p class="text-muted mb-2">{{ getTranslation('qc.receive.instruction') || 'Share this code:' }}</p>
              <div class="mb-3">
                <input type="text" class="form-control form-control-lg text-center font-monospace fw-bold" 
                       :value="qcDialog.code || '------'" readonly 
                       style="letter-spacing: 0.2em; font-size: 1.5rem;">
              </div>
              <button class="btn btn-success me-2" @click="qcStartReceive" v-if="!qcDialog.code">
                {{ getTranslation('qc.generate') || 'Generate Code' }}
              </button>
              <button class="btn btn-danger" @click="qcCancel" v-else>
                {{ getTranslation('qc.stop') || 'Stop' }}
              </button>
            </div>
            
            <div v-else class="text-center">
              <p class="text-muted mb-2">{{ getTranslation('qc.send.instruction') || 'Enter the code:' }}</p>
              <div class="mb-3">
                <input type="text" class="form-control form-control-lg text-center font-monospace fw-bold" 
                       v-model="qcDialog.code" placeholder="abc123" maxlength="6"
                       style="letter-spacing: 0.2em; font-size: 1.5rem;">
              </div>
              <button class="btn btn-primary me-2" @click="qcStartSend" :disabled="!qcDialog.code || qcDialog.code.length !== 6">
                {{ getTranslation('qc.connect') || 'Connect' }}
              </button>
              <button class="btn btn-secondary" @click="qcCancel">
                {{ getTranslation('qc.cancel') || 'Cancel' }}
              </button>
            </div>
            
            <hr class="my-3">
            <div class="border rounded p-2 bg-light mb-surface-panel mb-qc-status-panel" style="height: 120px; overflow: auto;" id="qcStatusBox">
              <small>
                <div v-for="s in qcDialog.status" :key="s.t" class="text-muted">
                  {{ formatMessageTime(s.t) }}  {{ s.m }}
                </div>
              </small>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click="closeContactsDialog()">{{ getTranslation('dialog.close') || 'Close' }}</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Share Modal -->
  <div class="modal fade" id="shareModal" tabindex="-1" aria-labelledby="shareModalLabel" aria-hidden="true" v-show="shareDialog.visible">
    <div class="modal-dialog modal-md modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="shareModalLabel">
            <span v-if="shareDialog.mode === 'link'">{{ getTranslation('dialog.send.linkTitle') || 'Send Link' }}</span>
            <span v-else-if="shareDialog.mode === 'group'">{{ getTranslation('dialog.send.groupTitle') || 'Send Group' }}</span>
            <span v-else-if="shareDialog.mode === 'invite-group'">{{ getTranslation('dialog.invite.title') || 'Invite Members' }}</span>
            <span v-else-if="shareDialog.mode === 'owner-transfer'">{{ getTranslation('dialog.transfer.title') || 'Transfer Ownership' }}</span>
            <span v-else>{{ getTranslation('dialog.share.title') || 'Share' }}</span>
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" @click="shareDialog.visible=false"></button>
        </div>
        <div class="modal-body">
          <template v-if="shareDialog.mode === 'owner-transfer'">
            <div class="mb-3">{{ getTranslation('dialog.transfer.select') || 'Select new owner:' }}</div>
            <div class="form-check" v-for="c in (data.contacts||[]).filter(ct=> (shareDialog.group?.members||[]).some(m=>m.uuid===ct.uuid) && ct.uuid!==data.identity?.uuid)" :key="'sc-'+c.uuid" 
                 :class="{ 'contact-row': true, 'offline': !isContactOnline(c.uuid) }">
              <input class="form-check-input" type="checkbox" :id="'sc-'+c.uuid" v-model="shareDialog.selectedContacts[c.uuid]" :disabled="!isContactOnline(c.uuid)">
              <label class="form-check-label" :for="'sc-'+c.uuid">
                {{ c.name || '(no name)' }} 
                <span class="text-monospace text-muted">{{ c.uuid.slice(-5) }}</span>
                <span :class="getContactStatusClass(c.uuid)"></span>
                <span :class="getContactStatusTextClass(c.uuid)" v-if="!isContactOnline(c.uuid)">
                  ({{ getContactStatusText(c.uuid) }})
                </span>
              </label>
            </div>
            <div v-if="!(data.contacts||[]).some(ct=> (shareDialog.group?.members||[]).some(m=>m.uuid===ct.uuid) && ct.uuid!==data.identity?.uuid)" class="text-muted">
              {{ getTranslation('dialog.transfer.noCandidates') || 'No eligible members found.' }}
            </div>
          </template>
          <template v-else>
            <div class="mb-3">{{ getTranslation('dialog.send.selectContacts') || 'Select contacts to send to:' }}</div>
            <div class="form-check" v-for="c in data.contacts" :key="'sc-'+c.uuid" 
                 :class="{ 'contact-row': true, 'offline': !isContactOnline(c.uuid) }">
              <input class="form-check-input" type="checkbox" 
                     :id="'sc-'+c.uuid" 
                     v-model="shareDialog.selectedContacts[c.uuid]"
                     :disabled="!isContactOnline(c.uuid)">
              <label class="form-check-label" :for="'sc-'+c.uuid">
                {{ c.name || '(no name)' }} 
                <span class="text-monospace text-muted">{{ c.uuid.slice(-5) }}</span>
                <span :class="getContactStatusClass(c.uuid)"></span>
                <span :class="getContactStatusTextClass(c.uuid)" v-if="!isContactOnline(c.uuid)">
                  ({{ getContactStatusText(c.uuid) }})
                </span>
              </label>
            </div>
            <div v-if="!data.contacts || data.contacts.length === 0" class="text-muted">
              {{ getTranslation('dialog.send.noContacts') || 'No contacts available. Add contacts first.' }}
            </div>
          </template>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" @click="confirmShare">
            <span v-if="shareDialog.mode === 'owner-transfer'">{{ getTranslation('dialog.transfer.transfer') || 'Transfer' }}</span>
            <span v-else>{{ getTranslation('dialog.send.send') || 'Send' }}</span>
          </button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click="shareDialog.visible=false">{{ getTranslation('dialog.send.cancel') || 'Cancel' }}</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Members Modal -->
  <div class="modal fade" id="membersModal" tabindex="-1" aria-labelledby="membersModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="membersModalLabel">{{ getTranslation('members.title') }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" v-if="editGroup">
          <div v-if="Array.isArray(editGroup.members) && editGroup.members.length">
            <div class="border rounded p-2 mb-2" v-for="m in editGroup.members" :key="'mem-'+m.uuid">
              <div class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                  <div v-if="isOwnerOfGroup(editGroup) && m.role !== 'owner'" class="form-check me-3">
                    <input class="form-check-input" type="checkbox" :id="'mem-'+m.uuid" :checked="(editGroup.prefs.inbound.perMember[m.uuid]||'unset')==='allow'" @change="toggleMemberInbound(m)">
                    <label class="form-check-label" :for="'mem-'+m.uuid">
                      <strong>{{ m.name || m.uuid }}</strong>
                    </label>
                  </div>
                  <div v-else>
                    <strong>{{ m.name || m.uuid }}</strong>
                  </div>
                  <span class="badge bg-secondary ms-2 me-2">{{ m.role||'member' }}</span>
                  <span v-if="isOwnerOfGroup(editGroup) && m.role !== 'owner'" class="badge" :class="{
                    'bg-success': (editGroup.prefs.inbound.perMember[m.uuid]||'unset')==='allow',
                    'bg-danger': (editGroup.prefs.inbound.perMember[m.uuid]||'unset')==='deny',
                    'bg-secondary': (editGroup.prefs.inbound.perMember[m.uuid]||'unset')==='unset'
                  }">
                    {{ (editGroup.prefs.inbound.perMember[m.uuid]||'unset')==='allow' ? getTranslation('members.filter.allow') : (editGroup.prefs.inbound.perMember[m.uuid]||'unset')==='deny' ? getTranslation('members.filter.deny') : getTranslation('members.filter.unset') }}
                  </span>
                </div>
                <button v-if="isOwnerOfGroup(editGroup)" class="btn btn-sm btn-outline-danger" :disabled="m.role==='owner' || m.uuid===data.identity.uuid" @click="confirmRemoveMember(m)">{{ getTranslation('members.remove') }}</button>
              </div>
              <div v-if="isOwnerOfGroup(editGroup)" class="mt-2 d-flex align-items-center">
                <small class="text-muted me-2">Permissions:</small>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" :id="'perm-add-'+m.uuid"
                         :checked="(m.role==='owner') ? true : !!m.canAdd"
                         :disabled="m.role==='owner'"
                         @change="toggleMemberPerm(m, 'canAdd')">
                  <label class="form-check-label" :for="'perm-add-'+m.uuid">{{ getTranslation('members.perm.add') }}</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" :id="'perm-edit-'+m.uuid"
                         :checked="(m.role==='owner') ? true : !!m.canEdit"
                         :disabled="m.role==='owner'"
                         @change="toggleMemberPerm(m, 'canEdit')">
                  <label class="form-check-label" :for="'perm-edit-'+m.uuid">{{ getTranslation('members.perm.edit') }}</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" :id="'perm-del-'+m.uuid"
                         :checked="(m.role==='owner') ? true : !!m.canDelete"
                         :disabled="m.role==='owner'"
                         @change="toggleMemberPerm(m, 'canDelete')">
                  <label class="form-check-label" :for="'perm-del-'+m.uuid">{{ getTranslation('members.perm.delete') }}</label>
                </div>
              </div>
            </div>
          </div>
          <div v-else class="text-muted">{{ getTranslation('members.noRoster') }}</div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Removed from Group Modal -->
  <div class="modal fade" id="removedFromGroupModal" tabindex="-1" aria-labelledby="removedFromGroupModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header bg-warning">
          <h5 class="modal-title" id="removedFromGroupModalLabel">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-exclamation-triangle me-2" viewBox="0 0 16 16">
              <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>
              <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/>
            </svg>
            {{ getTranslation('removedFromGroup.title') || 'Group Membership Removed' }}
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="alert alert-warning" role="alert">
            <p class="mb-2">
              {{ getTranslation('removedFromGroup.message') || 'You have been removed from the following group while you were offline:' }}
            </p>
            <div class="card">
              <div class="card-body">
                <h6 class="card-title">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder-x me-2" viewBox="0 0 16 16">
                    <path d="M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181L15.546 8H14.54l.265-2.91A1 1 0 0 0 13.81 4H9.828a3 3 0 0 1-2.122-.879l-.827-.828A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.04z"/>
                    <path d="M1 7v9a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7H1zm5.646 5.646a.5.5 0 0 0 .708.708L8 12.707l.646.647a.5.5 0 0 0 .708-.708L8.707 12l.647-.646a.5.5 0 0 0-.708-.708L8 11.293l-.646-.647a.5.5 0 0 0-.708.708l.647.646-.647.646z"/>
                  </svg>
                  {{ removedGroupInfo.groupName }}
                </h6>
                <p class="card-text mb-1">
                  <small class="text-muted">
                    <strong>{{ getTranslation('removedFromGroup.owner') || 'Group Owner:' }}</strong> {{ removedGroupInfo.ownerName }}
                  </small>
                </p>
                <p class="card-text">
                  <small class="text-muted">
                    <strong>{{ getTranslation('removedFromGroup.removedAt') || 'Removed:' }}</strong> {{ formatDate(removedGroupInfo.removedAt) }}
                  </small>
                </p>
              </div>
            </div>
            <p class="mt-3 mb-0">
              <small>{{ getTranslation('removedFromGroup.explanation') || 'The group will be removed from your list. If you need access again, please contact the group owner.' }}</small>
            </p>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" @click="acknowledgeGroupRemoval">
            {{ getTranslation('removedFromGroup.acknowledge') || 'I Understand' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div id="linkMenu" class="context-menu mb-context-menu" :style="contextMenuStyle"
    :class="{ 'context-menu-visible': isLinkMenuVisible }">
    <ul v-if="contextLink" class="mb-context-menu-list">
      <li @click="canEdit(contextGroup) ? showLinkEditModal(contextLink) : null" 
          :class="{ 'disabled': !canEdit(contextGroup) }"
          :title="!canEdit(contextGroup) ? getTranslation('error.perm.edit') : ''">
        {{ isSeparatorLink(contextLink) ? (getTranslation('menu.link.editSeparator') || 'Edit separator') : (isNoteLink(contextLink) ? (getTranslation('menu.link.editNote') || 'Edit note') : (isReferenceLink(contextLink) ? (getTranslation('menu.link.editRefLink') || 'Edit ref link') : getTranslation('menu.link.editLink'))) }}
        <span v-if="!canEdit(contextGroup)" class="text-muted"> ({{ getTranslation('permission.denied') || 'No permission' }})</span>
      </li>
      <li @click="(!isReferenceLink(contextLink) && !isSeparatorLink(contextLink) && !isNoteLink(contextLink)) ? createReferenceLinkFromContext(contextGroup, contextLink) : null"
          :class="{ 'disabled': isReferenceLink(contextLink) || isSeparatorLink(contextLink) || isNoteLink(contextLink) }"
          :title="(isReferenceLink(contextLink) || isSeparatorLink(contextLink) || isNoteLink(contextLink)) ? (getTranslation('link.ref.createFromRefDisabled') || 'Create ref link is only available for original URL links.') : ''">
        {{ getTranslation('menu.link.createRefLink') || 'Create ref link' }}
      </li>
      <li v-if="isReferenceLink(contextLink)" @click="editOriginalLinkFromReference(contextLink)">
        {{ getTranslation('menu.link.editOriginalLink') || 'Edit original link' }}
      </li>
      <li v-if="hasNtfyUrl() && hasConnectedContacts() && getEffectiveLinkUrl(contextLink)" class="separator mb-context-menu-separator"></li>
      <li v-if="hasNtfyUrl() && hasConnectedContacts() && getEffectiveLinkUrl(contextLink)" @click="shareResolvedLink(contextLink)">{{ getTranslation('menu.link.sendLink') }}</li>
      <li class="separator mb-context-menu-separator" v-if="getEffectiveLinkUrl(contextLink)"></li>
      <li @click="showQrCodeModal(getEffectiveLinkUrl(contextLink))" v-if="getEffectiveLinkUrl(contextLink)">{{ getTranslation('menu.link.createQrCode') }}</li>
      <li v-if="!isSeparatorLink(contextLink)" class="separator mb-context-menu-separator"></li>
      <li v-if="!isSeparatorLink(contextLink)" class="submenu" tabindex="0">
        {{ getTranslation('menu.keywords') || 'Keywords' }}
        <ul class="context-submenu mb-context-submenu keyword-submenu">
          <li @click="canEdit(contextGroup) ? (openKeywordQuickDialogForLink(contextGroup, contextLink), hideMenus()) : null"
              :class="{ 'disabled': !canEdit(contextGroup) }">
            {{ getTranslation('menu.keyword.new') || 'New keyword' }}
          </li>
          <li class="separator mb-context-menu-separator"></li>
          <li v-if="getAssignedKeywordsForLink(contextLink).length === 0" class="disabled">
            {{ getTranslation('menu.keyword.noneAssigned') || 'No assigned keywords' }}
          </li>
          <li v-for="kw in getAssignedKeywordsForLink(contextLink)" :key="'link-menu-remove-kw-' + kw"
              :class="{ 'disabled': !canEdit(contextGroup) }"
              @click="canEdit(contextGroup) ? (removeKeywordFromLink(contextGroup, contextLink, kw), hideMenus()) : null">
            {{ (getTranslation('menu.keyword.remove') || 'Remove') + ': ' + kw }}
          </li>
          <li class="separator mb-context-menu-separator"></li>
          <li v-if="getAvailableKeywordsForLink(contextLink).length === 0" class="disabled">
            {{ getTranslation('menu.keyword.noneAvailable') || 'No remaining keywords' }}
          </li>
          <li v-for="kw in getAvailableKeywordsForLink(contextLink)" :key="'link-menu-add-kw-' + kw"
              :class="{ 'disabled': !canEdit(contextGroup) }"
              @click="canEdit(contextGroup) ? (addKeywordToLink(contextGroup, contextLink, kw), hideMenus()) : null">
            {{ (getTranslation('menu.keyword.add') || 'Add') + ': ' + kw }}
          </li>
        </ul>
      </li>
      <li v-if="!isSeparatorLink(contextLink)" class="separator mb-context-menu-separator"></li>
      <li v-if="cssSidebarVisible" class="submenu" tabindex="0">
        {{ getTranslation('menu.link.copyForCss') || 'Copy for CSS' }}
        <ul class="context-submenu mb-context-submenu">
          <li @click="copyLinkCssClass(contextLink); hideMenus()">{{ getTranslation('menu.link.copyCssClass') || 'Copy CSS class' }}</li>
          <li @click="copyLinkUuid(contextLink); hideMenus()">{{ getTranslation('menu.link.copyUuid') || 'Copy UUID' }}</li>
          <li @click="copyLinkUuid(contextLink, {shiftKey: true}); hideMenus()">{{ getTranslation('menu.link.copyCssSelector') || 'Copy CSS selector [data-link-uuid]' }}</li>
        </ul>
      </li>
      <li v-if="cssSidebarVisible" class="separator mb-context-menu-separator"></li>
      <li @click="canDelete(contextGroup) ? (deleteLink(contextLink), hideMenus()) : null" 
          :class="{ 'disabled': !canDelete(contextGroup) }"
          :title="!canDelete(contextGroup) ? getTranslation('error.perm.delete') : ''">
        {{ isSeparatorLink(contextLink) ? (getTranslation('menu.link.deleteSeparator') || 'Delete separator') : (isNoteLink(contextLink) ? (getTranslation('menu.link.deleteNote') || 'Delete note') : (isReferenceLink(contextLink) ? (getTranslation('menu.link.deleteRefLink') || 'Delete ref link') : getTranslation('menu.link.deleteLink'))) }}
        <span v-if="!canDelete(contextGroup)" class="text-muted"> ({{ getTranslation('permission.denied') || 'No permission' }})</span>
      </li>
    </ul>
  </div>

  <div class="modal fade" id="referenceAliasModal" tabindex="-1" aria-labelledby="referenceAliasModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content mb-modal mb-ref-alias-modal">
        <div class="modal-header">
          <h5 class="modal-title mb-edit-modal-title" id="referenceAliasModalLabel">
            {{ getTranslation('link.ref.editDialog.title') || 'Edit reference link text' }}
          </h5>
          <button type="button" class="btn-close" aria-label="Close" @click="cancelReferenceAliasDialog"></button>
        </div>
        <div class="modal-body mb-edit-modal-body">
          <form v-if="refAliasEditData" class="mb-edit-form" @submit.prevent="saveReferenceAliasDialog">
            <div class="options-section mb-edit-section">
              <div
                class="options-section-header mb-edit-section-header"
                :class="{ collapsed: !isRefAliasSectionExpanded('basic') }"
                @click="toggleRefAliasSection('basic')">
                <span>{{ getTranslation('link.basic') || 'Basic Settings' }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              <div v-show="isRefAliasSectionExpanded('basic')" class="options-section-body mb-edit-section-body">
                <div class="small text-muted mb-2 mb-ref-alias-source-line">
                  <strong>{{ getTranslation('link.ref.editDialog.original') || 'Original link' }}:</strong>
                  <span>{{ refAliasEditData.sourceTitle || (getTranslation('link.ref.missing') || 'Reference link (original missing)') }}</span>
                </div>
                <div class="small text-muted mb-2">
                  <strong>{{ getTranslation('link.ref.editDialog.originalUrl') || 'Original URL template' }}:</strong>
                  <code>{{ refAliasEditData.sourceUrlTemplate || '-' }}</code>
                </div>
                <div v-if="refAliasEditData.sourceMissing" class="small mb-edit-field-help mb-ref-alias-warning mb-2">
                  {{ getTranslation('link.ref.editDialog.sourceMissingHint') || 'The original link could not be found. You can still set a local reference text.' }}
                </div>
                <div class="option-row mb-edit-field-row">
                  <label class="form-label mb-edit-field-label" for="referenceAliasInput">
                    {{ getTranslation('link.ref.editDialog.aliasLabel') || 'Reference text' }}
                  </label>
                  <input
                    id="referenceAliasInput"
                    ref="refAliasInput"
                    v-model="refAliasEditData.aliasText"
                    type="text"
                    class="form-control mb-edit-text-input"
                    :placeholder="getTranslation('link.ref.editDialog.aliasPlaceholder') || 'Leave empty to use the original link text'"
                    autocomplete="off">
                  <div class="form-text mb-edit-field-help">
                    {{ getTranslation('link.ref.editDialog.help') || 'Only this reference text is changed. URL and metadata stay linked to the original link.' }}
                  </div>
                </div>
              </div>
            </div>

            <div class="options-section mb-edit-section">
              <div
                class="options-section-header mb-edit-section-header"
                :class="{ collapsed: !isRefAliasSectionExpanded('keywords') }"
                @click="toggleRefAliasSection('keywords')">
                <span>{{ getTranslation('menu.keywords') || 'Keywords' }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              <div v-show="isRefAliasSectionExpanded('keywords')" class="options-section-body mb-edit-section-body">
                <div class="option-row mb-edit-field-row">
                  <div class="form-check">
                    <input
                      id="referenceInheritKeywordsInput"
                      v-model="refAliasEditData.inheritSourceKeywords"
                      class="form-check-input"
                      type="checkbox">
                    <label class="form-check-label mb-edit-field-label" for="referenceInheritKeywordsInput">
                      {{ getTranslation('link.ref.editDialog.inheritKeywords') || 'Use original link keywords' }}
                    </label>
                  </div>
                </div>
                <div class="option-row mb-edit-field-row">
                  <div class="small text-muted mb-2 mb-ref-alias-source-keywords">
                    <strong>{{ getTranslation('link.ref.editDialog.originalKeywords') || 'Original keywords' }}:</strong>
                    <span>{{ refAliasEditData.sourceKeywordsLabel || (getTranslation('link.ref.editDialog.none') || 'None') }}</span>
                  </div>
                  <label class="form-label mb-edit-field-label" for="referenceKeywordsInput">
                    {{ getTranslation('link.ref.editDialog.localKeywordsLabel') || 'Additional reference keywords' }}
                  </label>
                  <input
                    id="referenceKeywordsInput"
                    v-model="refAliasEditData.localKeywords"
                    type="text"
                    class="form-control mb-edit-text-input"
                    :placeholder="getTranslation('link.ref.editDialog.localKeywordsPlaceholder') || 'keyword1, keyword2'"
                    autocomplete="off">
                  <div class="form-text mb-edit-field-help">
                    {{ getTranslation('link.ref.editDialog.localKeywordsHelp') || 'These keywords belong only to this reference link.' }}
                  </div>
                </div>
              </div>
            </div>

            <div class="options-section mb-edit-section">
              <div
                class="options-section-header mb-edit-section-header"
                :class="{ collapsed: !isRefAliasSectionExpanded('placeholders') }"
                @click="toggleRefAliasSection('placeholders')">
                <span>{{ getTranslation('link.ref.editDialog.placeholders') || 'Placeholders' }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              <div v-show="isRefAliasSectionExpanded('placeholders')" class="options-section-body mb-edit-section-body">
                <div class="option-row mb-edit-field-row">
                  <div v-if="(refAliasEditData.placeholderRows || []).length === 0" class="small text-muted">
                    {{ getTranslation('placeholders.noneInUrl') || 'No placeholders found in URL template.' }}
                  </div>
                  <div v-else class="table-responsive">
                    <table class="table table-sm align-middle mb-placeholder-table">
                      <thead>
                        <tr>
                          <th style="width: 35%;">{{ getTranslation('placeholders.name') || 'Name' }}</th>
                          <th style="width: 45%;">{{ getTranslation('placeholders.value') || 'Value' }}</th>
                          <th style="width: 20%;">{{ getTranslation('placeholders.encode') || 'Encode' }}</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr v-for="(row, idx) in refAliasEditData.placeholderRows" :key="'ref-plh-' + idx + '-' + row.name">
                          <td><code>{{ row.name }}</code></td>
                          <td>
                            <input
                              v-model="row.value"
                              type="text"
                              class="form-control form-control-sm"
                              :placeholder="getTranslation('placeholders.valuePlaceholder') || 'Enter value'"
                              autocomplete="off">
                            <div v-if="isReferenceAliasInheritedPlaceholder(row)" class="form-text mb-0">
                              <span>{{ getTranslation('placeholders.inheritedValue') || 'Inherited value' }}: <code>{{ getReferenceAliasInheritedPlaceholderValue(row) || '' }}</code></span>
                              <button
                                v-if="canRestoreReferenceAliasPlaceholder(row)"
                                type="button"
                                class="btn btn-link btn-sm p-0 ms-2 align-baseline"
                                @click="restoreReferenceAliasPlaceholder(idx)">
                                {{ getTranslation('placeholders.restoreInherited') || 'Restore inherited' }}
                              </button>
                            </div>
                          </td>
                          <td>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                :id="'ref-placeholder-encode-' + idx"
                                v-model="row.encode">
                              <label class="form-check-label small" :for="'ref-placeholder-encode-' + idx">
                                {{ getTranslation('placeholders.encodeLabel') || 'URL-encode' }}
                              </label>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="form-text mb-edit-field-help">
                    <strong>{{ getTranslation('placeholders.preview') || 'Preview' }}:</strong>
                    <code>{{ previewReferenceAliasResolvedUrl() || '-' }}</code>
                  </div>
                  <div v-if="getReferenceAliasUnresolvedPlaceholders().length" class="form-text text-warning">
                    {{ (getTranslation('placeholders.unresolvedHint') || 'Unresolved placeholders') + ': ' + getReferenceAliasUnresolvedPlaceholders().join(', ') }}
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer mb-edit-modal-footer">
          <button type="button" class="btn btn-primary mb-edit-save-btn" @click="saveReferenceAliasDialog">
            {{ getTranslation('save') || 'Save' }}
          </button>
          <button type="button" class="btn btn-secondary mb-edit-cancel-btn" @click="cancelReferenceAliasDialog">
            {{ getTranslation('cancel') || 'Cancel' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="keywordManagerModal" tabindex="-1" aria-labelledby="keywordManagerModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="keywordManagerModalLabel">
            {{ getTranslation('keywords.dialog.title') || 'Manage Keywords' }}
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body mb-keyword-manager-body">
          <div v-if="allKeywords.length === 0" class="text-muted mb-keyword-manager-empty">
            {{ getTranslation('keywords.dialog.empty') || 'No keywords available' }}
          </div>
          <div v-else class="list-group mb-3 mb-keyword-manager-list">
            <button
              v-for="kw in allKeywords"
              :key="'keyword-manager-' + kw"
              type="button"
              class="list-group-item list-group-item-action"
              :class="{ active: keywordManager.selected === kw }"
              @click="selectManagedKeyword(kw)">
              {{ kw }}
            </button>
          </div>
          <div class="mb-keyword-manager-editor">
            <label class="form-label small mb-1">{{ getTranslation('keywords.dialog.newName') || 'New name' }}</label>
            <input
              type="text"
              class="form-control form-control-sm"
              v-model="keywordManager.newName"
              :placeholder="getTranslation('keywords.dialog.newName') || 'New name'"
              :disabled="!keywordManager.selected"
            >
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-danger me-auto"
            :disabled="!keywordManager.selected"
            @click="deleteManagedKeyword">
            {{ getTranslation('keywords.dialog.delete') || 'Delete' }}
          </button>
          <button type="button" class="btn btn-primary"
            :disabled="!keywordManager.selected"
            @click="renameManagedKeyword">
            {{ getTranslation('keywords.dialog.rename') || 'Rename' }}
          </button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            {{ getTranslation('dialog.close') || 'Close' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="keywordQuickAddModal" tabindex="-1" aria-labelledby="keywordQuickAddModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="keywordQuickAddModalLabel">
            {{ keywordQuickDialog.mode === 'group'
              ? (getTranslation('keywords.quick.title.group') || 'Add group keyword')
              : (getTranslation('keywords.quick.title.link') || 'Add link keyword') }}
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" @click="resetKeywordQuickDialog"></button>
        </div>
        <div class="modal-body">
          <label class="form-label small mb-1">{{ getTranslation('keywords.quick.inputLabel') || 'Keyword' }}</label>
          <div class="mb-keyword-quick-field">
            <input
              ref="keywordQuickInput"
              type="text"
              class="form-control form-control-sm"
              v-model="keywordQuickDialog.value"
              :placeholder="getTranslation('keywords.quick.placeholder') || 'Enter keyword'"
              @focus="updateQuickKeywordContext($event)"
              @keyup="updateQuickKeywordContext($event)"
              @click="updateQuickKeywordContext($event)"
              @blur="clearQuickKeywordContext"
              @keydown.tab="handleQuickKeywordTab($event)"
              @keydown.enter.prevent="submitKeywordQuickDialog"
            >
          </div>
          <div class="form-text">{{ getTranslation('keywords.quick.help') || 'Separate multiple keywords with comma or semicolon.' }}</div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" @click="submitKeywordQuickDialog">
            {{ getTranslation('keywords.quick.add') || 'Add' }}
          </button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click="resetKeywordQuickDialog">
            {{ getTranslation('dialog.close') || 'Close' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="shortcutManagerModal" tabindex="-1" aria-labelledby="shortcutManagerModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="shortcutManagerModalLabel">
            {{ getTranslation('shortcuts.manager.title') || 'Shortcut Manager' }}
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body mb-shortcut-manager-body">
          <div class="alert alert-warning py-2 px-3 small mb-2" role="alert">
            {{ getTranslation('shortcuts.manager.popupBlockerHint') || 'Browsers may block opening many tabs at once. If that happens, allow pop-ups for this site or trigger the shortcut/action again.' }}
          </div>
          <div class="mb-shortcut-manager-section">
            <div class="mb-shortcut-manager-section-title">
              {{ getTranslation('shortcuts.manager.linkAssignments') || 'Defined link shortcuts' }}
            </div>
            <div class="input-group input-group-sm mb-2">
              <span class="input-group-text">{{ getTranslation('search') || 'Search' }}</span>
              <input
                type="text"
                class="form-control"
                v-model="shortcutManager.linkFilter"
                :placeholder="getTranslation('shortcuts.manager.filterPlaceholder') || 'Filter by shortcut, group, title or URL'"
              >
              <button class="btn btn-outline-secondary" type="button" @click="shortcutManager.linkFilter = ''">
                {{ getTranslation('clear') || 'Clear' }}
              </button>
            </div>
            <div v-if="shortcutManagerLinkGroups.length === 0" class="text-muted small">
              {{ getTranslation('shortcuts.manager.noneDefined') || 'No link shortcuts defined yet.' }}
            </div>
            <div v-else class="list-group mb-shortcut-defined-list">
              <div
                v-for="group in shortcutManagerLinkGroups"
                :key="'shortcut-links-' + group.combo"
                class="list-group-item">
                <div class="d-flex align-items-start justify-content-between gap-2">
                  <div>
                    <span class="badge bg-secondary mb-shortcut-defined-combo">{{ group.combo }}</span>
                    <span class="ms-2 small text-muted">
                      {{ group.itemCount }} {{ getTranslation('shortcuts.manager.linksCount') || 'links' }},
                      {{ group.validUrlCount }} {{ getTranslation('shortcuts.manager.urlsCount') || 'valid URLs' }}
                    </span>
                  </div>
                  <button
                    type="button"
                    class="btn btn-sm btn-outline-secondary"
                    :disabled="group.validUrlCount === 0"
                    @click="openUrlsFromShortcutGroup(group)">
                    {{ getTranslation('shortcuts.manager.openNow') || 'Open now' }}
                  </button>
                </div>
                <div class="mt-2 small">
                  <div
                    v-for="item in group.items"
                    :key="'shortcut-item-' + group.combo + '-' + item.linkUuid"
                    class="d-flex align-items-center justify-content-between gap-2 py-1 border-top">
                    <div class="text-truncate">
                      <strong>{{ item.groupName || '-' }}</strong>:
                      {{ item.linkText || item.url || '-' }}
                      <span v-if="item.url" class="text-muted"> ({{ item.url }})</span>
                    </div>
                    <button
                      type="button"
                      class="btn btn-sm btn-link text-decoration-none p-0"
                      @click="showLinkEditModal(item.linkRef)">
                      {{ getTranslation('shortcuts.manager.editLink') || 'Edit' }}
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="mb-shortcut-manager-section">
            <div class="mb-shortcut-manager-section-title">
              {{ getTranslation('shortcuts.manager.globalTitle') || 'Global shortcuts (open multiple pages)' }}
            </div>
            <p class="small text-muted mb-2">
              {{ getTranslation('shortcuts.manager.globalHelp') || 'Select groups and links from your bookmark tree. Selected items will be opened by shortcut.' }}
            </p>
            <div v-if="shortcutManager.globalDrafts.length === 0" class="text-muted small mb-2">
              {{ getTranslation('shortcuts.manager.globalEmpty') || 'No global shortcuts configured.' }}
            </div>
            <div
              v-for="(draft, draftIndex) in shortcutManager.globalDrafts"
              :key="'shortcut-global-draft-' + draft.id"
              class="mb-shortcut-global-card">
              <div class="row g-2 align-items-end">
                <div class="col-md-3">
                  <label class="form-label small mb-1">{{ getTranslation('shortcuts.manager.globalCombo') || 'Shortcut' }}</label>
                  <div class="input-group input-group-sm">
                    <input
                      type="text"
                      class="form-control mb-edit-shortcut-input"
                      :value="draft.combo"
                      :placeholder="getTranslation('link.shortcut.placeholder') || 'Focus and press keys'"
                      readonly
                      @focus="$event.target.select()"
                      @keydown="captureShortcutManagerDraft(draftIndex, $event)"
                    >
                    <button
                      type="button"
                      class="btn btn-outline-secondary"
                      @click="clearShortcutManagerDraft(draftIndex)">
                      {{ getTranslation('clear') || 'Clear' }}
                    </button>
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label small mb-1">{{ getTranslation('shortcuts.manager.globalName') || 'Name' }}</label>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    v-model="draft.name"
                    :placeholder="getTranslation('shortcuts.manager.globalNamePlaceholder') || 'Optional label (e.g. Morning Start)'"
                  >
                </div>
                <div class="col-md-3 d-flex justify-content-end">
                  <button type="button" class="btn btn-sm btn-outline-danger" @click="removeGlobalShortcutDraft(draftIndex)">
                    {{ getTranslation('shortcuts.manager.remove') || 'Remove' }}
                  </button>
                </div>
              </div>
              <div class="mt-2">
                <label class="form-label small mb-1">{{ getTranslation('shortcuts.manager.globalTargets') || 'Select groups and links' }}</label>
                <div class="d-flex gap-1 mb-2">
                  <button type="button" class="btn btn-sm btn-outline-primary" @click="selectAllShortcutTargetsForDraft(draftIndex)">
                    {{ getTranslation('export.selectAll') || 'Select All' }}
                  </button>
                  <button type="button" class="btn btn-sm btn-outline-secondary" @click="clearShortcutTargetsForDraft(draftIndex)">
                    {{ getTranslation('export.deselectAll') || 'Deselect All' }}
                  </button>
                </div>
                <div v-if="shortcutManagerTargetGroups.length === 0" class="text-muted small">
                  {{ getTranslation('shortcuts.manager.globalNoLinks') || 'No groups/links available.' }}
                </div>
                <div v-else class="mb-shortcut-target-tree">
                  <div
                    v-for="group in shortcutManagerTargetGroups"
                    :key="'shortcut-target-group-' + draft.id + '-' + group.groupId"
                    class="mb-shortcut-target-group">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        :id="'shortcut-target-group-' + draft.id + '-' + group.groupId"
                        :checked="isShortcutDraftGroupSelected(draft, group.groupId)"
                        :disabled="group.selectableLinkCount === 0"
                        @change="toggleShortcutDraftGroup(draftIndex, group.groupId, $event.target.checked)"
                      >
                      <label class="form-check-label fw-semibold" :for="'shortcut-target-group-' + draft.id + '-' + group.groupId">
                        {{ group.groupName || '-' }}
                        <span class="text-muted small">({{ getShortcutDraftGroupSelectedCount(draft, group.groupId) }}/{{ group.selectableLinkCount }})</span>
                      </label>
                    </div>
                    <div class="ms-4 mt-1" v-if="group.links.length > 0">
                      <div
                        v-for="link in group.links"
                        :key="'shortcut-target-link-' + draft.id + '-' + group.groupId + '-' + link.linkId"
                        class="form-check form-check-sm">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          :id="'shortcut-target-link-' + draft.id + '-' + group.groupId + '-' + link.linkId"
                          :checked="isShortcutDraftLinkSelected(draft, group.groupId, link.linkId)"
                          :disabled="!link.validUrl || isShortcutDraftGroupSelected(draft, group.groupId)"
                          @change="toggleShortcutDraftLink(draftIndex, group.groupId, link.linkId, $event.target.checked)"
                        >
                        <label class="form-check-label small" :for="'shortcut-target-link-' + draft.id + '-' + group.groupId + '-' + link.linkId">
                          {{ link.linkText || '-' }}
                          <span class="text-muted d-block small text-truncate mb-shortcut-target-link-url">{{ link.rawUrl || '-' }}</span>
                          <span v-if="!link.validUrl" class="text-warning small">
                            {{ getTranslation('shortcuts.manager.invalidLinkUrl') || 'Invalid URL; cannot be opened via shortcut.' }}
                          </span>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-text">
                  {{ getShortcutManagerDraftStatsText(draft) }}
                </div>
              </div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary" @click="addGlobalShortcutDraft">
              {{ getTranslation('shortcuts.manager.addGlobal') || 'Add global shortcut' }}
            </button>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" @click="saveShortcutManagerDialog">
            {{ getTranslation('save') || 'Save' }}
          </button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            {{ getTranslation('dialog.close') || 'Close' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="globalPlaceholdersModal" tabindex="-1" aria-labelledby="globalPlaceholdersModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="globalPlaceholdersModalLabel">
            {{ getTranslation('placeholders.global.title') || 'Global placeholders' }}
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p class="small text-muted mb-2">{{ getTranslation('placeholders.global.help') || 'Global placeholders are available for all links.' }}</p>
          <div class="table-responsive">
            <table class="table table-sm align-middle mb-placeholder-table">
              <thead>
                <tr>
                  <th style="width: 30%;">{{ getTranslation('placeholders.name') || 'Name' }}</th>
                  <th style="width: 40%;">{{ getTranslation('placeholders.value') || 'Value' }}</th>
                  <th style="width: 20%;">{{ getTranslation('placeholders.encode') || 'Encode' }}</th>
                  <th style="width: 10%;">{{ getTranslation('delete') || 'Delete' }}</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="(row, idx) in globalPlaceholderRows" :key="'global-placeholder-' + idx">
                  <td><input v-model="row.name" type="text" class="form-control form-control-sm" placeholder="PLACEHOLDER"></td>
                  <td><input v-model="row.value" type="text" class="form-control form-control-sm" :placeholder="getTranslation('placeholders.valuePlaceholder') || 'Enter value'"></td>
                  <td>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" :id="'global-placeholder-encode-' + idx" v-model="row.encode">
                      <label class="form-check-label small" :for="'global-placeholder-encode-' + idx">
                        {{ getTranslation('placeholders.encodeLabel') || 'URL-encode' }}
                      </label>
                    </div>
                  </td>
                  <td>
                    <button type="button" class="btn btn-sm btn-outline-danger" @click="removeGlobalPlaceholderRow(idx)"></button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <button type="button" class="btn btn-sm btn-outline-primary" @click="addGlobalPlaceholderRow">
            {{ getTranslation('placeholders.add') || 'Add placeholder' }}
          </button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" @click="saveGlobalPlaceholderDialog">{{ getTranslation('save') || 'Save' }}</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{{ getTranslation('dialog.close') || 'Close' }}</button>
        </div>
      </div>
    </div>
  </div>

  <div id="options">
  </div>

  <div id="qrCode">
    <div class="modal fade" id="qrCodeModal" tabindex="-1" aria-labelledby="qrCodeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content mb-modal">
          <div class="modal-header">
            <h5 class="modal-title" id="qrCodeModalLabel">QR code</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body text-center">
            <div id="qrCodeDiv"></div>
            <p class="mt-3 qrCodeUrl">{{ qrCodeUrl }}</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Bookmarklet Modal -->
  <div id="bookmarklet">
    <div class="modal fade" id="bookmarkletModal" tabindex="-1" aria-labelledby="bookmarkletModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content mb-modal">
          <div class="modal-header">
            <h5 class="modal-title" id="bookmarkletModalLabel">{{ getTranslation('bookmarklet.helpTitle') }}</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p class="mb-2">{{ getTranslation('bookmarklet.instructions') }}</p>
            <p class="mb-2"><a :href="bookmarkletHref" draggable="true" class="btn btn-sm btn-primary">{{ getTranslation('bookmarklet.dragThis') }}</a></p>
            <div class="input-group input-group-sm">
              <span class="input-group-text mb-bookmarklet-prefix">JS</span>
              <input type="text" class="form-control" :value="bookmarkletHref" readonly onclick="this.select()">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- JSON Inspector Modal -->
  <div class="modal fade" id="jsonInspectorModal" tabindex="-1" aria-labelledby="jsonInspectorModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="jsonInspectorModalLabel">
            {{ getTranslation('json.inspector.title') || 'Group JSON Inspector' }}
            <span v-if="inspectedGroup" class="text-muted ms-2">- {{ inspectedGroup.name }}</span>
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div v-if="inspectedGroup">
            <!-- Tabs -->
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#json-tab" type="button" role="tab">
                  JSON
                </button>
              </li>
              <li class="nav-item" role="presentation" v-if="inspectedGroup.eventLog && inspectedGroup.eventLog.length > 0">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#eventlog-tab" type="button" role="tab">
                  Event Log ({{ inspectedGroup.eventLog.length }})
                </button>
              </li>
              <li class="nav-item" role="presentation" v-if="inspectedGroup.snapshot">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#snapshot-tab" type="button" role="tab">
                  Snapshot
                </button>
              </li>
            </ul>
            
            <!-- Tab Content -->
            <div class="tab-content mt-3">
              <!-- JSON Tab -->
              <div class="tab-pane fade show active" id="json-tab" role="tabpanel">
                <!-- Copy button and info -->
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <div class="text-muted">
                    <small>
                      {{ getTranslation('json.inspector.info') || 'Complete JSON representation of the group object' }}
                    </small>
                  </div>
                  <button type="button" class="btn btn-sm btn-outline-primary" @click="copyGroupJSON">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
                      <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                      <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
                    </svg>
                    {{ getTranslation('json.inspector.copy') || 'Copy JSON' }}
                  </button>
                </div>
                
                <!-- JSON display -->
                <pre class="bg-light p-3 rounded mb-surface-panel mb-json-inspector-code" style="max-height: 50vh; overflow-y: auto; font-size: 0.875rem;">{{ inspectedGroupJSON }}</pre>
                
                <!-- Statistics -->
                <div class="mt-3 p-3 bg-light rounded mb-surface-panel mb-json-inspector-stats">
                  <h6>{{ getTranslation('json.inspector.stats') || 'Statistics' }}</h6>
                  <div class="row">
                    <div class="col-md-6">
                      <ul class="list-unstyled mb-0">
                        <li><strong>Links:</strong> {{ inspectedGroup.links ? inspectedGroup.links.length : 0 }}</li>
                        <li><strong>Members:</strong> {{ inspectedGroup.members ? inspectedGroup.members.length : 0 }}</li>
                        <li><strong>Shared:</strong> {{ inspectedGroup.shared ? 'Yes' : 'No' }}</li>
                        <li><strong>Version:</strong> {{ inspectedGroup.version || CONSTS.VERSION_FALLBACK }}</li>
                      </ul>
                    </div>
                    <div class="col-md-6">
                      <ul class="list-unstyled mb-0">
                        <li><strong>Has Event Log:</strong> {{ inspectedGroup.eventLog ? 'Yes' : 'No' }}</li>
                        <li v-if="inspectedGroup.eventLog"><strong>Events:</strong> {{ inspectedGroup.eventLog.length }}</li>
                        <li v-if="inspectedGroup.snapshot"><strong>Has Snapshot:</strong> Yes</li>
                        <li><strong>Size:</strong> {{ formatBytes(inspectedGroupJSON.length) }}</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Event Log Tab -->
              <div class="tab-pane fade" id="eventlog-tab" role="tabpanel" v-if="inspectedGroup.eventLog">
                <div class="table-responsive">
                  <table class="table table-sm table-hover">
                    <thead>
                      <tr>
                        <th>{{ getTranslation('eventlog.time') || 'Time' }}</th>
                        <th>{{ getTranslation('eventlog.type') || 'Type' }}</th>
                        <th>{{ getTranslation('eventlog.author') || 'Author' }}</th>
                        <th>{{ getTranslation('eventlog.details') || 'Details' }}</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr v-for="event in getSortedEventLog(inspectedGroup.eventLog)" :key="event.eventId">
                        <td class="text-nowrap">{{ formatEventTime(event.timestamp) }}</td>
                        <td>
                          <span class="badge" :class="getEventTypeBadgeClass(event.operation?.type || event.type)">
                            {{ event.operation?.type || event.type || 'unknown' }}
                          </span>
                        </td>
                        <td>{{ getAuthorName(event.author || event.authorId) }}</td>
                        <td>
                          <div v-if="(event.operation?.type || event.type) === 'link-edit' && ((event.operation && Object.keys(event.operation.data || {}).length > 1) || (!event.operation && event.data?.changes && Object.keys(event.data.changes).length > 1))">
                            <details>
                              <summary class="cursor-pointer">
                                <small class="text-muted">{{ Object.keys(event.operation?.data || event.data?.changes || {}).length }} {{ getTranslation('eventlog.changes') || 'changes' }}</small>
                              </summary>
                              <div class="mt-1">
                                <small class="text-muted" v-html="getEventDetailsFormatted(event)"></small>
                              </div>
                            </details>
                          </div>
                          <div v-else>
                            <small class="text-muted" v-html="getEventDetailsFormatted(event)"></small>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              
              <!-- Snapshot Tab -->
              <div class="tab-pane fade" id="snapshot-tab" role="tabpanel" v-if="inspectedGroup.snapshot">
                <div class="p-3 bg-light rounded mb-surface-panel mb-json-inspector-snapshot">
                  <h6>{{ getTranslation('snapshot.info') || 'Snapshot Information' }}</h6>
                  <ul class="list-unstyled">
                    <li><strong>{{ getTranslation('snapshot.created') || 'Created' }}:</strong> {{ formatEventTime(inspectedGroup.snapshot.timestamp) }}</li>
                    <li><strong>{{ getTranslation('snapshot.eventId') || 'Event ID' }}:</strong> <code>{{ inspectedGroup.snapshot.eventId || 'N/A' }}</code></li>
                    <li><strong>{{ getTranslation('snapshot.links') || 'Links in snapshot' }}:</strong> {{ inspectedGroup.snapshot.data?.links?.length || 0 }}</li>
                    <li><strong>{{ getTranslation('snapshot.members') || 'Members in snapshot' }}:</strong> {{ inspectedGroup.snapshot.data?.members?.length || 0 }}</li>
                    <li><strong>{{ getTranslation('snapshot.version') || 'Version' }}:</strong> {{ inspectedGroup.snapshot.data?.version || CONSTS.VERSION_FALLBACK }}</li>
                  </ul>
                  
                  <h6 class="mt-3">{{ getTranslation('snapshot.vectorClock') || 'Vector Clock' }}</h6>
                  <div class="table-responsive">
                    <table class="table table-sm" v-if="inspectedGroup.snapshot.vectorClock && Object.keys(inspectedGroup.snapshot.vectorClock).length > 0">
                      <thead>
                        <tr>
                          <th>{{ getTranslation('snapshot.member') || 'Member' }}</th>
                          <th>{{ getTranslation('snapshot.eventCount') || 'Event Count' }}</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr v-for="(count, memberId) in inspectedGroup.snapshot.vectorClock" :key="memberId">
                          <td>{{ getAuthorName(memberId) }}</td>
                          <td>{{ count }}</td>
                        </tr>
                      </tbody>
                    </table>
                    <p v-else class="text-muted">{{ getTranslation('snapshot.noVectorClock') || 'No vector clock data' }}</p>
                  </div>
                  
                  <details class="mt-3">
                    <summary class="cursor-pointer">{{ getTranslation('snapshot.showData') || 'Show snapshot data' }}</summary>
                    <pre class="bg-white p-2 mt-2 rounded mb-surface-panel mb-json-inspector-snapshot-data" style="max-height: 30vh; overflow-y: auto; font-size: 0.875rem;">{{ JSON.stringify(inspectedGroup.snapshot.data, null, 2) }}</pre>
                  </details>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{{ getTranslation('close') || 'Close' }}</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Paste from Clipboard Modal -->
  <div id="pasteClipboard">
    <div class="modal fade" id="pasteClipboardModal" tabindex="-1" aria-labelledby="pasteClipboardModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content mb-modal">
          <div class="modal-header">
            <h5 class="modal-title" id="pasteClipboardModalLabel">{{ getTranslation('clipboard.modalTitle') || 'Import Links' }}</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" @click="resetImportDialog"></button>
          </div>
          <div class="modal-body">
            <p class="mb-2">{{ getTranslation('clipboard.instructions') || 'Import from file or paste JSON, CSV, or HTML bookmarks:' }}</p>
            
            <!-- File upload section -->
            <div class="options-section mb-edit-section">
              <div
                class="options-section-header mb-edit-section-header"
                :class="{ collapsed: !isImportDialogSectionExpanded('file') }"
                @click="toggleImportDialogSection('file')">
                <span>{{ getTranslation('import.fromFile') || 'Import from file:' }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              <div v-show="isImportDialogSectionExpanded('file')" class="options-section-body mb-edit-section-body">
                <input type="file" class="form-control form-control-sm"
                  accept=".json,.csv,.html,.htm"
                  @change="handleFileUpload"
                  ref="fileInput">
              </div>
            </div>

            <!-- URL import section -->
            <div class="options-section mb-edit-section">
              <div
                class="options-section-header mb-edit-section-header"
                :class="{ collapsed: !isImportDialogSectionExpanded('url') }"
                @click="toggleImportDialogSection('url')">
                <span>{{ getTranslation('import.fromUrl') || 'Import from URL:' }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              <div v-show="isImportDialogSectionExpanded('url')" class="options-section-body mb-edit-section-body">
                <div class="mb-2">
                  <div class="input-group">
                    <input type="url" class="form-control form-control-sm"
                      v-model="importUrl"
                      :placeholder="getTranslation('import.urlPlaceholder') || 'https://example.com/bookmarks.json'"
                      @keyup.enter="fetchFromUrl">
                    <button type="button" class="btn btn-sm btn-outline-secondary"
                      @click="fetchFromUrl"
                      :disabled="!importUrl || fetchingUrl">
                      <span v-if="fetchingUrl">{{ getTranslation('import.fetching') || 'Fetching...' }}</span>
                      <span v-else>{{ getTranslation('import.fetch') || 'Fetch' }}</span>
                    </button>
                  </div>
                  <div v-if="urlFetchError" class="text-danger small mt-1">{{ urlFetchError }}</div>
                </div>

                <div v-if="extensionAvailable" class="text-center my-2">
                  <small class="text-muted">{{ getTranslation('import.or') || ' OR ' }}</small>
                </div>

                <!-- Browser bookmarks option (if extension available) -->
                <div v-if="extensionAvailable">
                  <button type="button" class="btn btn-sm btn-outline-primary"
                    @click="fetchBrowserBookmarks"
                    :disabled="fetchingBrowserBookmarks">
                    <span v-if="fetchingBrowserBookmarks">
                      <span class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
                      {{ getTranslation('import.fetchingBookmarks') || 'Loading bookmarks...' }}
                    </span>
                    <span v-else>
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark-star me-1" viewBox="0 0 16 16">
                        <path d="M7.84 4.1a.178.178 0 0 1 .32 0l.634 1.285a.178.178 0 0 0 .134.098l1.42.206c.145.021.204.2.098.303L9.42 6.993a.178.178 0 0 0-.051.158l.242 1.414a.178.178 0 0 1-.258.187l-1.27-.668a.178.178 0 0 0-.165 0l-1.27.668a.178.178 0 0 1-.257-.187l.242-1.414a.178.178 0 0 0-.05-.158l-1.03-1.001a.178.178 0 0 1 .098-.303l1.42-.206a.178.178 0 0 0 .134-.098L7.84 4.1z"/>
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                      </svg>
                      {{ getTranslation('import.browserBookmarks') || 'Import Browser Bookmarks' }}
                    </span>
                  </button>
                  <div v-if="browserBookmarksInfo" class="text-muted small mt-1">
                    {{ browserBookmarksInfo }}
                  </div>
                </div>
              </div>
            </div>

            <!-- Clipboard section -->
            <div class="options-section mb-edit-section">
              <div
                class="options-section-header mb-edit-section-header"
                :class="{ collapsed: !isImportDialogSectionExpanded('clipboard') }"
                @click="toggleImportDialogSection('clipboard')">
                <span>{{ getTranslation('import.fromClipboard') || 'Paste from clipboard:' }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              <div v-show="isImportDialogSectionExpanded('clipboard')" class="options-section-body mb-edit-section-body">
                <div class="mb-2">
                  <button type="button" class="btn btn-sm btn-outline-secondary" @click="readFromClipboard">{{ getTranslation('clipboard.read') || 'Read from Clipboard' }}</button>
                </div>
                <div class="mb-3">
                  <textarea class="form-control" rows="5" v-model="pasteContent" @input="parsePastedContent" :placeholder="getTranslation('clipboard.placeholder') || 'Paste your data here...'"></textarea>
                </div>
                <div class="mb-0">
                  <label class="form-label">{{ getTranslation('import.csvSeparator') || 'CSV separator (optional):' }}</label>
                  <input type="text" class="form-control form-control-sm"
                    v-model="importCsvSeparator"
                    maxlength="8"
                    @input="parsePastedContent"
                    :placeholder="getTranslation('import.csvSeparator.placeholder') || 'Auto-detect (e.g. ; or ,)'">
                  <div class="form-text">{{ getTranslation('import.csvSeparator.help') || 'Leave empty for automatic detection. Use \\t for tab.' }}</div>
                </div>
                <div class="text-muted small mt-2" v-if="pasteHint">{{ pasteHint }}</div>
              </div>
            </div>
            
            <!-- Format detection -->
            <div v-if="detectedFormat" class="alert alert-info py-2">
              <small>{{ getTranslation('clipboard.detectedFormat') || 'Detected format:' }} <strong>{{ detectedFormat }}</strong></small>
            </div>
            
            <!-- Warning for full export -->
            <div v-if="isFullExport" class="alert alert-warning py-2">
              <strong>{{ getTranslation('import.fullExportWarning.title') || 'Warning!' }}</strong>
              {{ getTranslation('import.fullExportWarning.message') || 'This is a full database export. It should only be imported into an EMPTY database to avoid conflicts. All existing data will be replaced.' }}
            </div>
            
            <!-- New group title input (only show when not doing full import) -->
            <div v-if="parsedLinks && parsedLinks.length > 0 && !isFullExport" class="mb-3">
              <label class="form-label">{{ getTranslation('import.newGroupTitle') || 'New group title:' }}</label>
              <input type="text" class="form-control form-control-sm" 
                v-model="importGroupTitle" 
                :placeholder="getDefaultImportGroupTitle()"
                @keypress.enter.prevent="importSelected">
            </div>
            
            <!-- Preview section -->
            <div v-if="parsedLinks && parsedLinks.length > 0" class="border rounded p-2 mb-surface-panel mb-import-preview-panel" style="max-height: 300px; overflow-y: auto;">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h6 class="mb-0">{{ getTranslation('clipboard.preview') || 'Preview' }} ({{ parsedLinks.filter(l => l.selected).length }}/{{ parsedLinks.length }})</h6>
                <div>
                  <button type="button" class="btn btn-sm btn-outline-primary me-1" @click="selectAllLinks">{{ getTranslation('clipboard.selectAll') || 'Select All' }}</button>
                  <button type="button" class="btn btn-sm btn-outline-secondary" @click="deselectAllLinks">{{ getTranslation('clipboard.deselectAll') || 'Deselect All' }}</button>
                </div>
              </div>
              
              <!-- Group by existing groups if available -->
              <div v-if="getImportGroups().length > 0" class="mb-2">
                <div class="alert alert-info py-2">
                  <small>{{ getTranslation('import.groupsFound') || 'Found links from the following groups:' }}</small>
                  <div class="mt-1">
                    <span v-for="groupName in getImportGroups()" :key="groupName" 
                          class="badge bg-secondary me-1">{{ groupName }}</span>
                  </div>
                  <small class="d-block mt-2">{{ getTranslation('import.groupsWillBeCreated') || 'These groups will be created automatically if they don\'t exist.' }}</small>
                </div>
              </div>
              
              <div class="list-group list-group-flush">
                <!-- Group links by groupName -->
                <template v-for="groupName in getUniqueGroupNames()">
                  <!-- Group header with checkbox and toggle -->
                  <div v-if="groupName" :key="'group-' + groupName"
                       class="list-group-item py-2 bg-light mb-surface-panel mb-import-group-header">
                    <div class="d-flex align-items-center">
                      <!-- Group checkbox -->
                      <input type="checkbox"
                             class="form-check-input me-2"
                             :checked="isGroupSelected(groupName)"
                             @change="toggleGroupSelection(groupName)"
                             :id="'import-group-' + groupName">

                      <!-- Toggle button -->
                      <button type="button"
                              class="btn btn-sm btn-link p-0 me-2 text-decoration-none"
                              @click="toggleImportGroupCollapse(groupName)"
                              :aria-expanded="!isImportGroupCollapsed(groupName)">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path v-if="isImportGroupCollapsed(groupName)" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                          <path v-else d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                        </svg>
                      </button>

                      <!-- Group name and count -->
                      <strong class="text-primary flex-grow-1">
                         {{ getGroupDisplayName(groupName) }}
                        <span class="text-muted small">({{ getLinksForGroup(groupName).length }})</span>
                      </strong>
                    </div>
                    <!-- Full path display for browser bookmarks -->
                    <div v-if="getGroupFullPath(groupName)" class="ms-4 mt-1">
                      <small class="text-muted">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-folder-fill me-1" viewBox="0 0 16 16">
                          <path d="M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"/>
                        </svg>
                        {{ getGroupFullPath(groupName) }}
                      </small>
                    </div>
                  </div>

                  <!-- Collapsible links in this group -->
                  <div v-show="!isImportGroupCollapsed(groupName)">
                    <label v-for="(link, index) in getLinksForGroup(groupName)"
                           :key="'link-' + groupName + '-' + index"
                           class="list-group-item py-1"
                           :style="groupName ? 'padding-left: 3rem;' : ''">
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" v-model="link.selected"
                               :id="'import-link-' + parsedLinks.indexOf(link)">
                        <div class="ms-2">
                          <div class="d-flex align-items-center">
                            <div class="fw-bold small">{{ link.text || link.url }}</div>
                          </div>
                          <div class="text-muted small text-truncate" style="max-width: 100%;">{{ link.url }}</div>
                          <div v-if="link.keywords && link.keywords.length" class="small">
                            <span v-for="kw in parseKeywords(link.keywords)"
                              :key="kw" class="badge me-1 mb-import-keyword-badge" style="background-color: #e9ecef; color: #212529;">{{ kw }}</span>
                          </div>
                        </div>
                      </div>
                    </label>
                  </div>
                </template>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" @click="confirmPasteAdd" :disabled="!parsedLinks || parsedLinks.filter(l => l.selected).length === 0">
              {{ getTranslation('clipboard.import') || 'Import Selected' }} 
              <span v-if="parsedLinks && parsedLinks.filter(l => l.selected).length > 0">({{ parsedLinks.filter(l => l.selected).length }})</span>
            </button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click="resetImportDialog">{{ getTranslation('clipboard.cancel') || 'Cancel' }}</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Export Dialog -->
  <div id="exportDialog">
    <div class="modal fade" id="exportModal" tabindex="-1" aria-labelledby="exportModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content mb-modal">
          <div class="modal-header">
            <h5 class="modal-title" id="exportModalLabel">{{ getTranslation('export.title') || 'Export Bookmarks' }}</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div v-if="exportFormat !== 'json'">
              <p class="mb-3">{{ getTranslation('export.selectItems') || 'Select groups and links to export:' }}</p>
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h6 class="mb-0">{{ getTranslation('export.groups') || 'Groups' }}</h6>
                <div>
                  <button type="button" class="btn btn-sm btn-outline-primary me-1" @click="selectAllExportGroups">
                    {{ getTranslation('export.selectAll') || 'Select All' }}
                  </button>
                  <button type="button" class="btn btn-sm btn-outline-secondary" @click="deselectAllExportGroups">
                    {{ getTranslation('export.deselectAll') || 'Deselect All' }}
                  </button>
                </div>
              </div>
              <div class="border rounded p-2 mb-surface-panel mb-export-selection-panel" style="max-height: 400px; overflow-y: auto;">
                <div v-for="(group, gIndex) in exportSelection" :key="'export-g-' + gIndex" class="mb-3">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" v-model="group.selected" 
                      @change="onExportGroupChange(gIndex)" :id="'export-group-' + gIndex">
                    <label class="form-check-label fw-bold" :for="'export-group-' + gIndex">
                      {{ group.name || 'Untitled Group' }}
                      <span class="text-muted small">({{ group.links.filter(l => l.selected).length }}/{{ group.links.length }})</span>
                    </label>
                  </div>
                  <div class="ms-4 mt-1" v-if="group.links && group.links.length > 0">
                    <div v-for="(link, lIndex) in group.links" :key="'export-l-' + gIndex + '-' + lIndex" 
                      class="form-check form-check-sm">
                      <input class="form-check-input" type="checkbox" v-model="link.selected" 
                        @change="onExportLinkChange(gIndex)" :id="'export-link-' + gIndex + '-' + lIndex">
                      <label class="form-check-label small" :for="'export-link-' + gIndex + '-' + lIndex">
                        {{ link.text || link.url }}
                        <span class="text-muted d-block small text-truncate" style="max-width: 500px;">{{ link.url }}</span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-else>
              <p class="mb-2 fw-bold">Full JSON (Preview)</p>
              <textarea class="form-control" rows="12" readonly :value="getFullJsonPreview()"></textarea>
            </div>

            <div class="mt-3">
              <label class="form-label">{{ getTranslation('export.format') || 'Export Format:' }}</label>
              <select class="form-select form-select-sm" v-model="exportFormat">
                <option value="json">JSON (Full)</option>
                <option value="json-array">JSON Array (Links only)</option>
                <option value="csv">CSV</option>
                <option value="html">HTML Bookmarks</option>
              </select>
            </div>
          </div>
          <div class="modal-footer">
            <span v-if="exportFormat !== 'json'" class="me-auto text-muted">
              {{ getExportSelectionCount() }} {{ getTranslation('export.selected') || 'selected' }}
            </span>
            <button type="button" class="btn btn-primary" @click="confirmExport" 
              :disabled="exportFormat !== 'json' && !hasExportSelection()">
              {{ getTranslation('export.export') || 'Export' }}
            </button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              {{ getTranslation('export.cancel') || 'Cancel' }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  
  <!-- Unified Generic Edit Dialog -->
  <div class="modal fade" id="genericEditModal" tabindex="-1" aria-labelledby="genericEditModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <div class="d-flex align-items-center flex-grow-1">
            <!-- Favicon display for link & group edit dialog -->
            <div v-if="genericEditData && ['link','group'].includes(genericEditConfig.type) && !isGenericSeparatorEditMode()" class="me-3 mb-edit-favicon-preview">
              <div v-if="genericEditData.faviconLoading"
                class="link-edit-favicon-loading"
                style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;">
                <div class="spinner-border spinner-border-sm text-primary" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
              </div>
              <span v-else-if="genericEditData.favicon && !genericEditData.faviconError" class="link-favicon-wrap" :title="faviconSourceTooltip(genericEditData)">
                <img
                  :src="genericEditData.favicon"
                  alt="Favicon"
                  class="link-edit-favicon"
                  style="width: 32px; height: 32px; object-fit: contain; border-radius: 4px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                <span v-if="genericEditData.faviconSource" class="link-favicon-dot" :class="faviconSourceClass(genericEditData)"></span>
              </span>
              <span v-else-if="genericEditData.emoji"
                class="link-edit-emoji"
                style="font-size: 32px; display: inline-block; width: 32px; height: 32px; line-height: 32px; text-align: center;">
                {{ genericEditData.emoji }}
              </span>
              <span v-else-if="genericEditData.faviconError"
                class="link-edit-favicon-error"
                style="font-size: 24px; display: inline-block; width: 32px; height: 32px; line-height: 32px; text-align: center; opacity: 0.5;"
                :title="getTranslation('favicon.loadError') || 'Favicon konnte nicht geladen werden'">
                
              </span>
              <span v-else
                class="link-edit-favicon-placeholder"
                style="display: inline-block; width: 32px; height: 32px; background: #f0f0f0; border-radius: 4px; border: 1px dashed #ccc;">
              </span>
            </div>
            <h5 class="modal-title mb-edit-modal-title mb-0" id="genericEditModalLabel">{{ genericEditConfig.title }}</h5>
          </div>
          <div v-if="genericEditData && ['link','group'].includes(genericEditConfig.type) && !isGenericSeparatorEditMode()" class="mb-edit-favicon-actions">
            <button type="button" class="btn btn-sm btn-outline-secondary" @click="$refs.faviconFile && $refs.faviconFile.click()">
              {{ getFaviconText('upload') }}
            </button>
            <button type="button" class="btn btn-sm btn-outline-danger" @click="clearEditedFavicon" :disabled="!genericEditData.favicon && !genericEditData.faviconError">
              {{ getFaviconText('remove') }}
            </button>
            <input ref="faviconFile" type="file" accept="image/*" class="d-none" @change="onFaviconFileSelected">
          </div>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body mb-edit-modal-body">
          <form @submit.prevent="saveGenericEditDialog" v-if="genericEditData" class="mb-edit-form">
            <!-- Filter Input -->
            <div class="mb-3 mb-edit-filter-container">
              <div class="input-group mb-edit-filter-group">
                <span class="input-group-text">
                  <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                  </svg>
                </span>
                <input 
                  type="text" 
                  class="form-control mb-edit-filter-input" 
                  v-model="genericFilterText"
                  placeholder="Filter settings..."
                >
                <button class="btn btn-outline-secondary" type="button" @click="genericFilterText = ''" 
                  v-if="genericFilterText">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M2.5 2.5a.7.7 0 0 1 .99 0L8 7.01l4.51-4.51a.7.7 0 1 1 .99.99L8.99 8l4.51 4.51a.7.7 0 0 1-.99.99L8 8.99l-4.51 4.51a.7.7 0 1 1-.99-.99L7.01 8 2.5 3.49a.7.7 0 0 1 0-.99Z"/>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Generic Edit Sections -->
            <div v-for="(section, sectionKey) in getFilteredGenericSettings()" :key="sectionKey" v-if="hasVisibleGenericSectionFields(sectionKey, section)" class="options-section mb-edit-section">
              <div 
                class="options-section-header mb-edit-section-header"
                :class="{ collapsed: !isGenericSectionExpanded(sectionKey) }"
                @click="toggleGenericSection(sectionKey)"
              >
                <span>{{ getTranslation(section.translateKey) || sectionKey }}</span>
                <svg class="chevron-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
              </div>
              
              <div v-show="isGenericSectionExpanded(sectionKey)" class="options-section-body mb-edit-section-body">
                <div v-for="(field, fieldKey) in section.fields" :key="fieldKey" v-if="shouldShowGenericField(sectionKey, fieldKey, field)"
                     :class="['option-row mb-edit-field-row', field.rowClass || '', { 'role-disabled': isFieldDisabled(sectionKey, fieldKey) }]">
                  
                  <!-- Text Field -->
                  <div v-if="field.type === 'text'">
                    <label class="form-label mb-edit-field-label">
                      {{ getTranslation(field.translateKey) || fieldKey }}
                      <span v-if="field.roleScope" :class="['role-badge mb-edit-role-badge', 'role-' + field.roleScope]">
                        {{ getRoleScopeBadgeText(field.roleScope) }}
                      </span>
                    </label>
                    <input 
                      type="text" 
                      class="form-control form-control-sm mb-edit-text-input"
                      :data-section="sectionKey"
                      :data-field="fieldKey"
                      :value="getGenericFieldValue(sectionKey, fieldKey)"
                      @input="onGenericTextInput(sectionKey, fieldKey, $event)"
                      @focus="maybeUpdateKeywordContext(sectionKey, fieldKey, $event)"
                      @keyup="maybeUpdateKeywordContext(sectionKey, fieldKey, $event)"
                      @click="maybeUpdateKeywordContext(sectionKey, fieldKey, $event)"
                      @blur="clearKeywordContext(sectionKey, fieldKey)"
                      @keydown.tab="handleKeywordTab(sectionKey, fieldKey, $event)"
                      :placeholder="field.placeholder"
                      :disabled="isFieldDisabled(sectionKey, fieldKey)"
                    >
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>
                  
                  <!-- URL Field -->
                  <div v-else-if="field.type === 'url'">
                    <label class="form-label mb-edit-field-label">
                      {{ getTranslation(field.translateKey) || fieldKey }}
                      <span v-if="field.roleScope" :class="['role-badge', 'role-' + field.roleScope]">
                        {{ getRoleScopeBadgeText(field.roleScope) }}
                      </span>
                    </label>
                    <input 
                      type="url" 
                      class="form-control form-control-sm mb-edit-url-input"
                      :data-autofocus="field.autofocus ? 'true' : null"
                      :data-field="fieldKey"
                      :value="getGenericFieldValue(sectionKey, fieldKey)"
                      @input="setGenericFieldValue(sectionKey, fieldKey, $event.target.value)"
                      :placeholder="field.placeholder"
                      :disabled="isFieldDisabled(sectionKey, fieldKey)"
                    >
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>

                  <!-- Shortcut Field -->
                  <div v-else-if="field.type === 'shortcut'">
                    <label class="form-label mb-edit-field-label">
                      {{ getTranslation(field.translateKey) || fieldKey }}
                      <span v-if="field.roleScope" :class="['role-badge', 'role-' + field.roleScope]">
                        {{ getRoleScopeBadgeText(field.roleScope) }}
                      </span>
                    </label>
                    <div class="input-group input-group-sm">
                      <input
                        type="text"
                        class="form-control mb-edit-shortcut-input"
                        :value="getGenericFieldValue(sectionKey, fieldKey)"
                        :placeholder="getTranslation(field.placeholder) || field.placeholder"
                        :disabled="isFieldDisabled(sectionKey, fieldKey)"
                        readonly
                        @focus="$event.target.select()"
                        @keydown="captureShortcutField(sectionKey, fieldKey, $event)"
                      >
                      <button
                        type="button"
                        class="btn btn-outline-secondary"
                        :disabled="isFieldDisabled(sectionKey, fieldKey)"
                        @click="clearShortcutField(sectionKey, fieldKey)"
                      >
                        {{ getTranslation('clear') || 'Clear' }}
                      </button>
                    </div>
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                    <div
                      v-for="notice in getGenericShortcutNoticeItems(sectionKey, fieldKey)"
                      :key="'shortcut-notice-' + sectionKey + '-' + fieldKey + '-' + notice.key"
                      class="form-text mb-edit-field-help"
                      :class="notice.className || ''">
                      {{ notice.text }}
                    </div>
                  </div>
                  
                  <!-- Number Field -->
                  <div v-else-if="field.type === 'number'">
                    <label class="form-label mb-edit-field-label">
                      {{ getTranslation(field.translateKey) || fieldKey }}
                      <span v-if="field.roleScope" :class="['role-badge', 'role-' + field.roleScope]">
                        {{ getRoleScopeBadgeText(field.roleScope) }}
                      </span>
                    </label>
                    <div class="input-group input-group-sm">
                      <input 
                        type="number" 
                        class="form-control mb-edit-number-input"
                        :value="getGenericFieldValue(sectionKey, fieldKey)"
                        @input="setGenericFieldValue(sectionKey, fieldKey, Number($event.target.value))"
                        :min="field.min"
                        :max="field.max"
                        :step="field.step"
                        :disabled="isFieldDisabled(sectionKey, fieldKey)"
                      >
                      <span v-if="field.suffix" class="input-group-text">{{ getTranslation(field.suffix) || field.suffix }}</span>
                    </div>
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>
                  
                  <!-- Checkbox Field -->
                  <div v-else-if="field.type === 'checkbox'">
                    <div class="form-check">
                      <input 
                        type="checkbox" 
                        class="form-check-input mb-edit-checkbox"
                        :id="field.id"
                        :checked="getGenericFieldValue(sectionKey, fieldKey)"
                        @change="setGenericFieldValue(sectionKey, fieldKey, $event.target.checked)"
                      >
                      <label class="form-check-label mb-edit-checkbox-label" :for="field.id">
                        {{ getTranslation(field.translateKey) || fieldKey }}
                        <span v-if="field.roleScope" :class="['role-badge', 'role-' + field.roleScope]">
                          {{ getRoleScopeBadgeText(field.roleScope) }}
                        </span>
                      </label>
                    </div>
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>

                  <!-- Group Link Behavior Field -->
                  <div v-else-if="field.type === 'group-link-behaviors'">
                    <label class="form-label mb-edit-field-label">
                      {{ getTranslation(field.translateKey) || fieldKey }}
                    </label>
                    <div v-if="getGenericGroupLinkOptions(fieldKey).length === 0" class="form-text mb-edit-field-help">
                      {{ getTranslation('group.linkedCollapseGroups.none') || 'No other groups available.' }}
                    </div>
                    <div v-else class="border rounded p-2" style="max-height: 220px; overflow: auto;">
                      <div class="d-flex align-items-center small text-muted fw-semibold mb-2">
                        <span class="flex-grow-1">{{ getTranslation('group.linkedCollapseGroups.column.group') || 'Group' }}</span>
                        <span class="me-3">{{ getTranslation('group.linkedCollapseGroups.column.expand') || 'Open' }}</span>
                        <span>{{ getTranslation('group.linkedCollapseGroups.column.collapse') || 'Close' }}</span>
                      </div>
                      <div
                        v-for="opt in getGenericGroupLinkOptions(fieldKey)"
                        :key="'group-link-' + fieldKey + '-' + opt.uuid"
                        class="d-flex align-items-center mb-1">
                        <label class="form-check-label flex-grow-1" :for="'group-link-expand-' + opt.uuid">
                          {{ opt.name }}
                        </label>
                        <div class="form-check me-3 mb-0">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            :id="'group-link-expand-' + opt.uuid"
                            :checked="isGenericGroupLinkSelected('linkedCollapseGroupUuids', opt.uuid)"
                            @change="toggleGenericGroupLinkSelection('linkedCollapseGroupUuids', opt.uuid, $event.target.checked)">
                        </div>
                        <div class="form-check mb-0">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            :id="'group-link-collapse-' + opt.uuid"
                            :checked="isGenericGroupLinkSelected('linkedCollapseOnCloseGroupUuids', opt.uuid)"
                            @change="toggleGenericGroupLinkSelection('linkedCollapseOnCloseGroupUuids', opt.uuid, $event.target.checked)">
                        </div>
                      </div>
                    </div>
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>
                  
                  <!-- Select Field -->
                  <div v-else-if="field.type === 'select'">
                    <label class="form-label mb-edit-field-label">
                      {{ getTranslation(field.translateKey) || fieldKey }}
                      <span v-if="field.roleScope" :class="['role-badge', 'role-' + field.roleScope]">
                        {{ getRoleScopeBadgeText(field.roleScope) }}
                      </span>
                    </label>
                    <select 
                      class="form-select form-select-sm mb-edit-select"
                      :value="getGenericFieldValue(sectionKey, fieldKey)"
                      @change="setGenericFieldValue(sectionKey, fieldKey, $event.target.value)"
                    >
                      <option v-for="(optLabel, optValue) in field.values" :key="optValue" :value="optValue">
                        {{ getTranslation(optLabel) || optLabel }}
                      </option>
                    </select>
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>
                  
                  <!-- Textarea Field -->
                  <div v-else-if="field.type === 'textarea'">
                    <label class="form-label mb-edit-field-label">
                      {{ getTranslation(field.translateKey) || fieldKey }}
                      <span v-if="field.roleScope" :class="['role-badge', 'role-' + field.roleScope]">
                        {{ getRoleScopeBadgeText(field.roleScope) }}
                      </span>
                    </label>
                    <textarea
                      class="form-control form-control-sm"
                      :value="getGenericFieldValue(sectionKey, fieldKey)"
                      @input="setGenericFieldValue(sectionKey, fieldKey, $event.target.value)"
                      :placeholder="getTranslation(field.placeholder) || field.placeholder"
                      :rows="field.rows || 3"
                    ></textarea>
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>

                  <!-- Placeholder Table Field -->
                  <div v-else-if="field.type === 'placeholders'">
                    <label class="form-label mb-edit-field-label">
                      {{ getTranslation(field.translateKey) || fieldKey }}
                    </label>
                    <div v-if="field.scope === 'link'" class="small text-muted mb-2">
                      <strong>{{ getTranslation('placeholders.urlTemplate') || 'URL template' }}:</strong>
                      <code>{{ getGenericLinkPlaceholderTemplate() || '-' }}</code>
                    </div>
                    <div v-if="field.scope === 'link' && getGenericPlaceholderRows(fieldKey).length === 0" class="small text-muted mb-2">
                      {{ getTranslation('placeholders.noneInUrl') || 'No placeholders found in URL template.' }}
                    </div>
                    <div v-else class="table-responsive">
                      <table class="table table-sm align-middle mb-placeholder-table">
                        <thead>
                          <tr>
                            <th style="width: 30%;">{{ getTranslation('placeholders.name') || 'Name' }}</th>
                            <th style="width: 40%;">{{ getTranslation('placeholders.value') || 'Value' }}</th>
                            <th style="width: 20%;">{{ getTranslation('placeholders.encode') || 'Encode' }}</th>
                            <th style="width: 10%;">{{ getTranslation('delete') || 'Delete' }}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr v-for="(row, idx) in getGenericPlaceholderRows(fieldKey)" :key="'generic-placeholder-' + fieldKey + '-' + idx">
                            <td>
                              <code v-if="isGenericInheritedPlaceholderRow(row, fieldKey, idx)">{{ row.name }}</code>
                              <input v-else v-model="row.name" type="text" class="form-control form-control-sm" placeholder="PLACEHOLDER">
                            </td>
                            <td>
                              <input v-model="row.value" type="text" class="form-control form-control-sm" :placeholder="getTranslation('placeholders.valuePlaceholder') || 'Enter value'">
                              <div v-if="isGenericInheritedPlaceholderRow(row, fieldKey, idx)" class="form-text mb-0">
                                <span>{{ getTranslation('placeholders.inheritedValue') || 'Inherited value' }}: <code>{{ getGenericInheritedPlaceholderValue(row, fieldKey, idx) || '' }}</code></span>
                                <button
                                  v-if="canRestoreGenericInheritedPlaceholderRow(row, fieldKey, idx)"
                                  type="button"
                                  class="btn btn-link btn-sm p-0 ms-2 align-baseline"
                                  @click="restoreGenericInheritedPlaceholderRow(fieldKey, idx)">
                                  {{ getTranslation('placeholders.restoreInherited') || 'Restore inherited' }}
                                </button>
                              </div>
                            </td>
                            <td>
                              <div class="form-check">
                                <input class="form-check-input" type="checkbox" :id="'generic-placeholder-encode-' + fieldKey + '-' + idx" v-model="row.encode">
                                <label class="form-check-label small" :for="'generic-placeholder-encode-' + fieldKey + '-' + idx">
                                  {{ getTranslation('placeholders.encodeLabel') || 'URL-encode' }}
                                </label>
                              </div>
                            </td>
                            <td>
                              <button
                                type="button"
                                class="btn btn-sm btn-outline-danger"
                                :disabled="isGenericInheritedPlaceholderRow(row, fieldKey, idx)"
                                :title="isGenericInheritedPlaceholderRow(row, fieldKey, idx) ? (getTranslation('placeholders.inheritedLocked') || 'Inherited placeholders cannot be deleted.') : ''"
                                @click="removeGenericPlaceholderRow(fieldKey, idx)"></button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <button type="button" class="btn btn-sm btn-outline-primary" @click="addGenericPlaceholderRow(fieldKey)">
                      {{ getTranslation('placeholders.add') || 'Add placeholder' }}
                    </button>
                    <div v-if="field.scope === 'link'" class="form-text mt-2">
                      <strong>{{ getTranslation('placeholders.preview') || 'Preview' }}:</strong>
                      <code>{{ previewGenericLinkPlaceholderUrl() || '-' }}</code>
                    </div>
                    <div v-if="field.scope === 'link' && getGenericLinkPlaceholderUnresolved().length" class="form-text text-warning">
                      {{ (getTranslation('placeholders.unresolvedHint') || 'Unresolved placeholders') + ': ' + getGenericLinkPlaceholderUnresolved().join(', ') }}
                    </div>
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>

                  <!-- Action/Button Field -->
                  <div v-else-if="field.type === 'action'">
                    <label v-if="!field.hideLabel" class="form-label mb-edit-field-label">
                      {{ getTranslation(field.translateKey) || fieldKey }}
                    </label>
                    <div class="d-flex align-items-center justify-content-end">
                      <button type="button" :class="['btn btn-sm', field.buttonClass || 'btn-warning']" @click="handleGenericAction(sectionKey, fieldKey)">
                        {{ getTranslation(field.buttonLabel) || getTranslation(field.translateKey) || 'Run' }}
                      </button>
                    </div>
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>

                  <!-- Multiple Actions in one row -->
                  <div v-else-if="field.type === 'actions'">
                    <div class="d-flex justify-content-end gap-2">
                      <button v-for="(action, idx) in field.actions" :key="idx"
                              type="button"
                              :class="['btn btn-sm', action.buttonClass || 'btn-outline-secondary']"
                              @click="handleGenericAction(sectionKey, action.key)">
                        {{ getTranslation(action.buttonLabel) || getTranslation(action.translateKey) || 'Run' }}
                      </button>
                    </div>
                    <div v-if="field.helpText" class="form-text mb-edit-field-help">{{ getTranslation(field.helpText) }}</div>
                  </div>

                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer mb-edit-modal-footer">
          <button v-if="genericEditConfig.type === 'options'" type="button" class="btn btn-danger me-auto mb-edit-reset-btn" @click="resetDataFromOptions">
            {{ getTranslation('eraseDatabase') }}
          </button>
          <button type="button" class="btn btn-primary mb-edit-save-btn" @click="saveGenericEditDialog">{{ getTranslation('save') || 'Save' }}</button>
          <button type="button" class="btn btn-secondary mb-edit-cancel-btn" data-bs-dismiss="modal">{{ getTranslation('cancel') || 'Cancel' }}</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="localSecurityPasswordModal" tabindex="-1" aria-labelledby="localSecurityPasswordModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="localSecurityPasswordModalLabel">{{ getTranslation('options.security.passwordDialog.title') || 'Set encryption password' }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" @click="cancelLocalSecurityPasswordDialog"></button>
        </div>
        <div class="modal-body">
          <p class="text-muted small">{{ getTranslation('options.security.passwordDialog.help') || 'Set a password to protect local data.' }}</p>
          <div class="mb-2">
            <label class="form-label mb-1">{{ getTranslation('options.security.passwordDialog.password') || 'Password' }}</label>
            <input v-model="localSecurityPasswordDialog.password"
              ref="localSecurityPasswordInput"
              type="password"
              autocomplete="new-password"
              class="form-control">
          </div>
          <div class="mb-2">
            <label class="form-label mb-1">{{ getTranslation('options.security.passwordDialog.confirm') || 'Confirm password' }}</label>
            <input v-model="localSecurityPasswordDialog.confirmPassword"
              type="password"
              autocomplete="new-password"
              class="form-control"
              @keyup.enter="submitLocalSecurityPasswordDialog">
          </div>
          <div v-if="localSecurityPasswordDialog.error" class="alert alert-danger py-2 px-3 small mb-0">
            {{ localSecurityPasswordDialog.error }}
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" @click="submitLocalSecurityPasswordDialog">
            {{ getTranslation('options.security.passwordDialog.submit') || 'Apply password' }}
          </button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click="cancelLocalSecurityPasswordDialog">
            {{ getTranslation('cancel') || 'Cancel' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div
    v-if="shouldShowKeywordSuggestions && keywordSuggestionStyle && keywordSuggestionField"
    class="mb-keyword-suggestions mb-keyword-suggestions--overlay"
    :style="keywordSuggestionStyle"
  >
    <button
      v-for="item in keywordSuggestionList"
      :key="item.value"
      type="button"
      class="mb-keyword-suggestion"
      @mousedown.prevent="applyKeywordSuggestion(keywordSuggestionField.section, keywordSuggestionField.field, item)"
      @click.prevent="applyKeywordSuggestion(keywordSuggestionField.section, keywordSuggestionField.field, item)"
    >
      {{ item.label }}
    </button>
  </div>

  <div
    v-if="shouldShowQuickKeywordSuggestions && quickKeywordSuggestionStyle"
    class="mb-keyword-suggestions mb-keyword-suggestions--overlay"
    :style="quickKeywordSuggestionStyle"
  >
    <button
      v-for="item in quickKeywordSuggestionList"
      :key="'quick-kw-overlay-' + item.value"
      type="button"
      class="mb-keyword-suggestion"
      @mousedown.prevent="applyQuickKeywordSuggestion(item)"
      @click.prevent="applyQuickKeywordSuggestion(item)"
    >
      {{ item.label }}
    </button>
  </div>

  <!-- NC Folder Picker Modal -->
  <div class="modal fade" id="ncFolderPickerModal" tabindex="-1" aria-labelledby="ncFolderPickerLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="ncFolderPickerLabel">{{ getTranslation('bookmarks.pickFolder') }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="d-flex mb-2">
            <button class="btn btn-sm btn-outline-secondary ms-auto" @click="loadNcFolders">{{ getTranslation('bookmarks.refresh') }}</button>
          </div>
          <div v-if="ncFoldersLoading" class="text-center py-3">Loading</div>
          <div v-else>
            <div class="list-group">
              <label v-for="f in ncFolders" :key="'f-'+f.id" class="list-group-item d-flex align-items-center" style="cursor: pointer;">
                <input class="form-check-input me-2" type="radio" name="ncFolder" :value="f.id" v-model="ncFolderSelected">
                <span class="flex-grow-1">{{ f.title || ('ID '+f.id) }}</span>
                <small class="text-muted">#{{ f.id }}</small>
              </label>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" :disabled="!ncFolderSelected" @click="applyNcFolderSelection">{{ getTranslation('bookmarks.select') }}</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{{ getTranslation('cancel') || 'Cancel' }}</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Favicon Rules Modal -->
  <div class="modal fade" id="faviconRulesModal" tabindex="-1" aria-labelledby="faviconRulesLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="faviconRulesLabel">{{ getTranslation('favicon.rules.title') || 'Favicon Rules' }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="d-flex align-items-center justify-content-between mb-2">
            <div class="d-flex align-items-center gap-2 flex-wrap">
              <label class="form-label mb-0 me-2">{{ getTranslation('favicon.rules.test') || 'Test URL' }}</label>
              <input class="form-control form-control-sm" style="min-width: 320px;" v-model="faviconRulesTestUrl" placeholder="https://example.com/path">
              <div v-if="faviconRulesTestUrl" class="d-flex align-items-center gap-2">
                <span class="badge bg-secondary">{{ getTranslation('favicon.rules.matchPreview') || 'Matched rule preview' }}</span>
                <img :src="findRuleIconForUrl(faviconRulesTestUrl) || ''" v-if="findRuleIconForUrl(faviconRulesTestUrl)" style="width: 20px; height: 20px; object-fit: contain; border-radius: 3px;">
              </div>
            </div>
            <div class="d-flex align-items-center gap-2">
              <button type="button" class="btn btn-sm btn-outline-primary" @click="addFaviconRule">+ {{ getTranslation('favicon.rules.add') || 'Add rule' }}</button>
              <button type="button" class="btn btn-sm btn-outline-secondary" @click="restoreDefaultFaviconRules">{{ getTranslation('favicon.rules.restoreDefaults') || 'Restore defaults' }}</button>
              <button
                type="button"
                class="btn btn-sm btn-outline-secondary"
                :title="getTranslation('favicon.rules.export') || 'Export rules'"
                :aria-label="getTranslation('favicon.rules.export') || 'Export rules'"
                @click="exportFaviconRules"
              >
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.6a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-2.6a.5.5 0 0 1 1 0v2.6A1.5 1.5 0 0 1 14.5 15h-13A1.5 1.5 0 0 1 0 13v-2.6a.5.5 0 0 1 .5-.5Z"/>
                  <path d="M7.646 11.354a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 9.293V1.5a.5.5 0 0 0-1 0v7.793L5.354 7.646a.5.5 0 1 0-.708.708Z"/>
                </svg>
              </button>
              <button
                type="button"
                class="btn btn-sm btn-outline-secondary"
                :title="getTranslation('favicon.rules.import') || 'Import rules'"
                :aria-label="getTranslation('favicon.rules.import') || 'Import rules'"
                @click="$refs.faviconRulesImport && $refs.faviconRulesImport.click()"
              >
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.6a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-2.6a.5.5 0 0 1 1 0v2.6A1.5 1.5 0 0 1 14.5 15h-13A1.5 1.5 0 0 1 0 13v-2.6a.5.5 0 0 1 .5-.5Z"/>
                  <path d="M8.354 4.646a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 .708.708L7.5 6.707V14.5a.5.5 0 0 0 1 0V6.707l2.146 2.147a.5.5 0 0 0 .708-.708Z"/>
                </svg>
              </button>
              <input ref="faviconRulesImport" type="file" class="d-none" accept="application/json" @change="onImportFaviconRules">
            </div>
          </div>

          <div class="table-responsive">
            <table class="table table-sm align-middle">
              <thead>
                <tr>
                  <th style="width: 70px;">{{ getTranslation('favicon.rules.enabled') || 'Enabled' }}</th>
                  <th style="width: 140px;">{{ getTranslation('favicon.rules.type') || 'Type' }}</th>
                  <th>{{ getTranslation('favicon.rules.pattern') || 'Pattern' }}</th>
                  <th style="width: 110px;">{{ getTranslation('favicon.rules.icon') || 'Icon' }}</th>
                  <th style="width: 220px;">{{ getTranslation('favicon.rules.comment') || 'Comment' }}</th>
                  <th style="width: 200px;"></th>
                </tr>
              </thead>
              <tbody>
                <tr v-if="!faviconRulesWorking.length">
                  <td colspan="6" class="text-center text-muted py-3">{{ getTranslation('favicon.rules.none') || 'No favicon rules yet.' }}</td>
                </tr>
                <tr v-for="(r, ri) in faviconRulesWorking" :key="r.id || ri">
                  <td>
                    <input type="checkbox" class="form-check-input" v-model="r.enabled">
                  </td>
                  <td>
                    <select class="form-select form-select-sm" v-model="r.patternType">
                      <option value="domain">{{ getTranslation('favicon.rules.domain') || 'Domain' }}</option>
                      <option value="prefix">{{ getTranslation('favicon.rules.prefix') || 'URL prefix' }}</option>
                      <option value="regex">{{ getTranslation('favicon.rules.regex') || 'Regex' }}</option>
                    </select>
                  </td>
                  <td>
                    <input class="form-control form-control-sm" v-model="r.pattern" placeholder="e.g. example.com or https://example.com/path">
                  </td>
                  <td>
                    <img v-if="r.iconDataUrl" :src="r.iconDataUrl" style="width: 20px; height: 20px; object-fit: contain; border-radius: 3px;">
                  </td>
                  <td>
                    <input class="form-control form-control-sm" v-model="r.comment" :placeholder="getTranslation('favicon.rules.commentPlaceholder') || 'Optional comment'">
                  </td>
                  <td>
                    <div class="d-flex gap-1 justify-content-end favicon-rule-actions">
                      <button
                        type="button"
                        class="btn btn-sm btn-outline-secondary"
                        :title="getTranslation('favicon.rules.autofetch') || 'Auto-fetch'"
                        :aria-label="getTranslation('favicon.rules.autofetch') || 'Auto-fetch'"
                        @click="autoFetchRuleIcon(r)"
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 1.874 5.293 4.311C14.758 4.687 16 6.137 16 7.891 16 9.918 14.355 11.5 12.438 11.5H9.5a.5.5 0 0 1 0-1h2.938C13.94 10.5 15 9.463 15 7.891c0-1.528-1.226-2.637-2.443-2.637h-.5l-.049-.498C12.012 2.826 10.211 1 8 1a4.53 4.53 0 0 0-3.594 1.64l-.342.406-.525-.111C2.784 2.79 2 3.604 2 4.63c0 .65.26 1.216.682 1.59l.356.315-.27.43A3.063 3.063 0 0 0 3.062 11H6.5a.5.5 0 0 1 0 1H3.062c-2.086 0-3.384-2.286-2.288-4.238a2.724 2.724 0 0 1-.532-1.636c0-1.6 1.157-2.862 2.637-3.101A5.53 5.53 0 0 1 4.406 1.342Z"/>
                          <path d="M7.5 5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 9.293z"/>
                          <path d="M3.5 15a.5.5 0 0 1 0-1H12a.5.5 0 0 1 0 1H3.5Z"/>
                        </svg>
                      </button>
                      <button
                        type="button"
                        class="btn btn-sm btn-outline-secondary"
                        :title="getTranslation('favicon.rules.upload') || 'Upload'"
                        :aria-label="getTranslation('favicon.rules.upload') || 'Upload'"
                        @click="openFaviconRuleFile(ri)"
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.6a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-2.6a.5.5 0 0 1 1 0v2.6A1.5 1.5 0 0 1 14.5 15h-13A1.5 1.5 0 0 1 0 13v-2.6a.5.5 0 0 1 .5-.5Z"/>
                          <path d="m7.646 11.354-3-3a.5.5 0 0 1 .708-.708L7.5 9.793V1.5a.5.5 0 0 1 1 0v8.293l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0Z"/>
                        </svg>
                      </button>
                      <input type="file" class="d-none" ref="frFile" accept="image/*" @change="onFaviconRuleFileSelected(ri, $event)">
                      <button
                        type="button"
                        class="btn btn-sm btn-outline-danger"
                        :title="getTranslation('favicon.rules.delete') || 'Delete'"
                        :aria-label="getTranslation('favicon.rules.delete') || 'Delete'"
                        @click="deleteFaviconRule(ri)"
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"/>
                          <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118Z"/>
                        </svg>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" @click="saveFaviconRules">{{ getTranslation('save') || 'Save' }}</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{{ getTranslation('cancel') || 'Cancel' }}</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Duplicates Result Dialog -->
  <div class="modal fade" id="duplicatesModal" tabindex="-1" aria-labelledby="duplicatesModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content mb-modal">
        <div class="modal-header">
          <h5 class="modal-title" id="duplicatesModalLabel">{{ getTranslation('duplicates.title') || 'Duplicate Links Found' }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div v-if="Object.keys(duplicatesFound).length === 0" class="text-center py-4">
            <p class="text-muted">{{ getTranslation('duplicates.none') }}</p>
          </div>
          <div v-else>
            <p class="mb-3">{{ getTranslation('duplicates.description') || 'The following links appear in multiple groups:' }}</p>
            
            <!-- Duplicates list -->
            <div v-for="(duplicateGroup, url) in duplicatesFound" :key="url" class="card mb-3">
              <div class="card-header">
                <div class="d-flex align-items-center justify-content-between">
                  <div class="text-truncate" style="max-width: 70%;">
                    <strong>{{ duplicateGroup[0].link.text }}</strong>
                    <br>
                    <small class="text-muted text-truncate d-block">{{ url }}</small>
                  </div>
                  <span class="badge bg-warning text-dark">
                    {{ duplicateGroup.length }} {{ getTranslation('duplicates.copies') || 'copies' }}
                  </span>
                </div>
              </div>
              <div class="card-body">
                <div class="list-group list-group-flush">
                  <div v-for="(item, index) in duplicateGroup" :key="index" 
                       class="list-group-item d-flex justify-content-between align-items-center">
                    <div>
                      <span class="badge">
                        {{ item.group.name }}
                      </span>
                      <span v-if="!item.selected" class="badge bg-success ms-2">
                        {{ getTranslation('duplicates.keep') || 'Keep' }}
                      </span>
                      <span v-else class="badge bg-danger ms-2">
                        {{ getTranslation('duplicates.remove') || 'Remove' }}
                      </span>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" 
                             :id="'dup-' + url + '-' + index"
                             :checked="item.selected"
                             @change="toggleDuplicateSelection(url, index)">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="alert alert-info">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle me-2" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
              </svg>
              {{ getTranslation('duplicates.info') || 'Unchecked items will be kept, checked items will be removed.' }}
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            {{ getTranslation('cancel') || 'Cancel' }}
          </button>
          <button type="button" class="btn btn-danger" @click="removeDuplicates" 
                  :disabled="Object.keys(duplicatesFound).length === 0">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash me-2" viewBox="0 0 16 16">
              <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
              <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
            </svg>
            {{ getTranslation('duplicates.removeSelected') || 'Remove Selected Duplicates' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  
  <!-- Info popup for HTML content -->
  <div id="infoPopup" class="info-popup" v-html="infoPopupContent"></div>

  <!-- Link detail popover -->
  <div v-if="linkPopover.visible"
       class="link-detail-popover"
       :style="linkPopover.style"
       @mouseenter="cancelHideLinkPopover()"
       @mouseleave="hideLinkPopover()">
    <div class="link-detail-popover__title">
      <img v-if="linkPopover.favicon" :src="linkPopover.favicon" alt="" class="link-detail-popover__favicon">
      <span v-if="linkPopover.emoji" class="link-detail-popover__title-emoji">{{ linkPopover.emoji }}</span>
      <span v-html="linkPopover.titleHtml"></span>
    </div>

    <a v-if="linkPopover.url"
       :href="linkPopover.url"
       class="link-detail-popover__url"
       target="_blank"
       rel="noopener noreferrer">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
        <path d="M6.354 11.354a.5.5 0 0 0 .707-.708L4.707 8l2.354-2.646a.5.5 0 1 0-.707-.708l-2.5 2.812a.5.5 0 0 0 0 .696z"/>
        <path d="M9.5 11a.5.5 0 0 0 0-1H3.707l2.147-2.417a.5.5 0 1 0-.708-.706l-3 3.375a.5.5 0 0 0 0 .706l3 3.375a.5.5 0 0 0 .708-.706L3.707 11z"/>
        <path d="M12.5 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-.5a.5.5 0 0 0-1 0V12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v.5a.5.5 0 0 0 1 0V4a1 1 0 0 1 1-1z"/>
      </svg>
      <span>{{ linkPopover.displayUrl }}</span>
    </a>

    <div v-else class="link-detail-popover__meta">
      <div class="link-detail-popover__row">
        <span class="link-detail-popover__label">{{ getTranslation('link.popover.url') || 'URL' }}</span>
        <span class="link-detail-popover__value text-muted">{{ getTranslation('link.popover.noUrl') || 'No URL available' }}</span>
      </div>
    </div>

    <div class="link-detail-popover__meta">
      <div class="link-detail-popover__row">
        <span class="link-detail-popover__label">{{ getTranslation('link.popover.created') || 'Created' }}</span>
        <span class="link-detail-popover__value">
          <span>{{ linkPopover.createdAt.full }}</span>
          <span v-if="linkPopover.createdAt.relative" class="link-detail-popover__value--muted">({{ linkPopover.createdAt.relative }})</span>
        </span>
      </div>
      <div class="link-detail-popover__row">
        <span class="link-detail-popover__label">{{ getTranslation('link.popover.updated') || 'Updated' }}</span>
        <span class="link-detail-popover__value">
          <span>{{ linkPopover.updatedAt.full }}</span>
          <span v-if="linkPopover.updatedAt.relative" class="link-detail-popover__value--muted">({{ linkPopover.updatedAt.relative }})</span>
        </span>
      </div>
      <div v-if="linkPopover.rawUrlInput" class="link-detail-popover__row">
        <span class="link-detail-popover__label">{{ getTranslation('link.popover.originalUrl') || 'Original Input' }}</span>
        <span class="link-detail-popover__value">{{ linkPopover.rawUrlInput }}</span>
      </div>
      <div v-if="linkPopover.uuid" class="link-detail-popover__row">
        <span class="link-detail-popover__label">UUID</span>
        <span class="link-detail-popover__value">{{ linkPopover.uuid }}</span>
      </div>
    </div>

    <div v-if="linkPopover.keywords && linkPopover.keywords.length" class="link-detail-popover__keywords">
      <span v-for="kw in linkPopover.keywords"
            :key="'link-popover-kw-' + kw"
            class="link-detail-popover__badge">{{ kw }}</span>
    </div>
  </div>
  
  <!-- Conflict Resolution Notifications -->
  <transition name="fade">
    <div v-if="false && showConflictNotification" class="conflict-notification">
      <div class="conflict-notification-title">
        {{ getTranslation('sync.conflictResolved') || 'Sync Conflict Resolved' }}
      </div>
      <div class="conflict-notification-text">
        {{ conflictNotificationText }}
      </div>
    </div>
  </transition>
  
  </div> <!-- /#app -->

  <footer id="footer" class="copyrightBar mb-footer">
    <span>&copy; 2024-2026 <a href="mailto:mybookmarks@msging.de">Jrg Pannbacker</a> | <a href="https://github.com/akdk7/mybookmarks" target="_blank">Github</a> | <a href="https://raw.githubusercontent.com/akdk7/mybookmarks/refs/heads/main/LICENSE" target="_blank">Licensed under MIT License</a> | Version: {{ version }}</span>
  </footer>
  <script>
    // Should be placed inside the <script type="module"> where 'app' is defined,
    // or defined separately and imported if using a module system.
    // Innerhalb deines <script type="module">

    // Debug logging utility (runtime-controlled via options)
    let DEBUG_ENABLED = false; // Default: off

    function setDebugEnabled(enabled) {
      DEBUG_ENABLED = !!enabled;
    }
    
    function debugLog(level, ...args) {
      if (!DEBUG_ENABLED) return;
      
      const timestamp = new Date().toISOString().split('T')[1].slice(0, -1);
      const prefix = `[${timestamp}] [${level.toUpperCase()}]`;
      
      switch(level) {
        case 'log':
          console.log(prefix, ...args);
          break;
        case 'warn':
          console.warn(prefix, ...args);
          break;
        case 'error':
          console.error(prefix, ...args);
          break;
        default:
          console.log(prefix, ...args);
      }
    }

    // Centralized constants used across features
const CONSTS = {
  MINUTE_MS: 60000,
  HOUR_MS: 3600000,
  DAY_MS: 86400000,
      BACKOFF_MAX_MS: 30000,
      // Keep small to avoid ntfy turning messages into attachments over SSE
      NTFY_CHUNK_SIZE: 2000,
      MAX_CONCURRENT_TRANSFERS: 32,
      MAX_TRANSFER_SIZE: 8 * 1024 * 1024, // 8 MB safety cap for chunked transfers

      // Progressive Loading & Display
      PROGRESSIVE_LOADING_THRESHOLD: 100, // Default number of links to show initially
      EXPANDED_LINK_LIMIT: 500, // Number of links to show when expanded
      PAGE_SIZE: 200, // Default page size for pagination
      INITIAL_LIMIT: 200, // Initial display limit
      GROUP_BODY_HEIGHT_DEFAULT: 360, // Default fixed group body height in px
      GROUP_BODY_HEIGHT_MIN: 45, // Minimum group body height in px
      GROUP_COLUMN_WIDTH_MIN: 180, // Minimum width for group columns in px

      // Event Log
      EVENT_LOG_MAX_EVENTS: 500, // Maximum events to keep in log
      EVENT_LOG_SNAPSHOT_INTERVAL: 50, // Create snapshot every N events

      // Sharing & Sync
      QUICK_CODE_TTL_SEC: 180, // Quick share code expiration (3 minutes)
      CONTACT_ONLINE_TIMEOUT_SEC: 30, // Contact online status timeout
      DEFAULT_NTFY_TTL: undefined, // Default NTFY message TTL

      // UI Delays & Timeouts
      HOVER_EXPAND_DELAY_MS: 1000, // Delay before expanding on hover
      FOCUS_DELAY_SHORT_MS: 300, // Short focus delay
      FOCUS_DELAY_MEDIUM_MS: 500, // Medium focus delay
      FOCUS_DELAY_LONG_MS: 700, // Long focus delay
      UI_UPDATE_DELAY_MS: 100, // General UI update delay
      NETWORK_DELAY_MS: 200, // Network operation delay

      // Storage Keys
      STORAGE_KEY_LINKS: 'links',
      STORAGE_KEY_DARK_MODE: 'darkMode',
      STORAGE_KEY_CUSTOM_COLORS: 'customColors',
      STORAGE_KEY_SIDEBAR_HEIGHT: 'sidebarTopHeight',
      STORAGE_KEY_CSS_SIDEBAR_WIDTH: 'cssSidebarWidth',
      STORAGE_KEY_CSS_SIDEBAR_HEIGHT: 'cssSidebarTopHeight',
      STORAGE_KEY_BACKUP_REMINDER_STATE: 'backupReminderState',

      // Defaults
      VERSION_FALLBACK: 0, // Default version for unversioned data
      DEFAULT_GROUP_COLUMNS: 1, // Default number of columns in a group
      DEFAULT_STORAGE_WARNING_MB: 4, // Show warning at 4MB localStorage usage
      MAX_STORAGE_MB: 5, // Maximum localStorage size (browser limit)

  DEFAULT_URL_PREFIX: 'https://'
};

    // Allocate once; this check runs in keyboard handlers.
    const RESERVED_SHORTCUT_COMBOS = Object.freeze(new Set([
      'Ctrl+L', 'Ctrl+T', 'Ctrl+W', 'Ctrl+R', 'Ctrl+Shift+R', 'Ctrl+N', 'Ctrl+Shift+N',
      'Ctrl+P', 'Ctrl+F', 'Ctrl+S', 'Ctrl+O', 'Ctrl+J',
      'Meta+L', 'Meta+T', 'Meta+W', 'Meta+R', 'Meta+Shift+R', 'Meta+N', 'Meta+Shift+N',
      'Meta+P', 'Meta+F', 'Meta+S', 'Meta+O', 'Meta+J'
    ]));

const DEFAULT_FAVICON_RULES = Object.freeze([
  {
    id: 'preset-google',
    enabled: true,
    patternType: 'regex',
    pattern: '(?:www\\.)?google\\.',
    iconDataUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsSAAALEgHS3X78AAAE3ElEQVRYhc2XW2xUVRSGv30uU9rTMhUaCuVixQSMpLYmPIhYwAcTIyKFROI1KQmkxBgj8UEf5MEYiSYmPvhAfCASY02MUaFEHjSRQYtGNDAqIhKxQJVeodPLMJ2Zc/by4cz91tZ4+5Od2Wf2Xuv/z9lrr722EhFmiTagA9gEbCwz5wQQAg4D4Vl5FZGZWqeIhGXuCKdsK/qvNNgsIqG/QFyIUMrXnAR0iEjkbyBPI5LyWcSlpDgGOoG3S67XV71wshd+CMPwEAiAAShoXIy0tsL6dtS6u8qt+E7gUO4fhQI6gI+LzM6ehjf2w9AQJC1QgCi/KRMwQZmIYSLKRBYvwXj2KVTLmlIituEHaZGAZvzIDeZN/+BVOPwhTAX850QgS44CZWWaoBDTRgzbd77lfoxdTxYKGMffUZfA/35pHCoif+8F+Pxdvx/wSr1NPpSR/3z2HERvFM4KkrMMaYtOCvf2p8/A5W5ouAHz4+AkoDoJpguGB6QEpT6GAKJUVsstKzBe2QdOTSmpG1OcmSUIA62Z4eEeCD0BV+pgnoahOhhwwBCwVsL23bCuHZxaf340Cl9/g+5+H0YjcOvKSuRpfA+0KRFpA87kDX2xCgYHIWpDNOALmLLhju2w4/kscSGiUeTIMdTWzTORp3GnhR/5WYwdhUA/NBhQKzDtQZUHddvhkZcru3Mc1GMPz4Y4jQ4LP7dnETkK8wywACVgu2DUwQOvzcXxbLHJojD4pnuz/WoBF1j2KATyN0ga310p41pAkc0xCqEpqFhcr3JnbbSK7OJ9oAyUpcAEAsDSLWVfYXd3OQGFGVaxpx262vP/Ldi4KelCZk+LoWDeirICykKpbEs/l0CRABGd7aeMhNLGcxJTxk/xFxAN4uJpl6R4TIuLG79U0b+gEbxU06TSUqpVRlEMEGhGJy4zJRpLmVzXHtWRIzTUbSjpoOueNInK++35EQbGZ+THwi+jMjtB17bjXesDDKLaT7f9I+9Q37QPy6wvcrCnXeWQ+5ichu5v08IkM7725iLzEwZ+DZeB1G9lVAv9nseg1vziac7EJ/nk1z0zv04KB89EGXVjRO0pkkYCVyVJGgnWFsdyyCDnbAaw6zsYtldwUQtXtTCshUEx+HL0Mw5e2MuUO1mR/MBPf7A//DvjNcNMVI8QC0zhGR4PtZQM5MMlD6OJiRDHz91LRBTjYtAnDtd1DWPikAi0squ5i/sa1hO0nIynnoGLvHn+Ar0DMQKx5VhuNbZbg5MIYno2x3fXsTSYJyJzGEGJMizUt5fjVw8wLjaXJciEOEyKw5DXSJwASapI6lpqzflEkh6SDEJ8CYiJii3HdB0CroMdX0BXy0Je2lAUPzuBQ7kVUYiCtNx9oYuPhnoYkIV4YjGmb2JSGnBReFKFxsbVVSgE8Rz09BJQGuJNWLEmPMOlrXYZJ7fdXkh+gtQZlJsHOvHLpQweX/UWmxp3ABCXQHZAzEzXUG6mr6yJTN+1x3lw+SKObV5dSD6e4vJtZlOUnoqc5rmfX+e32AQxCSIYCCag0NryT01dhXjVSHIBtbKUF29bx9OrVxW6ggpFaRqdlCnLj42c4uhImN6x8/RPXwMUIgYKYb5Zz93BNrY0ruHBRS0E7apSLorK8v/8YvK/vZr9a5fTUjFQDv/I9fxPxUx0d1WRkbMAAAAASUVORK5CYII=',
    comment: 'Standard-Favicon Google'
  },
  {
    id: 'preset-youtube',
    enabled: true,
    patternType: 'domain',
    pattern: 'youtube.com',
    iconDataUrl: 'data:image/png;base64,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',
    comment: 'Standard-Favicon Youtube'
  },
  {
    id: 'preset-github',
    enabled: true,
    patternType: 'domain',
    pattern: 'github.com',
    iconDataUrl: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNiAwQzcuMTYgMCAwIDcuMTYgMCAxNkMwIDIzLjA4IDQuNTggMjkuMDYgMTAuOTQgMzEuMThDMTEuNzQgMzEuMzIgMTIuMDQgMzAuODQgMTIuMDQgMzAuNDJDMTIuMDQgMzAuMDQgMTIuMDIgMjguNzggMTIuMDIgMjcuNDRDOCAyOC4xOCA2Ljk2IDI2LjQ2IDYuNjQgMjUuNTZDNi40NiAyNS4xIDUuNjggMjMuNjggNSAyMy4zQzQuNDQgMjMgMy42NCAyMi4yNiA0Ljk4IDIyLjI0QzYuMjQgMjIuMjIgNy4xNCAyMy40IDcuNDQgMjMuODhDOC44OCAyNi4zIDExLjE4IDI1LjYyIDEyLjEgMjUuMkMxMi4yNCAyNC4xNiAxMi42NiAyMy40NiAxMy4xMiAyMy4wNkM5LjU2IDIyLjY2IDUuODQgMjEuMjggNS44NCAxNS4xNkM1Ljg0IDEzLjQyIDYuNDYgMTEuOTggNy40OCAxMC44NkM3LjMyIDEwLjQ2IDYuNzYgOC44MiA3LjY0IDYuNjJDNy42NCA2LjYyIDguOTggNi4yIDEyLjA0IDguMjZDMTMuMzIgNy45IDE0LjY4IDcuNzIgMTYuMDQgNy43MkMxNy40IDcuNzIgMTguNzYgNy45IDIwLjA0IDguMjZDMjMuMSA2LjE4IDI0LjQ0IDYuNjIgMjQuNDQgNi42MkMyNS4zMiA4LjgyIDI0Ljc2IDEwLjQ2IDI0LjYgMTAuODZDMjUuNjIgMTEuOTggMjYuMjQgMTMuNCAyNi4yNCAxNS4xNkMyNi4yNCAyMS4zIDIyLjUgMjIuNjYgMTguOTQgMjMuMDZDMTkuNTIgMjMuNTYgMjAuMDIgMjQuNTIgMjAuMDIgMjYuMDJDMjAuMDIgMjguMTYgMjAgMjkuODggMjAgMzAuNDJDMjAgMzAuODQgMjAuMyAzMS4zNCAyMS4xIDMxLjE4QzI3LjQyIDI5LjA2IDMyIDIzLjA2IDMyIDE2QzMyIDcuMTYgMjQuODQgMCAxNiAwVjBaIiBmaWxsPSIjMjQyOTJFIi8+Cjwvc3ZnPgo=',
    comment: 'Standard-Favicon Github'
  },
  {
    id: 'preset-wikipedia',
    enabled: true,
    patternType: 'domain',
    pattern: 'wikipedia.org',
    iconDataUrl: 'data:image/svg+xml;base64,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',
    comment: 'Standard-Favicon Wikipedia'
  },
  {
    id: 'preset-amazon',
    enabled: true,
    patternType: 'regex',
    pattern: '(?:www\\.)?amazon\\.',
    iconDataUrl: 'data:image/svg+xml;base64,AAABAAQAMDAAAAEAIACoJQAARgAAACAgAAABACAAqBAAAO4lAAAYGAAAAQAgAIgJAACWNgAAEBAAAAEAIABoBAAAHkAAACgAAAAwAAAAYAAAAAEAIAAAAAAAgCUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///0X///+Z////zP////P////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////w////zP///5P///8/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8k////wP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////t////x4AAAAAAAAAAAAAAAAAAAAAAAAAAP///0L////z///////////////////////////////////////////////////////////////////////////X7///u+T//5DV//+R1f//csr//1C+//+Cz///kdX//5/Z///L6v//8vr//////////////////////////////////////////////////////////////////////////////////////+3///85AAAAAAAAAAAAAAAA////Lf////D///////////////////////////////////////////////////////////////+85f//csr//xOt//8AqP//AKj//wCn//8Ap///AKf+/wCn//8AqP//AKf//wCn//8Ap///AKj//z64//+Q1f//2PD////////////////////////////////////////////////////////////////////////////q////JAAAAAAAAAAA////zP/////////////////////////////////////////////////////y+v//kNX//xOs//8Ap///AKf//wCo//8Ap///AKf//wCo//8AqP//AKf//wCn/v8Ap///AKj//wCn//8AqP//AKf//wCn//8Ap///AKf//z64//+u4P//////////////////////////////////////////////////////////////////////vQAAAAD///9R////////////////////////////////////////////////8vr//5HV//8TrP//AKj//wCo//8AqP//AKj//wCo//8Ap///AKf//wCn//8AqP//AKf//wCo//8AqP//AKj//wCn//8Ap/7/AKf//wCo//8AqP//AKf//wCo//8Ap///KbL//67g////////////////////////5fT//////////////////////////////////////0L///+l//////////////////////////////////////////+75P//E63//wCn//8Ap///AKf//wCn/v8AqP//AKf//wCo//8psv//UL///4LQ//+R1f//kNX//5DV//+Q1f//kNX//5HV//9hw///UL7//wCo//8Ap/7/AKj//wCn//8Ap///AKj//wCn//9Qvv//5vX/////////////Ub///5DV/////////////////////////////////5b////q////////////////////////////////8vr//3LK//8AqP//AKf//wCn//8AqP//AKj//1C///+R1f//y+r////////////////////////////////////////////////////////////////////////Y7///rd///3LJ//8Trf//AKf+/wCn//8AqP//E63//7zl////////n9r//wCo///l9P///////////////////////////9v////////////////////////////////Y7///Prj//wCn//8Ap///AKf+/1C+//+t3///8vr/////////////////////////////////////////////////////////////////////////////////////////////////////////////vOX//3LK//8Ap///AKf//wCo//+t3///2O///wCn//9zyv////////////////////////////n//////////////////////////9jw//8Trf//AKf//wCn//9yyf//5fT////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////y+v//kNX//xOt//9hw////////xOt//8Trf//////////////////////////////////////////////////u+T//xOt//8AqP//csn//+X0/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////1G///8Ap///5vX////////////////////////////////////////Y7///AKj//1C+///l9f///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9jv//8Ap///Ub///2HD//+Q1f//csr//wCn//8Ap///y+r////////////////////////////////////////Y8P//ruD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////L6v//YsP//wCn//8Ap///AKj//wCo//8Ap///2PD///////////////////////////////////////////////////////////////////////////////////////////////////Pz8/+ioqL/VlZU/x0dG/8FBQT/BQUD/x0dHP9WVlX/hoaE/9jY2P////////////////////////////////++vr7/VlZV/6Kiov/////////////////////////////////K6f//yun//8rq///l9P//////////////////////////////////////////////////////////////////////////////////////////////////oqKi/x0dHP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQP/BQUE/wUFBP9WVlT/5ubm/////////////////7Cwr/8FBQT/BQUE/wUFBP92dnb///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+GhoX/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQT/BQUE/wQEA/8FBQT/BQUD/wUFA/8FBQT/HR0c/7Cwr///////2dnZ/wUFBP8FBQT/BQUE/wUFBP8FBQT/Z2dm//Ly8v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////729vf8FBQP/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQT/BQUE/wUFBP8FBQP/BQUD/wUFBP8FBQT/BQUE/wUFBP+ioqL/MjIw/wUFBP8FBQT/BQUD/wUFA/8FBQT/BQUE/0REQ//y8vL//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////zExMP8FBQT/BQUD/wUFBP8FBQT/BQUE/wUFBP8FBQP/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQT/BQUE/wUFBP8dHRv/////////////////////////////////////////////////////////////////////////////////////////////////////////////////2dnZ/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8dHRz/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQP/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQT/BQUE/wUFBP8yMjD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////lJST/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/HR0c/8zMzP///////////8zMzP8xMTD/BQUE/wUFBP8FBQT/BQUD/wUFA/8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP/MzMz/////////////////////////////////////////////////////////////////////////////////////////////////////////////////hoaF/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQP/zMzM///////////////////////y8vL/HR0c/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQP/BQUE/4aGhP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VlZV/wUFBP8EBAP/BQUD/wUFA/8FBQT/BQUE/wUFBP9FRUT/////////////////////////////////sLCv/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/+Xl5f//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////ZmZl/wUFA/8FBQT/BQUD/wUFBP8FBQT/BQUE/wUFBP9VVVT//////////////////////////////////////zExMP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/VlZV////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////lJST/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP9WVlX//////////////////////////////////////3Z2dv8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/VlZV////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////sbGw/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFA/8dHRz//////////////////////////////////////5SUk/8FBQP/BQUE/wUFA/8FBQT/BQUE/wUFBP8FBQT/VlZU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8vLy/wUFA/8FBQP/BQUD/wUFBP8FBQT/BQUE/wUFBP8FBQT/oqKi/////////////////////////////////5SUk/8FBQP/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQP/VlZV/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////3Z2dv8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQT/HR0c/729vf///////////////////////////83Nzf8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/VlZV/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+bm5v8dHRz/BQUD/wUFA/8FBQT/BQUE/wUFBP8EBAP/BQUE/wUFBP9WVlX/vb29//Pz8////////////83Nzf8FBQP/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQT/VlZV//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////++vr7/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQP/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/VlZU/0REQ/8FBQT/BQUE/wUFBP8FBQP/BQUE/wUFBP8FBQT/VVVU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////zMzM/x0dG/8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQP/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQP/VVVU//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Ly8v92dnb/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQP/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/VlZV////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////5ubm/6Kiov9VVVT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQP/VlZV/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9nZ2f/MzMz/lJST/5SUk/9WVlT/VlZV/zExMP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/VlZV/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8zMzP8FBQP/BQUE/wUFA/8FBQT/BAQD/wUFBP8FBQT/VlZV////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8/Pz/8zMzP/MzMz/lJST/5SUk//Z2dn//////////////////////////////////////76+vv8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQP/VlZV/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////5WVk/8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP9nZ2b//////////////////////////////////////5SUk/8FBQT/BQUE/wUFA/8FBQT/BQUE/wUFBP8FBQT/dnZ2/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////1ZWVP8FBQT/BQUE/wUFBP8FBQT/BQUD/wUFA/8dHRz/8/Pz/////////////////////////////////3Z2dv8FBQP/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/lJST/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////6Ghof8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQT/dnZ2////////////////////////////2dnZ/x0dHP8FBQT/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQT/lJST/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+bm5v8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQT/BAQD/zExMP+xsbD/zMzM/8zMzP+UlJP/HR0c/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/zMzM//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////92dnb/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8dHRv///////////////////////////////////////////////////////////////////////////n////t///////////////////////////////////////////////////////////m5ub/Hh4c/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wQEA/8FBQP/BQUD/wUFBP+UlJP//////////////////////////////////////////////////////////////////////////97///+o////////////////////////////////////////////////////////////////2dnZ/x0dG/8FBQT/BQUE/wUFA/8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQP/BQUE/0VFRP/z8/P//////////////////////////////////////////////////////////////////////////5b///9U/////////////////////////////////////////////////////////////////////9nZ2f8xMTD/BQUE/wUFBP8FBQP/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/VVVU//Ly8v///////////////////////////////////////////////////////////////////////////////0L///8D////z///////////////////////////////////////////////////////////////////////////lZWU/zExMP8FBQT/BQUD/wUFA/8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQT/BQUD/zExMP+xsbD/////////////////////////////////////////////////////////////////////////////////////wwAAAAAAAAAA////MP////b////////////////////////////////////////////////////////////////////////////////Z2dn/lJST/1ZWVf9WVlX/BAQD/wUFBP8FBQT/RUVD/1ZWVf+UlJP/zMzM///////////////////////////////////////////////////////////////////////////////////////////w////JwAAAAAAAAAAAAAAAP///0v////z//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////D///8/AAAAAAAAAAAAAAAAAAAAAAAAAAD///8t////yf//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////w////yQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///0v///+f////z///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////zP///5n///9FAAAAAAAAAAAAAAAAAAAAAAAAAAD4AAAAAB8AAOAAAAAABwAAwAAAAAADAACAAAAAAAEAAIAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAgAAAAAABAADAAAAAAAMAAOAAAAAABwAA+AAAAAAfAAAoAAAAIAAAAEAAAAABACAAAAAAAIAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////Uf///5/////S///////////////////////////////////////////////////////////////////////////////////////////////////////////////P////nP///0gAAAAAAAAAAAAAAAAAAAAA////GP///7H//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////6X///8SAAAAAP///wb////P////////////////////////////////////////////////5fX//67g//+R1f//UL7//1C+//9Rv///YsT//5DU//+85f//8vr//////////////////////////////////////////////////////8P///8D////df//////////////////////////////////////////ruD//z24//8AqP//AKf//wCo//8Ap///AKj//wCo//8Ap/7/AKf//wCn//8AqP//csr//8vq/////////////////////////////////////////////////2b////S////////////////////////////////y+r//ymy//8Ap///AKj//wCo//8Ap///AKf//wCn//8Ap///AKj//wCn//8Ap///AKj//wCo//8AqP//AKj//1C////Y8P///////8rq///Y7///////////////////////w/////z/////////////////////8vr//3LJ//8AqP//AKf//wCn/v9ixP//kNT//8vq///y+v////////////////////////L6///L6v//n9r//2LE//8Trf//AKf//wCo//+u4P//vOX//z65///////////////////////w//////////////////////L6//8+uP//AKf//1C+//+t3///8/r///////////////////////////////////////////////////////////////////////+85f//UL7//wCo///Y7///AKf//8rp///////////////////////////////////Y7///E63//1C+///L6v////////////////////////////////////////////////////////////////////////////////////////P7///L6v//5fT///L6//8ps///kNT//////////////////////////////////5DU//+t3///////////////////////////////////////////////////////////////////////////////////////////////////5fX//1C+//8AqP//AKf//wCn//+Q1f//////////////////////////////////////////////////////////////////8vLy/5SUk/9FRUT/BQUE/wQEA/8yMjD/Z2dm/8zMzP////////////////+GhoX/Z2dm//Lz8////////////+X0///L6v//yun///L6//////////////////////////////////////////////////////////////Ly8v9FRUT/BQUE/wUFBP8FBQT/BQUE/wQEA/8FBQT/BQUD/3Z2dv/z8/P/dnZ2/wUFBP8FBQP/MTEw/9nZ2f//////////////////////////////////////////////////////////////////////////////////////VlZV/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/zIyMP8FBQT/BQUE/wUFBP8FBQT/HR0c/9nZ2f///////////////////////////////////////////////////////////////////////////+bm5v8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFA/8xMTD/HR0c/wUFA/8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFA/8FBQT/lJST////////////////////////////////////////////////////////////////////////////vb29/wUFBP8EBAP/BQUE/wUFBP8FBQT/dnZ2////////////oqKi/wUFBP8EBAP/BQUE/wUFBP8FBQP/BQUE/zIyMf/y8vL///////////////////////////////////////////////////////////////////////////+UlJP/BQUE/wUFBP8FBQT/BQUE/wUFBP/y8vL/////////////////Z2dm/wUFBP8FBQT/BQUE/wUFBP8FBQT/sbGw/////////////////////////////////////////////////////////////////////////////////7GxsP8FBQT/BQUD/wUFBP8FBQT/BQUD//////////////////////+9vb3/BQUE/wUFBP8FBQT/BQUE/wUFBP/m5ub/////////////////////////////////////////////////////////////////////////////////2dnZ/wUFBP8FBQT/BQUE/wUFBP8FBQT/zMzM/////////////////+bm5v8FBQT/BQUE/wUFA/8FBQT/BQUD////////////////////////////////////////////////////////////////////////////////////////////MTEw/wUFBP8FBQT/BQUE/wUFBP9FRUT/5eXl/////////////////wUFBP8FBQT/BQUE/wUFBP8FBQT////////////////////////////////////////////////////////////////////////////////////////////MzMz/BQUE/wUFA/8FBQT/BQUD/wUFBP8FBQT/dnZ2/5SUk/+9vb3/BQUE/wUFBP8FBQT/BQUE/wUFA/////////////////////////////////////////////////////////////////////////////////////////////////+wsK//HR0c/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE///////////////////////////////////////////////////////////////////////////////////////////////////////m5ub/hoaF/zIyMP8FBQT/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQT/BQUE/wUFBP8FBQP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+bm5v/MzMz/lJST/5SUk/9WVlX/BQUE/wQEA/8FBQT/BQUE/wUFA//////////////////////////////////////////////////////////////////////////////////////////////////y8vL/zMzM/8zMzP/Nzc3///////////////////////////8FBQT/BQUE/wUFBP8FBQT/BQUD////////////////////////////////////////////////////////////////////////////////////////////Z2dm/wUFBP8FBQT/BQUE/wUFBP/y8vL/////////////////2dnZ/wUFA/8FBQP/BQUD/wUFBP8FBQT///////////////////////////////////////////////////////////////////////////////////////////9mZmX/BQUE/wUFBP8FBQT/BQUE/3Z2dv////////////////92dnb/BQUE/wUFBP8FBQT/BQUE/wUFBP///////////////////////////////////////////////////////////////////////////////////////////7CwsP8FBQT/BQUE/wUFBP8FBQT/BQUE/zIyMP9WVlX/RUVE/wUFBP8FBQT/BQUE/wUFBP8FBQT/RUVD/////////////////////////////////////////////////////////////////////////////////////////////////1ZWVf8FBQT/BQUE/wUFBP8EBAP/BQUD/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP+wsK/////////////////////////////////////////////////2////2///////////////////////////////////////////8vLy/0VFRP8FBQP/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/dnZ2/////////////////////////////////////////////////////8z///9+/////////////////////////////////////////////////////7Cwr/9FRUT/BQUE/wUFBP8FBQT/BQUD/wUFBP8FBQT/RUVE/7Cwr///////////////////////////////////////////////////////////b////wz////b///////////////////////////////////////////////////////////y8vL/zMzM/8zMzP/MzMz/zc3N/+bm5v///////////////////////////////////////////////////////////////9L///8GAAAAAP///yf////b///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////S////HgAAAAAAAAAAAAAAAP///wz///94////2P/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////S////cv///wkAAAAAAAAAAOAAAAeAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAHAAAADKAAAABgAAAAwAAAAAQAgAAAAAABgCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8G////hP///9v/////////////////////////////////////////////////////////////////////////////////////////2////4T///8GAAAAAP///wz////P///////////////////////////y+v//vOX//5DV//+C0P//YsT//5DU//+u4P//5fT////////////////////////////////////////////G////Cf///4T/////////////////////8vr//3LK//8Trf//AKj//wCn//8Ap///AKf+/wCo//8AqP//AKf//1C+///K6v//////////////////////////////////////e////9v///////////////+u4P//E6z//wCn//8AqP//AKf//wCo//8Ap///AKf//wCo//8AqP//AKf//wCo//8Ap///kNX/////////////kdX//9jw////////////z/////D//////////4LP//8Ap///AKf//wCo//8qs///csr//5DV///K6f//y+r//8rq///L6v//n9n//3LK//8TrP//AKf//5/a////////kNX//1C+////////////7f////D/////kdX//wCo//8AqP//csn//9jw///////////////////////////////////////////////////y+v//n9r//4LQ////////yun//wCn///l9P//////8P////DK6v//AKf//1C+///l9P//////////////////////////////////////////////////////////////////////////////////yun//wCn//+85f//////8P////Aps///kNX///////////////////////////////////////////////////////////////////////+g2v//KrP//2LE//+Q1P//csr//wCn//+R1f//////8P////C75P////////////////////////////+xsbD/VlZV/1VVVP9WVlX/oaGh//Ly8v/y8vL/dnZ2/7Cwr///////vOT//2HD//8Ap///AKj//wCn/v+85f//////8P////D//////////////////////////4aGhf8EBAP/BQUD/wUFBP8EBAP/BQUD/0VFRP9nZ2b/BQUE/wUFBP92dnb/////////////////2O///+b1////////////8P////D/////////////////////8vLy/wUFBP8FBQT/BQUE/wUFA/9EREP/HR0b/wUFBP8FBQT/BQUD/wUFBP8FBQT/////////////////////////////////////8P////D/////////////////////zMzM/wUFBP8FBQT/BQUE/3Z2dv//////8vLy/x0dHP8FBQT/BQUE/wUFBP+UlJP/////////////////////////////////////8P////D/////////////////////zc3N/wUFBP8FBQT/BQUE/5SUk////////////4aGhf8FBQT/BQUE/wUFBP/MzMz/////////////////////////////////////8P////D//////////////////////////x0dG/8FBQT/BQUE/0VFQ//z8/P//////76+vv8FBQT/BQUE/wUFBP/Nzc3/////////////////////////////////////8P////D//////////////////////////7CwsP8FBQP/BQUE/wUFBP8dHRv/dnZ2/3Z2dv8FBQP/BQUE/wUFBP/MzMz/////////////////////////////////////8P////D///////////////////////////////++vr7/MTEw/wUFBP8FBQP/BQUD/wUFBP8FBQT/BQUE/wUFBP/MzMz/////////////////////////////////////8P////D//////////////////////////////////////////+Xl5f/MzMz/lJST/3Z2dv8FBQT/BQUE/wUFBP/MzMz/////////////////////////////////////8P////D//////////////////////////4aGhf9WVlX/HR0b/729vf///////////7Cwr/8FBQP/BQUE/wUFBP/MzMz/////////////////////////////////////8P////D//////////////////////////2ZmZf8FBQT/BQUE/x0dHP++vr7/zMzM/0VFRP8FBQT/BQUE/wUFBP/y8vL/////////////////////////////////////8P////D//////////////////////////8zMzP8FBQT/BQUE/wUFBP8FBQT/BQUE/wUFBP8FBQT/BQUD/1ZWVP/29vb/////////////////////////////////////7f///9X///////////////////////////////+wsK//HR0c/wUFBP8FBQT/BQUE/wUFBP8FBQT/MTEw/9vb2//6+vr/////////////////////////////////////z////3v/////////////////////////////////////8vLy/76+vv+UlJP/lJST/5SUk/++vr7/////////////////////////////////////////////////////df///wn////D//////////////////////////////////////////////////////////////////////////////////////////////////////////////+9////BgAAAAD///8D////df///9L/////////////////////////////////////////////////////////////////////////////////////////z////3X///8DAAAAAIAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAABACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAAAAAAAAAAAAAAAAAAAAAAAD///8G////lv////b/////////////////////////////////////////////////////////9v///5b///8G////iv/////////////////////Y7///n9r//5DV//+Q1P//vOT/////////////////////////////////iv///+f//////////8vq//9Qvv//AKj//wCn//8Ap///AKf+/wCn//8ps///u+T////////y+v//8vr//////+f////w/////67g//8AqP//AKj//z24//+C0P//kNX//5DU//+R1f//UL7//wCn//+u4P//vOX//4LQ///////w////8Lzl//8AqP//csn//+bz///////////////////////////////////l9P//rd///9jv//8Trf//////8P////Aqs///2O//////////////////////////////////////////////Ur7//3LK//+C0P//AKf///////D////w5vX/////////////zMzM/x0dG/8FBQT/HR0b/5SUk/9WVlT/RUVD/+fu8/+i2P7/csr//3LK///////w////8P///////////////zExMP8FBQT/BQUE/0VFRP8FBQP/BQUE/wUFBP+UlJP/////////////////////8P////D///////////////8FBQT/BQUE/4aGhP//////ZmZl/wUFBP8FBQT/8vLy//////////////////////D////w////////////////VlZV/wUFBP8yMjD/5ubm/5SUk/8FBQT/BQUE///////////////////////////w////8P///////////////9nZ2f8yMjD/BQUE/wUFBP8FBQT/BQUE/wUFBP//////////////////////////8P////D////////////////m5ub/zMzM/729vf+wsK//VlZV/wUFBP8FBQT///////////////////////////D////w////////////////Z2dm/wUFBP9FRUT/2NjY/2dnZv8FBQT/HR0c///////////////////////////w////5////////////////8zMzP8FBQP/BQUE/wUFBP8FBQT/BQUE/3Z2dv//////////////////////////5////4f/////////////////////2dnZ/3Z2dv9VVVT/VlZV/6Kiov///////////////////////////////4r///8G////jf///+T/////////////////////////////////////////////////////////5P///43///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==',
    comment: 'Standard-Favicon Amazon'
  },
  {
    id: 'preset-http-default',
    enabled: true,
    patternType: 'regex',
    pattern: '^https?:\\/\\/',
    iconDataUrl: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iI2Y4ZmFmYyIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzY0NzQ4YiIgc3Ryb2tlLXdpZHRoPSIyIi8+PHBhdGggZD0iTTcgMTZoMThNMTYgN2MzIDMgNC41IDYgNC41IDlzLTEuNSA2LTQuNSA5Yy0zLTMtNC41LTYtNC41LTlzMS41LTYgNC41LTl6IiBmaWxsPSJub25lIiBzdHJva2U9IiM2NDc0OGIiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+',
    comment: 'Standard-Favicon HTTP(S)'
  }
]);

function getDefaultFaviconRules() {
  const baseTs = Date.now();
  return DEFAULT_FAVICON_RULES.map((rule, index) => Object.assign({}, rule, { createdAt: baseTs + index }));
}

    /**
     * HTMLBookmarkParser - Generic HTML structure parser for bookmark imports
     * Detects and extracts bookmarks from various HTML structures:
     * - Netscape bookmark format (DL/DT/DD)
     * - Nested lists (UL/OL with LI)
     * - Heading hierarchies (H1-H6 with following content)
     * - Definition lists
     * - Article/Section structures
     * - Table-based layouts
     */
    class HTMLBookmarkParser {
      constructor(options = {}) {
        this.options = {
          // Group detection settings
          minLinksForGroup: options.minLinksForGroup || 2,
          maxGroupDepth: options.maxGroupDepth || 5,
          inferGroupNames: options.inferGroupNames !== false,

          // Link extraction settings
          extractMetadata: options.extractMetadata !== false,
          extractKeywords: options.extractKeywords !== false,
          followRedirects: options.followRedirects || false,

          // Pattern priorities (higher = preferred)
          patternPriorities: {
            netscape: 100,    // Standard bookmark format
            headings: 90,     // H1-H6 hierarchies
            nestedLists: 80,  // UL/OL structures
            definitions: 70,  // DL/DT/DD (non-Netscape)
            sections: 60,     // article/section/nav
            tables: 50,       // Table-based layouts
            divGroups: 40,    // Grouped DIVs
            generic: 30       // Fallback patterns
          },
          ...options
        };
      }

      /**
       * Main parsing method - detects format and extracts bookmarks
       * @param {string} html - HTML content to parse
       * @returns {Array} Array of group objects with links
       */
      parse(html) {
        const doc = this.createDocument(html);
        if (!doc) return [];

        // Try patterns in priority order
        const patterns = this.getDetectionPatterns();

        for (const pattern of patterns) {
          const result = pattern.detector(doc);
          if (result && result.confidence > 0.5) {
            debugLog('log', `[HTMLBookmarkParser] Using pattern: ${pattern.name} (confidence: ${result.confidence})`);
            return pattern.extractor(doc, result.context);
          }
        }

        // Fallback: extract all links as single group
        return this.extractGenericLinks(doc);
      }

      /**
       * Create DOM document from HTML string
       */
      createDocument(html) {
        try {
          const parser = new DOMParser();
          return parser.parseFromString(html, 'text/html');
        } catch (e) {
          debugLog('error', '[HTMLBookmarkParser] Failed to parse HTML:', e);
          return null;
        }
      }

      /**
       * Get detection patterns sorted by priority
       */
      getDetectionPatterns() {
        return [
          {
            name: 'Netscape Bookmarks',
            priority: this.options.patternPriorities.netscape,
            detector: (doc) => this.detectNetscapeFormat(doc),
            extractor: (doc) => this.extractNetscapeBookmarks(doc)
          },
          {
            name: 'Heading Hierarchy',
            priority: this.options.patternPriorities.headings,
            detector: (doc) => this.detectHeadingStructure(doc),
            extractor: (doc, ctx) => this.extractHeadingGroups(doc, ctx)
          },
          {
            name: 'Nested Lists',
            priority: this.options.patternPriorities.nestedLists,
            detector: (doc) => this.detectNestedLists(doc),
            extractor: (doc, ctx) => this.extractListGroups(doc, ctx)
          },
          {
            name: 'Definition Lists',
            priority: this.options.patternPriorities.definitions,
            detector: (doc) => this.detectDefinitionLists(doc),
            extractor: (doc, ctx) => this.extractDefinitionGroups(doc, ctx)
          },
          {
            name: 'Section Structure',
            priority: this.options.patternPriorities.sections,
            detector: (doc) => this.detectSectionStructure(doc),
            extractor: (doc, ctx) => this.extractSectionGroups(doc, ctx)
          },
          {
            name: 'Table Layout',
            priority: this.options.patternPriorities.tables,
            detector: (doc) => this.detectTableStructure(doc),
            extractor: (doc, ctx) => this.extractTableGroups(doc, ctx)
          }
        ].sort((a, b) => b.priority - a.priority);
      }

      /**
       * Detect Netscape bookmark format
       */
      detectNetscapeFormat(doc) {
        const hasDL = doc.querySelector('DL');
        const hasDT = doc.querySelector('DT');
        const hasH3inDT = doc.querySelector('DT > H3');
        const hasBookmarkMeta = doc.querySelector('META[HTTP-EQUIV*="Content-Type"]');

        const confidence =
          (hasDL ? 0.3 : 0) +
          (hasDT ? 0.3 : 0) +
          (hasH3inDT ? 0.3 : 0) +
          (hasBookmarkMeta ? 0.1 : 0);

        return { confidence, context: { hasDL, hasDT, hasH3inDT } };
      }

      /**
       * Extract Netscape bookmarks (existing implementation)
       */
      extractNetscapeBookmarks(doc) {
        const result = [];

        const walkDL = (dl, currentGroupName = null) => {
          const groupLinks = [];
          const groups = [];
          const nodes = Array.from(dl.children || []);

          for (let i = 0; i < nodes.length; i++) {
            const el = nodes[i];
            if (el.tagName === 'DT') {
              const a = el.querySelector('a');
              const h3 = el.querySelector('h3');

              if (a) {
                groupLinks.push(this.extractLinkData(a));
              } else if (h3) {
                const name = h3.textContent || 'Folder';
                let next = el.nextElementSibling;
                while (next && next.tagName !== 'DL') next = next.nextElementSibling;

                if (next && next.tagName === 'DL') {
                  const sub = walkDL(next, name);
                  groups.push(...sub);
                } else {
                  groups.push({ name, links: [] });
                }
              }
            }
          }

          if (currentGroupName) {
            groups.unshift({ name: currentGroupName, links: groupLinks });
          } else if (groupLinks.length) {
            groups.unshift({ name: 'Imported', links: groupLinks });
          }

          return groups;
        };

        const topDL = doc.querySelector('dl');
        return topDL ? walkDL(topDL) : [];
      }

      /**
       * Detect heading-based structure (H1-H6)
       */
      detectHeadingStructure(doc) {
        const headings = doc.querySelectorAll('h1, h2, h3, h4, h5, h6');
        const links = doc.querySelectorAll('a[href]');

        if (headings.length === 0 || links.length === 0) {
          return { confidence: 0 };
        }

        // Check if headings have links following them
        let headingsWithLinks = 0;
        headings.forEach(heading => {
          const nextElements = this.getNextSiblings(heading, 5);
          const hasLinks = nextElements.some(el =>
            el.querySelector && el.querySelector('a[href]')
          );
          if (hasLinks) headingsWithLinks++;
        });

        const confidence = headingsWithLinks / headings.length;
        return {
          confidence,
          context: { headings, headingsWithLinks }
        };
      }

      /**
       * Extract groups based on heading hierarchy
       */
      extractHeadingGroups(doc, context) {
        const groups = [];
        const headings = doc.querySelectorAll('h1, h2, h3, h4, h5, h6');

        headings.forEach(heading => {
          const level = parseInt(heading.tagName.charAt(1));
          const groupName = heading.textContent.trim();
          const links = [];

          // Collect links until next heading of same or higher level
          let current = heading.nextElementSibling;
          while (current) {
            // Stop at next heading of same or higher importance
            if (/^H[1-6]$/.test(current.tagName)) {
              const currentLevel = parseInt(current.tagName.charAt(1));
              if (currentLevel <= level) break;
            }

            // Extract links from current element
            const anchors = current.querySelectorAll('a[href]');
            anchors.forEach(a => links.push(this.extractLinkData(a)));

            current = current.nextElementSibling;
          }

          if (links.length >= this.options.minLinksForGroup) {
            groups.push({ name: groupName, links });
          }
        });

        return groups;
      }

      /**
       * Detect nested list structure
       */
      detectNestedLists(doc) {
        const lists = doc.querySelectorAll('ul, ol');
        const nestedLists = Array.from(lists).filter(list =>
          list.querySelector('ul, ol') || // Has nested lists
          list.parentElement.closest('ul, ol') // Is nested itself
        );

        const linksInLists = Array.from(lists).reduce((count, list) =>
          count + list.querySelectorAll('a[href]').length, 0
        );

        const totalLinks = doc.querySelectorAll('a[href]').length;

        if (lists.length === 0 || totalLinks === 0) {
          return { confidence: 0 };
        }

        const confidence = (linksInLists / totalLinks) *
                          (nestedLists.length > 0 ? 1.2 : 0.8);

        return {
          confidence: Math.min(confidence, 1),
          context: { lists, nestedLists }
        };
      }

      /**
       * Extract groups from list structures
       */
      extractListGroups(doc, context) {
        const groups = [];
        const processedLists = new Set();

        const extractList = (list, groupName = null) => {
          if (processedLists.has(list)) return null;
          processedLists.add(list);

          const group = {
            name: groupName || this.inferGroupName(list) || 'List Group',
            links: []
          };

          Array.from(list.children).forEach(li => {
            if (li.tagName !== 'LI') return;

            // Check for nested list (subgroup)
            const nestedList = li.querySelector('ul, ol');
            if (nestedList) {
              // Extract text before nested list as subgroup name
              const textNode = Array.from(li.childNodes).find(
                node => node.nodeType === Node.TEXT_NODE && node.textContent.trim()
              );
              const subgroupName = textNode ? textNode.textContent.trim() : null;

              const subgroup = extractList(nestedList, subgroupName);
              if (subgroup && subgroup.links.length >= this.options.minLinksForGroup) {
                groups.push(subgroup);
              }
            }

            // Extract links from this item
            const anchors = Array.from(li.querySelectorAll('a[href]')).filter(
              a => !nestedList || !nestedList.contains(a)
            );
            anchors.forEach(a => group.links.push(this.extractLinkData(a)));
          });

          return group;
        };

        // Process top-level lists
        const topLists = Array.from(doc.querySelectorAll('ul, ol')).filter(
          list => !list.parentElement.closest('ul, ol')
        );

        topLists.forEach(list => {
          const group = extractList(list);
          if (group && group.links.length >= this.options.minLinksForGroup) {
            groups.push(group);
          }
        });

        return groups;
      }

      /**
       * Detect section-based structure (article, section, nav)
       */
      detectSectionStructure(doc) {
        const sections = doc.querySelectorAll('article, section, nav, aside');
        const linksInSections = Array.from(sections).reduce((count, section) =>
          count + section.querySelectorAll('a[href]').length, 0
        );

        const totalLinks = doc.querySelectorAll('a[href]').length;

        if (sections.length === 0 || totalLinks === 0) {
          return { confidence: 0 };
        }

        const confidence = (linksInSections / totalLinks) * 0.9;
        return {
          confidence,
          context: { sections }
        };
      }

      /**
       * Extract groups from section elements
       */
      extractSectionGroups(doc, context) {
        const groups = [];
        const sections = doc.querySelectorAll('article, section, nav, aside');

        sections.forEach(section => {
          const groupName = this.inferGroupName(section) || 'Section';
          const links = Array.from(section.querySelectorAll('a[href]'))
            .map(a => this.extractLinkData(a));

          if (links.length >= this.options.minLinksForGroup) {
            groups.push({ name: groupName, links });
          }
        });

        return groups;
      }

      /**
       * Detect definition list structure
       */
      detectDefinitionLists(doc) {
        const dlElements = doc.querySelectorAll('dl');
        const hasNonNetscapeDL = Array.from(dlElements).some(dl =>
          !dl.querySelector('dt > h3') && dl.querySelector('dt') && dl.querySelector('dd')
        );

        if (!hasNonNetscapeDL) {
          return { confidence: 0 };
        }

        const confidence = 0.7;
        return { confidence, context: { dlElements } };
      }

      /**
       * Extract groups from definition lists
       */
      extractDefinitionGroups(doc, context) {
        const groups = [];
        const dlElements = doc.querySelectorAll('dl');

        dlElements.forEach(dl => {
          let currentGroup = null;

          Array.from(dl.children).forEach(el => {
            if (el.tagName === 'DT') {
              // DT might be a group header
              const links = el.querySelectorAll('a[href]');
              if (links.length === 0) {
                // No links, treat as group name
                if (currentGroup && currentGroup.links.length >= this.options.minLinksForGroup) {
                  groups.push(currentGroup);
                }
                currentGroup = {
                  name: el.textContent.trim(),
                  links: []
                };
              } else {
                // Has links, add to current group
                if (!currentGroup) {
                  currentGroup = { name: 'Definitions', links: [] };
                }
                links.forEach(a => currentGroup.links.push(this.extractLinkData(a)));
              }
            } else if (el.tagName === 'DD' && currentGroup) {
              // DD contains links for the current group
              const links = el.querySelectorAll('a[href]');
              links.forEach(a => currentGroup.links.push(this.extractLinkData(a)));
            }
          });

          if (currentGroup && currentGroup.links.length >= this.options.minLinksForGroup) {
            groups.push(currentGroup);
          }
        });

        return groups;
      }

      /**
       * Detect table-based structure
       */
      detectTableStructure(doc) {
        const tables = doc.querySelectorAll('table');
        const linksInTables = Array.from(tables).reduce((count, table) =>
          count + table.querySelectorAll('a[href]').length, 0
        );

        const totalLinks = doc.querySelectorAll('a[href]').length;

        if (tables.length === 0 || totalLinks === 0) {
          return { confidence: 0 };
        }

        const confidence = (linksInTables / totalLinks) * 0.7;
        return { confidence, context: { tables } };
      }

      /**
       * Extract groups from table structure
       */
      extractTableGroups(doc, context) {
        const groups = [];
        const tables = doc.querySelectorAll('table');

        tables.forEach(table => {
          // Try to detect if table has category rows/columns
          const rows = table.querySelectorAll('tr');
          let currentGroup = null;

          rows.forEach(row => {
            const cells = row.querySelectorAll('td, th');
            const links = row.querySelectorAll('a[href]');

            if (links.length === 0 && cells.length > 0) {
              // Possible category row
              if (currentGroup && currentGroup.links.length >= this.options.minLinksForGroup) {
                groups.push(currentGroup);
              }
              currentGroup = {
                name: row.textContent.trim(),
                links: []
              };
            } else if (links.length > 0) {
              // Row with links
              if (!currentGroup) {
                currentGroup = {
                  name: this.inferGroupName(table) || 'Table Links',
                  links: []
                };
              }
              links.forEach(a => currentGroup.links.push(this.extractLinkData(a)));
            }
          });

          if (currentGroup && currentGroup.links.length >= this.options.minLinksForGroup) {
            groups.push(currentGroup);
          }
        });

        return groups;
      }

      /**
       * Generic link extraction (fallback)
       */
      extractGenericLinks(doc) {
        const links = Array.from(doc.querySelectorAll('a[href]'))
          .map(a => this.extractLinkData(a));

        if (links.length === 0) return [];

        // Try to group by common parent containers
        const groups = this.groupByContainers(doc, links);

        if (groups.length > 1) {
          return groups;
        }

        // Single group with all links
        return [{
          name: this.inferGroupName(doc.body) || 'Imported Links',
          links: links
        }];
      }

      /**
       * Group links by their container elements
       */
      groupByContainers(doc, links) {
        const containerMap = new Map();

        doc.querySelectorAll('a[href]').forEach(anchor => {
          // Find meaningful container
          let container = anchor.parentElement;
          while (container && container !== doc.body) {
            if (this.isMeaningfulContainer(container)) {
              break;
            }
            container = container.parentElement;
          }

          if (!container || container === doc.body) {
            container = doc.body;
          }

          if (!containerMap.has(container)) {
            containerMap.set(container, {
              element: container,
              links: []
            });
          }

          containerMap.get(container).links.push(this.extractLinkData(anchor));
        });

        const groups = [];
        containerMap.forEach(({ element, links }) => {
          if (links.length >= this.options.minLinksForGroup) {
            groups.push({
              name: this.inferGroupName(element) || 'Group',
              links: links
            });
          }
        });

        return groups;
      }

      /**
       * Check if element is a meaningful container
       */
      isMeaningfulContainer(element) {
        const meaningfulTags = ['article', 'section', 'nav', 'aside', 'div', 'ul', 'ol', 'dl'];
        const meaningfulClasses = ['group', 'category', 'section', 'links', 'bookmarks', 'list'];

        if (meaningfulTags.includes(element.tagName.toLowerCase())) {
          // Check for meaningful class or id
          const classList = Array.from(element.classList);
          const hasClass = meaningfulClasses.some(cls =>
            classList.some(c => c.toLowerCase().includes(cls))
          );

          const hasId = element.id && meaningfulClasses.some(cls =>
            element.id.toLowerCase().includes(cls)
          );

          return hasClass || hasId || element.children.length > 2;
        }

        return false;
      }

      /**
       * Extract link data from anchor element
       */
      extractLinkData(anchor) {
        const link = {
          text: anchor.textContent.trim() || anchor.title || 'Link',
          url: anchor.href || anchor.getAttribute('href') || '',
          keywords: ''
        };

        if (this.options.extractMetadata) {
          // Extract title attribute
          if (anchor.title) {
            link.title = anchor.title;
          }

          // Extract favicon if present
          const img = anchor.querySelector('img');
          if (img && img.src) {
            link.favicon = img.src;
          }

          // Extract description from next sibling or parent
          const nextSibling = anchor.nextSibling;
          if (nextSibling && nextSibling.nodeType === Node.TEXT_NODE) {
            const desc = nextSibling.textContent.trim();
            if (desc && desc.length < 200) {
              link.description = desc;
            }
          }
        }

        if (this.options.extractKeywords) {
          // Extract keywords from class, data attributes, or context
          const keywords = [];

          if (anchor.className) {
            keywords.push(...anchor.className.split(/\s+/));
          }

          // Check data attributes
          Array.from(anchor.attributes).forEach(attr => {
            if (attr.name.startsWith('data-')) {
              keywords.push(attr.value);
            }
          });

          // Check parent context
          const parent = anchor.closest('[class*="tag"], [class*="category"], [data-category]');
          if (parent) {
            if (parent.dataset.category) {
              keywords.push(parent.dataset.category);
            }
            if (parent.className) {
              keywords.push(...parent.className.split(/\s+/));
            }
          }

          link.keywords = [...new Set(keywords)]
            .filter(k => k && k.length > 1 && k.length < 50)
            .join(', ');
        }

        return link;
      }

      /**
       * Infer group name from element context
       */
      inferGroupName(element) {
        if (!element || !this.options.inferGroupNames) return null;

        // Try various strategies to find a name

        // 1. Check for heading before or within element
        const heading = element.querySelector('h1, h2, h3, h4, h5, h6') ||
                       this.getPreviousHeading(element);
        if (heading) {
          return heading.textContent.trim();
        }

        // 2. Check for aria-label or title
        if (element.getAttribute('aria-label')) {
          return element.getAttribute('aria-label');
        }
        if (element.title) {
          return element.title;
        }

        // 3. Check for data attributes
        if (element.dataset.title || element.dataset.name) {
          return element.dataset.title || element.dataset.name;
        }

        // 4. Check for id or class that might indicate purpose
        if (element.id) {
          // Convert ID to readable name (bookmarks-list -> Bookmarks List)
          return element.id.replace(/[-_]/g, ' ')
            .replace(/([a-z])([A-Z])/g, '$1 $2')
            .replace(/\b\w/g, c => c.toUpperCase());
        }

        // 5. Check first text node
        const textNode = Array.from(element.childNodes).find(
          node => node.nodeType === Node.TEXT_NODE && node.textContent.trim()
        );
        if (textNode) {
          const text = textNode.textContent.trim();
          if (text.length < 50) {
            return text;
          }
        }

        return null;
      }

      /**
       * Get previous heading sibling
       */
      getPreviousHeading(element) {
        let sibling = element.previousElementSibling;
        while (sibling) {
          if (/^H[1-6]$/.test(sibling.tagName)) {
            return sibling;
          }
          sibling = sibling.previousElementSibling;
        }
        return null;
      }

      /**
       * Get next siblings up to count
       */
      getNextSiblings(element, count = 5) {
        const siblings = [];
        let current = element.nextElementSibling;

        while (current && siblings.length < count) {
          siblings.push(current);
          current = current.nextElementSibling;
        }

        return siblings;
      }
    }

    // Toast Notification System
	    class ToastManager {
	      constructor() {
	        this.container = null;
	        this.toasts = [];
	        this.init();
	      }

	      normalizeType(type) {
	        const normalized = String(type || 'info').toLowerCase();
	        return ['success', 'error', 'warning', 'info'].includes(normalized) ? normalized : 'info';
	      }

	      escapeHtml(text) {
	        const value = String(text ?? '');
	        return value
	          .replace(/&/g, '&amp;')
	          .replace(/</g, '&lt;')
	          .replace(/>/g, '&gt;')
	          .replace(/"/g, '&quot;')
	          .replace(/'/g, '&#39;');
	      }

	      showMessage(message, type = 'info', duration = 3000, options = {}) {
	        const toastType = this.normalizeType(type);
	        const safeDuration = Number.isFinite(Number(duration)) ? Math.max(0, Math.floor(Number(duration))) : 3000;
	        const title = (options && Object.prototype.hasOwnProperty.call(options, 'title'))
	          ? String(options.title || '')
	          : '';
	        const bodyText = String(message ?? '');
	        const body = (options && options.allowHtml === true)
	          ? bodyText
	          : this.escapeHtml(bodyText).replace(/\n/g, '<br>');
	        if (!title && !body) return null;
	        return this.show(title, body, toastType, safeDuration);
	      }

	      init() {
	        // Create container if it doesn't exist
        if (!document.getElementById('toast-container')) {
          this.container = document.createElement('div');
          this.container.id = 'toast-container';
          this.container.className = 'toast-container';
          document.body.appendChild(this.container);
        } else {
          this.container = document.getElementById('toast-container');
        }
      }

      show(title, body = '', type = 'info', duration = 5000) {
        const toast = document.createElement('div');
        toast.className = `toast-notification toast-${type} mb-toast mb-toast-${type}`;

        const toastId = 'toast-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        toast.id = toastId;

        // Toast content
        const content = document.createElement('div');
        content.className = 'toast-content mb-toast-content';

        // Title
        if (title) {
          const titleEl = document.createElement('div');
          titleEl.className = 'toast-title mb-toast-title';
          titleEl.textContent = title;
          content.appendChild(titleEl);
        }

        // Body (supports HTML)
        if (body) {
          const bodyEl = document.createElement('div');
          bodyEl.className = 'toast-body mb-toast-body';
          bodyEl.innerHTML = body;
          content.appendChild(bodyEl);
        }

        toast.appendChild(content);

        // Close button
        const closeBtn = document.createElement('button');
        closeBtn.className = 'toast-close mb-toast-close';
        closeBtn.innerHTML = '';
        closeBtn.onclick = () => this.remove(toastId);
        toast.appendChild(closeBtn);

        // Progress bar
        const progressBar = document.createElement('div');
        progressBar.className = 'toast-progress mb-toast-progress';
        const progressFill = document.createElement('div');
        progressFill.className = 'toast-progress-fill mb-toast-progress-fill';
        progressBar.appendChild(progressFill);
        toast.appendChild(progressBar);

        // Add to container
        this.container.appendChild(toast);
        this.toasts.push({ id: toastId, element: toast });

        // Trigger animation
        setTimeout(() => {
          toast.classList.add('toast-show');
          progressFill.style.transition = `width ${duration}ms linear`;
          progressFill.style.width = '0%';
        }, 10);

        // Auto remove after duration
        if (duration > 0) {
          setTimeout(() => {
            this.remove(toastId);
          }, duration);
        }

        return toastId;
      }

      remove(toastId) {
        const index = this.toasts.findIndex(t => t.id === toastId);
        if (index > -1) {
          const toast = this.toasts[index];
          toast.element.classList.remove('toast-show');
          toast.element.classList.add('toast-hide');

          setTimeout(() => {
            if (toast.element.parentNode) {
              toast.element.parentNode.removeChild(toast.element);
            }
            this.toasts.splice(index, 1);
          }, 300);
        }
      }

      success(title, body = '', duration = 5000) {
        return this.show(title, body, 'success', duration);
      }

      error(title, body = '', duration = 5000) {
        return this.show(title, body, 'error', duration);
      }

      warning(title, body = '', duration = 5000) {
        return this.show(title, body, 'warning', duration);
      }

      info(title, body = '', duration = 5000) {
        return this.show(title, body, 'info', duration);
      }
    }

	    // Create global instance
	    const toastManager = new ToastManager();
	    if (typeof window !== 'undefined') {
	      window.showAppToast = function(message, type = 'info', duration = 3000, options = {}) {
	        if (toastManager && typeof toastManager.showMessage === 'function') {
	          toastManager.showMessage(message, type, duration, options || {});
	          return;
	        }
	        const fallbackType = String(type || 'info').toUpperCase();
	        console.log(`[${fallbackType}] ${String(message ?? '')}`);
	      };
	    }

	    // Minimal in-file namespaces to group related helpers
	    const MB = {
      Utils: {},
      DnD: {},
      Shortcuts: {},
      Sync: {},
      EventLog: {},
      UI: {},
      Extension: {},
      CardDAV: {},
      SyncAdapters: {}
    };

    // Shortcut helpers grouped in a dedicated namespace (module-style encapsulation).
    MB.Shortcuts.normalizeKeyName = function(key) {
      const raw = String(key || '').trim();
      if (!raw) return '';
      const lower = raw.toLowerCase();
      const mapped = {
        ' ': 'Space',
        'space': 'Space',
        'spacebar': 'Space',
        'esc': 'Escape',
        'escape': 'Escape',
        'arrowup': 'ArrowUp',
        'arrowdown': 'ArrowDown',
        'arrowleft': 'ArrowLeft',
        'arrowright': 'ArrowRight'
      };
      if (mapped[lower]) return mapped[lower];
      if (raw.length === 1) {
        if (/\s/.test(raw)) return 'Space';
        return raw.toUpperCase();
      }
      if (/^f([1-9]|1[0-2])$/i.test(raw)) return raw.toUpperCase();
      if (/^digit[0-9]$/i.test(raw)) return raw.slice(-1);
      if (/^key[a-z]$/i.test(raw)) return raw.slice(3).toUpperCase();
      return raw.length <= 24 ? raw : '';
    };

    MB.Shortcuts.normalizeText = function(value) {
      if (typeof value !== 'string') return '';
      const parts = value.split('+').map((part) => part.trim()).filter(Boolean);
      if (!parts.length) return '';
      const mods = { Ctrl: false, Alt: false, Shift: false, Meta: false };
      let keyPart = '';
      parts.forEach((part) => {
        const lower = part.toLowerCase();
        if (['ctrl', 'control', 'strg', ''].includes(lower)) { mods.Ctrl = true; return; }
        if (['alt', 'option', ''].includes(lower)) { mods.Alt = true; return; }
        if (['shift', 'umschalt', ''].includes(lower)) { mods.Shift = true; return; }
        if (['meta', 'cmd', 'command', 'win', 'super', ''].includes(lower)) { mods.Meta = true; return; }
        keyPart = MB.Shortcuts.normalizeKeyName(part);
      });
      if (!keyPart) return '';
      if (!mods.Ctrl && !mods.Alt && !mods.Meta) return '';
      const ordered = [];
      if (mods.Ctrl) ordered.push('Ctrl');
      if (mods.Alt) ordered.push('Alt');
      if (mods.Shift) ordered.push('Shift');
      if (mods.Meta) ordered.push('Meta');
      ordered.push(keyPart);
      return ordered.join('+');
    };

    MB.Shortcuts.normalizeFromEvent = function(event) {
      if (!event) return '';
      const keyPart = MB.Shortcuts.normalizeKeyName(event.key);
      if (!keyPart || ['Control', 'Shift', 'Alt', 'Meta'].includes(keyPart) || keyPart === 'Tab') return '';
      if (!event.ctrlKey && !event.altKey && !event.metaKey) return '';
      const parts = [];
      if (event.ctrlKey) parts.push('Ctrl');
      if (event.altKey) parts.push('Alt');
      if (event.shiftKey) parts.push('Shift');
      if (event.metaKey) parts.push('Meta');
      parts.push(keyPart);
      return MB.Shortcuts.normalizeText(parts.join('+'));
    };

    MB.Shortcuts.isReserved = function(combo) {
      return RESERVED_SHORTCUT_COMBOS.has(combo);
    };

    MB.Shortcuts.buildUrlIndex = function(app) {
      const byCombo = new Map();
      const addUrl = (combo, rawUrl) => {
        const normalizedCombo = MB.Shortcuts.normalizeText(combo || '');
        if (!normalizedCombo) return;
        const normalizedUrl = MB.Utils.ensureProtocol(String(rawUrl || '').trim());
        if (!MB.Utils.isValidHttpUrl(normalizedUrl)) return;
        if (!byCombo.has(normalizedCombo)) byCombo.set(normalizedCombo, new Set());
        byCombo.get(normalizedCombo).add(normalizedUrl);
      };

      (app.data.groups || []).forEach((group) => {
        const groupCombo = app.normalizeShortcutText(group?.shortcut || '');
        (group.links || []).forEach((link) => {
          if (link?.deleted) return;
          const resolvedUrl = app.getEffectiveLinkUrl(link);
          if (!resolvedUrl) return;
          if (groupCombo) addUrl(groupCombo, resolvedUrl);
          const linkCombo = app.normalizeShortcutText(link?.shortcut || '');
          if (linkCombo) addUrl(linkCombo, resolvedUrl);
        });
      });

      const globalShortcuts = app.normalizeGlobalShortcutList(app.data?.options?.links?.globalShortcuts || []);
      globalShortcuts.forEach((entry) => {
        const combo = app.normalizeShortcutText(entry?.combo || '');
        if (!combo) return;
        const entryUrls = app.collectUrlsFromShortcutTargets({
          groupIds: entry.groupIds || [],
          linkIds: entry.linkIds || [],
          legacyUrls: entry.urls || []
        });
        (entryUrls || []).forEach((url) => addUrl(combo, url));
      });

      return byCombo;
    };

    // Enums / Sentinel values for clarity
    const ENUMS = {
      EnvelopeType: {
        GROUP_UPDATE_REQUEST: 'group-update-request',
        GROUP_ROSTER: 'group-roster',
        SYNC_CHUNK: 'sync-chunk',
        SYNC_CHUNKS_DONE: 'sync-chunks-done',
        SYNC_EVENT: 'sync-event',
        EVENT_LOG_ACTIVATION: 'event-log-activation'
      },
      Role: { OWNER: 'owner', MEMBER: 'member' }
    };

    // Message/Envelope builder
    MB.Sync.buildEnvelope = function(app, type, payload = {}, overrides = {}) {
      const from = { uuid: app?.data?.identity?.uuid || '', name: app?.data?.identity?.name || '' };
      const base = { v: 1, type, ts: Date.now(), from, msgId: (Math.random().toString(36).slice(2) + Date.now()) };
      return Object.assign(base, payload || {}, overrides || {});
    };

    // URL helpers
    MB.Utils.isValidHttpUrl = function(str) {
      try { const u = new URL(str); return u.protocol === 'http:' || u.protocol === 'https:'; } catch { return false; }
    };
    MB.Utils.ensureProtocol = function(str) {
      const s = (str || '').trim();
      if (!s) return '';
      // Normalize accidental double http(s):// prefixes
      const m = s.match(/^(https?:\/\/)/i);
      if (m) {
        return s.replace(/^(https?:\/\/)+/i, m[1]);
      }
      if (/^[a-zA-Z]+:\/\//.test(s) || s.startsWith('/')) return s;
      try {
        const appRef = (typeof window !== 'undefined' && window.app) ? window.app : null;
        const hasCustomPrefix = (
          appRef &&
          appRef.data &&
          appRef.data.options &&
          appRef.data.options.links &&
          typeof appRef.data.options.links.defaultUrlPrefix === 'string'
        );
        let pref = hasCustomPrefix
          ? appRef.data.options.links.defaultUrlPrefix
          : CONSTS.DEFAULT_URL_PREFIX;
        pref = (typeof pref === 'string') ? pref.trim() : '';
        if (!pref) return s; // allow empty (no auto prefix)
        // Collapse repeated http(s):// again after concatenation
        const combined = pref + s;
        const mm = combined.match(/^(https?:\/\/)/i);
        if (mm) return combined.replace(/^(https?:\/\/)+/i, mm[1]);
        return combined;
      } catch {
        return CONSTS.DEFAULT_URL_PREFIX ? CONSTS.DEFAULT_URL_PREFIX + s : s;
      }
    };

    // Extension communication wrapper
    MB.Extension.isAvailable = function() {
      return window.MyBookmarksExtension && typeof window.MyBookmarksExtension.isAvailable === 'function';
    };

    MB.Extension.checkAvailability = async function() {
      if (!MB.Extension.isAvailable()) {
        debugLog('warn', 'Extension object not found');
        return false;
      }
      try {
        const available = await window.MyBookmarksExtension.isAvailable();
        debugLog('log', 'Extension availability check:', available);
        return available;
      } catch (e) {
        debugLog('error', 'Extension availability check failed:', e);
        return false;
      }
    };

    MB.Extension.fetchMetadata = async function(url, options = {}) {
      if (!MB.Extension.isAvailable()) {
        throw new Error('Extension not available');
      }

      const normalizedUrl = MB.Utils.ensureProtocol(url);
      if (!MB.Utils.isValidHttpUrl(normalizedUrl)) {
        throw new Error('Invalid URL: ' + url);
      }

      debugLog('log', 'Fetching metadata via extension for:', normalizedUrl, 'Options:', options);

      try {
        const metadata = await window.MyBookmarksExtension.fetchMetadata(normalizedUrl, options);

        if (!metadata || !metadata.success) {
          throw new Error(metadata?.error || 'Failed to fetch metadata');
        }

        // Normalize the response
        return {
          success: true,
          url: normalizedUrl,
          title: metadata.title || '',
          description: metadata.description || '',
          favicon: metadata.favicon || null,
          faviconUrl: metadata.faviconUrl || null,
          ogImage: metadata.ogImage || null,
          keywords: metadata.keywords || [],
          author: metadata.author || '',
          siteName: metadata.siteName || '',
          html: metadata.html || '', // Full HTML content if requested
          links: metadata.links || [] // Extracted links if requested
        };
      } catch (e) {
        debugLog('error', 'Extension fetchMetadata failed:', e);
        throw e;
      }
    };

    MB.Extension.fetchPageContent = async function(url) {
      // Special method for fetching and parsing page content (for import)
      if (!MB.Extension.isAvailable()) {
        throw new Error('Extension not available');
      }

      const normalizedUrl = MB.Utils.ensureProtocol(url);
      if (!MB.Utils.isValidHttpUrl(normalizedUrl)) {
        throw new Error('Invalid URL: ' + url);
      }

      debugLog('log', 'Fetching page content via extension for:', normalizedUrl);

      try {
        // Use the same fetchMetadata but we'll expand it to include HTML content
        const response = await window.MyBookmarksExtension.fetchMetadata(normalizedUrl);

        if (!response || !response.success) {
          throw new Error(response?.error || 'Failed to fetch page content');
        }

        // For now, return what we have - we'll need to enhance the extension
        // to also return the HTML content for parsing
        return {
          success: true,
          url: normalizedUrl,
          title: response.title || '',
          html: response.html || '', // Extension needs to be updated to return this
          links: response.links || [] // Extension needs to extract links
        };
      } catch (e) {
        debugLog('error', 'Extension fetchPageContent failed:', e);
        throw e;
      }
    };

    MB.Extension.getBookmarks = async function() {
      if (!MB.Extension.isAvailable()) {
        throw new Error('Extension not available');
      }

      debugLog('log', 'Fetching browser bookmarks via extension');

      try {
        const bookmarks = await window.MyBookmarksExtension.getBookmarks();

        if (!bookmarks) {
          throw new Error('Failed to fetch bookmarks');
        }

        return bookmarks;
      } catch (e) {
        debugLog('error', 'Extension getBookmarks failed:', e);
        throw e;
      }
    };

    // Set DAV auth for extension header injection
    MB.Extension.setDavAuth = async function(serverUrl, username, password) {
      if (!MB.Extension.isAvailable()) return false;
      try {
        await window.MyBookmarksExtension.setDavAuth({ serverUrl, username, password });
        return true;
      } catch { return false; }
    };

    // ===== CARDDAV HELPERS (transport strictly via extension) =====
    MB.CardDAV.buildBasicAuthHeader = function(username, password) {
      const up = `${username || ''}:${password || ''}`;
      try { return 'Basic ' + btoa(up); } catch { return 'Basic ' + btoa(unescape(encodeURIComponent(up))); }
    };

    MB.CardDAV.joinUrl = function(base, path) {
      if (!base) return path || '';
      if (!path) return base;
      if (/^https?:\/\//i.test(path)) return path;
      const b = base.endsWith('/') ? base.slice(0, -1) : base;
      const p = path.startsWith('/') ? path : ('/' + path);
      return b + p;
    };

    MB.CardDAV.request = async function(req) {
      // req: { method, url, headers, body }
      const { method, url, headers, body } = req || {};
      if (!MB.Extension.isAvailable() || !window.MyBookmarksExtension || typeof window.MyBookmarksExtension.davRequest !== 'function') {
        throw new Error('Extension DAV API not available');
      }
      // Extract creds from Authorization header if present
      let username = undefined, password = undefined;
      try {
        const authHeader = headers && (headers['Authorization'] || headers['authorization']);
        if (authHeader && /^Basic\s+/i.test(authHeader)) {
          const b64 = authHeader.split(/\s+/)[1] || '';
          const up = atob(b64);
          const idx = up.indexOf(':');
          if (idx >= 0) { username = up.slice(0, idx); password = up.slice(idx + 1); }
        }
      } catch {}
      // Send with auth on first try (Nextcloud-friendly)
      let res = await MB.Extension.davRequest({ method, url, headers: headers || {}, body, username, password });
      if (!res) throw new Error('No response from extension');
      return res;
    };

    // Try to resolve /.well-known/carddav to canonical DAV base via redirect
    MB.CardDAV.followWellKnown = async function(serverUrl) {
      const wellKnown = MB.CardDAV.joinUrl(serverUrl, '/.well-known/carddav');
      try {
        const res = await MB.CardDAV.request({ method: 'GET', url: wellKnown, headers: {} });
        // XHR follows redirects; derive final URL from Location header if provided
        const loc = res.headers && (res.headers['location'] || res.headers['content-location']);
        return loc ? MB.CardDAV.joinUrl(serverUrl, loc) : serverUrl;
      } catch { return serverUrl; }
    };

    MB.CardDAV.propfind = async function(url, depth, body, authHeader) {
      const headers = {
        'Depth': String(depth ?? 0),
        'Content-Type': 'application/xml; charset=utf-8',
        'Accept': 'application/xml,text/xml'
      };
      if (authHeader) headers['Authorization'] = authHeader;
      return await MB.CardDAV.request({ method: 'PROPFIND', url, headers, body });
    };

    MB.CardDAV.report = async function(url, body, authHeader, depth = 1) {
      const headers = {
        'Depth': String(depth),
        'Content-Type': 'application/xml; charset=utf-8',
        'Accept': 'application/xml,text/xml'
      };
      if (authHeader) headers['Authorization'] = authHeader;
      return await MB.CardDAV.request({ method: 'REPORT', url, headers, body });
    };

    MB.CardDAV.get = async function(url, authHeader) {
      const headers = {};
      if (authHeader) headers['Authorization'] = authHeader;
      return await MB.CardDAV.request({ method: 'GET', url, headers });
    };

    MB.CardDAV.put = async function(url, body, authHeader, ifMatch, ifNoneMatch) {
      const headers = { 'Content-Type': 'text/vcard; charset=utf-8' };
      if (authHeader) headers['Authorization'] = authHeader;
      if (ifMatch) headers['If-Match'] = ifMatch;
      if (ifNoneMatch) headers['If-None-Match'] = ifNoneMatch;
      return await MB.CardDAV.request({ method: 'PUT', url, headers, body });
    };

    MB.CardDAV.delete = async function(url, authHeader, ifMatch) {
      const headers = {};
      if (authHeader) headers['Authorization'] = authHeader;
      if (ifMatch) headers['If-Match'] = ifMatch;
      return await MB.CardDAV.request({ method: 'DELETE', url, headers });
    };

    MB.CardDAV.escapeText = function(s) {
      return String(s || '')
        .replace(/\\/g, '\\\\')
        .replace(/\n/g, '\\n')
        .replace(/;/g, '\\;')
        .replace(/,/g, '\\,');
    };

    MB.CardDAV.buildVCard = function(model) {
      // model: { uid, fn, url, categories[], note, keywords, meta }
      const lines = [];
      lines.push('BEGIN:VCARD');
      lines.push('VERSION:4.0');
      if (model.uid) lines.push('UID:' + MB.CardDAV.escapeText(model.uid));
      if (model.fn) lines.push('FN:' + MB.CardDAV.escapeText(model.fn));
      if (model.url) lines.push('URL;VALUE=uri:' + MB.CardDAV.escapeText(model.url));
      if (Array.isArray(model.categories) && model.categories.length) {
        const cat = model.categories.map(c => MB.CardDAV.escapeText(c)).join(',');
        lines.push('CATEGORIES:' + cat);
      }
      if (model.keywords) lines.push('X-MB-KEYWORDS:' + MB.CardDAV.escapeText(model.keywords));
      if (model.meta) lines.push('X-MB-META:' + MB.CardDAV.escapeText(JSON.stringify(model.meta)));
      if (model.note) lines.push('NOTE:' + MB.CardDAV.escapeText(model.note));
      lines.push('END:VCARD');
      return lines.join('\r\n');
    };

    // ===== GENERIC SYNC ADAPTER REGISTRY =====
    MB.SyncAdapters._adapters = {};
    MB.SyncAdapters.register = function(key, adapter) { MB.SyncAdapters._adapters[key] = adapter; };
    MB.SyncAdapters.get = function(key) { return MB.SyncAdapters._adapters[key]; };

    // CardDAV adapter (wrap existing CardDAV methods)
    MB.SyncAdapters.register('carddav', {
      name: 'CardDAV',
      async testConnection(app) {
        // Reuse existing test logic
        if (typeof app.testCardDavConnection === 'function') return app.testCardDavConnection();
        // Fallback: minimal PROPFIND 0
        const opts = app.data.options?.carddav||{};
        const serverUrl = (opts.serverUrl||'').trim(); const path=(opts.addressbookPath||'').trim();
        if (!serverUrl||!path) throw new Error('Missing serverUrl or addressbookPath');
        const auth = MB.CardDAV.buildBasicAuthHeader(opts.username||'', opts.password||'');
        const url = MB.CardDAV.joinUrl(serverUrl, path);
        const r = await MB.CardDAV.propfind(url, 0, `<?xml version="1.0"?><D:propfind xmlns:D="DAV:"><D:prop><D:resourcetype/></D:prop></D:propfind>`, auth);
        return { ok: r.ok, status: r.status };
      },
      async syncNow(app) {
        if (typeof app.syncCardDavNow === 'function') return app.syncCardDavNow();
        throw new Error('CardDAV sync not available');
      }
    });

    // Nextcloud Bookmarks adapter (REST)  initial test implementation
    MB.SyncAdapters.register('nc-bookmarks', {
      name: 'Nextcloud Bookmarks',
      async testConnection(app) {
        const bk = app.data.options?.bookmarks||{};
        const serverUrl = (bk.serverUrl||'').trim();
        if (!serverUrl) throw new Error('Missing bookmarks serverUrl');
        // Ensure extension has auth from bookmarks settings
        try { await MB.Extension.setDavAuth(serverUrl, bk.username||'', bk.password||''); } catch {}
        const url = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/folder');
        const headers = { 'Accept':'application/json', 'OCS-APIREQUEST':'true', 'X-Requested-With':'XMLHttpRequest' };
        const auth = MB.CardDAV.buildBasicAuthHeader(bk.username||'', bk.password||'');
        headers['Authorization']=auth;
        const res = await MB.Extension.davRequest({ method:'GET', url, headers, username: bk.username||'', password: bk.password||'' });
        return { ok: res.ok, status: res.status };
      },
      async syncNow(app) {
        debugLog('log', '[NC SYNC] syncNow start');
        try { app.syncInProgress = true; app.syncProgress = 5; app.syncProgressText = 'Synchronizing'; } catch {}
        try { debugLog('log', '[NC-TRACE] Start', { traceId: (typeof TRACE_NC_ID!=='undefined'?TRACE_NC_ID:null), backend: 'nc-bookmarks' }); } catch {}
        const bk = app.data.options?.bookmarks||{};
        const serverUrl = (bk.serverUrl||'').trim();
        if (!serverUrl) throw new Error('Missing bookmarks serverUrl');
        const sessionId = Date.now();
        const forceFetchAll = (typeof window !== 'undefined' && (window.mbForceFetch === true)) || (localStorage.getItem('mbForceFetch') === '1');
        // Robust NC timestamp parser: supports seconds, millis, numeric strings, ISO strings
        const parseNcTs = (v) => {
          if (v === null || v === undefined) return 0;
          if (typeof v === 'number') return v < 1e12 ? Math.floor(v * 1000) : Math.floor(v);
          const s = String(v).trim();
          if (!s) return 0;
          const n = Number(s);
          if (!Number.isNaN(n)) return n < 1e12 ? Math.floor(n * 1000) : Math.floor(n);
          const d = Date.parse(s);
          return Number.isNaN(d) ? 0 : Math.floor(d);
        };
        try { await MB.Extension.setDavAuth(serverUrl, bk.username||'', bk.password||''); } catch {}
        const auth = MB.CardDAV.buildBasicAuthHeader(bk.username||'', bk.password||'');
        const hJson = { 'Accept':'application/json', 'OCS-APIREQUEST':'true', 'X-Requested-With':'XMLHttpRequest', 'Authorization':auth };
        // Process any pending remote deletions FIRST to avoid re-pulling locally deleted items
        try {
          const pending = Array.isArray(app.data.pendingNcDeletes) ? [...app.data.pendingNcDeletes] : [];
          for (const pd of pending) {
            if (!pd?.id) continue;
            const delUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark/${encodeURIComponent(pd.id)}`);
            let delRes = null; try { delRes = await MB.Extension.davRequest({ method:'DELETE', url: delUrl, headers:hJson, username: bk.username||'', password: bk.password||'' }); } catch { delRes = { ok:false, status:0 }; }
            if (delRes?.ok || delRes?.status === 404) {
              try { app.data.pendingNcDeletes = (app.data.pendingNcDeletes||[]).filter(x => x !== pd); } catch {}
              debugLog('log', '[NC SYNC] Pre-pull delete OK', { id: pd.id, status: delRes?.status||200 });
            } else {
              debugLog('warn', '[NC SYNC] Pre-pull delete failed (will retry later)', { id: pd.id, status: delRes?.status });
            }
          }
          app.saveData();
        } catch {}
        // Helper: robust JSON parse for NC Bookmarks responses (handles OCS/data/items wrappers)
        const parseNcList = (bodyText, label) => {
          let parsed = null;
          try { parsed = JSON.parse(bodyText||'[]'); } catch {}
          if (Array.isArray(parsed)) return parsed;
          const d = parsed && parsed.data ? parsed.data : parsed;
          if (Array.isArray(d)) return d;
          if (d && Array.isArray(d.items)) return d.items;
          if (parsed && Array.isArray(parsed.items)) return parsed.items;
          debugLog('warn', '[NC SYNC] Could not parse list as array', { label, sample: (bodyText||'').slice(0, 200) });
          return [];
        };
        // Unwrap helper for single-object responses: {item:{...}}, {data:{...}}, {status, item}
        const unwrapNc = (obj) => {
          try {
            if (!obj) return obj;
            if (obj && obj.status && obj.item) return obj.item;
            if (obj && obj.data && obj.data.item) return obj.data.item;
            if (obj && obj.item) return obj.item;
            if (obj && obj.data && !obj.id) return obj.data;
            return obj;
          } catch { return obj; }
        };
        // Helper: fetch bookmarks for a folder with multiple fallbacks
        const fetchFolderItems = async (fid) => {
          // Attempt 0: some NC setups require page=0 + deleted=false + sortby
          try {
            const url0 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark?limit=1000&page=0&sortby=lastmodified&folder=${encodeURIComponent(fid)}&deleted=false`);
            const res0 = await MB.Extension.davRequest({ method:'GET', url:url0, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (res0?.ok) {
              try { debugLog('log', '[NC SYNC] items attempt0 body head', { folderId: fid, head: (res0.bodyText||'').slice(0, 200) }); } catch {}
              const arr0 = parseNcList(res0.bodyText, 'attempt0-folder-page0');
              if (arr0.length) return arr0;
            } else { try { debugLog('warn', '[NC SYNC] items attempt0 status', { folderId: fid, status: res0?.status }); } catch {} }
          } catch {}
          // Attempt 0b: folders[] variant
          try {
            const url0b = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark?limit=1000&page=0&sortby=lastmodified&folders[]=${encodeURIComponent(fid)}&deleted=false`);
            const res0b = await MB.Extension.davRequest({ method:'GET', url:url0b, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (res0b?.ok) {
              try { debugLog('log', '[NC SYNC] items attempt0b body head', { folderId: fid, head: (res0b.bodyText||'').slice(0, 200) }); } catch {}
              const arr0b = parseNcList(res0b.bodyText, 'attempt0b-folders[]-page0');
              if (arr0b.length) return arr0b;
            } else { try { debugLog('warn', '[NC SYNC] items attempt0b status', { folderId: fid, status: res0b?.status }); } catch {} }
          } catch {}
          // Attempt 1: folder=ID
          try {
            const url1 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark?folder=${encodeURIComponent(fid)}&page=1&limit=1000`);
            const res1 = await MB.Extension.davRequest({ method:'GET', url:url1, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (res1?.ok) {
              try { debugLog('log', '[NC SYNC] items attempt1 body head', { folderId: fid, head: (res1.bodyText||'').slice(0, 200) }); } catch {}
              const arr1 = parseNcList(res1.bodyText, 'attempt1-folder');
              if (arr1.length) return arr1;
            }
          } catch {}
          // Attempt 2: folders[]=ID
          try {
            const url2 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark?folders[]=${encodeURIComponent(fid)}&page=1&limit=1000`);
            const res2 = await MB.Extension.davRequest({ method:'GET', url:url2, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (res2?.ok) {
              try { debugLog('log', '[NC SYNC] items attempt2 body head', { folderId: fid, head: (res2.bodyText||'').slice(0, 200) }); } catch {}
              const arr2 = parseNcList(res2.bodyText, 'attempt2-folders[]');
              if (arr2.length) return arr2;
            }
          } catch {}
          // Attempt 3: all bookmarks then filter by folder membership if present
          try {
            const url3 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark?page=1&limit=1000`);
            const res3 = await MB.Extension.davRequest({ method:'GET', url:url3, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (res3?.ok) {
              try { debugLog('log', '[NC SYNC] items attempt3 body head', { folderId: fid, head: (res3.bodyText||'').slice(0, 200) }); } catch {}
              const arr3 = parseNcList(res3.bodyText, 'attempt3-all');
              if (Array.isArray(arr3) && arr3.length) {
                const out = arr3.filter(it => {
                  const flds = Array.isArray(it.folders) ? it.folders : [];
                  const fSingle = (it.folder!==undefined && it.folder!==null) ? Number(it.folder) : null;
                  return (flds.includes(fid) || flds.includes(Number(fid)) || (fSingle!==null && fSingle === Number(fid)));
                });
                if (out.length) return out;
              }
            }
          } catch {}
          // Attempt 4: OCS fallback
          try {
            const url4 = MB.CardDAV.joinUrl(serverUrl, `/ocs/v2.php/apps/bookmarks/api/v1/bookmark?folder=${encodeURIComponent(fid)}&page=1&limit=1000&format=json`);
            const res4 = await MB.Extension.davRequest({ method:'GET', url:url4, headers:Object.assign({}, hJson, {'OCS-APIREQUEST':'true'}), username: bk.username||'', password: bk.password||'' });
            if (res4?.ok) {
              try { debugLog('log', '[NC SYNC] items attempt4 OCS body head', { folderId: fid, head: (res4.bodyText||'').slice(0, 200) }); } catch {}
              let parsed=null; try { parsed = JSON.parse(res4.bodyText||'null'); } catch {}
              let items = [];
              const ocs = parsed && parsed.ocs ? parsed.ocs : parsed;
              const data = ocs && ocs.data ? ocs.data : (Array.isArray(parsed) ? parsed : (parsed && parsed.data ? parsed.data : []));
              if (Array.isArray(data)) items = data; else if (data && Array.isArray(data.items)) items = data.items;
              if (items && items.length) return items;
            } else { try { debugLog('warn', '[NC SYNC] items attempt4 OCS status', { folderId: fid, status: res4?.status, head: (res4.bodyText||'').slice(0,120) }); } catch {} }
          } catch {}
          // Attempt 5: REST nested per folder
          try {
            const url5 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder/${encodeURIComponent(fid)}/bookmark?page=1&limit=1000`);
            const res5 = await MB.Extension.davRequest({ method:'GET', url:url5, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (res5?.ok) {
              try { debugLog('log', '[NC SYNC] items attempt5 nested body head', { folderId: fid, head: (res5.bodyText||'').slice(0, 200) }); } catch {}
              const arr5 = parseNcList(res5.bodyText, 'attempt5-folder-nested');
              if (arr5.length) return arr5;
            } else { try { debugLog('warn', '[NC SYNC] items attempt5 status', { folderId: fid, status: res5?.status }); } catch {} }
          } catch {}
          // Attempt 6: REST with folderId variant
          try {
            const url6 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark?folderId=${encodeURIComponent(fid)}&page=1&limit=1000`);
            const res6 = await MB.Extension.davRequest({ method:'GET', url:url6, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (res6?.ok) {
              try { debugLog('log', '[NC SYNC] items attempt6 folderId body head', { folderId: fid, head: (res6.bodyText||'').slice(0, 200) }); } catch {}
              const arr6 = parseNcList(res6.bodyText, 'attempt6-folderId');
              if (arr6.length) return arr6;
            } else { try { debugLog('warn', '[NC SYNC] items attempt6 status', { folderId: fid, status: res6?.status }); } catch {} }
          } catch {}
          // Attempt 7: OCS folder path
          try {
            const url7 = MB.CardDAV.joinUrl(serverUrl, `/ocs/v2.php/apps/bookmarks/api/v1/folder/${encodeURIComponent(fid)}/bookmarks?format=json&page=1&limit=1000`);
            const res7 = await MB.Extension.davRequest({ method:'GET', url:url7, headers:Object.assign({}, hJson, {'OCS-APIREQUEST':'true'}), username: bk.username||'', password: bk.password||'' });
            if (res7?.ok) {
              try { debugLog('log', '[NC SYNC] items attempt7 OCS folder body head', { folderId: fid, head: (res7.bodyText||'').slice(0, 200) }); } catch {}
              let parsed=null; try { parsed = JSON.parse(res7.bodyText||'null'); } catch {}
              let items = [];
              const ocs = parsed && parsed.ocs ? parsed.ocs : parsed;
              const data = ocs && ocs.data ? ocs.data : (Array.isArray(parsed) ? parsed : (parsed && parsed.data ? parsed.data : []));
              if (Array.isArray(data)) items = data; else if (data && Array.isArray(data.items)) items = data.items;
              if (items && items.length) return items;
            } else { try { debugLog('warn', '[NC SYNC] items attempt7 status', { folderId: fid, status: res7?.status, head: (res7.bodyText||'').slice(0,120) }); } catch {} }
          } catch {}
          return [];
        };
        // Helper to fetch single bookmark to resolve conflicts when folder-hash says no change
        // Trace helper: set a specific NC bookmark id to trace via localStorage.setItem('mbTraceNcId','2073')
        const TRACE_NC_ID = Number(localStorage.getItem('mbTraceNcId')||2073);
        const traceFlags = { fetch:false, folderItem:false, merge:false, reconcile:false, pushPre0:false, pushPre:false };
        const fetchBookmark = async (bid) => {
          try {
            const gUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark/${encodeURIComponent(bid)}`);
            const gRes = await MB.Extension.davRequest({ method:'GET', url:gUrl, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (!gRes.ok) return null;
            let obj=null; try { obj = JSON.parse(gRes.bodyText||'null'); } catch {}
            // Unwrap common NC REST wrappers: {data:{...}}, {item:{...}}, or direct object
            if (obj && obj.data && obj.data.item) obj = obj.data.item;
            else if (obj && obj.item) obj = obj.item;
            else if (obj && obj.data && !obj.id) obj = obj.data;
            // Some servers wrap in {status, item}
            if (obj && obj.status && obj.item) obj = obj.item;
            try {
              if (Number(bid) === TRACE_NC_ID) {
                traceFlags.fetch = true;
                debugLog('log', '[NC-TRACE 2073] fetchBookmark() response', {
                  url: gUrl,
                  ok: gRes.ok,
                  status: gRes.status,
                  bodyHead: (gRes.bodyText||'').slice(0, 500),
                  parsed: MB.Utils.safeClone(obj),
                  lastmodified: obj?.lastmodified || obj?.lastModified || obj?.updated,
                });
              }
            } catch {}
            return obj && (obj.id !== undefined) ? obj : null;
          } catch { return null; }
        };

        // 1) Folders
        const fUrl = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/folder');
        const fRes = await MB.Extension.davRequest({ method:'GET', url:fUrl, headers:hJson, username: bk.username||'', password: bk.password||'' });
        if (!fRes.ok) throw new Error('Folders fetch failed: '+fRes.status);
        const parseFolderList = (bodyText) => {
          let obj=null; try { obj = JSON.parse(bodyText||'[]'); } catch {}
          if (Array.isArray(obj)) return obj;
          const d = obj && obj.data ? obj.data : obj;
          if (Array.isArray(d)) return d;
          if (d && Array.isArray(d.items)) return d.items;
          if (obj && Array.isArray(obj.items)) return obj.items;
          // Some servers return {status:'success', item:{...}} for single; normalize to array
          if (d && d.item) return [d.item];
          if (obj && obj.item) return [obj.item];
          return [];
        };
        let folders = parseFolderList(fRes.bodyText);
        // Flatten embedded children recursively (server returns children inline)
        const seenFolderIds = new Set();
        const flat = [];
        const pushFolder = (f, parentHint = undefined) => {
          if (!f || f.id === undefined || f.id === null) return;
          if (parentHint !== undefined && (f.parent_folder === undefined || f.parent_folder === null)) f.parent_folder = parentHint;
          if (!seenFolderIds.has(f.id)) { seenFolderIds.add(f.id); flat.push(f); }
          const kids = Array.isArray(f.children) ? f.children : [];
          for (const k of kids) {
            if (k && typeof k === 'object') pushFolder(k, f.id); else if (typeof k === 'number') flat.push({ id: k, parent_folder: f.id });
          }
        };
        for (const f of (folders||[])) pushFolder(f, f.parent_folder);
        // Replace with flattened list and normalize id/parent_folder to numbers
        folders = flat.map(f => {
          const idNum = Number(f.id);
          const parentNum = (f.parent_folder === null || f.parent_folder === undefined) ? -1 : Number(f.parent_folder);
          const title = (f.title !== undefined) ? f.title : (f.name || '');
          return Object.assign({}, f, { id: idNum, parent_folder: parentNum, title });
        });
        try { debugLog('log', '[NC SYNC] fetched folders', { count: folders.length }); if (app && app.syncInProgress!==undefined) { app.syncProgress = 12; app.syncProgressText = `Preparing folders (${folders.length})`; } } catch {}
        const byId = Object.fromEntries(folders.map(f=>[f.id, f]));
        const byTitle = Object.fromEntries(folders.map(f=>[(f.title||'').toLowerCase(), f]));

        // Limit to rootFolderId if configured (include subtree)
        const rootId = Number(bk.rootFolderId||0);
        // If we have a specific root but the server didn't return its subtree, first try to fetch child folders explicitly (BFS)
        if (rootId > 0) {
          const fetchChildrenOnce = async (pid) => {
            const results = [];
            const tryParse = (txt) => { try { const o = JSON.parse(txt||'[]'); const d=o&&o.data?o.data:o; return Array.isArray(d)?d:(d&&Array.isArray(d.items)?d.items:[]); } catch { return []; } };
            // Attempt 1: ?parent_folder=
            try {
              const u1 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder?parent_folder=${encodeURIComponent(pid)}`);
              const r1 = await MB.Extension.davRequest({ method:'GET', url:u1, headers:hJson, username: bk.username||'', password: bk.password||'' });
              if (r1?.ok) { const arr = tryParse(r1.bodyText); if (arr.length) return arr; }
            } catch {}
            // Attempt 2: ?parent=
            try {
              const u2 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder?parent=${encodeURIComponent(pid)}`);
              const r2 = await MB.Extension.davRequest({ method:'GET', url:u2, headers:hJson, username: bk.username||'', password: bk.password||'' });
              if (r2?.ok) { const arr = tryParse(r2.bodyText); if (arr.length) return arr; }
            } catch {}
            // Attempt 3: paged full list and filter by parent
            try {
              const u3 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder?page=1&limit=1000`);
              const r3 = await MB.Extension.davRequest({ method:'GET', url:u3, headers:hJson, username: bk.username||'', password: bk.password||'' });
              if (r3?.ok) { const arr = tryParse(r3.bodyText); return arr.filter(x => Number(x.parent_folder||-1) === Number(pid)); }
            } catch {}
            return results;
          };
          // BFS discover subtree
          const discovered = new Map();
          const queue = [];
          if (byId[rootId]) discovered.set(rootId, byId[rootId]); else queue.push(rootId);
          queue.push(rootId);
          const visited = new Set();
          while (queue.length) {
            const pid = queue.shift();
            if (visited.has(pid)) continue; visited.add(pid);
            let kids = [];
            try { kids = await fetchChildrenOnce(pid); } catch {}
            for (const k of (kids||[])) {
              const kid = Object.assign({}, k, { parent_folder: (k.parent_folder!==undefined?k.parent_folder:pid) });
              if (!byId[kid.id]) folders.push(kid);
              byId[kid.id] = kid; byTitle[(kid.title||'').toLowerCase()] = kid;
              if (!discovered.has(kid.id)) { discovered.set(kid.id, kid); queue.push(kid.id); }
            }
          }
          try { debugLog('log', '[NC SYNC] expanded folders via children BFS', { total: folders.length }); } catch {}
        }
        // If still only the root is known, try to expand by scanning bookmarks and fetching missing folder metas
        if (rootId > 0) {
          try {
            const allUrl = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/bookmark?page=1&limit=1000');
            const allRes = await MB.Extension.davRequest({ method:'GET', url:allUrl, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (allRes?.ok) {
              const allItems = (function(bt){ let arr=[]; try{arr=JSON.parse(bt||'[]');}catch{}; const d=arr&&arr.data?arr.data:arr; return Array.isArray(d)?d:(d&&Array.isArray(d.items)?d.items:[]); })(allRes.bodyText);
              const needed = new Set();
              for (const it of (allItems||[])) {
                const fids = Array.isArray(it.folders) ? it.folders : [];
                for (const fid of fids) if (!byId[fid]) needed.add(fid);
              }
              for (const fid of needed) {
                try {
                  const getUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder/${encodeURIComponent(fid)}`);
                  const r = await MB.Extension.davRequest({ method:'GET', url:getUrl, headers:hJson, username: bk.username||'', password: bk.password||'' });
                  if (r?.ok) {
                    let fo=null; try { fo = JSON.parse(r.bodyText||'null'); } catch {}
                    if (fo && fo.data && fo.data.item) fo=fo.data.item; else if (fo && fo.item) fo=fo.item; else if (fo && fo.data && !fo.id) fo=fo.data;
                    if (fo && (fo.id!==undefined)) { byId[fo.id]=fo; byTitle[(fo.title||'').toLowerCase()]=fo; folders.push(fo); }
                  }
                } catch {}
              }
              try { debugLog('log', '[NC SYNC] expanded folders via bookmark scan', { total: folders.length }); } catch {}
            }
          } catch {}
        }

        // Final fallback: try to fetch the root folder detail and inspect embedded children fields
        if (rootId > 0 && (!byId[rootId] || folders.length <= 1)) {
          try {
            const detailUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder/${encodeURIComponent(rootId)}`);
            const det = await MB.Extension.davRequest({ method:'GET', url:detailUrl, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (det?.ok) {
              let fo=null; try { fo = JSON.parse(det.bodyText||'null'); } catch {}
              if (fo && fo.data && fo.data.item) fo=fo.data.item; else if (fo && fo.item) fo=fo.item; else if (fo && fo.data && !fo.id) fo=fo.data;
              if (fo) {
                // Normalize a few potential child notations
                const childIds = [];
                if (Array.isArray(fo.children)) {
                  for (const c of fo.children) { if (typeof c === 'number') childIds.push(c); else if (c && c.id!==undefined) { childIds.push(c.id); if (!byId[c.id]) { byId[c.id]=c; folders.push(c); } } }
                }
                if (Array.isArray(fo.childIds)) childIds.push(...fo.childIds);
                if (fo.childCount > 0 && childIds.length === 0 && Array.isArray(fo.childs)) {
                  for (const c of fo.childs) { if (typeof c === 'number') childIds.push(c); else if (c && c.id!==undefined) { childIds.push(c.id); if (!byId[c.id]) { byId[c.id]=c; folders.push(c); } } }
                }
                // Fetch missing child meta
                for (const cid of childIds) {
                  if (byId[cid]) continue;
                  try {
                    const cu = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder/${encodeURIComponent(cid)}`);
                    const cr = await MB.Extension.davRequest({ method:'GET', url:cu, headers:hJson, username: bk.username||'', password: bk.password||'' });
                    if (cr?.ok) { let co=null; try { co=JSON.parse(cr.bodyText||'null'); } catch {}; if (co && co.data && co.data.item) co=co.data.item; else if (co && co.item) co=co.item; else if (co && co.data && !co.id) co=co.data; if (co && co.id!==undefined) { byId[co.id]=co; folders.push(co); } }
                  } catch {}
                }
                try { debugLog('log', '[NC SYNC] expanded folders via root detail', { total: folders.length, childIds }); } catch {}
              }
            }
          } catch {}
        }
        const getChildren = (id) => {
          const f = byId[id];
          if (!f) return [];
          // children may be provided; otherwise derive from parent_folder
          let kids = [];
          if (Array.isArray(f.children)) {
            for (const ch of f.children) {
              if (typeof ch === 'number') kids.push(Number(ch));
              else if (ch && ch.id !== undefined) kids.push(Number(ch.id));
            }
          }
          if (!kids.length) {
            kids = folders.filter(x => Number(x.parent_folder||-1) === Number(id)).map(x => Number(x.id));
          }
          return kids;
        };
        const collectDescendants = (id, acc = new Set()) => {
          for (const cid of getChildren(id)) {
            if (!acc.has(cid)) { acc.add(cid); collectDescendants(cid, acc); }
          }
          return acc;
        };
        // Only sync descendants of selected root; not the root itself
        const targetIds = rootId>0 ? Array.from(collectDescendants(Number(rootId))) : folders.map(f=>Number(f.id));
        const targetFolders = folders.filter(x=> targetIds.includes(Number(x.id)));
        try { debugLog('log', '[NC SYNC] target folders', { ids: targetIds, count: targetFolders.length }); } catch {}

        let createdGroups=0, createdLinks=0, updatedLinks=0, createdFolders=0, renamedFolders=0, removedLinks=0;

        // Helper: ensure a local group exists and is linked to a given NC folder
        const ensureGroupForFolder = (folder) => {
          const title = folder.title || 'Bookmarks';
          // 1) Prefer existing mapping by folderId
          let g = (app.data.groups||[]).find(x => x.ncBookmarks && x.ncBookmarks.folderId === folder.id);
          if (g) {
            if ((g.name||'') !== title) { app.$set(g, 'name', title); }
            return g;
          }
          // 2) Fallback: find by current name and attach mapping
          g = (app.data.groups||[]).find(x => (x.name||'') === title);
          if (g) {
            app.$set(g, 'ncBookmarks', Object.assign({}, g.ncBookmarks||{}, { folderId: folder.id }));
            return g;
          }
          // 3) Create new group when not found
          g = app.getNewGroupTemplate(title);
          app.$set(g, 'ncBookmarks', Object.assign({}, g.ncBookmarks||{}, { folderId: folder.id }));
          app.data.groups.push(g);
          createdGroups++;
          return g;
        };

        // Map existing groups to folders (create folders if missing)
        for (const g of (app.data.groups||[])) {
          let fid = g.ncBookmarks?.folderId;
          if (fid && byId[fid]) { // ensure local name follows server if mapped folder exists
            const f = byId[fid];
            if (f && (g.name||'') !== (f.title||'')) app.$set(g, 'name', f.title||'Bookmarks');
            continue;
          }
          // If we have a stored mapping but it's not in the current list, trust mapping and try to fetch/insert into cache
          if (fid && !byId[fid]) {
            try {
              const getUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder/${encodeURIComponent(fid)}`);
              const r = await MB.Extension.davRequest({ method:'GET', url:getUrl, headers:hJson, username: bk.username||'', password: bk.password||'' }).catch(()=>({ok:false}));
              if (r?.ok) {
                let fo=null; try { fo=JSON.parse(r.bodyText||'null'); } catch {}
                // Unwrap
                if (fo && fo.data && fo.data.item) fo = fo.data.item; else if (fo && fo.item) fo = fo.item; else if (fo && fo.data && !fo.id) fo = fo.data;
                byId[fid] = fo; if (fo && (fo.title||fo.name)) byTitle[(fo.title||fo.name||'').toLowerCase()] = fo;
                debugLog('log', '[NC SYNC] Verified existing mapped folder via GET', { folderId: fid, title: fo?.title||fo?.name||'' });
                // Align group name if server has a title
                if (fo && (fo.title||fo.name) && (g.name||'') !== (fo.title||fo.name)) app.$set(g, 'name', (fo.title||fo.name));
                continue;
              } else {
                debugLog('warn', '[NC SYNC] Stored folderId not found on server, will try match/create', { folderId: fid, status: r?.status });
              }
            } catch {}
          }
          const match = byTitle[(g.name||'').toLowerCase()];
          if (match) { app.$set(g,'ncBookmarks',Object.assign({},g.ncBookmarks||{}, { folderId: match.id })); continue; }
          // create folder (only if enabled)
          if (bk.autoCreateFolders) {
            try {
              const cUrl = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/folder');
              const payload = { title: g.name||'Bookmarks' };
              if (rootId && rootId > 0) payload.parent_folder = rootId;
              try { debugLog('log', '[NC SYNC] Creating folder', { title: payload.title, parent_folder: payload.parent_folder||null }); } catch {}
              const cRes = await MB.Extension.davRequest({ method:'POST', url:cUrl, headers:Object.assign({'Content-Type':'application/json'}, hJson), body: JSON.stringify(payload), username: bk.username||'', password: bk.password||'' });
              if (cRes.ok) { let cf=null; try{ cf=JSON.parse(cRes.bodyText||'null'); }catch{}; cf = unwrapNc(cf); const id=cf?.id; app.$set(g,'ncBookmarks',Object.assign({},g.ncBookmarks||{}, { folderId:id })); createdFolders++; if (id!==undefined) { byId[id]=cf; byTitle[(cf.title||'').toLowerCase()]=cf; } try { debugLog('log', '[NC SYNC] Created folder OK', { id, title: cf?.title, parent_folder: cf?.parent_folder }); } catch {} }
              else { try { debugLog('error', '[NC SYNC] Create folder FAILED', { status:cRes.status, bodyHead:(cRes.bodyText||'').slice(0,300) }); } catch {} }
            } catch {}
          }
        }

        // Rename handling: if names differ, either push rename (if enabled) or take server name into local
        for (const g of (app.data.groups||[])) {
          const fid = g.ncBookmarks?.folderId; if (!fid) continue;
          const f = byId[fid]; if (!f) continue;
          if ((f.title||'') !== (g.name||'')) {
            if (bk.autoRenameFolders) {
              try {
                const uUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder/${encodeURIComponent(fid)}`);
                const uRes = await MB.Extension.davRequest({ method:'PATCH', url:uUrl, headers:Object.assign({'Content-Type':'application/json'}, hJson), body: JSON.stringify({ title: g.name||'' }), username: bk.username||'', password: bk.password||'' });
                if (uRes.ok) { let pf=null; try{ pf=JSON.parse(uRes.bodyText||'null'); } catch{}; pf = pf && pf.data && !pf.id ? pf.data : pf; if (pf && (pf.title || pf.id)) { f.title = pf.title || (g.name||''); } else { f.title = g.name||''; } renamedFolders++; byTitle[(f.title||'').toLowerCase()]=f; }
              } catch {}
            } else {
              // Server wins: rename local group to server title
              app.$set(g, 'name', f.title||'Bookmarks');
            }
          }
        }

        // 2) For each folder, fetch bookmarks
        const folderHashes = Object.assign({}, app.data.options?.bookmarks?.folderHashes||{});
        // Build an index of all local links by Nextcloud bookmark ID for robust matching/moves
        const localByNcId = new Map();
        for (const g of (app.data.groups||[])) {
          for (const l of (g.links||[])) {
            const nid = l?.ncBookmarks?.id;
            if (nid) localByNcId.set(nid, { group: g, link: l });
          }
        }
        let __pulledIdx = 0; const __pullTotal = targetFolders.length||1;
        for (const folder of targetFolders) {
          const hUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/folder/${encodeURIComponent(folder.id)}/hash?hashFn=xxh32`);
          let mustFetch = true;
          try {
            const hRes = await MB.Extension.davRequest({ method:'GET', url:hUrl, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (hRes.ok) {
              let newH = (hRes.bodyText||'').trim();
              try {
                const parsed = JSON.parse(hRes.bodyText||'null');
                if (parsed && typeof parsed === 'object') {
                  if (parsed.hash) newH = String(parsed.hash);
                  else if (typeof parsed.data === 'string') newH = parsed.data;
                  else if (parsed.data && typeof parsed.data === 'object' && parsed.data.hash) newH = String(parsed.data.hash);
                }
              } catch {}
              const oldH = folderHashes[folder.id] || null;
              if (newH && oldH===newH) mustFetch=false; else folderHashes[folder.id]=newH;
              debugLog('log', '[NC SYNC] folder hash decision', { folderId: folder.id, oldHash: oldH, newHash: newH, mustFetchDefault: mustFetch, forceFetchAll });
            }
          } catch {}
          if (!mustFetch && !forceFetchAll) {
            debugLog('log', '[NC SYNC] hash unchanged; still fetching to detect remote edits', { folderId: folder.id });
          }
          let items = await fetchFolderItems(folder.id);
            try {
              debugLog('log', '[NC SYNC] fetched items for folder', { folderId: folder.id, count: items.length });
              if (TRACE_NC_ID>0 && items.some(ii=> Number(ii.id)===TRACE_NC_ID)) traceFlags.folderItem = true;
              if (app && app.syncInProgress) { __pulledIdx++; app.syncProgressText = `Pulling folders (${__pulledIdx}/${__pullTotal})`; app.syncProgress = 12 + Math.round((__pulledIdx/__pullTotal)*53); }
            } catch {}
          const group = ensureGroupForFolder(folder);
          if (!group.links) app.$set(group,'links',[]);
          app.$set(group, 'ncBookmarks', Object.assign({}, group.ncBookmarks||{}, { folderId: folder.id }));
          const remoteIds = new Set(items.map(i=>i.id));

          for (const it of items) {
            const url = it.url || '';
            const text = it.title || url;
            const tags = Array.isArray(it.tags)? it.tags : [];
            const desc = it.description || '';
            const ncId = it.id;
            const remoteUpdatedAt = parseNcTs(it.lastmodified || it.lastModified || it.updated || it.edited || it.lastUpdate || it.mtime || it.modTime);
            // Skip re-adding items that are pending deletion locally
            try {
              const pending = Array.isArray(app.data.pendingNcDeletes) ? app.data.pendingNcDeletes : [];
              if (pending.some(pd => (pd.id && Number(pd.id)===Number(ncId)) || (pd.url && pd.url===url))) {
                debugLog('log', '[NC SYNC] Skipping item (pending local deletion)', { id: ncId, url });
                continue;
              }
            } catch {}
            try { if (Number(ncId) === TRACE_NC_ID) debugLog('log', '[NC-TRACE 2073] Folder fetch item', { item: MB.Utils.safeClone(it), remoteUpdatedAt }); } catch {}
            // Prefer global match by Nextcloud ID across all groups
            let existingEntry = localByNcId.get(ncId) || null;
            let existing = existingEntry?.link || null;
            if (existing && existingEntry.group !== group) {
              // Move locally to the correct group to reflect server structure
              try {
                const src = existingEntry.group;
                const idx = (src.links||[]).indexOf(existing);
                if (idx >= 0) src.links.splice(idx, 1);
              } catch {}
              if (!group.links) app.$set(group,'links',[]);
              group.links.push(existing);
              // Update index to new group
              localByNcId.set(ncId, { group, link: existing });
            }
            if (!existing) {
              // Fallback: search in current group by id or url
              existing = group.links.find(l=> (l.ncBookmarks && l.ncBookmarks.id===ncId) || (l.url && l.url===url));
              if (existing) localByNcId.set(ncId, { group, link: existing });
            }
            const linkObj = {
              uuid: existing?.uuid || (app.generateUUID()),
              text, url,
              keywords: tags.join(', '),
              infoHtml: desc,
              deleted: false,
              ncBookmarks: { id:ncId, folderId:folder.id, lastSyncedAt:Date.now(), remoteUpdatedAt, localUpdatedAt: 0, justPulled: sessionId }
            };
            // Compute a local hash for change detection symmetry with push phase
            try {
              const payloadForHash = { text:linkObj.text||'', url:linkObj.url||'', keywords:linkObj.keywords||'', infoHtml:linkObj.infoHtml||'' };
              linkObj.ncBookmarks.lastHash = btoa(unescape(encodeURIComponent(JSON.stringify(payloadForHash))));
            } catch { linkObj.ncBookmarks.lastHash = ''; }
            // Also remember remote signature to detect remote changes without timestamp
            linkObj.ncBookmarks.remoteSig = linkObj.ncBookmarks.lastHash;
            if (existing) {
              try {
                if (Number(ncId) === TRACE_NC_ID) { traceFlags.merge = true; debugLog('log', '[NC-TRACE 2073] Before merge existing', {
                  group: group.name,
                  existing: MB.Utils.safeClone(existing),
                  incoming: MB.Utils.safeClone({ text, url, tags, desc, ncId, remoteUpdatedAt })
                }); }
              } catch {}
              // Decide direction per link based on timestamps and signatures
              const prevNB = existing.ncBookmarks || {};
              const prevLocalAt = parseNcTs(prevNB.localUpdatedAt || 0);
              const prevRemoteAt = parseNcTs(prevNB.remoteUpdatedAt || 0);
              // Compute local signature from current existing content BEFORE any overwrite
              let localSig = '';
              try { localSig = btoa(unescape(encodeURIComponent(JSON.stringify({ text: existing.text||'', url: existing.url||'', keywords: existing.keywords||'', infoHtml: existing.infoHtml||'' })))); } catch { localSig = JSON.stringify({ text: existing.text||'', url: existing.url||'', keywords: existing.keywords||'', infoHtml: existing.infoHtml||'' }); }
              const prevLastHash = prevNB.lastHash || '';
              const localChanged = (!prevLastHash || prevLastHash !== localSig) || !!prevLocalAt;
              const rSig = linkObj.ncBookmarks.lastHash || '';
              const storedRemoteSig = prevNB.remoteSig || '';
              const remoteChanged = (rSig !== storedRemoteSig) || (remoteUpdatedAt && remoteUpdatedAt > prevRemoteAt);
              // If remote is newer or no local change, adopt remote; otherwise keep local and only refresh remote meta
              const remoteWins = remoteChanged && (!localChanged || (remoteUpdatedAt && remoteUpdatedAt >= prevLocalAt));
              try {
                if (Number(ncId) === TRACE_NC_ID) { debugLog('log', '[NC-TRACE 2073] Merge decision', {
                  prevLocalAt, prevRemoteAt, remoteUpdatedAt, localSig, prevLastHash,
                  localChanged, remoteChanged, storedRemoteSig, rSig, remoteWins
                }); }
              } catch {}
              if (remoteWins) {
                existing.text = linkObj.text; existing.url = linkObj.url; existing.keywords = linkObj.keywords; existing.infoHtml = linkObj.infoHtml;
                existing.ncBookmarks = Object.assign({}, prevNB, linkObj.ncBookmarks, { remoteSig: rSig, lastHash: rSig, localUpdatedAt: 0 });
              } else {
                // Keep local content; refresh mapping/meta only
                existing.ncBookmarks = Object.assign({}, prevNB, {
                  id: linkObj.ncBookmarks.id,
                  folderId: linkObj.ncBookmarks.folderId,
                  lastSyncedAt: Date.now(),
                  remoteUpdatedAt: Math.max(prevRemoteAt, parseNcTs(linkObj.ncBookmarks.remoteUpdatedAt||0)),
                  remoteSig: rSig || storedRemoteSig,
                  // keep lastHash and localUpdatedAt as-is to push later
                });
              }
              try { if (Number(ncId) === TRACE_NC_ID) debugLog('log', '[NC-TRACE 2073] After merge', { existing: MB.Utils.safeClone(existing) }); } catch {}
              existing.deleted = false; updatedLinks++;
            } else { group.links.push(linkObj); createdLinks++; }
          }
          // Remove local links that are no longer on server (same folder & has nc id)
          const before = group.links.length;
          group.links = group.links.filter(l=> !(l.ncBookmarks && l.ncBookmarks.folderId===folder.id && l.ncBookmarks.id && !remoteIds.has(l.ncBookmarks.id)));
          removedLinks += (before - group.links.length);
          // Persist folder hash
          app.$set(app.data.options.bookmarks, 'folderHashes', Object.assign({}, folderHashes));
          app.saveData();
        }

        // 2.4) Try to resolve missing NC IDs by URL (to avoid creating/updating wrong records)
        const fetchByUrl = async (u) => {
          if (!u) return null;
          const tryParseList = (bodyText, label) => {
            let parsed=null; try { parsed = JSON.parse(bodyText||'[]'); } catch {}
            const d = parsed && parsed.data ? parsed.data : parsed;
            const items = Array.isArray(d) ? d : (d && Array.isArray(d.items) ? d.items : []);
            if (!Array.isArray(items)) return [];
            return items;
          };
          const norm = (s) => { try { return decodeURIComponent(String(s||'').trim()); } catch { return String(s||'').trim(); } };
          const cand = [];
          try {
            const url1 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark?url=${encodeURIComponent(u)}&page=1&limit=5`);
            const r1 = await MB.Extension.davRequest({ method:'GET', url:url1, headers:hJson, username: bk.username||'', password: bk.password||'' });
            if (r1?.ok) { cand.push(...tryParseList(r1.bodyText, 'byUrl')); }
          } catch {}
          if (!cand.length) {
            try {
              const url2 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark?search=${encodeURIComponent(u)}&page=1&limit=20`);
              const r2 = await MB.Extension.davRequest({ method:'GET', url:url2, headers:hJson, username: bk.username||'', password: bk.password||'' });
              if (r2?.ok) { cand.push(...tryParseList(r2.bodyText, 'search')); }
            } catch {}
          }
          const target = cand.find(x => norm(x.url) === norm(u)) || null;
          return target;
        };

        try {
          for (const gg of (app.data.groups||[])) {
            for (const ll of (gg.links||[])) {
              if (ll?.ncBookmarks?.id) continue;
              if (!ll?.url) continue;
              try {
                const remote = await fetchByUrl(ll.url);
                if (remote && remote.id) {
                  const rUpdated = parseNcTs(remote.lastmodified || remote.lastModified || remote.updated || remote.edited || remote.lastUpdate || remote.mtime || remote.modTime);
                  const rTags = Array.isArray(remote.tags)? remote.tags : [];
                  const rPayload = { text: (remote.title||remote.url||''), url: (remote.url||''), keywords: rTags.join(', '), infoHtml: (remote.description||'') };
                  let rSig = '';
                  try { rSig = btoa(unescape(encodeURIComponent(JSON.stringify(rPayload)))); } catch { rSig = JSON.stringify(rPayload); }
                  const nb = Object.assign({}, ll.ncBookmarks||{}, { id: remote.id, folderId: (Array.isArray(remote.folders) && remote.folders[0]) ? remote.folders[0] : (gg.ncBookmarks?.folderId||0), remoteUpdatedAt: rUpdated||0, remoteSig: rSig });
                  // Keep local lastHash/localUpdatedAt as-is (we're only attaching ID here)
                  app.$set(ll, 'ncBookmarks', nb);
                  debugLog('log', '[NC SYNC] Resolved remote id by URL', { url: ll.url, id: remote.id, folderId: nb.folderId });
                }
              } catch {}
            }
          }
        } catch {}

        // 2.5) Remote-first reconcile per link (independent of folder hashes)
        try {
          const allLocal = [];
          for (const gg of (app.data.groups||[])) {
            for (const ll of (gg.links||[])) {
              if (ll?.ncBookmarks?.id) allLocal.push({ group: gg, link: ll });
            }
          }
          for (const entry of allLocal) {
            const ll = entry.link; const gg = entry.group;
            try {
              const remoteObj = await fetchBookmark(ll.ncBookmarks.id);
              if (!remoteObj) continue;
              const rUpdated = parseNcTs(remoteObj.lastmodified || remoteObj.lastModified || remoteObj.updated || remoteObj.edited || remoteObj.lastUpdate || remoteObj.mtime || remoteObj.modTime);
              const knownRemote = parseNcTs(ll.ncBookmarks?.remoteUpdatedAt||0);
              const localUpdatedAt = parseNcTs(ll.ncBookmarks?.localUpdatedAt || 0);
              const rTags = Array.isArray(remoteObj.tags)? remoteObj.tags : [];
              const rPayload = { text: (remoteObj.title||remoteObj.url||''), url: (remoteObj.url||''), keywords: rTags.join(', '), infoHtml: (remoteObj.description||'') };
              let rSig = '';
              try { rSig = btoa(unescape(encodeURIComponent(JSON.stringify(rPayload)))); } catch { rSig = JSON.stringify(rPayload); }
              const storedRemoteSig = ll.ncBookmarks?.remoteSig || '';
              const remoteChanged = (rSig !== storedRemoteSig) || (rUpdated && rUpdated > knownRemote);
              const lastHash = ll.ncBookmarks?.lastHash || '';
              const nextHash = (function(){ try { return btoa(unescape(encodeURIComponent(JSON.stringify({ text: ll.text||'', url: ll.url||'', keywords: ll.keywords||'', infoHtml: ll.infoHtml||'' })))); } catch { return JSON.stringify({ text: ll.text||'', url: ll.url||'', keywords: ll.keywords||'', infoHtml: ll.infoHtml||'' }); } })();
              const localChanged = (!lastHash || lastHash !== nextHash);
              try {
                if (Number(ll.ncBookmarks.id) === TRACE_NC_ID) { traceFlags.reconcile = true; debugLog('log', '[NC-TRACE 2073] Reconcile entry', {
                  group: gg.name,
                  remoteObj: MB.Utils.safeClone(remoteObj),
                  rUpdated, knownRemote, localUpdatedAt, storedRemoteSig, rSig,
                  lastHash, nextHash, localChanged, remoteChanged
                }); }
              } catch {}
              debugLog('log', '[NC SYNC] Reconcile preflight', { id: ll.ncBookmarks.id, rUpdated, knownRemote, localUpdatedAt, remoteChanged, localChanged });
              if (remoteChanged && (!localChanged || rUpdated === 0 || (rUpdated && rUpdated >= localUpdatedAt))) {
                // Apply remote to local
                ll.url = rPayload.url;
                ll.text = rPayload.text || rPayload.url;
                ll.keywords = rPayload.keywords;
                ll.infoHtml = rPayload.infoHtml;
                ll.deleted = false;
                ll.ncBookmarks.remoteUpdatedAt = rUpdated || Date.now();
                ll.ncBookmarks.lastHash = rSig;
                ll.ncBookmarks.remoteSig = rSig;
                ll.ncBookmarks.localUpdatedAt = 0;
                // Optional: respect remote folder move (first folder if provided)
                const rFolders = Array.isArray(remoteObj.folders) ? remoteObj.folders : [];
                if (rFolders.length) {
                  const targetFolderId = rFolders[0];
                  if (targetFolderId && targetFolderId !== ll.ncBookmarks.folderId) {
                    const targetGroup = (app.data.groups||[]).find(x=> x.ncBookmarks && x.ncBookmarks.folderId === targetFolderId);
                    if (targetGroup && targetGroup !== gg) {
                      try { const idx = (gg.links||[]).indexOf(ll); if (idx>=0) gg.links.splice(idx,1); } catch {}
                      if (!targetGroup.links) app.$set(targetGroup, 'links', []);
                      targetGroup.links.push(ll);
                      ll.ncBookmarks.folderId = targetFolderId;
                    }
                  }
                }
                debugLog('log', '[NC SYNC] Reconcile applied remote', { id: ll.ncBookmarks.id });
              }
            } catch {}
          }
        } catch {}

        // 3) Push local changes (best-effort)
        try {
          const totalLinks = (app.data.groups||[]).reduce((s,g)=> s + ((g.links||[]).length), 0);
          debugLog('log', '[NC SYNC] Begin push phase', { groups: (app.data.groups||[]).length, totalLinks });
          if (app && app.syncInProgress) { app.syncProgressText = totalLinks ? `Pushing updates (0/${totalLinks})` : 'Finalizing'; app.syncProgress = Math.max(app.syncProgress, 70); }
        } catch {}

        // 3.1) Process pending deletions (tombstones) queued from local deletes
        try {
          const pending = Array.isArray(app.data.pendingNcDeletes) ? [...app.data.pendingNcDeletes] : [];
          for (const pd of pending) {
            if (!pd?.id) continue;
            const delUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark/${encodeURIComponent(pd.id)}`);
            let delRes = null; try { delRes = await MB.Extension.davRequest({ method:'DELETE', url: delUrl, headers:hJson, username: bk.username||'', password: bk.password||'' }); } catch { delRes = { ok:false, status:0 }; }
            // Accept 2xx and 404 as success (already gone)
            if (delRes?.ok || delRes?.status === 404) {
              try {
                app.data.pendingNcDeletes = (app.data.pendingNcDeletes||[]).filter(x => x !== pd);
                debugLog('log', '[NC SYNC] Remote delete OK', { id: pd.id, status: delRes?.status||200 });
              } catch {}
            } else {
              debugLog('warn', '[NC SYNC] Remote delete failed (will retry later)', { id: pd.id, status: delRes?.status });
            }
          }
          app.saveData();
        } catch {}
        // Hash only content fields (exclude folderId to detect moves separately)
        const computeHash = (l) => {
          const payload = { text:l.text||'', url:l.url||'', keywords:l.keywords||'', infoHtml:l.infoHtml||'' };
          try { return btoa(unescape(encodeURIComponent(JSON.stringify(payload)))); } catch { return JSON.stringify(payload); }
        };
        let pushedNew=0, pushedUpd=0, pushedDel=0, skipped=0;
        let __pushed=0; const __pushTotal = (app.data.groups||[]).reduce((s,g)=> s + ((g.links||[]).length), 0) || 1;
        for (const g of (app.data.groups||[])) {
          // Ensure folder mapping for this group before pushing links
          let fId = g.ncBookmarks?.folderId;
          if (!fId) {
            try {
              const match = byTitle[(g.name||'').toLowerCase()];
              if (match && match.id) {
                app.$set(g, 'ncBookmarks', Object.assign({}, g.ncBookmarks||{}, { folderId: match.id }));
                fId = match.id;
                debugLog('log', '[NC SYNC] Mapped group to existing NC folder', { group: g.name, folderId: fId });
              } else if (bk.autoCreateFolders) {
                const cUrl = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/folder');
                const payload = { title: g.name||'Bookmarks' };
                if (rootId && rootId > 0) payload.parent_folder = rootId;
                debugLog('log', '[NC SYNC] Creating folder (push ensure)', { title: payload.title, parent_folder: payload.parent_folder||null });
                const cRes = await MB.Extension.davRequest({ method:'POST', url:cUrl, headers:Object.assign({'Content-Type':'application/json'}, hJson), body: JSON.stringify(payload), username: bk.username||'', password: bk.password||'' }).catch(()=>({ok:false}));
                if (cRes?.ok) {
                  let cf=null; try{ cf=JSON.parse(cRes.bodyText||'null'); }catch{}; cf = unwrapNc(cf); const id=cf?.id;
                  app.$set(g,'ncBookmarks',Object.assign({},g.ncBookmarks||{}, { folderId:id }));
                  if (id!==undefined) { byId[id]=cf; byTitle[(cf.title||'').toLowerCase()]=cf; fId = id; }
                  debugLog('log', '[NC SYNC] Created folder (push ensure) OK', { id: id, title: cf?.title, parent_folder: cf?.parent_folder, raw: (cRes.bodyText||'').slice(0,200) });
                } else {
                  debugLog('error', '[NC SYNC] Create folder (push ensure) FAILED', { status:cRes?.status, bodyHead:(cRes?.bodyText||'').slice(0,300) });
                }
              }
            } catch {}
          }
          for (const l of (g.links||[])) {
            try { debugLog('log', '[NC SYNC][LOCAL] Push candidate', { group: g.name, link: MB.Utils.safeClone(l) }); } catch {}
            try { if (app && app.syncInProgress) { __pushed++; app.syncProgressText = `Pushing updates (${__pushed}/${__pushTotal})`; app.syncProgress = 70 + Math.round((__pushed/__pushTotal)*25); } } catch {}
            const pulledInSession = l.ncBookmarks?.justPulled === sessionId;
            // DELETE
            if (l.deleted && l.ncBookmarks?.id) {
              const dUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark/${encodeURIComponent(l.ncBookmarks.id)}`);
              const dRes = await MB.Extension.davRequest({ method:'DELETE', url:dUrl, headers:hJson, username: bk.username||'', password: bk.password||'' }).catch(()=>({ok:false}));
              if (dRes?.ok) { pushedDel++; l.ncBookmarks=null; } else skipped++;
              continue;
            }
            // CREATE
            if (!l.deleted && !l.ncBookmarks?.id && fId) {
              const tags = (Array.isArray(l.keywords)?l.keywords:(l.keywords||'')).toString().split(',').map(s=>s.trim()).filter(Boolean);
              const payload = { url:l.url||'', title:l.text||l.url||'', description:l.infoHtml||'', tags, folders: [fId] };
              const cUrl = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/bookmark');
              try { debugLog('log', '[NC SYNC] Creating bookmark', { group: g.name, folderId: fId, payload: MB.Utils.safeClone(payload) }); } catch {}
              // Skip create if URL is empty or clearly invalid for NC
              if (!payload.url || !/^https?:\/\//i.test(payload.url)) {
                try { debugLog('warn', '[NC SYNC] Skip create: invalid or empty URL', { group: g.name, url: payload.url, title: payload.title }); } catch {}
                skipped++;
                continue;
              }
              const cRes = await MB.Extension.davRequest({ method:'POST', url:cUrl, headers:Object.assign({'Content-Type':'application/json'}, hJson), body: JSON.stringify(payload), username: bk.username||'', password: bk.password||'' }).catch(()=>({ok:false}));
              if (cRes?.ok) {
                let created=null; try { created=JSON.parse(cRes.bodyText||'null'); } catch {}
                created = unwrapNc(created);
                const nid = created?.id; app.$set(l, 'ncBookmarks', { id:nid, folderId:fId, lastSyncedAt:Date.now(), lastHash:computeHash(l) }); pushedNew++;
                try { debugLog('log', '[NC SYNC] Created bookmark OK', { id: nid, folderId: fId }); } catch {}
              } else { skipped++; try { debugLog('error', '[NC SYNC] Create bookmark FAILED', { status:cRes?.status, bodyHead:(cRes?.bodyText||'').slice(0,300) }); } catch {} }
              continue;
            }
            // No ID and no folder mapping: cannot create
            if (!l.deleted && !l.ncBookmarks?.id && !fId) {
              try { debugLog('warn', '[NC SYNC] Skip create: no folder mapping for group', { group: g.name, linkUuid: l.uuid, linkText: l.text }); } catch {}
            }
            // UPDATE
            if (!l.deleted && l.ncBookmarks?.id) {
              const nextHash = computeHash(l), lastHash = l.ncBookmarks?.lastHash||'';
              const localUpdatedAtVal = parseNcTs(l.ncBookmarks?.localUpdatedAt || 0);
              const knownRemoteVal = parseNcTs(l.ncBookmarks?.remoteUpdatedAt || 0);
              const localChangedByHash = (!lastHash || lastHash !== nextHash);
              let localChanged = localChangedByHash || (localUpdatedAtVal && (!knownRemoteVal || localUpdatedAtVal > knownRemoteVal));
              if (localChangedByHash && !l.ncBookmarks.localUpdatedAt) { l.ncBookmarks.localUpdatedAt = Date.now(); }
              const moveNeeded = !!(fId && l.ncBookmarks?.folderId !== fId);
              if (!moveNeeded && lastHash && lastHash === nextHash) {
                // Even if no local change, preflight remote to detect newer server edits
                try {
                  const remoteObj0 = await fetchBookmark(l.ncBookmarks.id);
                  if (remoteObj0) {
                    const rUpdated0 = parseNcTs(remoteObj0.lastmodified || remoteObj0.lastModified || remoteObj0.updated || remoteObj0.edited || remoteObj0.lastUpdate || remoteObj0.mtime || remoteObj0.modTime);
                    const knownRemote0 = parseNcTs(l.ncBookmarks?.remoteUpdatedAt||0);
                    const rTags0 = Array.isArray(remoteObj0.tags)? remoteObj0.tags : [];
                    const rPayload0 = { text: (remoteObj0.title||remoteObj0.url||''), url: (remoteObj0.url||''), keywords: rTags0.join(', '), infoHtml: (remoteObj0.description||'') };
                    let rSig0 = '';
                    try { rSig0 = btoa(unescape(encodeURIComponent(JSON.stringify(rPayload0)))); } catch { rSig0 = JSON.stringify(rPayload0); }
                    const storedRemoteSig0 = l.ncBookmarks?.remoteSig || '';
                    const remoteChanged0 = (rSig0 !== storedRemoteSig0) || (rUpdated0 && rUpdated0 > knownRemote0);
                    const localUpdatedAt0 = parseNcTs(l.ncBookmarks?.localUpdatedAt || 0);
                    try { if (Number(l.ncBookmarks.id) === TRACE_NC_ID) { traceFlags.pushPre0 = true; debugLog('log', '[NC-TRACE 2073] Push preflight (no-local-change)', { rUpdated0, knownRemote0, localUpdatedAt0, remoteChanged0, storedRemoteSig0, rSig0, remoteObj0: MB.Utils.safeClone(remoteObj0) }); } } catch {}
                    debugLog('log', '[NC SYNC] Preflight (no-local-change) fetched remote', { id: l.ncBookmarks?.id, rUpdated: rUpdated0, knownRemote: knownRemote0, localUpdatedAt: localUpdatedAt0, remoteChanged: remoteChanged0, storedRemoteSig: storedRemoteSig0, rSig: rSig0 });
                    if (remoteChanged0 && (rUpdated0 === 0 || (rUpdated0 && rUpdated0 >= localUpdatedAt0))) {
                      // Remote newer: adopt remote locally, skip push
                      try {
                        l.url = rPayload0.url;
                        l.text = rPayload0.text || rPayload0.url;
                        l.keywords = rPayload0.keywords;
                        l.infoHtml = rPayload0.infoHtml;
                        l.deleted = false;
                        l.ncBookmarks.remoteUpdatedAt = rUpdated0 || Date.now();
                        l.ncBookmarks.lastHash = rSig0;
                        l.ncBookmarks.remoteSig = rSig0;
                        l.ncBookmarks.localUpdatedAt = 0;
                      } catch {}
                      debugLog('log', '[NC SYNC] Remote wins (no-local-change), skip push', { id: l.ncBookmarks?.id });
                      skipped++; continue;
                    }
                  } else {
                    // Remote record missing (likely deleted) -> CREATE fallback even without local content change
                    try { debugLog('warn', '[NC SYNC] Remote record missing for id, creating anew', { id: l.ncBookmarks?.id, group: g.name, folderId: fId }); } catch {}
                    const tags2 = (Array.isArray(l.keywords)?l.keywords:(l.keywords||'')).toString().split(',').map(s=>s.trim()).filter(Boolean);
                    const createPayload = { url:l.url||'', title:l.text||l.url||'', description:l.infoHtml||'', tags: tags2, folders: [fId] };
                    if (!createPayload.url || !/^https?:\/\//i.test(createPayload.url)) { skipped++; try { debugLog('warn', '[NC SYNC] Fallback CREATE (no-change) skipped: invalid URL', { url:createPayload.url }); } catch {} }
                    else {
                      const cUrl2 = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/bookmark');
                      const cRes2 = await MB.Extension.davRequest({ method:'POST', url:cUrl2, headers:Object.assign({'Content-Type':'application/json'}, hJson), body: JSON.stringify(createPayload), username: bk.username||'', password: bk.password||'' }).catch(()=>({ok:false}));
                      if (cRes2?.ok) {
                        let created2=null; try { created2=JSON.parse(cRes2.bodyText||'null'); } catch {}
                        created2 = unwrapNc(created2);
                        const nid2 = created2?.id; app.$set(l, 'ncBookmarks', { id:nid2, folderId:fId, lastSyncedAt:Date.now(), lastHash:computeHash(l) }); pushedNew++;
                        try { debugLog('log', '[NC SYNC] Fallback CREATE (no-change) OK', { id: nid2, folderId: fId }); } catch {}
                        continue;
                      } else {
                        skipped++;
                        try { debugLog('error', '[NC SYNC] Fallback CREATE (no-change) FAILED', { status:cRes2?.status, bodyHead:(cRes2?.bodyText||'').slice(0,300) }); } catch {}
                      }
                    }
                  }
                } catch {}
                debugLog('log', '[NC SYNC] Skip update (no local change, no move)', { id: l.ncBookmarks?.id, groupFolder: fId });
                skipped++; continue;
              }
              // If this item was just pulled in this session, avoid overwriting remote content; allow pure MOVE
              let allowContentUpdate = !pulledInSession && (!lastHash || lastHash !== nextHash);
              // Preflight: ALWAYS check remote to avoid overwriting newer server data
              {
                const remoteObj = await fetchBookmark(l.ncBookmarks.id);
                if (remoteObj) {
                  try { debugLog('log', '[NC SYNC][REMOTE] Preflight item', { id: l.ncBookmarks?.id, remote: MB.Utils.safeClone(remoteObj) }); } catch {}
                  const rUpdated = parseNcTs(remoteObj.lastmodified || remoteObj.lastModified || remoteObj.updated || remoteObj.edited || remoteObj.lastUpdate || remoteObj.mtime || remoteObj.modTime);
                  const knownRemote = parseNcTs(l.ncBookmarks?.remoteUpdatedAt||0);
                  // Compute remote content signature
                  const rTags = Array.isArray(remoteObj.tags)? remoteObj.tags : [];
                  const rPayload = { text: (remoteObj.title||remoteObj.url||''), url: (remoteObj.url||''), keywords: rTags.join(', '), infoHtml: (remoteObj.description||'') };
                  let rSig = '';
                  try { rSig = btoa(unescape(encodeURIComponent(JSON.stringify(rPayload)))); } catch { rSig = JSON.stringify(rPayload); }
                  const storedRemoteSig = l.ncBookmarks?.remoteSig || '';
                  const remoteChanged = (rSig !== storedRemoteSig) || (rUpdated && rUpdated > knownRemote);
                  const localUpdatedAt = parseNcTs(l.ncBookmarks?.localUpdatedAt || 0);
                  try { if (Number(l.ncBookmarks.id) === TRACE_NC_ID) { traceFlags.pushPre = true; debugLog('log', '[NC-TRACE 2073] Push preflight (with-local-change)', { rUpdated, knownRemote, localUpdatedAt, remoteChanged, storedRemoteSig, rSig, nextHash, lastHash, moveNeeded, allowContentUpdate, remoteObj: MB.Utils.safeClone(remoteObj) }); } } catch {}
                  debugLog('log', '[NC SYNC] Preflight fetched remote', { id: l.ncBookmarks?.id, rUpdated, knownRemote, localUpdatedAt, remoteChanged, localChanged, storedRemoteSig, rSig });
                  if (remoteChanged && (!localChanged || rUpdated === 0 || (rUpdated && rUpdated >= localUpdatedAt))) {
                    // Remote wins: adopt remote content locally, update hashes/sigs, and skip pushing content
                    try {
                      l.url = rPayload.url;
                      l.text = rPayload.text || rPayload.url;
                      l.keywords = rPayload.keywords;
                      l.infoHtml = rPayload.infoHtml;
                      l.deleted = false;
                      l.ncBookmarks.remoteUpdatedAt = rUpdated || Date.now();
                      l.ncBookmarks.lastHash = rSig; // sync local content hash to remote
                      l.ncBookmarks.remoteSig = rSig;
                      l.ncBookmarks.localUpdatedAt = 0;
                      // Remote folder move handling
                      const rFolders = Array.isArray(remoteObj.folders) ? remoteObj.folders : [];
                      if (rFolders.length) {
                        const targetFolderId = rFolders[0];
                        if (targetFolderId && targetFolderId !== l.ncBookmarks.folderId) {
                          const targetGroup = (app.data.groups||[]).find(x=> x.ncBookmarks && x.ncBookmarks.folderId === targetFolderId);
                          if (targetGroup && targetGroup !== g) {
                            try { const idx = (g.links||[]).indexOf(l); if (idx>=0) g.links.splice(idx,1); } catch {}
                            if (!targetGroup.links) app.$set(targetGroup, 'links', []);
                            targetGroup.links.push(l);
                            l.ncBookmarks.folderId = targetFolderId;
                          }
                        }
                      }
                    } catch {}
                    // Allow a pure MOVE even when remote changed (folders-only patch)
                    if (moveNeeded) {
                      const p = { folders: [fId] };
                      const uUrl2 = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark/${encodeURIComponent(l.ncBookmarks.id)}`);
                      await MB.Extension.davRequest({ method:'PATCH', url:uUrl2, headers:Object.assign({'Content-Type':'application/json'}, hJson), body: JSON.stringify(p) }).catch(()=>({ok:false}));
                      l.ncBookmarks.folderId = fId;
                    }
                    debugLog('log', '[NC SYNC] Remote wins, skip local content push', { id: l.ncBookmarks?.id });
                    skipped++;
                    continue;
                  }
                  // else: only local changed  continue to push content
                  // Extra safety: even if remoteChanged=false (e.g. equal signature), never push content if remote timestamp is newer
                  if (rUpdated && rUpdated > localUpdatedAt) {
                    debugLog('log', '[NC SYNC] Remote newer (timestamp), suppressing content push', { id: l.ncBookmarks?.id, rUpdated, localUpdatedAt });
                    allowContentUpdate = false;
                    if (!moveNeeded) { skipped++; continue; }
                    // fall through to allow a pure MOVE-only PATCH below
                  }
                }
              }
              const tags = (Array.isArray(l.keywords)?l.keywords:(l.keywords||'')).toString().split(',').map(s=>s.trim()).filter(Boolean);
              const payload = {};
              if (allowContentUpdate) {
                Object.assign(payload, { url:l.url||'', title:l.text||l.url||'', description:l.infoHtml||'', tags });
              }
              if (moveNeeded) { payload.folders = [fId]; }
              debugLog('log', '[NC SYNC] Pushing update', { id: l.ncBookmarks?.id, contentUpdate: !!allowContentUpdate, move: moveNeeded, payloadKeys: Object.keys(payload) });
              const uUrl = MB.CardDAV.joinUrl(serverUrl, `/index.php/apps/bookmarks/public/rest/v2/bookmark/${encodeURIComponent(l.ncBookmarks.id)}`);
              const uRes = await MB.Extension.davRequest({ method:'PATCH', url:uUrl, headers:Object.assign({'Content-Type':'application/json'}, hJson), body: JSON.stringify(payload), username: bk.username||'', password: bk.password||'' }).catch(()=>({ok:false}));
              if (uRes?.ok) {
                // Fetch latest remote to refresh timestamps/signature
                let after=null; try { after = await fetchBookmark(l.ncBookmarks.id); } catch {}
                let rUpdated2 = 0; let rSig2 = nextHash;
                if (after) {
                  rUpdated2 = parseNcTs(after.lastmodified || after.lastModified || after.updated || after.edited || after.lastUpdate || after.mtime || after.modTime);
                  const aTags = Array.isArray(after.tags)? after.tags : [];
                  const aPayload = { text: (after.title||after.url||''), url: (after.url||''), keywords: aTags.join(', '), infoHtml: (after.description||'') };
                  try { rSig2 = btoa(unescape(encodeURIComponent(JSON.stringify(aPayload)))); } catch { rSig2 = JSON.stringify(aPayload); }
                }
                l.ncBookmarks.lastHash = nextHash; l.ncBookmarks.lastSyncedAt = Date.now();
                l.ncBookmarks.remoteSig = rSig2; // remote now matches local
                l.ncBookmarks.remoteUpdatedAt = rUpdated2 || Date.now();
                l.ncBookmarks.localUpdatedAt = 0;
                if (moveNeeded) l.ncBookmarks.folderId = fId; pushedUpd++;
                debugLog('log', '[NC SYNC] Push OK', { id: l.ncBookmarks?.id, remoteUpdatedAt: l.ncBookmarks.remoteUpdatedAt, moveApplied: moveNeeded });
              } else {
                // If the record no longer exists remotely (e.g., 404), fall back to CREATE
                let status = uRes?.status||0; let bodyHead=(uRes?.bodyText||'').slice(0,300);
                try { debugLog('warn', '[NC SYNC] Update FAILED, will try CREATE fallback', { id: l.ncBookmarks?.id, status, bodyHead }); } catch {}
                const tags2 = (Array.isArray(l.keywords)?l.keywords:(l.keywords||'')).toString().split(',').map(s=>s.trim()).filter(Boolean);
                const createPayload = { url:l.url||'', title:l.text||l.url||'', description:l.infoHtml||'', tags: tags2, folders: [fId] };
                // Skip create if URL invalid
                if (!createPayload.url || !/^https?:\/\//i.test(createPayload.url)) { skipped++; try { debugLog('warn', '[NC SYNC] Fallback CREATE skipped: invalid URL', { url:createPayload.url }); } catch {} }
                else {
                  const cUrl2 = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/bookmark');
                  const cRes2 = await MB.Extension.davRequest({ method:'POST', url:cUrl2, headers:Object.assign({'Content-Type':'application/json'}, hJson), body: JSON.stringify(createPayload), username: bk.username||'', password: bk.password||'' }).catch(()=>({ok:false}));
                    if (cRes2?.ok) {
                    let created2=null; try { created2=JSON.parse(cRes2.bodyText||'null'); } catch {}
                    created2 = unwrapNc(created2);
                    const nid2 = created2?.id; app.$set(l, 'ncBookmarks', { id:nid2, folderId:fId, lastSyncedAt:Date.now(), lastHash:computeHash(l) }); pushedNew++;
                    try { debugLog('log', '[NC SYNC] Fallback CREATE OK', { id: nid2, folderId: fId }); } catch {}
                  } else {
                    skipped++;
                    try { debugLog('error', '[NC SYNC] Fallback CREATE FAILED', { status:cRes2?.status, bodyHead:(cRes2?.bodyText||'').slice(0,300) }); } catch {}
                  }
                }
              }
            }
          }
        }

        try {
          if (TRACE_NC_ID>0) {
            const haveLocal = (()=>{ try { for (const gg of (app.data.groups||[])) { for (const ll of (gg.links||[])) { if (Number(ll?.ncBookmarks?.id)===TRACE_NC_ID) return true; } } } catch {} return false; })();
            debugLog('log', '[NC-TRACE] Summary', { traceId: TRACE_NC_ID, flags: MB.Utils.safeClone(traceFlags), haveLocal });
          }
        } catch {}
        app.saveData();
        showAppToast(`NC: +${createdLinks} pull, ~${updatedLinks} pull, -${removedLinks} removed, groups +${createdGroups}, folders +${createdFolders}/renamed ${renamedFolders}; push +${pushedNew}, ~${pushedUpd}, -${pushedDel}`, 'success');
        try { app.syncProgress = 100; app.syncProgressText = 'Done'; setTimeout(()=>{ app.syncInProgress=false; }, 800); } catch {}
      }
    });

    // WebDAV/Cal/CardDAV discovery helpers
    MB.CardDAV.getCurrentUserPrincipal = async function(baseUrl, authHeader) {
      // Try PROPFIND Depth:0 for current-user-principal
      const body = `<?xml version="1.0" encoding="utf-8"?>
<D:propfind xmlns:D="DAV:">
  <D:prop>
    <D:current-user-principal/>
  </D:prop>
</D:propfind>`;
      const res = await MB.CardDAV.propfind(baseUrl, 0, body, authHeader);
      if (!res.ok) return null;
      const doc = MB.CardDAV.parseXml(res.bodyText);
      const cup = doc.getElementsByTagNameNS('DAV:','current-user-principal')[0];
      const href = cup?.getElementsByTagNameNS('DAV:','href')[0]?.textContent || '';
      return href || null;
    };

    MB.CardDAV.getAddressbookHome = async function(principalUrl, authHeader) {
      const body = `<?xml version="1.0" encoding="utf-8"?>
<D:propfind xmlns:D="DAV:" xmlns:C="urn:ietf:params:xml:ns:carddav">
  <D:prop>
    <C:addressbook-home-set/>
  </D:prop>
</D:propfind>`;
      const res = await MB.CardDAV.propfind(principalUrl, 0, body, authHeader);
      if (!res.ok) return null;
      const doc = MB.CardDAV.parseXml(res.bodyText);
      const ahs = doc.getElementsByTagNameNS('urn:ietf:params:xml:ns:carddav','addressbook-home-set')[0];
      const href = ahs?.getElementsByTagNameNS('DAV:','href')[0]?.textContent || '';
      return href || null;
    };

    MB.CardDAV.listAddressbooks = async function(homeSetUrl, authHeader) {
      const body = `<?xml version="1.0" encoding="utf-8"?>
<D:propfind xmlns:D="DAV:" xmlns:C="urn:ietf:params:xml:ns:carddav">
  <D:prop>
    <D:displayname/>
    <D:resourcetype/>
  </D:prop>
</D:propfind>`;
      const res = await MB.CardDAV.propfind(homeSetUrl, 1, body, authHeader);
      if (!res.ok) return [];
      const doc = MB.CardDAV.parseXml(res.bodyText);
      const responses = Array.from(doc.getElementsByTagNameNS('*','response'));
      const out = [];
      for (const r of responses) {
        const href = (r.getElementsByTagNameNS('DAV:','href')[0]?.textContent || '').trim();
        const displayname = (r.getElementsByTagNameNS('DAV:','displayname')[0]?.textContent || '').trim();
        const rt = r.getElementsByTagNameNS('DAV:','resourcetype')[0];
        const isAB = !!(rt && (rt.getElementsByTagNameNS('urn:ietf:params:xml:ns:carddav','addressbook')[0]));
        if (isAB) out.push({ href, displayname });
      }
      return out;
    };

    MB.CardDAV.mkcolAddressbook = async function(homeSetUrl, name, authHeader) {
      let url = MB.CardDAV.joinUrl(homeSetUrl, name.replace(/\s+/g,'-').toLowerCase());
      if (!url.endsWith('/')) url = url + '/';
      const body = `<?xml version="1.0" encoding="UTF-8"?>
<D:mkcol xmlns:D="DAV:" xmlns:C="urn:ietf:params:xml:ns:carddav">
  <D:set>
    <D:prop>
      <D:resourcetype><D:collection/><C:addressbook/></D:resourcetype>
      <D:displayname>${name}</D:displayname>
    </D:prop>
  </D:set>
</D:mkcol>`;
      const headers = { 'Content-Type': 'application/xml; charset=utf-8' };
      if (authHeader) headers['Authorization'] = authHeader;
      const res = await MB.CardDAV.request({ method: 'MKCOL', url, headers, body });
      if (res.ok || res.status === 201 || res.status === 200) return { href: url };
      throw new Error(`MKCOL failed: ${res.status} ${res.statusText}`);
    };

    MB.CardDAV.syncCollection = async function(addressbookUrl, syncToken, authHeader) {
      const include = `<D:prop><D:getetag/><C:address-data/></D:prop>`;
      const tokenPart = syncToken ? `<D:sync-token>${syncToken}</D:sync-token>` : '';
      const body = `<?xml version="1.0" encoding="utf-8"?>
<D:sync-collection xmlns:D="DAV:" xmlns:C="urn:ietf:params:xml:ns:carddav">
  <D:sync-level>1</D:sync-level>
  ${tokenPart}
  ${include}
</D:sync-collection>`;
      const res = await MB.CardDAV.report(addressbookUrl, body, authHeader, 1);
      if (!res.ok) throw new Error(`sync-collection failed: ${res.status} ${res.statusText}`);
      const doc = MB.CardDAV.parseXml(res.bodyText);
      const responses = Array.from(doc.getElementsByTagNameNS('DAV:','response'));
      const nextToken = doc.getElementsByTagNameNS('DAV:','sync-token')[0]?.textContent || '';
      const changes = [];
      const deletions = [];
      for (const r of responses) {
        const href = (r.getElementsByTagNameNS('DAV:','href')[0]?.textContent || '').trim();
        const status = (r.getElementsByTagNameNS('DAV:','status')[0]?.textContent || '').trim();
        const propstat = r.getElementsByTagNameNS('DAV:','propstat');
        let etag = '';
        let addressData = '';
        for (const ps of Array.from(propstat)) {
          const st = ps.getElementsByTagNameNS('DAV:','status')[0]?.textContent || '';
          const isOk = st.includes('200');
          if (isOk) {
            etag = ps.getElementsByTagNameNS('DAV:','getetag')[0]?.textContent || etag;
            const ad = ps.getElementsByTagNameNS('urn:ietf:params:xml:ns:carddav','address-data')[0]?.textContent || '';
            if (ad) addressData = ad;
          }
        }
        if (status.includes('404') || (!etag && !addressData)) {
          deletions.push({ href });
        } else {
          changes.push({ href, etag, vcard: addressData });
        }
      }
      return { changes, deletions, nextToken };
    };

    MB.CardDAV.parseXml = function(xmlText) {
      const parser = new DOMParser();
      return parser.parseFromString(xmlText || '', 'application/xml');
    };

    MB.CardDAV.addressbookQueryAll = async function(addressbookUrl, authHeader) {
      const body = `<?xml version="1.0" encoding="utf-8"?>
<C:addressbook-query xmlns:D="DAV:" xmlns:C="urn:ietf:params:xml:ns:carddav">
  <D:prop>
    <D:getetag/>
    <C:address-data/>
  </D:prop>
</C:addressbook-query>`;
      const res = await MB.CardDAV.report(addressbookUrl, body, authHeader, 1);
      if (!res.ok) throw new Error(`addressbook-query failed: ${res.status} ${res.statusText}`);
      const doc = MB.CardDAV.parseXml(res.bodyText);
      const responses = Array.from(doc.getElementsByTagNameNS('*','response'));
      return responses.map(r => {
        const href = (r.getElementsByTagNameNS('*','href')[0]?.textContent || '').trim();
        const etag = (r.getElementsByTagNameNS('*','getetag')[0]?.textContent || '').trim();
        const ad = r.getElementsByTagNameNS('urn:ietf:params:xml:ns:carddav','address-data')[0]?.textContent || '';
        return { href, etag, vcard: ad };
      }).filter(x => x.vcard);
    };

    MB.CardDAV.unfoldVCard = function(text) {
      const lines = (text || '').replace(/\r\n/g, '\n').split('\n');
      const out = [];
      for (const line of lines) {
        if (line.startsWith(' ') || line.startsWith('\t')) {
          if (out.length) out[out.length - 1] += line.slice(1);
        } else {
          out.push(line);
        }
      }
      return out;
    };

    MB.CardDAV.parseVCard = function(vcardText) {
      const lines = MB.CardDAV.unfoldVCard(vcardText);
      const obj = { raw: vcardText };
      for (const raw of lines) {
        if (!raw || raw.startsWith('BEGIN') || raw.startsWith('END')) continue;
        const idx = raw.indexOf(':');
        if (idx < 0) continue;
        const namePart = raw.slice(0, idx);
        const value = raw.slice(idx + 1);
        const name = namePart.split(';')[0]; // ignore params
        const key = name.includes('.') ? name.split('.').pop() : name; // strip group prefix
        const up = key.toUpperCase();
        switch (up) {
          case 'UID': obj.uid = value.trim(); break;
          case 'FN': obj.fn = value.trim(); break;
          case 'URL': obj.url = value.trim(); break;
          case 'CATEGORIES': obj.categories = value.split(',').map(s => s.replace(/\\,/g, ',').trim()).filter(Boolean); break;
          case 'NOTE': obj.note = value; break;
          default:
            if (up === 'X-MB-KEYWORDS') obj.mbKeywords = value;
            else if (up === 'X-MB-META') { try { obj.mbMeta = JSON.parse(value); } catch { obj.mbMeta = null; }
            }
        }
      }
      return obj;
    };
    // Generic DAV request wrapper via browser extension (only when available)
    MB.Extension.davRequest = async function(request) {
      if (!MB.Extension.isAvailable() || !window.MyBookmarksExtension || typeof window.MyBookmarksExtension.davRequest !== 'function') {
        throw new Error('Extension DAV API not available');
      }
      try {
        const res = await window.MyBookmarksExtension.davRequest(request);
        return res;
      } catch (e) {
        debugLog('error', 'Extension davRequest failed:', e);
        throw e;
      }
    };

    class DropManager {
      constructor(appInstance) {
        this.app = appInstance; // Referenz zur Vue-Instanz
        this.draggedState = null;
        this.oldArr = null;
        this.oldItem = null;
        this.draggedElement = null; // Referenz auf das gezogene DOM-Element
        this.dragStartTime = null; // Track when drag started to prevent premature dragend
        this.dragTimeout = null; // Timeout to prevent stuck drag states
        this.delayedResetTimeout = null; // Timeout for delayed resets that can be cancelled
        this.activeDropZone = null; // Track active drop zone for highlighting
        this.dragImageEl = null; // Custom drag image element
        this.edgeDragAttempt = false; // Track Edge drag attempts
        this.edgeDragPending = false; // Track if Edge is waiting for real drag
        // No need for appElement anymore - using Vue reactive state
        debugLog('log', "DropManager initialized with Vue reactivity");
      }

      reset() {
        debugLog('log', "DropManager reset() called."); // DEBUG

        // Clear any existing timeout
        if (this.dragTimeout) {
          clearTimeout(this.dragTimeout);
          this.dragTimeout = null;
          debugLog('log', "Cleared drag timeout"); // DEBUG
        }

        // Clear any delayed reset timeout
        if (this.delayedResetTimeout) {
          clearTimeout(this.delayedResetTimeout);
          this.delayedResetTimeout = null;
          debugLog('log', "Cleared delayed reset timeout"); // DEBUG
        }

        // Reset reactive state for Vue
        this.app.dragState = null;
        debugLog('log', "Reset dragState to null"); // DEBUG
        if (this.app && this.app.clearExpandHoverTimers) {
          this.app.clearExpandHoverTimers();
        }
        // Reset all mouseover states
        if (this.app && this.app.resetAllMouseOverStates) {
          this.app.resetAllMouseOverStates();
        }

        // Stelle sicher, dass die 'grabbing'-Klasse vom Body entfernt wird
        document.body.classList.remove('grabbing');
        debugLog('log', "Removed grabbing class from body"); // DEBUG

        // Reset draggedElement reference without manipulating its classes
        if (this.draggedElement) {
          debugLog('log', "Reset dragged element reference:", this.draggedElement); // DEBUG
          this.draggedElement = null; // Referenz zurcksetzen
        }
        // Reset Edge-specific flags
        this.edgeDragAttempt = false;
        this.edgeDragPending = false;

        // Reset drop zone state
        if (this.activeDropZone) {
          this.activeDropZone.classList.remove('drag-over-active');
          this.activeDropZone = null;
        }

        // Remove custom drag image if any
        if (this.dragImageEl && this.dragImageEl.parentNode) {
          this.dragImageEl.parentNode.removeChild(this.dragImageEl);
        }
        this.dragImageEl = null;

        // Reset state variables
        this.draggedState = null;
        this.oldArr = null;
        this.oldItem = null;
        this.dragStartTime = null; // Reset drag start time

        debugLog('log', "DropManager state reset complete."); // DEBUG
      }

      isDragged(type) {
        return this.draggedState === type;
      }

      // --- Column Helpers ---
      isMostLeftColumn(columns, column) {
        if (!columns || columns.length === 0) return true;
        return column === Math.min(...columns);
      }

      getMostLeftColumn(columns) {
        if (!columns || columns.length === 0) return 0;
        return Math.min(...columns);
      }

      isMostRightColumn(columns, column) {
        if (!columns || columns.length === 0) return true;
        return column === Math.max(...columns);
      }

      getMostRightColumn(columns) {
        if (!columns || columns.length === 0) return 0;
        return Math.max(...columns);
      }

      // Get max index for a specific column within an array
      getMaxIndex(arr, column) {
        const itemsInColumn = arr.filter(item => item.column === column);
        return itemsInColumn.length > 0 ? Math.max(...itemsInColumn.map(item => item.index)) : -1;
      }

      // --- Drag Lifecycle ---
      startDrag(evt, sourceArray, item, type) {
        debugLog('log', "startDrag called - Type:", type, "Item:", item);
        
        // Edge browser detection
        const isEdge = /Edg/.test(navigator.userAgent);
        
        // Edge specific: Need special handling for immediate dragend
        if (isEdge) {
          debugLog('log', "Edge: Starting drag operation with special handling");
          // For Edge, we need to handle the immediate dragend differently
          // Mark this as an Edge drag attempt
          this.edgeDragAttempt = true;
        }
        
        // Stop propagation AFTER logging to ensure we see the call
        evt.stopPropagation();
        
        // For Edge, don't block second attempts based on time
        if (!isEdge && this.dragStartTime && (Date.now() - this.dragStartTime < 1000)) {
          debugLog('log', "Blocking new drag - previous drag still in progress");
          evt.preventDefault();
          return;
        }
        
        // For Edge with an active drag state from a cancelled attempt, allow the drag
        if (isEdge && this.draggedState && this.edgeDragAttempt) {
          debugLog('log', "Edge: Allowing second drag attempt with existing state");
        }

        // Record the time when drag starts
        this.dragStartTime = Date.now();

        // Clear any existing timeout
        if (this.dragTimeout) {
          clearTimeout(this.dragTimeout);
          this.dragTimeout = null;
        }

        // Clear any delayed reset timeout
        if (this.delayedResetTimeout) {
          clearTimeout(this.delayedResetTimeout);
          this.delayedResetTimeout = null;
        }

        // Clear any previous drag state to ensure clean start (only if it's old)
        if (this.draggedState) {
          debugLog('log', "Warning: Clearing previous drag state before starting new one");
          this.draggedState = null;
          this.oldArr = null;
          this.oldItem = null;
          this.app.dragState = null;
        }

        // Speichere das gezogene Element
        this.draggedElement = evt.target;
        debugLog('log', "startDrag - Type:", type, "Item UUID:", item.uuid, "Element:", this.draggedElement); // DEBUG

        this.draggedState = type;

        // Set reactive state for Vue
        this.app.dragState = type;
        debugLog('log', "Set dragState to:", type); // DEBUG

        // CRITICAL FOR EDGE: Set effectAllowed FIRST
        evt.dataTransfer.effectAllowed = 'move';
        
        // CRITICAL: ALWAYS set data, even dummy data - Edge/Chrome won't drag without it!
        // Use multiple formats for maximum compatibility
        const dragData = JSON.stringify({
          type: type,
          uuid: item.uuid || 'no-uuid',
          timestamp: Date.now()
        });
        
        try {
          // Set multiple data types for compatibility
          evt.dataTransfer.setData('text/plain', dragData);
          evt.dataTransfer.setData('text', dragData);
          evt.dataTransfer.setData('application/json', dragData);
        } catch (e) {
          debugLog('warn', "Failed to set some drag data formats:", e);
          // Ensure at least one format is set
          evt.dataTransfer.setData('text', 'dummy-drag-data');
        }
        
        evt.dataTransfer.dropEffect = 'move';

        // Provide a clearer drag image so the user sees the element being dragged
        try {
          const ghost = document.createElement('div');
          ghost.style.position = 'fixed';
          ghost.style.top = '-1000px';
          ghost.style.left = '-1000px';
          ghost.style.padding = '6px 10px';
          ghost.style.background = type === 'link' ? '#fff' : '#f7f7f7';
          ghost.style.border = '1px solid #ccc';
          ghost.style.borderRadius = '4px';
          ghost.style.boxShadow = '0 2px 6px rgba(0,0,0,0.2)';
          ghost.style.font = '14px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif';
          ghost.style.pointerEvents = 'none';
          ghost.textContent = type === 'link' ? (item.text || 'Link') : (item.name || 'Group');
          document.body.appendChild(ghost);
          evt.dataTransfer.setDragImage(ghost, 10, 10);
          this.dragImageEl = ghost;
        } catch (e) {
          // setDragImage not supported: noop
        }

        this.oldArr = sourceArray;
        this.oldItem = item;

        // Only manipulate document.body for cursor styling
        document.body.classList.add('grabbing');

        // Do not auto-reset a running drag; rely on drop/dragend

        debugLog('log', "startDrag completed successfully");
      }

      handleDragEnterZone(evt) {
        // Remove highlight from previous active zone
        if (this.activeDropZone && this.activeDropZone !== evt.currentTarget) {
          this.activeDropZone.classList.remove('drag-over-active');
        }
        // Add highlight to current zone
        evt.currentTarget.classList.add('drag-over-active');
        this.activeDropZone = evt.currentTarget;
      }

      handleDragLeaveZone(evt) {
        // Remove highlight if leaving the current active zone
        if (this.activeDropZone === evt.currentTarget) {
          evt.currentTarget.classList.remove('drag-over-active');
          this.activeDropZone = null;
        }
      }

      handleDragEnterVerticalZone(evt) {
        // Prevent event bubbling that causes flickering
        evt.stopPropagation();

        // Remove highlight from any other active zone
        if (this.activeDropZone && this.activeDropZone !== evt.currentTarget) {
          this.activeDropZone.classList.remove('drag-over-active');
        }

        // Add highlight to vertical drop zone
        evt.currentTarget.classList.add('drag-over-active');
        this.activeDropZone = evt.currentTarget;
      }

      handleDragLeaveVerticalZone(evt) {
        // Check if we're actually leaving the dropzone (not just moving to a child element)
        const rect = evt.currentTarget.getBoundingClientRect();
        const x = evt.clientX;
        const y = evt.clientY;

        // Only remove highlight if we're truly leaving the expanded hit area
        if (x < rect.left - 15 || x > rect.right + 15 || y < rect.top || y > rect.bottom) {
          evt.currentTarget.classList.remove('drag-over-active');
          if (this.activeDropZone === evt.currentTarget) {
            this.activeDropZone = null;
          }
        }
      }

      onDropToNewColumn(evt, newColumnIndex) {
        debugLog('log', `onDropToNewColumn called for column ${newColumnIndex}`);
        debugLog('log', 'Current draggedState:', this.draggedState);
        debugLog('log', 'Current oldItem:', this.oldItem);

        // Prevent default to ensure drop is handled
        evt.preventDefault();
        evt.stopPropagation();

        // Check for correct drag type - draggedState is a string, not an object
        if (!this.draggedState || this.draggedState !== 'group') {
          debugLog('warn', 'No group being dragged or wrong type. draggedState:', this.draggedState);
          this.reset();
          return;
        }

        const movedItem = this.oldItem;
        if (!movedItem) {
          debugLog('warn', 'No item to move. oldItem:', this.oldItem);
          this.reset();
          return;
        }

        debugLog('log', `Moving group "${movedItem.name}" from column ${movedItem.column} to column ${newColumnIndex}`);

        // First, adjust indices in the old column
        const oldColumn = movedItem.column;
        const oldIndex = movedItem.index;

        // Shift groups up in the old column
        const groupsInOldColumn = this.app.data.groups.filter(g =>
          g.column === oldColumn && g.uuid !== movedItem.uuid && g.index > oldIndex
        );
        groupsInOldColumn.forEach(g => {
          g.index--;
        });

        // Now move to new column
        movedItem.column = newColumnIndex;

        // Find the correct index in the new column (add to the end)
        const groupsInNewColumn = this.app.data.groups.filter(g =>
          g.column === newColumnIndex && g.uuid !== movedItem.uuid
        );

        // Set index to be after all existing groups in the column
        const maxIndex = groupsInNewColumn.reduce((max, g) => Math.max(max, g.index || 0), -1);
        movedItem.index = maxIndex + 1;

        debugLog('log', `Group "${movedItem.name}" moved to column ${newColumnIndex} at index ${movedItem.index}`);

        // Clear any active drop zone styling
        if (this.activeDropZone) {
          this.activeDropZone.classList.remove('drag-over-active');
          this.activeDropZone = null;
        }

        // Handle shared group sync if needed
        if (movedItem.shared && movedItem.useEventLog) {
          try {
            // Log the position change for event-log based groups
            const event = {
              type: 'group-move',
              groupId: movedItem.uuid,
              oldColumn,
              oldIndex,
              newColumn: newColumnIndex,
              newIndex: movedItem.index,
              timestamp: Date.now()
            };
            debugLog('log', '[DRAG] Group position change event:', event);
          } catch (error) {
            debugLog('error', '[DRAG] Error logging group move:', error);
          }
        }

        // Save and reset
        this.app.saveData();
        this.reset();
      }

      isDragOverActive(element) {
        return this.activeDropZone === element;
      }


      async onDrop(evt, targetArray, targetItem, targetIndex, targetColumn, type) {
        if (type !== this.draggedState || !this.oldItem) {
          debugLog('warn', "Drop cancelled or invalid state. Resetting early.");
          this.reset();
          return;
        }
        evt.preventDefault();

        // Remove drag-over-active class on drop
        if (this.activeDropZone) {
          this.activeDropZone.classList.remove('drag-over-active');
          this.activeDropZone = null;
        }

        debugLog('log', `onDrop - Type: ${type}, TargetItem: ${targetItem?.uuid}, TargetIndex: ${targetIndex}, TargetColumn: ${targetColumn}`);

        const oldItemUuid = this.oldItem.uuid;
        const oldColumn = this.oldItem.column;

        // Check if this is a cross-group move for links and verify permissions FIRST
        if (type === 'link') {
          const oldGroup = (this.app.data.groups || []).find(g =>
            g.links === this.oldArr
          );
          const newGroup = (this.app.data.groups || []).find(g =>
            g.links === targetArray
          );

          if (oldGroup && newGroup && oldGroup !== newGroup) {
            // Check permissions BEFORE making any changes
            if (!this.app.canDelete(oldGroup)) {
              alert(this.app.getTranslation('error.perm.delete') || 'You do not have permission to remove links from this group');
              this.reset();
              return;
            }

            if (!this.app.canAdd(newGroup)) {
              alert(this.app.getTranslation('error.perm.add') || 'You do not have permission to add links to this group');
              this.reset();
              return;
            }
          }
        }

        // 1) Remove item from its original array (only after permission check)
        const oldItemIndex = this.oldArr.findIndex(item =>
          this.oldItem.uuid && item.uuid === this.oldItem.uuid
        );
        let movedItem;
        if (oldItemIndex > -1) {
          movedItem = this.oldArr.splice(oldItemIndex, 1)[0];
          debugLog('log', `Removed item ${movedItem.uuid} from old index ${oldItemIndex}`);
        } else {
          debugLog('error', "Could not find dragged item in source array.");
          return;
        }

        // 2) Assign new column and ensure the moved item exists in the target array
        movedItem.column = targetColumn;
        if (!targetArray.includes(movedItem)) {
          targetArray.push(movedItem);
          debugLog('log', `Pushed item ${movedItem.uuid} into target array (column ${targetColumn}).`);
        }

        // 3) Reorder within the target column with fractional indexing (cheap reindex)
        const assignFractionalIndex = (items, column, desiredIndex) => {
          const EPS = 1e-6;
          const inCol = items.filter(it => it.column === column && it !== movedItem)
                              .sort((a, b) => a.index - b.index);
          const clamped = Math.max(0, Math.min(desiredIndex, inCol.length));
          const prev = clamped > 0 ? inCol[clamped - 1] : null;
          const next = clamped < inCol.length ? inCol[clamped] : null;
          let newIdx;
          if (prev && next) {
            const gap = next.index - prev.index;
            if (gap > EPS) {
              newIdx = prev.index + gap / 2;
            } else {
              // Gap too small; fallback to full reindex once, then place at middle
              this.app.reindexArr(inCol);
              newIdx = (inCol[clamped - 1]?.index || 0) + 0.5;
            }
          } else if (prev && !next) {
            newIdx = prev.index + 1;
          } else if (!prev && next) {
            newIdx = next.index - 1;
          } else {
            newIdx = 0;
          }
          movedItem.index = newIdx;
          debugLog('log', `Assigned fractional index ${newIdx} for ${type} in column ${column}`);
        };

        if (type === 'group') {
          assignFractionalIndex(this.app.data.groups, targetColumn, targetIndex);
          debugLog('log', "Normalizing group columns after drop...");
          this.app.normalizeColumnNumbers();
        } else if (type === 'link') {
          const parentGroup = this.app.data.groups.find(g => g.links === targetArray);
          if (parentGroup) {
            assignFractionalIndex(parentGroup.links, targetColumn, targetIndex);
          } else {
            debugLog('error', "Could not find parent group for link drop target array.");
          }
        }

        // 4) Reindex old column (from which the item was removed)
        if (type === 'group') {
          const leftBehind = this.app.data.groups.filter(g => g.column === oldColumn);
          if (leftBehind.length) this.app.reindexArr(leftBehind);
        } else if (type === 'link') {
          const srcGroup = this.app.data.groups.find(g => g.links === this.oldArr);
          if (srcGroup) {
            const leftBehind = srcGroup.links.filter(l => l.column === oldColumn);
            if (leftBehind.length) this.app.reindexArr(leftBehind);
          }
        }

        debugLog('log', "Saving data after drop and re-index...");
        this.app.saveData();
        
        // Send share-links update for shared groups
        if (type === 'link' && movedItem) {
          try {
            // Find the OLD group (where the link was dragged FROM)
            const oldGroup = (this.app.data.groups || []).find(g => 
              g.links === this.oldArr
            );
            
            // Find the NEW group (where the link was dragged TO)
            // Important: targetArray is the links array of the target group
            const newGroup = (this.app.data.groups || []).find(g =>
              g.links === targetArray
            );
            
            // If the link was moved between different groups
            if (oldGroup && newGroup && oldGroup !== newGroup) {
              // Permissions were already checked before making any changes

              // Handle sync for cross-group moves
              // Send DELETE event/message to old group if it's shared
              if (oldGroup.shared) {
                if (oldGroup.useEventLog && this.app.eventLogManager) {
                  // Create link-delete event for old group
                  this.app.createAndApplyEvent(oldGroup, {
                    type: 'link-delete',
                    linkId: movedItem.uuid,
                    data: {
                      deletedLink: {
                        uuid: movedItem.uuid,
                        text: movedItem.text,
                        url: movedItem.url,
                        column: oldColumn,
                        index: movedItem.index
                      }
                    }
                  });
                  debugLog('log', '[DND EVENT-LOG] Created link-delete event for old group:', oldGroup.name);
                } else if (oldGroup.groupTopic && oldGroup.groupKey) {
                  // Legacy sync for old group
                  try {
                    const from = { uuid: this.app.data.identity?.uuid, name: this.app.data.identity?.name || '' };
                    const deleteEnv = {
                      v: 1,
                      type: 'link-delete',
                      ts: Date.now(),
                      from,
                      groupId: oldGroup.groupId,
                      link: { uuid: movedItem.uuid, url: movedItem.url || null },
                      version: oldGroup.version || CONSTS.VERSION_FALLBACK,
                      msgId: (Math.random().toString(36).slice(2) + Date.now())
                    };
                    debugLog('log', '[DRAG] Sending link-delete to old shared group:', oldGroup.name, movedItem.uuid);
                    if (typeof sharing !== 'undefined' && sharing) {
                      await sharing.sendToGroup(oldGroup, deleteEnv);
                    }
                  } catch (error) {
                    debugLog('error', '[DRAG] Error sending link-delete:', error);
                  }
                }
              }

              // Send ADD event/message to new group if it's shared
              if (newGroup.shared) {
                if (newGroup.useEventLog && this.app.eventLogManager) {
                  // Create link-add event for new group
                  this.app.createAndApplyEvent(newGroup, {
                    type: 'link-add',
                    linkId: movedItem.uuid,
                    data: {
                      uuid: movedItem.uuid,
                      text: movedItem.text || '',
                      url: movedItem.url || '',
                      rawUrlInput: movedItem.rawUrlInput || '',
                      keywords: movedItem.keywords || '',
                      shortcut: movedItem.shortcut || '',
                      itemType: this.app.normalizeLinkItemType(movedItem),
                      refTargetUuid: movedItem.refTargetUuid || '',
                      inheritSourceKeywords: movedItem.inheritSourceKeywords !== false,
                      urlPlaceholders: this.app.normalizePlaceholderList(movedItem.urlPlaceholders || []),
                      column: movedItem.column || 0,
                      index: movedItem.index || 0,
                      createdAt: movedItem.createdAt || Date.now(),
                      lastModified: movedItem.lastModified || Date.now()
                    }
                  });
                  debugLog('log', '[DND EVENT-LOG] Created link-add event for new group:', newGroup.name);
                } else if (newGroup.groupTopic && newGroup.groupKey) {
                  // Legacy sync for new group
                  try {
                    const from = { uuid: this.app.data.identity?.uuid, name: this.app.data.identity?.name || '' };
                    const linkData = this.app.serializeLinkForSync(movedItem);
                    const addEnv = {
                      v: 1,
                      type: 'share-links',
                      ts: Date.now(),
                      from,
                      groupId: newGroup.groupId,
                      selection: { groups: [], links: [linkData] },
                      mode: 'merge',
                      msgId: (Math.random().toString(36).slice(2) + Date.now())
                    };
                    debugLog('log', '[DRAG] Sending share-links to new shared group:', newGroup.name, linkData);
                    if (typeof sharing !== 'undefined' && sharing) {
                      await sharing.sendToGroup(newGroup, addEnv);
                    }
                  } catch (error) {
                    debugLog('error', '[DRAG] Error sending share-links:', error);
                  }
                }
              }
            }
            // If the link was moved within the same group (just repositioned)
            else if (newGroup && newGroup.shared) {
              // For event-log groups, create a link-update event
              if (newGroup.useEventLog && this.app.eventLogManager) {
                this.app.createAndApplyEvent(newGroup, {
                  type: 'link-update',
                  linkId: movedItem.uuid,
                  data: {
                    uuid: movedItem.uuid,
                    text: movedItem.text || '',
                    url: movedItem.url || '',
                    keywords: movedItem.keywords || '',
                    shortcut: movedItem.shortcut || '',
                    itemType: this.app.normalizeLinkItemType(movedItem),
                    refTargetUuid: movedItem.refTargetUuid || '',
                    inheritSourceKeywords: movedItem.inheritSourceKeywords !== false,
                    urlPlaceholders: this.app.normalizePlaceholderList(movedItem.urlPlaceholders || []),
                    column: movedItem.column || 0,
                    index: movedItem.index || 0,
                    lastModified: movedItem.lastModified || Date.now()
                  }
                });
                debugLog('log', '[DND EVENT-LOG] Created link-update event for position change:', newGroup.name);
              }
              // Legacy sync needs explicit position updates
              else if (newGroup.groupTopic && newGroup.groupKey && !newGroup.useEventLog) {
                try {
                  const from = { uuid: this.app.data.identity?.uuid, name: this.app.data.identity?.name || '' };
                  const linkData = this.app.serializeLinkForSync(movedItem);
                  const env = {
                    v: 1,
                    type: 'share-links',
                    ts: Date.now(),
                    from,
                    groupId: newGroup.groupId,
                    selection: { groups: [], links: [linkData] },
                    mode: 'merge',
                    msgId: (Math.random().toString(36).slice(2) + Date.now())
                  };
                  debugLog('log', '[DRAG] Sending share-links update within same group:', linkData);
                  if (typeof sharing !== 'undefined' && sharing) {
                    await sharing.sendToGroup(newGroup, env);
                  }
                } catch (error) {
                  debugLog('error', '[DRAG] Error sending share-links update:', error);
                }
              }
            }
          } catch (e) {
            debugLog('error', '[DRAG] Failed to send share-links:', e);
          }
        }
        
        debugLog('log', `onDrop finished processing for item ${movedItem.id}`);

        // Ensure reset in case dragend isn't reliable
        debugLog('log', "Resetting drag state after successful drop");
        this.reset();
      }
    } // Ende DropManager Klasse

    // --- Helpers for base64url ---
    const B64 = {
      enc(bytes) {
        const bin = Array.from(bytes).map(b => String.fromCharCode(b)).join('');
        return btoa(bin).replace(/\+/g, '-').replace(/\//g, '_').replace(/=+$/g, '');
      },
      dec(str) {
        str = str.replace(/-/g, '+').replace(/_/g, '/');
        const pad = str.length % 4 ? '='.repeat(4 - (str.length % 4)) : '';
        const bin = atob(str + pad);
        const arr = new Uint8Array(bin.length);
        for (let i = 0; i < bin.length; i++) arr[i] = bin.charCodeAt(i);
        return arr;
      }
    };

    // --- WebCrypto utilities: ECDH/HKDF/AES-GCM ---
    class CryptoUtil {
      static async generateIdentity() {
        const kp = await crypto.subtle.generateKey({ name: 'ECDH', namedCurve: 'P-256' }, true, ['deriveBits']);
        const pubRaw = new Uint8Array(await crypto.subtle.exportKey('raw', kp.publicKey));
        const privPkcs8 = new Uint8Array(await crypto.subtle.exportKey('pkcs8', kp.privateKey));
        return { pubKeyB64: B64.enc(pubRaw), privKeyB64: B64.enc(privPkcs8) };
      }
      static async importPub(rawB64) {
        return await crypto.subtle.importKey('raw', B64.dec(rawB64), { name: 'ECDH', namedCurve: 'P-256' }, true, []);
      }
      static async importPriv(pkcs8B64) {
        return await crypto.subtle.importKey('pkcs8', B64.dec(pkcs8B64), { name: 'ECDH', namedCurve: 'P-256' }, true, ['deriveBits']);
      }
      static async deriveBits(privKey, pubKey) {
        return new Uint8Array(await crypto.subtle.deriveBits({ name: 'ECDH', public: pubKey }, privKey, 256));
      }
      static async hkdf(inputBytes, infoStr, len = 32, salt = new Uint8Array(32)) {
        const baseKey = await crypto.subtle.importKey('raw', inputBytes, 'HKDF', false, ['deriveBits']);
        const info = new TextEncoder().encode(infoStr);
        const bits = await crypto.subtle.deriveBits({ name: 'HKDF', hash: 'SHA-256', salt, info }, baseKey, len * 8);
        return new Uint8Array(bits);
      }
      static async deriveChannel(sharedSecret) {
        const k = await this.hkdf(sharedSecret, 'mybookmarks:channel-key', 32);
        const topicBytes = await this.hkdf(sharedSecret, 'mybookmarks:channel-topic', 32);
        const topic = B64.enc(topicBytes).slice(0, 22);
        return { k, topic };
      }
      static async aesEncrypt(keyBytes, plaintextObj) {
        const iv = crypto.getRandomValues(new Uint8Array(12));
        const key = await crypto.subtle.importKey('raw', keyBytes, { name: 'AES-GCM', length: 256 }, false, ['encrypt']);
        const pt = new TextEncoder().encode(JSON.stringify(plaintextObj));
        const ct = new Uint8Array(await crypto.subtle.encrypt({ name: 'AES-GCM', iv }, key, pt));
        const out = new Uint8Array(iv.length + ct.length);
        out.set(iv, 0); out.set(ct, iv.length);
        return B64.enc(out);
      }
      static async aesDecrypt(keyBytes, payloadB64) {
        const all = B64.dec(payloadB64);
        const iv = all.slice(0, 12);
        const ct = all.slice(12);
        const key = await crypto.subtle.importKey('raw', keyBytes, { name: 'AES-GCM', length: 256 }, false, ['decrypt']);
        const pt = await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ct);
        return JSON.parse(new TextDecoder().decode(pt));
      }
    }

    // Expose classes in in-file namespaces for clarity
    MB.DnD.DropManager = DropManager;
    MB.Utils.CryptoUtil = CryptoUtil;

    // --- ntfy client ---
    class NtfyClient {
      constructor(serverUrl, token) { this.serverUrl = serverUrl?.replace(/\/$/, ''); this.token = token || ''; this.subs = new Map(); this.valid = /^https?:\/\//i.test(this.serverUrl||''); this.memberWindows = new Map(); }
      setConfig(serverUrl, token) { this.serverUrl = serverUrl?.replace(/\/$/, ''); this.token = token || ''; this.valid = /^https?:\/\//i.test(this.serverUrl||''); }
      buildTopicPath(topic) {
        // Sanitize to a single path component: ntfy topics should not contain '/'
        let t = String(topic || '');
        t = t.replace(/[\/\\]/g, '-');            // replace any slashes with '-'
        t = t.replace(/[^A-Za-z0-9._-]/g, '_');     // keep only safe chars
        return `${this.serverUrl}/${t}`;
      }
      headers(extra) {
        const h = {};
        // Only attach Authorization on http(s) origins to avoid CORS preflight from file://
        if (/^https?:/i.test(location.protocol) && this.token) h['Authorization'] = `Bearer ${this.token}`;
        if (extra) Object.assign(h, extra);
        return h;
      }
      async publish(topic, bodyB64, ttlSec) {
        if (!this.valid) { debugLog('warn', 'ntfy serverUrl not configured or invalid'); return; }
        // Lightweight per-destination rate limit (windowed)
        try {
          // Token-bucket rate limit per topic for steady control
          const isQc = String(topic||'').startsWith('mb-qc-');
          const limit = Number((window.app?.data?.options?.sync?.memberRateLimit)||0);
          if (!isQc && limit > 0) {
            const key = topic;
            if (!this.memberBuckets) this.memberBuckets = new Map();
            let b = this.memberBuckets.get(key);
            if (!b) { b = { tokens: Math.min(limit, Math.max(1, Math.floor(limit/2))), last: Date.now(), capacity: limit, rate: limit / 60 }; this.memberBuckets.set(key, b); }
            const now = Date.now();
            const delta = (now - b.last) / 1000;
            b.tokens = Math.min(b.capacity, b.tokens + delta * b.rate);
            b.last = now;
            if (b.tokens < 1) { debugLog('warn', '[RATE] token bucket drop', { topic, tokens: b.tokens.toFixed(2) }); return; }
            b.tokens -= 1;
          }
        } catch (e) { debugLog('warn','[RATE] token bucket error', e); }
        // Prefer token as query to keep request "simple" (no preflight) for file:// origins
        let url = this.buildTopicPath(topic);
        if (this.token && !/^https?:/i.test(location.protocol)) {
          url += (url.includes('?') ? '&' : '?') + 'token=' + encodeURIComponent(this.token);
        }
        const headers = this.headers({ 'Content-Type': 'text/plain' });
        // Only set X-Ttl on http(s) origins to avoid non-simple headers on file://
        if (ttlSec && /^https?:/i.test(location.protocol)) headers['X-Ttl'] = String(ttlSec);
        const opts = { method: 'POST', headers, body: bodyB64 };
        if (!/^https?:/i.test(location.protocol)) Object.assign(opts, { mode: 'no-cors', keepalive: true });
        const res = await fetch(url, opts);
        if (/^https?:/i.test(location.protocol)) {
          if (!res.ok) throw new Error(`ntfy publish failed: ${res.status}`);
        } else {
          // On file:// with no-cors we cannot read status; assume best-effort
          return;
        }
      }
      async subscribeLongPoll(topic, onMsg) {
        // Avoid cross-origin issues when running from file://  require http(s) origin
        if (!/^https?:/i.test(location.protocol)) { debugLog('warn', 'Skipping long-poll on non-http origin'); return { abort(){} }; }
        if (!this.valid) { debugLog('warn', 'ntfy serverUrl not configured or invalid'); return { abort(){} }; }
        const controller = new AbortController();
        const headers = this.headers();
        const url = this.buildTopicPath(topic) + '/json';
        let backoffMs = 1000;
        const run = async () => {
          try {
            const res = await fetch(url, { method: 'GET', headers, signal: controller.signal });
            if (!res.ok) throw new Error('ntfy poll failed ' + res.status);
            backoffMs = 1000;
            const reader = res.body.getReader();
            const decoder = new TextDecoder();
            let buf = '';
            while (true) {
              const { value, done } = await reader.read();
              if (done) break;
              buf += decoder.decode(value, { stream: true });
              let idx;
              while ((idx = buf.indexOf('\n')) >= 0) {
                const line = buf.slice(0, idx).trim();
                buf = buf.slice(idx + 1);
                if (!line) continue;
                try {
                  const evt = JSON.parse(line);
                  const payload = (evt && typeof evt.message === 'string') ? evt.message : line;
                  onMsg({ text: payload, id: evt.id, time: evt.time, event: evt.event });
                } catch (_) { /* ignore */ }
              }
            }
          } catch (e) {
            if (controller.signal.aborted) return;
            debugLog('warn', 'ntfy long-poll error', e);
          }
          if (!controller.signal.aborted) {
            const factor = 1.5 + Math.random() * 0.5; // jitter 1.5x..2.0x
            backoffMs = Math.min(backoffMs * factor, CONSTS.BACKOFF_MAX_MS);
            setTimeout(run, backoffMs);
          }
        };
        run();
        this.subs.set(topic, controller);
        return controller;
      }
      subscribe(topic, onMsg) {
        if (!this.valid) { debugLog('warn', 'ntfy serverUrl not configured or invalid'); return { close(){}, abort(){} }; }
        // Start both SSE (no headers) and long-poll (with headers) to maximize compatibility
        const handles = { es: null, lp: null, closed: false, lpPaused: false, lpPauseTimer: null };
        try {
          let url = this.buildTopicPath(topic) + '/sse';
          // If token is configured, prefer passing it as query for SSE to avoid CORS headers
          if (this.token) url += (url.includes('?') ? '&' : '?') + 'token=' + encodeURIComponent(this.token);
          const es = new EventSource(url, { withCredentials: false });
          es.onmessage = (ev) => {
            try {
              const evt = JSON.parse(ev.data);
              const payload = (evt && typeof evt.message === 'string') ? evt.message : ev.data;
              onMsg({ text: payload, id: evt.id, time: evt.time, event: evt.event });
            } catch (e) {
              try { onMsg({ text: ev.data }); } catch (_) {}
            }
          };
          es.onerror = (e) => {
            debugLog('warn', '[NTFY] EventSource error for topic', topic, e);
            // Resume long-poll if it was paused
            if (handles.lpPaused && !handles.closed) {
              this.subscribeLongPoll(topic, onMsg).then(ctrl => { handles.lp = ctrl; handles.lpPaused = false; }).catch((err)=>debugLog('warn','[NTFY] resume LP failed', err));
            }
            // Don't close ES on error - let it auto-reconnect
          };
          es.onopen = () => {
            debugLog('log', '[NTFY] EventSource connected for topic', topic);
            // If ES remains open for a short delay, pause long-poll to save resources
            try {
              if (handles.lpPauseTimer) clearTimeout(handles.lpPauseTimer);
              handles.lpPauseTimer = setTimeout(() => {
                try { if (!handles.closed && handles.lp && handles.lp.abort) { handles.lp.abort(); handles.lp = null; handles.lpPaused = true; } } catch (e) { debugLog('warn','[NTFY] pause LP failed', e); }
              }, 2000);
            } catch (e) { debugLog('warn','[NTFY] schedule LP pause failed', e); }
          };
          handles.es = es;
        } catch (error) {
          debugLog('error', '[Sharing] Failed to initialize EventSource:', error);
        }
        // Also start long-polling loop (works with Authorization header if set) when origin is http(s)
        this.subscribeLongPoll(topic, onMsg).then(ctrl => { handles.lp = ctrl; }).catch((e) => { debugLog('warn', '[NTFY] subscribeLongPoll init failed', e); });
        // Unified abort/close handle
        handles.abort = () => {
          if (handles.closed) return;
          try { handles.es && handles.es.close && handles.es.close(); } catch (e) { debugLog('warn', '[NTFY] ES close failed', e); }
          try { handles.lp && handles.lp.abort && handles.lp.abort(); } catch (e) { debugLog('warn', '[NTFY] LP abort failed', e); }
          try { handles.lpPauseTimer && clearTimeout(handles.lpPauseTimer); } catch (e) { }
          handles.closed = true;
        };
        handles.close = handles.abort;
        this.subs.set(topic, handles);
        return handles;
      }
      unsubscribe(topic) {
        const h = this.subs.get(topic);
        if (h) {
          try { h.es && h.es.close && h.es.close(); } catch (e) { debugLog('warn', '[Sharing] Error closing EventSource:', e); }
          try { h.lp && h.lp.abort && h.lp.abort(); } catch (e) { debugLog('warn', '[Sharing] Error aborting long-poll:', e); }
          try { h.close && h.close(); } catch (e) { debugLog('warn', '[Sharing] Error closing connection:', e); }
          try { h.abort && h.abort(); } catch (e) { debugLog('warn', '[Sharing] Error aborting connection:', e); }
          this.subs.delete(topic);
        }
      }
      
    }

    // --- Event-Log System for Advanced Sync (Future Migration) ---
    class VectorClock {
      constructor(memberId) {
        this.clock = {};
        this.memberId = memberId;
      }
      
      increment() {
        this.clock[this.memberId] = (this.clock[this.memberId] || 0) + 1;
        return this.clone();
      }
      
      merge(otherClock) {
        if (!otherClock) return;
        Object.keys(otherClock).forEach(id => {
          this.clock[id] = Math.max(
            this.clock[id] || 0,
            otherClock[id] || 0
          );
        });
      }
      
      clone() {
        const cloned = new VectorClock(this.memberId);
        cloned.clock = { ...this.clock };
        return cloned;
      }
      
      happensBefore(other) {
        if (!other || !other.clock) return false;
        let hasLess = false;
        for (let id in this.clock) {
          if (this.clock[id] > (other.clock[id] || 0)) return false;
          if (this.clock[id] < (other.clock[id] || 0)) hasLess = true;
        }
        return hasLess;
      }
      
      isConcurrent(other) {
        return !this.happensBefore(other) && !other.happensBefore(this);
      }
      
      toJSON() {
        return this.clock;
      }
    }

    MB.EventLog.VectorClock = VectorClock;
    
    class EventLogManager {
      constructor(maxEvents = CONSTS.EVENT_LOG_MAX_EVENTS, snapshotInterval = CONSTS.EVENT_LOG_SNAPSHOT_INTERVAL * 2) {
        this.maxEvents = maxEvents;
        this.snapshotInterval = snapshotInterval;
      }

      // Compare two vector clocks. Returns 'lt' | 'gt' | 'eq' | 'concurrent'
      static compareVectorClocks(a = {}, b = {}) {
        const keys = new Set([...Object.keys(a||{}), ...Object.keys(b||{})]);
        let aLTEb = true;
        let bLTEa = true;
        let aLTb = false;
        let bLTa = false;
        for (const k of keys) {
          const av = a[k] || 0;
          const bv = b[k] || 0;
          if (av > bv) { aLTEb = false; aLTb = false; bLTa = true; }
          if (bv > av) { bLTEa = false; bLTa = false; aLTb = true; }
        }
        if (aLTEb && bLTEa) return 'eq';
        if (aLTEb && aLTb) return 'lt';
        if (bLTEa && bLTa) return 'gt';
        return 'concurrent';
      }
      
      shouldCreateSnapshot(group) {
        const eventCount = group.eventLog?.length || 0;
        const lastSnapTime = group.snapshot?.timestamp || 0;
        const hoursSinceSnap = (Date.now() - lastSnapTime) / (1000 * 60 * 60);
        
        return eventCount >= this.snapshotInterval || hoursSinceSnap > 24;
      }
      
      createSnapshot(group) {
        // Create a point-in-time snapshot of the group state
          const snapshot = {
            timestamp: Date.now(),
            eventId: group.headEventId || null,
            vectorClock: group.vectorClock ? { ...group.vectorClock } : {},
            data: {
              links: JSON.parse(JSON.stringify(group.links || [])),
              members: JSON.parse(JSON.stringify(group.members || [])),
              version: group.version || 0,
              name: group.name,
              emoji: group.emoji || '',
              color: group.color,
              urlPlaceholders: JSON.parse(JSON.stringify(group.urlPlaceholders || [])),
              linkedCollapseGroupUuids: JSON.parse(JSON.stringify(group.linkedCollapseGroupUuids || [])),
              linkedCollapseOnCloseGroupUuids: JSON.parse(JSON.stringify(group.linkedCollapseOnCloseGroupUuids || [])),
            }
          };
        
        // Garbage collect old events
        if (group.eventLog && snapshot.eventId) {
          const snapEventIndex = group.eventLog.findIndex(
            e => e.eventId === snapshot.eventId
          );
          
          if (snapEventIndex >= 0) {
            // Keep only events after snapshot
            group.eventLog = group.eventLog.slice(snapEventIndex + 1);
          }
        }
        
        group.snapshot = snapshot;
        debugLog('log', '[EVENT-LOG] Created snapshot', { 
          groupId: group.groupId, 
          eventCount: group.eventLog?.length || 0 
        });
        return snapshot;
      }
      
      addEvent(event, group) {
        debugLog('log', '[EventLogManager.addEvent] Called with:', {
          groupName: group.name,
          groupId: group.groupId,
          eventType: event.operation?.type || event.type,
          eventId: event.eventId,
          hasEventLog: !!group.eventLog,
          eventLogLength: group.eventLog?.length || 0
        });
        
        // Initialize event log if needed
        if (!group.eventLog) {
          debugLog('log', '[EventLogManager.addEvent] Initializing event log for group');
          group.eventLog = [];
        }
        
        // Generate event ID if not present
        if (!event.eventId) {
          event.eventId = `${event.authorId || event.author}-${Date.now()}-${Math.random().toString(36).slice(2)}`;
          debugLog('log', '[EventLogManager.addEvent] Generated event ID:', event.eventId);
        }
        
        // Check for duplicates
        if (group.eventLog.some(e => e.eventId === event.eventId)) {
          debugLog('log', '[EVENT-LOG] Skipping duplicate event', event.eventId);
          return false;
        }
        
        // Add event to log
        group.eventLog.push(event);
        group.headEventId = event.eventId;
        debugLog('log', '[EventLogManager.addEvent] Event added to log:', {
          eventId: event.eventId,
          newLength: group.eventLog.length
        });
        
        // Update vector clock
        if (!group.vectorClock) {
          group.vectorClock = {};
        }
        const authorKey = event.author || event.authorId;
        if (authorKey) {
          group.vectorClock[authorKey] = (group.vectorClock[authorKey] || 0) + 1;
          event.vectorClock = { ...group.vectorClock };
          debugLog('log', '[EventLogManager.addEvent] Updated vector clock:', group.vectorClock);
        }
        
        // Check if snapshot is needed
        if (this.shouldCreateSnapshot(group)) {
          this.createSnapshot(group);
        }
        
        debugLog('log', '[EVENT-LOG] Added event', {
          type: event.type,
          eventId: event.eventId,
          eventCount: group.eventLog.length
        });
        
        return true;
      }
      
      applyEvent(group, event) {
        // Initialize event log if needed
        if (!group.eventLog) group.eventLog = [];
        
        // Check for duplicates
        if (group.eventLog.some(e => e.eventId === event.eventId)) {
          debugLog('log', '[EVENT-LOG] Skipping duplicate event', event.eventId);
          return false;
        }
        
        // Add to log
        group.eventLog.push(event);
        group.headEventId = event.eventId;
        
        // Apply the operation - MUST use Vue reactivity for UI updates
        switch(event.operation?.type) {
          case 'link-add':
            if (!group.links) {
              // Use Vue's reactivity if app is available
              if (window.app && window.app.$set) {
                window.app.$set(group, 'links', []);
              } else {
                group.links = [];
              }
            }
            const incomingData = event.operation?.data || {};
            const rawItemType = (window.app && window.app.normalizeLinkItemType)
              ? window.app.normalizeLinkItemType(incomingData)
              : ((String(incomingData.itemType || '').toLowerCase() === 'separator')
                ? 'separator'
                : ((String(incomingData.itemType || '').toLowerCase() === 'note')
                  ? 'note'
                  : (incomingData.refTargetUuid ? 'ref' : 'link')));
            const newLink = {
              uuid: event.operation.data.uuid || event.operation.linkId,  // Support both formats
              ...incomingData,
              itemType: rawItemType,
              shortcut: event.operation?.data?.shortcut || '',
              refTargetUuid: event.operation?.data?.refTargetUuid || '',
              inheritSourceKeywords: event.operation?.data?.inheritSourceKeywords !== false,
              urlPlaceholders: (window.app && window.app.normalizePlaceholderList)
                ? window.app.normalizePlaceholderList(event.operation?.data?.urlPlaceholders || [])
                : (event.operation?.data?.urlPlaceholders || []),
              // Ensure reactive UI properties
              editing: false,
              isMouseOver: false
            };
            if (window.app && window.app.normalizeLinkDataForItemType) {
              window.app.normalizeLinkDataForItemType(newLink, rawItemType);
            }
            // Use Vue's reactivity to add the link
            if (window.app && window.app.$set) {
              window.app.$set(group.links, group.links.length, newLink);
            } else {
              group.links.push(newLink);
            }
            group.version = (group.version || 0) + 1;
            debugLog('log', '[EVENT-LOG] Applied link-add', newLink.uuid);
            break;
            
          case 'link-edit':
            // Support both linkId formats
            const editLinkId = event.operation.linkId || event.operation.data?.linkId || event.operation.data?.uuid;
            const linkToEdit = group.links?.find(l => l.uuid === editLinkId);
            if (linkToEdit) {
              // Use Vue's reactivity for updates
              if (window.app && window.app.$set) {
                Object.keys(event.operation.data).forEach(key => {
                  // Skip linkId/uuid in data to avoid overwriting
                  if (key !== 'linkId' && key !== 'uuid') {
                    const nextValue = (key === 'urlPlaceholders' && window.app.normalizePlaceholderList)
                      ? window.app.normalizePlaceholderList(event.operation.data[key] || [])
                      : event.operation.data[key];
                    window.app.$set(linkToEdit, key, nextValue);
                  }
                });
                if (window.app.normalizeLinkDataForItemType) {
                  const fallbackType = window.app.normalizeLinkItemType
                    ? window.app.normalizeLinkItemType(linkToEdit)
                    : (linkToEdit.refTargetUuid ? 'ref' : 'link');
                  window.app.normalizeLinkDataForItemType(linkToEdit, fallbackType);
                }
              } else {
                Object.assign(linkToEdit, event.operation.data);
              }
              group.version = (group.version || 0) + 1;
              debugLog('log', '[EVENT-LOG] Applied link-edit', editLinkId);
            }
            break;
            
          case 'link-delete':
            // Support both linkId formats
            const deleteLinkId = event.operation.linkId || event.operation.data?.linkId || event.operation.data?.uuid;
            const idx = group.links?.findIndex(l => l.uuid === deleteLinkId);
            if (idx >= 0) {
              group.links.splice(idx, 1);
              group.version = (group.version || 0) + 1;
              debugLog('log', '[EVENT-LOG] Applied link-delete', deleteLinkId);
              // Trigger Vue update
              if (window.app && window.app.$forceUpdate) {
                try { window.app.$forceUpdate(); } catch {}
              }
            }
            break;
            
          case 'snapshot':
            // Full snapshot replacement
            if (event.operation.data) {
              const snapshotLinks = event.operation.data.links || [];
              group.links = (window.app && window.app.normalizeLinkDataForItemType)
                ? snapshotLinks.map((link) => window.app.normalizeLinkDataForItemType(Object.assign({}, link), (window.app.normalizeLinkItemType ? window.app.normalizeLinkItemType(link) : 'link')))
                : snapshotLinks;
              group.urlPlaceholders = (window.app && window.app.normalizePlaceholderList)
                ? window.app.normalizePlaceholderList(event.operation.data.urlPlaceholders || [])
                : (event.operation.data.urlPlaceholders || []);
              group.linkedCollapseGroupUuids = (window.app && window.app.normalizeLinkedCollapseGroupUuidList)
                ? window.app.normalizeLinkedCollapseGroupUuidList(event.operation.data.linkedCollapseGroupUuids || [], group.uuid || '')
                : (event.operation.data.linkedCollapseGroupUuids || []);
              group.linkedCollapseOnCloseGroupUuids = (window.app && window.app.normalizeLinkedCollapseGroupUuidList)
                ? window.app.normalizeLinkedCollapseGroupUuidList(event.operation.data.linkedCollapseOnCloseGroupUuids || [], group.uuid || '')
                : (event.operation.data.linkedCollapseOnCloseGroupUuids || []);
              if (window.app && window.app.applyLinkedCollapseAssignmentsForGroup) {
                try {
                  window.app.applyLinkedCollapseAssignmentsForGroup(
                    group,
                    group.linkedCollapseGroupUuids || [],
                    group.linkedCollapseOnCloseGroupUuids || [],
                    Date.now()
                  );
                } catch {}
              }
              group.version = event.operation.data.version || 0;
              debugLog('log', '[EVENT-LOG] Applied snapshot');
            }
            break;
        }
        
        // Update vector clock
        if (event.vectorClock) {
          if (!group.vectorClock) group.vectorClock = {};
          Object.assign(group.vectorClock, event.vectorClock);
        }
        
        // Check if we need a snapshot
        if (this.shouldCreateSnapshot(group)) {
          this.createSnapshot(group);
        }
        
        return true;
      }
      
      findMissingEvents(group, remoteVectorClock) {
        if (!group.eventLog || !remoteVectorClock) return [];
        
        const missing = [];
        for (const event of group.eventLog) {
          if (event.author && 
              (!remoteVectorClock[event.author] || 
               remoteVectorClock[event.author] < (event.vectorClock?.[event.author] || 0))) {
            missing.push(event);
          }
        }
        
        return missing;
      }
      
      // Conflict Resolution Methods
      detectConflict(localEvent, remoteEvent) {
        // Check if two events conflict
        if (!localEvent || !remoteEvent) return false;
        
        // Different operation types on same entity
        if (localEvent.operation?.linkId === remoteEvent.operation?.linkId) {
          // Check if events are concurrent using vector clocks
          const localVC = new VectorClock();
          localVC.clock = localEvent.vectorClock || {};
          const remoteVC = new VectorClock();
          remoteVC.clock = remoteEvent.vectorClock || {};
          
          return localVC.isConcurrent(remoteVC);
        }
        
        return false;
      }
      
      resolveConflict(localEvent, remoteEvent, strategy = 'last-write-wins') {
        debugLog('log', '[CONFLICT] Resolving conflict', {
          local: localEvent.eventId,
          remote: remoteEvent.eventId,
          strategy
        });
        
        switch (strategy) {
          case 'last-write-wins':
            // Use timestamp to determine winner
            const localTime = localEvent.timestamp || 0;
            const remoteTime = remoteEvent.timestamp || 0;
            
            if (remoteTime > localTime) {
              return remoteEvent;
            } else if (localTime > remoteTime) {
              return localEvent;
            } else {
              // Same timestamp - use author UUID as tiebreaker for consistency
              return (remoteEvent.author || '') > (localEvent.author || '') ? remoteEvent : localEvent;
            }
            
          case 'owner-wins':
            // Owner changes always win
            if (remoteEvent.authorRole === 'owner') return remoteEvent;
            if (localEvent.authorRole === 'owner') return localEvent;
            // Fall back to last-write-wins
            return this.resolveConflict(localEvent, remoteEvent, 'last-write-wins');
            
          case 'merge':
            // For edit operations, try to merge changes
            if (localEvent.operation?.type === 'link-edit' && 
                remoteEvent.operation?.type === 'link-edit' &&
                localEvent.operation?.linkId === remoteEvent.operation?.linkId) {
              
              // Merge the changes
              const mergedData = { ...localEvent.operation.data };
              
              // For each field, use the most recent change
              Object.keys(remoteEvent.operation.data || {}).forEach(field => {
                // Compare field-level timestamps if available
                const localFieldTime = localEvent.fieldTimestamps?.[field] || localEvent.timestamp;
                const remoteFieldTime = remoteEvent.fieldTimestamps?.[field] || remoteEvent.timestamp;
                
                if (remoteFieldTime >= localFieldTime) {
                  mergedData[field] = remoteEvent.operation.data[field];
                }
              });
              
              // Create merged event
              return {
                ...remoteEvent,
                operation: {
                  ...remoteEvent.operation,
                  data: mergedData
                },
                merged: true,
                mergedFrom: [localEvent.eventId, remoteEvent.eventId]
              };
            }
            
            // For non-mergeable operations, use last-write-wins
            return this.resolveConflict(localEvent, remoteEvent, 'last-write-wins');
            
          default:
            return this.resolveConflict(localEvent, remoteEvent, 'last-write-wins');
        }
      }
      
      // Check if an operation is still valid given current state
      validateOperation(group, event) {
        if (!event?.operation) return false;
        
        const op = event.operation;
        
        switch (op.type) {
          case 'link-edit':
          case 'link-delete':
            // Check if link still exists - support both linkId formats
            const linkId = op.linkId || op.data?.linkId || op.data?.uuid;
            const link = group.links?.find(l => l.uuid === linkId);
            if (!link) {
              debugLog('warn', '[CONFLICT] Operation invalid - link not found', linkId);
              return false;
            }
            // For edits, check if link hasn't been deleted
            if (link.deleted && op.type === 'link-edit') {
              debugLog('warn', '[CONFLICT] Cannot edit deleted link', linkId);
              return false;
            }
            break;
            
          case 'link-add':
            // Check for duplicate UUIDs - support both linkId formats
            const addLinkId = op.linkId || op.data?.linkId || op.data?.uuid;
            if (group.links?.some(l => l.uuid === addLinkId)) {
              debugLog('warn', '[CONFLICT] Link with UUID already exists', addLinkId);
              return false;
            }
            break;
        }
        
        return true;
      }
      
      // Apply remote event with conflict detection
      applyRemoteEvent(group, remoteEvent, conflictStrategy = 'last-write-wins') {
        // Check for conflicts with recent local events
        const recentLocalEvents = (group.eventLog || [])
          .filter(e => e.timestamp > Date.now() - CONSTS.MINUTE_MS); // Last minute
        
        let hasConflict = false;
        let winningEvent = remoteEvent;
        
        for (const localEvent of recentLocalEvents) {
          if (this.detectConflict(localEvent, remoteEvent)) {
            hasConflict = true;
            winningEvent = this.resolveConflict(localEvent, remoteEvent, conflictStrategy);
            
            if (winningEvent !== remoteEvent) {
              debugLog('log', '[CONFLICT] Local event wins', {
                local: localEvent.eventId,
                remote: remoteEvent.eventId
              });
              return false; // Don't apply remote event
            }
          }
        }
        
        // Validate operation is still applicable
        if (!this.validateOperation(group, winningEvent)) {
          debugLog('warn', '[CONFLICT] Operation no longer valid', winningEvent.eventId);
          return false;
        }
        
	        // Apply the winning event
	        if (hasConflict) {
	          debugLog('log', '[CONFLICT] Applying winning remote event after conflict', winningEvent.eventId);
	          // Notify user of conflict resolution
	          this.notifyConflictResolution(group, winningEvent, 'remote');
	          if (window.app && typeof window.app.queueAutomaticSnapshot === 'function') {
	            try {
	              window.app.queueAutomaticSnapshot('sync-conflict', {
	                silent: true,
	                immediateSave: true
	              });
	            } catch {}
	          }
	        }
        
        return this.applyEvent(group, winningEvent);
      }
      
      // Notify user about conflict resolution
      notifyConflictResolution(group, winningEvent, winner) {
        // Store conflict info for UI notification
        if (!group.conflictNotifications) {
          group.conflictNotifications = [];
        }
        
        group.conflictNotifications.push({
          timestamp: Date.now(),
          eventId: winningEvent.eventId,
          winner: winner,
          operation: winningEvent.operation?.type,
          resolved: true
        });
        
        // Keep only recent notifications
        group.conflictNotifications = group.conflictNotifications
          .filter(n => n.timestamp > Date.now() - 300000); // 5 minutes
        
        // Trigger UI notification check if app is available
        if (window.app && typeof window.app.checkAndShowConflictNotifications === 'function') {
          setTimeout(() => window.app.checkAndShowConflictNotifications(), 100);
        }
      }
      
      isOlderThanSnapshot(memberClock, snapshotClock) {
        if (!memberClock || !snapshotClock) return false;
        
        for (let memberId in snapshotClock) {
          if ((memberClock[memberId] || 0) < snapshotClock[memberId]) {
            return true;
          }
        }
        return false;
      }
    }

    // --- Sharing service (identity, contacts, quick-connect, inbox) ---
    class SharingService {
      constructor(app) {
        this.app = app;
        this.ntfy = new NtfyClient('', '');
        this.pairSubs = new Map();
        this.qcSub = null;
        this.qcSecrets = new Map();
        this.onQcStatus = null;
        this.qcTopic = '';
        this.qcCode = '';
        this.syncResponded = new Set();
        // Chunked transfer reassembly buffers
        this.groupTransfers = new Map(); // transferId -> { groupId, contentType, total, parts: Map, timer, from }
        // Per-topic msgId dedupe
        this.msgIds = new Map(); // topic -> Set(msgId)
      }
      setStatusHandler(fn) { this.onQcStatus = typeof fn === 'function' ? fn : null; }
      get cfg() { return this.app.data.options?.sharing || {}; }
      applyConfig() {
        // Provide sensible default for demos if not configured
        const server = this.cfg.ntfyServerUrl && this.cfg.ntfyServerUrl.trim() ? this.cfg.ntfyServerUrl.trim() : 'https://ntfy.c5p.de';
        this.ntfy.setConfig(server, this.cfg.ntfyAuthToken || '');
      }
      async ensureIdentity() {
        if (!this.app.data.identity?.uuid || !this.app.data.identity?.privKey || !this.app.data.identity?.pubKey) {
          const { pubKeyB64, privKeyB64 } = await CryptoUtil.generateIdentity();
          this.app.$set(this.app.data, 'identity', { uuid: this.uuidv4(), name: this.app.data.identity?.name || '', pubKey: pubKeyB64, privKey: privKeyB64 });
          this.app.saveData();
        }
      }
      uuidv4() { 
        try { 
          // Prefer native crypto.randomUUID
          if (crypto && crypto.randomUUID) {
            return crypto.randomUUID();
          }
          // Fallback to crypto.getRandomValues with proper UUID v4 format
          if (crypto && crypto.getRandomValues) {
            const bytes = new Uint8Array(16);
            crypto.getRandomValues(bytes);
            // Set version (4) and variant bits according to UUID v4 spec
            bytes[6] = (bytes[6] & 0x0f) | 0x40; // Version 4
            bytes[8] = (bytes[8] & 0x3f) | 0x80; // Variant 10
            // Format as UUID string
            const hex = Array.from(bytes, b => b.toString(16).padStart(2, '0')).join('');
            return `${hex.substr(0,8)}-${hex.substr(8,4)}-${hex.substr(12,4)}-${hex.substr(16,4)}-${hex.substr(20,12)}`;
          }
          // Fallback to URL.createObjectURL (still better than timestamp)
          return URL.createObjectURL(new Blob()).split('/').pop();
        } catch (error) { 
          debugLog('error', '[UUID] Failed to generate secure UUID:', error);
          // Last resort with better entropy
          const timestamp = Date.now().toString(36);
          const random1 = Math.random().toString(36).substr(2, 9);
          const random2 = Math.random().toString(36).substr(2, 9);
          const random3 = performance.now().toString(36).substr(2, 5);
          return `${timestamp}-${random1}-${random2}-${random3}`;
        } 
      }
      getContactCard() {
        const id = this.app.data.identity || {};
        return { v: 1, uuid: id.uuid, name: id.name || '', pubKey: id.pubKey };
      }
      async addContactFromCard(card) {
        if (!card || !card.uuid || !card.pubKey) throw new Error('invalid card');
        const exists = (this.app.data.contacts || []).some(c => c.uuid === card.uuid);
        if (!exists) {
          if (!Array.isArray(this.app.data.contacts)) this.app.$set(this.app.data, 'contacts', []);
          this.app.data.contacts.push({ uuid: card.uuid, name: card.name || '', pubKey: card.pubKey, topic: '', kChannelB64: '' });
        }
        
        // Remove from blocked list if previously blocked
        if (this.app.data.blockedContacts?.includes(card.uuid)) {
          const idx = this.app.data.blockedContacts.indexOf(card.uuid);
          if (idx >= 0) {
            this.app.data.blockedContacts.splice(idx, 1);
            debugLog('log', '[CONTACT] Removed from blocked list:', card.uuid);
          }
        }
        
        await this.derivePairwiseFor(card.uuid);
        this.app.saveData();
      }
      async derivePairwiseFor(contactUuid) {
        const me = this.app.data.identity;
        const c = (this.app.data.contacts || []).find(x => x.uuid === contactUuid);
        if (!me || !c) return;
        const pubOther = await CryptoUtil.importPub(c.pubKey);
        const privSelf = await CryptoUtil.importPriv(me.privKey);
        const shared = await CryptoUtil.deriveBits(privSelf, pubOther);
        const { k, topic } = await CryptoUtil.deriveChannel(shared);
        c.topic = topic; c.kChannelB64 = B64.enc(k);
        this.subscribePairwise(c);
      }
      subscribePairwise(contact) {
        if (!contact.topic || !contact.kChannelB64) return;
        if (this.pairSubs.has(contact.topic)) return;
        this.applyConfig();
        const seen = new Set();
        const handles = this.ntfy.subscribe(contact.topic, async (evt) => {
          try {
            const id = evt && evt.id;
            if (id) { if (seen.has(id)) return; seen.add(id); }
            if (evt && evt.event && evt.event !== 'message') return; // ignore non-message events
            const payload = (evt && typeof evt.text === 'string') ? evt.text : (typeof evt === 'string' ? evt : '');
            if (!payload || !/^[A-Za-z0-9_\-]+$/.test(payload)) return; // only accept base64url bodies
            const env = await CryptoUtil.aesDecrypt(B64.dec(contact.kChannelB64), payload);
            this.onEnvelope(env, { scope: 'pair', contact, id });
          } catch (e) { debugLog('warn', 'pair decrypt failed', e); }
        });
        this.pairSubs.set(contact.topic, { handles, seen });
      }
      // --- Chunked send helper ---
      async sendChunkedGroup(group, contentType, envelopeObj) {
        try {
          const json = JSON.stringify(envelopeObj);
          // compute sha256 over UTF-8 bytes to validate on receiver
          let sha256 = '';
          try {
            const bytes = new TextEncoder().encode(json);
            const digest = await crypto.subtle.digest('SHA-256', bytes);
            sha256 = B64.enc(new Uint8Array(digest));
          } catch (e) { debugLog('warn', '[SYNC] sha256 failed', e); }
          // encode to base64url chunks without padding (supports Unicode)
          const b64 = B64.enc(new TextEncoder().encode(json));
          const chunkSize = CONSTS.NTFY_CHUNK_SIZE; // ~80KB per chunk
          const total = Math.ceil(b64.length / chunkSize);
          const transferId = (Math.random().toString(36).slice(2)+Date.now());
          const from = { uuid: this.app.data.identity?.uuid, name:this.app.data.identity?.name||'' };
          for (let i=0;i<total;i++) {
            const part = b64.slice(i*chunkSize, (i+1)*chunkSize);
            const chunkEnv = { v:1, type:'sync-chunk', ts:Date.now(), from, groupId: group.groupId, transferId, seq:i, total, contentType, payloadB64: part, msgId:(Math.random().toString(36).slice(2)+Date.now()) };
            await this.sendToGroup(group, chunkEnv);
          }
          const doneEnv = { v:1, type:'sync-chunks-done', ts:Date.now(), from, groupId: group.groupId, transferId, total, contentType, sha256, msgId:(Math.random().toString(36).slice(2)+Date.now()) };
          await this.sendToGroup(group, doneEnv);
        } catch(e) {
          try { debugLog('warn','[SYNC] sendChunkedGroup failed', e); } catch {}
        }
      }

      // --- Chunked send helper over pairwise channel ---
      async sendChunkedToContact(contactUuid, contentType, envelopeObj) {
        try {
          const json = JSON.stringify(envelopeObj);
          // compute sha256 over UTF-8 bytes to validate on receiver
          let sha256 = '';
          try {
            const bytes = new TextEncoder().encode(json);
            const digest = await crypto.subtle.digest('SHA-256', bytes);
            sha256 = B64.enc(new Uint8Array(digest));
          } catch (e) { debugLog('warn', '[SYNC] sha256 failed', e); }
          // encode to base64url chunks without padding (supports Unicode)
          const b64 = B64.enc(new TextEncoder().encode(json));
          const chunkSize = CONSTS.NTFY_CHUNK_SIZE; // ~80KB per chunk
          const total = Math.ceil(b64.length / chunkSize);
          const transferId = (Math.random().toString(36).slice(0,8) + Date.now());
          const from = { uuid: this.app.data.identity?.uuid, name:this.app.data.identity?.name||'' };
          for (let i=0;i<total;i++) {
            const part = b64.slice(i*chunkSize, (i+1)*chunkSize);
            const chunkEnv = { v:1, type:'sync-chunk', ts:Date.now(), from, transferId, seq:i, total, contentType, payloadB64: part, msgId:(Math.random().toString(36).slice(2)+Date.now()) };
            await this.sendToContact(contactUuid, chunkEnv);
          }
          const doneEnv = { v:1, type:'sync-chunks-done', ts:Date.now(), from, transferId, total, contentType, sha256, msgId:(Math.random().toString(36).slice(2)+Date.now()) };
          await this.sendToContact(contactUuid, doneEnv);
        } catch (e) {
          try { debugLog('warn','[SYNC] sendChunkedToContact failed', e); } catch {}
        }
      }
      unsubscribePairwise(contact) {
        if (!contact.topic) return;
        const sub = this.pairSubs.get(contact.topic);
        if (sub) {
          try {
            // Close the subscription
            if (sub.handles) {
              this.ntfy.unsubscribe(contact.topic);
            }
            // Remove from map
            this.pairSubs.delete(contact.topic);
            debugLog('log', '[PAIR] Unsubscribed from contact topic:', contact.topic);
          } catch (e) {
            debugLog('error', '[PAIR] Failed to unsubscribe:', e);
          }
        }
      }
      async sendToContact(contactUuid, envelope) {
        const c = (this.app.data.contacts || []).find(x => x.uuid === contactUuid);
        if (!c || !c.kChannelB64 || !c.topic) throw new Error('no channel');
        // Ensure minimal envelope fields
        const env = (envelope && envelope.v && envelope.ts && envelope.msgId) ? envelope : MB.Sync.buildEnvelope(this.app, envelope?.type || 'message', envelope);
        const b64 = await CryptoUtil.aesEncrypt(B64.dec(c.kChannelB64), env);
        await this.ntfy.publish(c.topic, b64, this.cfg.defaultTtl || undefined);
      }
      // --- Group sharing ---
      genGroupId() { return this.uuidv4(); }
      genGroupKeyB64() { const k=new Uint8Array(32); crypto.getRandomValues(k); return B64.enc(k); }
      genGroupTopic() { const seed=new Uint8Array(16); crypto.getRandomValues(seed); return (this.app.data.options?.groupSharing?.topicPrefix || 'mb-g-') + B64.enc(seed).slice(0,12); }
      async sendToGroup(group, envelope) {
        if (!group?.groupTopic || !group?.groupKey) throw new Error('group not shared');
        // Ensure minimal envelope fields and groupId
        const env = (envelope && envelope.v && envelope.ts && envelope.msgId) ? Object.assign({ groupId: group.groupId }, envelope) : MB.Sync.buildEnvelope(this.app, envelope?.type || 'message', Object.assign({ groupId: group.groupId }, envelope || {}));
        // Debug logging - errors can be ignored
        try { debugLog('log', '[SYNC] sendToGroup', { topic: group.groupTopic, groupId: group.groupId, type: env?.type, from: this.app.data.identity?.uuid }); } catch (e) { /* Console error */ }
        const b64 = await CryptoUtil.aesEncrypt(B64.dec(group.groupKey), env);
        try {
          await this.ntfy.publish(group.groupTopic, b64, this.cfg.defaultTtl || undefined);
          try { debugLog('log', '[SYNC] publish ok', { type: env?.type, topic: group.groupTopic }); } catch {}
        } catch (e) {
          debugLog('warn', '[SYNC] publish failed', e);
          throw e;
        }
      }
      subscribeGroup(group, skipUpdateRequest = false) {
        if (!group?.groupTopic || !group?.groupKey) return;
        if (!this.groupSubs) this.groupSubs = new Map();
        if (this.groupSubs.has(group.groupTopic)) {
          debugLog('log', '[SYNC] Already subscribed to group', group.groupTopic);
          return;
        }
        this.applyConfig();
        
        // Check if NTFY is properly configured
        if (!this.ntfy.valid) {
          debugLog('warn', '[SYNC] NTFY not configured, cannot subscribe to group', group.groupTopic);
          return;
        }
        
        try { debugLog('log', '[SYNC] subscribeGroup start', { 
          topic: group.groupTopic, 
          groupId: group.groupId,
          ntfyServer: this.ntfy.serverUrl,
          hasToken: !!this.ntfy.token
        }); } catch (error) {
          debugLog('error', '[Sharing] Failed to subscribe to group:', error);
        }
        
        const seen = new Set();
        const handles = this.ntfy.subscribe(group.groupTopic, async (evt) => {
          try {
            const id = evt && evt.id; 
            if (id) { 
              if (seen.has(id)) { 
                try { debugLog('log', '[SYNC] drop duplicate ntfy id', id); } catch {} 
                return; 
              } 
              seen.add(id); 
            }
            if (evt && evt.event && evt.event !== 'message') { 
              try { debugLog('log', '[SYNC] skip non-message event', evt.event); } catch {} 
              return; 
            }
            const payload = (evt && typeof evt.text === 'string') ? evt.text : (typeof evt === 'string' ? evt : '');
            
            // Check if this is an attachment notification (not our encrypted message)
            if (payload && payload.includes('attachment.txt')) {
              try { 
                debugLog('log', '[SYNC] Skipping NTFY attachment notification:', payload); 
              } catch {} 
              return;
            }
            
            if (!payload || !/^[A-Za-z0-9_\-]+$/.test(payload)) { 
              try { 
                debugLog('log', '[SYNC] skip non-b64url payload', {
                  hasPayload: !!payload,
                  payloadType: typeof payload,
                  payloadLength: payload ? payload.length : 0,
                  payloadSample: payload ? payload.substring(0, 50) : 'none',
                  eventType: evt?.event,
                  hasMessage: !!evt?.message
                }); 
              } catch {} 
              return; 
            }
            const env = await CryptoUtil.aesDecrypt(B64.dec(group.groupKey), payload);
            try { debugLog('log', '[SYNC] recv envelope', { type: env?.type, from: env?.from?.uuid, groupId: env?.groupId }); } catch {}
            // Envelope-level dedup by msgId per topic
            if (env && env.msgId) {
              const topic = group.groupTopic;
              let set = this.msgIds.get(topic);
              if (!set) { set = new Set(); this.msgIds.set(topic, set); }
              if (set.has(env.msgId)) { debugLog('log', '[SYNC] drop duplicate msgId', env.msgId); return; }
              set.add(env.msgId);
            }
            
            // Use the current group from data.groups, not the old reference
            // Always pass the original group to handleGroupEnvelope
            // The handleGroupEnvelope will find the current group internally
            this.handleGroupEnvelope(group, env);
          } catch(e){ 
            debugLog('warn', 'group decrypt failed', e); 
          }
        });
        
        this.groupSubs.set(group.groupTopic, { handles, seen });
        debugLog('log', '[SYNC] Subscription created for group', group.groupTopic);
        
        // Request a full update after subscribing (covers offline gaps) - but skip if caller will do it
        if (!skipUpdateRequest) {
          // Add a small delay to ensure subscription is fully established
          setTimeout(() => {
            try {
              const from = { uuid: this.app.data.identity?.uuid, name:this.app.data.identity?.name||'' };
              try { debugLog('log', '[SYNC] send group-update-request after subscribe', { topic: group.groupTopic, groupId: group.groupId }); } catch {}
              this.sendToGroup(group, { v:1, type:'group-update-request', ts:Date.now(), from, groupId: group.groupId, msgId:(Math.random().toString(36).slice(2)+Date.now()) });
            } catch(e) {
              debugLog('warn', '[SYNC] Failed to send update request after subscribe', e);
            }
          }, 500);
        }
      }
      async handleGroupEnvelope(group, env) {
        if (!env || !env.type) { try { debugLog('log', '[SYNC] ignore envelope without type'); } catch {} return; }
        if (env.msgId && this.app.processedMsgIds && this.app.processedMsgIds.has(env.msgId)) { try { debugLog('log', '[SYNC] drop duplicate msgId', env.msgId); } catch {} return; }
        if (env.msgId && this.app.processedMsgIds) this.app.processedMsgIds.add(env.msgId);
        // Ignore our own outbound messages to prevent echo/duplication
        try { if (env.from && env.from.uuid && this.app.data.identity && env.from.uuid === this.app.data.identity.uuid) { try { debugLog('log', '[SYNC] drop self-echo'); } catch {} return; } } catch {}

        // Chunked sync reassembly
        if (env.type === 'sync-chunk' || env.type === 'sync-chunks-done') {
          try {
            const tId = env.transferId;
            if (!tId) return;
            let buf = this.groupTransfers.get(tId);
            if (!buf) {
              // Enforce max concurrent transfers
              if (this.groupTransfers.size >= CONSTS.MAX_CONCURRENT_TRANSFERS) {
                debugLog('warn', '[SYNC] dropping chunk: too many concurrent transfers');
                return;
              }
              buf = { groupId: env.groupId, contentType: env.contentType || 'snapshot', total: env.total || 0, parts: new Map(), timer: null, from: env.from?.uuid, bytes: 0 };
              this.groupTransfers.set(tId, buf);
              // Timeout cleanup
              buf.timer = setTimeout(() => { this.groupTransfers.delete(tId); }, CONSTS.MINUTE_MS);
            }
            if (env.type === 'sync-chunk') {
              if (typeof env.seq === 'number' && typeof env.payloadB64 === 'string') {
                buf.parts.set(env.seq, env.payloadB64);
                buf.bytes += env.payloadB64.length;
                // Size cap safety
                if (buf.bytes > CONSTS.MAX_TRANSFER_SIZE) {
                  debugLog('warn', '[SYNC] dropping transfer: size exceeds cap');
                  clearTimeout(buf.timer);
                  this.groupTransfers.delete(tId);
                  return;
                }
                if (env.total && !buf.total) buf.total = env.total;
                // Early assemble if all parts are present (in case DONE is lost)
                if (buf.total && buf.parts.size === buf.total) {
                  const ordered = Array.from({ length: buf.total }, (_, i) => buf.parts.get(i) || '');
                  try {
                    const bytes = B64.dec(ordered.join(''));
                    const json = new TextDecoder().decode(bytes);
                    const fullEnv = JSON.parse(json);
                    const g = (this.app.data.groups || []).find(x => x.groupId === (fullEnv.groupId || buf.groupId));
                    if (g) this.handleGroupEnvelope(g, fullEnv);
                  } catch (e) { debugLog('warn','[SYNC] early chunk reassembly failed', e); }
                  if (buf.timer) clearTimeout(buf.timer);
                  this.groupTransfers.delete(tId);
                }
              }
              return; // wait for DONE (or already assembled)
            }
            if (env.type === 'sync-chunks-done') {
              // assemble if complete
              const total = buf.total || env.total || 0;
              const have = buf.parts.size;
              if (total > 0 && have === total) {
              const ordered = Array.from({ length: total }, (_, i) => buf.parts.get(i) || '');
              let joined = ordered.join('');
              try {
                  // Decode base64url to bytes, then UTF-8 to string
                  const bytes = B64.dec(joined);
                  const json = new TextDecoder().decode(bytes);
                  // optional integrity check if sha256 present
                  if (typeof env.sha256 === 'string' && env.sha256) {
                    try {
                      const encBytes = new TextEncoder().encode(json);
                      const digest = await crypto.subtle.digest('SHA-256', encBytes);
                      const hashB64 = B64.enc(new Uint8Array(digest));
                      if (hashB64 !== env.sha256) {
                        debugLog('warn','[SYNC] chunk hash mismatch  dropping transfer');
                        if (buf.timer) clearTimeout(buf.timer);
                        this.groupTransfers.delete(tId);
                        return;
                      }
                    } catch (e) { debugLog('warn','[SYNC] sha256 verify failed', e); }
                  }
                  const fullEnv = JSON.parse(json);
                  // Dispatch reconstructed envelope
                  const g = (this.app.data.groups || []).find(x => x.groupId === (fullEnv.groupId || buf.groupId));
                  if (g) this.handleGroupEnvelope(g, fullEnv);
                } catch (e) { debugLog('warn','[SYNC] chunk reassembly failed', e); }
              } else {
                debugLog('warn', '[SYNC] chunks-done but parts missing', { have, total });
              }
              // cleanup
              if (buf.timer) clearTimeout(buf.timer);
              this.groupTransfers.delete(tId);
              return;
            }
          } catch (e) { debugLog('warn', '[SYNC] envelope handling error', e); }
        }
        
        // Handle Event-Log activation message
        if (env.type === 'event-log-activation') {
          debugLog('log', '[EVENT-LOG] Received activation message from owner', { 
            groupId: env.groupId, 
            from: env.from?.uuid 
          });
          
          const g = (this.app.data.groups || []).find(x => x.groupId === env.groupId);
          if (g && !g.useEventLog) {
            // Owner has activated event-log, members should adopt it
            debugLog('log', '[EVENT-LOG] Adopting event-log for group', g.name);
            
            // Use complete event-log data if provided, otherwise use migration snapshot
            if (env.eventLog && env.eventLog.length > 0) {
              debugLog('log', '[EVENT-LOG] Applying complete event-log from owner', {
                eventCount: env.eventLog.length,
                hasSnapshot: !!env.snapshot
              });
              this.app.$set(g, 'eventLog', env.eventLog);
              this.app.$set(g, 'snapshot', env.snapshot || null);
              this.app.$set(g, 'headEventId', env.headEventId || env.eventLog[env.eventLog.length - 1].eventId);
              this.app.$set(g, 'vectorClock', env.vectorClock || {});
              this.app.$set(g, 'useEventLog', true);
            } else if (env.migrationSnapshot) {
              // Fallback to migration snapshot if no complete event-log
              const migrationEvent = {
                eventId: env.migrationSnapshot.eventId,
                parentId: null,
                timestamp: env.migrationSnapshot.timestamp,
                author: 'owner-migration',
                vectorClock: { 'system': 1 },
                operation: {
                  type: 'snapshot',
                  data: env.migrationSnapshot.data
                }
              };
              
              this.app.$set(g, 'eventLog', [migrationEvent]);
              this.app.$set(g, 'headEventId', migrationEvent.eventId);
              this.app.$set(g, 'vectorClock', { 'system': 1 });
              this.app.$set(g, 'useEventLog', true);
              
              debugLog('log', '[EVENT-LOG] Member adopted event-log for group', g.groupId);
              this.app.saveData();
              
              // Force UI update
              try { this.app.$forceUpdate(); } catch {}
            }
          }
          return;
        }
        
        // Handle Event-Log sync events
        else if (env.type === 'sync-event') {
          debugLog('log', '[EVENT-LOG] Received sync-event', {
            groupId: env.groupId,
            eventType: env.event?.operation?.type,
            from: env.from?.uuid
          });

          const g = (this.app.data.groups || []).find(x => x.groupId === env.groupId);
          
          // If group doesn't have event-log enabled yet but receives events, enable it
          if (g && !g.useEventLog && env.event) {
            debugLog('log', '[EVENT-LOG] Enabling event-log for group due to received event', g.name);
            this.app.$set(g, 'useEventLog', true);
            if (!g.eventLog) {
              this.app.$set(g, 'eventLog', []);
            }
            if (!g.vectorClock) {
              this.app.$set(g, 'vectorClock', {});
            }
          }
          
          if (g && g.useEventLog && env.event) {
            // Fork detection via vector clock comparison
            try {
              const localVC = g.vectorClock || {};
              const remoteVC = env.event.vectorClock || {};
              const rel = EventLogManager.compareVectorClocks(localVC, remoteVC);
              if (rel === 'concurrent') {
                // Mark local flag and alert owner to send a snapshot
                this.app.$set(g, 'forkDetected', true);
                const from = { uuid: this.app.data.identity?.uuid, name: this.app.data.identity?.name||'' };
                const alert = { v:1, type:'sync-fork-alert', ts:Date.now(), from, groupId: g.groupId, headVC: localVC, msgId:(Math.random().toString(36).slice(2)+Date.now()) };
                this.sendToGroup(g, alert).catch(()=>{});
              }
            } catch {}
            // Determine conflict resolution strategy based on group settings and user options
            let strategy = 'last-write-wins'; // Default
            
            // Check if user is owner and has configured a strategy
            if (this.app.isOwnerOfGroup(g)) {
              strategy = this.app.data.options?.sync?.conflictResolution || 'last-write-wins';
            } else {
              // Members always use last-write-wins unless group has specific setting
              strategy = g.conflictResolution || 'last-write-wins';
            }
            
            // Apply the event using EventLogManager with conflict detection
            const applied = this.app.eventLogManager.applyRemoteEvent(g, env.event, strategy);
            
            if (applied) {
              debugLog('log', '[EVENT-LOG] Applied event to group', g.name);
              this.app.saveData();
              
              // Check for conflict notifications to show to user
              if (g.conflictNotifications?.length > 0) {
                const recentConflicts = g.conflictNotifications.filter(
                  n => n.timestamp > Date.now() - 5000 // Last 5 seconds
                );
                if (recentConflicts.length > 0) {
                  debugLog('info', '[CONFLICT] Conflicts resolved automatically', {
                    count: recentConflicts.length,
                    strategy: strategy
                  });
                }
              }
              
              try { this.app.$forceUpdate(); } catch {}
            } else {
              debugLog('warn', '[EVENT-LOG] Event not applied (conflict or invalid)', {
                eventId: env.event.eventId,
                from: env.from?.uuid
              });
            }
          }
          return;
        }

        // Fork alert: owner prepares a consistent snapshot and rebases members
	        else if (env.type === 'sync-fork-alert') {
	          try { debugLog('log', '[SMART-SYNC] Fork alert received', { from: env.from?.uuid, groupId: env.groupId }); } catch {}
	          const g = (this.app.data.groups || []).find(x => x.groupId === env.groupId);
	          if (!g) return;
	          if (this.app && typeof this.app.queueAutomaticSnapshot === 'function') {
	            try {
	              this.app.queueAutomaticSnapshot('sync-conflict', {
	                silent: true,
	                immediateSave: true
	              });
	            } catch {}
	          }
	          if (!this.app.isOwnerOfGroup(g)) return; // Only owner responds
	          try {
            // Generate/ensure snapshot
            const snap = this.app.eventLogManager.createSnapshot(g);
            const eventsSince = Array.isArray(g.eventLog) ? g.eventLog.slice() : [];
            const from = { uuid: this.app.data.identity?.uuid, name:this.app.data.identity?.name||'' };
            const envSnap = { v:1, type:'sync-snapshot', ts:Date.now(), from, groupId: g.groupId, baseVC: snap.vectorClock||{}, snapshot: snap, eventsSince, msgId:(Math.random().toString(36).slice(2)+Date.now()) };
            // Choose chunked path for large payloads
            const raw = JSON.stringify(envSnap);
            if (raw.length > 100000) {
              await this.sendChunkedGroup(g, 'snapshot', envSnap);
            } else {
              await this.sendToGroup(g, envSnap);
            }
          } catch(e) { debugLog('warn','[SMART-SYNC] Failed to send sync-snapshot', e); }
          return;
        }

        // Apply snapshot and optional delta events
        else if (env.type === 'sync-snapshot') {
          try { debugLog('log', '[SMART-SYNC] Applying snapshot', { groupId: env.groupId }); } catch {}
          const g = (this.app.data.groups || []).find(x => x.groupId === env.groupId);
          if (!g) return;
          try {
            // Replace state from snapshot
            const snap = env.snapshot || {};
            const d = snap.data || {};
            if (Array.isArray(d.links)) {
              const links = JSON.parse(JSON.stringify(d.links));
              links.forEach((l) => {
                l.urlPlaceholders = this.app.normalizePlaceholderList(l.urlPlaceholders || []);
                if (l.inheritSourceKeywords === undefined && l.refTargetUuid) l.inheritSourceKeywords = true;
              });
              this.app.$set(g, 'links', links);
            }
            if (Array.isArray(d.members)) this.app.$set(g, 'members', JSON.parse(JSON.stringify(d.members)));
            if (d.name !== undefined) this.app.$set(g, 'name', d.name);
            if (d.color !== undefined) this.app.$set(g, 'color', d.color);
            if (d.urlPlaceholders !== undefined) this.app.$set(g, 'urlPlaceholders', this.app.normalizePlaceholderList(d.urlPlaceholders || []));
            if (d.linkedCollapseGroupUuids !== undefined || d.linkedCollapseOnCloseGroupUuids !== undefined) {
              const normalizedLinked = this.app.normalizeLinkedCollapseGroupUuidList(
                d.linkedCollapseGroupUuids !== undefined ? (d.linkedCollapseGroupUuids || []) : (g.linkedCollapseGroupUuids || []),
                g.uuid || ''
              );
              const normalizedLinkedOnClose = this.app.normalizeLinkedCollapseGroupUuidList(
                d.linkedCollapseOnCloseGroupUuids !== undefined ? (d.linkedCollapseOnCloseGroupUuids || []) : (g.linkedCollapseOnCloseGroupUuids || []),
                g.uuid || ''
              );
              this.app.$set(g, 'linkedCollapseGroupUuids', normalizedLinked);
              this.app.$set(g, 'linkedCollapseOnCloseGroupUuids', normalizedLinkedOnClose);
              this.app.applyLinkedCollapseAssignmentsForGroup(g, normalizedLinked, normalizedLinkedOnClose, Date.now());
            }
            this.app.$set(g, 'version', d.version || 0);
            this.app.$set(g, 'vectorClock', snap.vectorClock || {});
            this.app.$set(g, 'headEventId', snap.eventId || null);
            // Reset event log to eventsSince
            const eventsSince = Array.isArray(env.eventsSince) ? env.eventsSince : [];
            this.app.$set(g, 'eventLog', []);
            for (const ev of eventsSince) {
              try { this.app.eventLogManager.applyEvent(g, ev); } catch {}
            }
            this.app.$set(g, 'forkDetected', false);
            this.app.saveData();
            try { this.app.$forceUpdate(); } catch {}
          } catch(e) { debugLog('warn', '[SMART-SYNC] Snapshot apply failed', e); }
          return;
        }

        // Ownership transfer
        else if (env.type === 'owner-transfer') {
          const g = (this.app.data.groups || []).find(x => x.groupId === env.groupId);
          if (!g) return;
          // Validate that the sender is current owner
          if (env.from?.uuid && g.ownerUuid && env.from.uuid !== g.ownerUuid) return;
          // Ask the designated new owner to accept; others do nothing and wait for roster
          const my = this.app.data.identity?.uuid;
          if (my && my === env.newOwnerUuid) {
            const ok = confirm(this.app.getTranslation('dialog.transfer.acceptPrompt') || 'Owner transfer requested. Accept?');
            if (!ok) {
              // Optionally notify rejection
              try { const rej = { v:1, type:'owner-transfer-reject', ts:Date.now(), from:{uuid:my,name:this.app.data.identity?.name||''}, groupId: env.groupId, msgId:(Math.random().toString(36).slice(2)+Date.now()) }; this.sendToGroup(g, rej); } catch {}
              return;
            }
            // Apply locally and broadcast roster as the new owner
            this.app.$set(g, 'ownerUuid', env.newOwnerUuid);
            if (Array.isArray(g.members)) {
              g.members = g.members.map(m => {
                if (m.uuid === env.newOwnerUuid) return Object.assign({}, m, { role: 'owner' });
                if (m.role === 'owner') return Object.assign({}, m, { role: 'member' });
                return m;
              });
              const from = { uuid: my, name: this.app.data.identity?.name||'' };
              const roster = { v:1, type:'group-roster', ts:Date.now(), from, groupId: g.groupId, members: g.members, groupOwnerUuid: env.newOwnerUuid };
              await this.sendToGroup(g, roster);
            }
            this.app.saveData();
            try { this.app.$forceUpdate(); } catch {}
          }
          return;
        }

        // Identity migration
        else if (env.type === 'identity-migrate') {
          const oldId = env.from?.oldUuid;
          const newId = env.from?.newUuid;
          if (!oldId || !newId) return;
          // Update contacts
          try {
            const c = (this.app.data.contacts||[]).find(x => x.uuid === oldId);
            if (c) c.uuid = newId;
          } catch {}
          // Update group rosters (owner action authoritative)
          (this.app.data.groups||[]).forEach(g => {
            const m = Array.isArray(g.members) ? g.members.find(x => x.uuid === oldId) : null;
            if (m) m.uuid = newId;
          });
          this.app.saveData();
          return;
        }
      
        // Handle Smart Sync protocol messages
        else if (env.type === 'sync-version-check') {
          debugLog('log', '[SMART-SYNC] Received version check request', { from: env.from?.uuid, groupId: env.groupId });
          await this.app.handleSyncVersionCheck(env, env.from?.uuid);
          return;
        } else if (env.type === 'sync-version-response') {
          debugLog('log', '[SMART-SYNC] Received version response', { from: env.from?.uuid, version: env.myVersion });
          this.app.handleSyncVersionResponse(env);
          return;
        } else if (env.type === 'sync-request-full') {
          debugLog('log', '[SMART-SYNC] Received full update request', { from: env.from?.uuid, toMember: env.toMember });
          if (env.toMember === this.app.data.identity?.uuid) {
            await this.app.handleSyncFullRequest(env);
          }
          return;
        } else if (env.type === 'sync-full-update') {
          debugLog('log', '[SMART-SYNC] Received full update', { from: env.from?.uuid, version: env.version });
          await this.app.handleSyncFullUpdate(env);
          return;
        } else if (env.type === 'sync-request-any') {
          debugLog('log', '[SMART-SYNC] Received broadcast update request', { from: env.from?.uuid });
          await this.app.handleSyncBroadcastRequest(env);
          return;
        }
        
        if (env.type === 'group-meta') {
          // Find group by groupId (for shared groups only - no fallback)
          if (!group.groupId) return; // Only process for shared groups with groupId
          const g = (this.app.data.groups||[]).find(x => 
            x.groupId === group.groupId
          );
          if (g) {
            if (env.name) g.name = env.name;
            if (env.emoji !== undefined) g.emoji = env.emoji || '';
            if (env.shortcut !== undefined) this.app.$set(g, 'shortcut', this.app.normalizeShortcutText(env.shortcut || ''));
            if (env.color!==undefined) g.color=env.color;
            if (env.favicon !== undefined) {
              this.app.$set(g, 'favicon', env.favicon || '');
              this.app.$set(g, 'faviconError', false);
              this.app.$set(g, 'faviconLoading', false);
            }
            if (env.faviconSource !== undefined) this.app.$set(g, 'faviconSource', env.faviconSource || null);
            if (env.faviconRuleId !== undefined) this.app.$set(g, 'faviconRuleId', env.faviconRuleId || null);
            if (typeof env.opacity==='number') g.opacity = Math.max(0, Math.min(100, env.opacity));
            if (env.infoHtml !== undefined) g.infoHtml = this.app.sanitizeHtml(String(env.infoHtml || ''));
            if (env.urlPlaceholders !== undefined) this.app.$set(g, 'urlPlaceholders', this.app.normalizePlaceholderList(env.urlPlaceholders || []));
            if (env.linkedCollapseGroupUuids !== undefined || env.linkedCollapseOnCloseGroupUuids !== undefined) {
              const normalizedLinked = this.app.normalizeLinkedCollapseGroupUuidList(
                env.linkedCollapseGroupUuids !== undefined ? (env.linkedCollapseGroupUuids || []) : (g.linkedCollapseGroupUuids || []),
                g.uuid || ''
              );
              const normalizedLinkedOnClose = this.app.normalizeLinkedCollapseGroupUuidList(
                env.linkedCollapseOnCloseGroupUuids !== undefined ? (env.linkedCollapseOnCloseGroupUuids || []) : (g.linkedCollapseOnCloseGroupUuids || []),
                g.uuid || ''
              );
              this.app.$set(g, 'linkedCollapseGroupUuids', normalizedLinked);
              this.app.$set(g, 'linkedCollapseOnCloseGroupUuids', normalizedLinkedOnClose);
              this.app.applyLinkedCollapseAssignmentsForGroup(g, normalizedLinked, normalizedLinkedOnClose, Date.now());
            }
          }
          this.app.saveData();
          try { this.app.$forceUpdate(); } catch (error) {
            debugLog('warn', '[Vue] $forceUpdate failed:', error);
          }
        } else if (env.type === 'group-roster') {
          if (!group.groupId) return; // Only process for shared groups with groupId
          const g = (this.app.data.groups||[]).find(x => 
            x.groupId === group.groupId
          );
          if (g) {
            let list = Array.isArray(env.members)?env.members:[];
            // Fill missing names from identity/contacts and preserve all permission fields
            try {
              const myUuid = this.app.data.identity?.uuid;
              const myName = this.app.data.identity?.name || '';
              const contacts = Array.isArray(this.app.data.contacts) ? this.app.data.contacts : [];
              list = list.map(m => {
                // Copy all properties from the incoming member object, including permissions
                const mm = Object.assign({}, m);
                if (!mm.name || mm.name === mm.uuid) {
                  if (mm.uuid === myUuid && myName) mm.name = myName;
                  else {
                    const c = contacts.find(x => x.uuid === mm.uuid);
                    if (c && c.name) mm.name = c.name;
                    // Fallback: if this member is the sender (owner usually sends roster), use from.name
                    if ((!mm.name || mm.name === mm.uuid) && env.from?.uuid === mm.uuid && env.from?.name) mm.name = env.from.name;
                  }
                }
                // Ensure permission fields are preserved exactly as sent by owner
                // Keep the permissions as they are in the incoming roster
                mm.canAdd = m.canAdd;
                mm.canEdit = m.canEdit;
                mm.canDelete = m.canDelete;
                return mm;
              });
            } catch {}
            this.app.$set(g, 'members', list);
            // Update ownerUuid from roster if provided, and normalize roles
            if (typeof env.groupOwnerUuid === 'string' && env.groupOwnerUuid) this.app.$set(g, 'ownerUuid', env.groupOwnerUuid);
            if (g.ownerUuid) {
              // Ensure exactly one owner role matches ownerUuid
              g.members = g.members.map(m => {
                if (m.uuid === g.ownerUuid) return Object.assign({}, m, { role: 'owner' });
                if (m.role === 'owner') return Object.assign({}, m, { role: 'member' });
                return m;
              });
            } else {
              // Infer ownerUuid if missing
              const owner = list.find(m=>m.role==='owner');
              if (owner && owner.uuid) this.app.$set(g, 'ownerUuid', owner.uuid);
            }
            // Ensure inbound prefs exist and default allow for known members (do not override existing choices)
            try {
              if (!g.prefs) this.app.$set(g, 'prefs', { inbound: { perMember: {} } });
              if (!g.prefs.inbound) this.app.$set(g.prefs, 'inbound', { perMember: {} });
              if (!g.prefs.inbound.perMember) this.app.$set(g.prefs.inbound, 'perMember', {});
              const per = g.prefs.inbound.perMember;
              (list||[]).forEach(m => { if (!per[m.uuid]) per[m.uuid] = 'allow'; });
            } catch {}
          }
          this.app.saveData();
          try { this.app.$forceUpdate(); } catch (error) {
            debugLog('warn', '[Vue] $forceUpdate failed:', error);
          }
        } else if (env.type === 'group-update') {
          // Replace local state with provided snapshot (but preserve roster/permissions)
          if (!group.groupId) return; // Only process for shared groups with groupId
          const g = (this.app.data.groups||[]).find(x => 
            x.groupId === group.groupId
          );
          if (g) {
            // CRITICAL FIX: Version checking to prevent old updates overwriting new ones
            if (env.version && g.version && env.version < g.version) {
              debugLog('warn', '[SYNC] Ignoring older group-update', {
                incoming: env.version,
                current: g.version,
                from: env.from?.uuid
              });
              
              // Send back our newer version to help the sender sync up
              const from = { uuid: this.app.data.identity?.uuid, name: this.app.data.identity?.name || '' };
              const snapshot = {
                v: 1,
                type: 'group-update',
                ts: Date.now(),
                from,
                version: g.version,
                ...this.app.serializeGroupForSync(g),
                msgId: (Math.random().toString(36).slice(2) + Date.now())
              };
              
              try {
                debugLog('log', '[SYNC] Sending newer version back to', env.from?.uuid);
                this.sendToGroup(g, snapshot);
              } catch (e) {
                debugLog('error', '[SYNC] Failed to send newer version back', e);
              }
              return; // Don't apply the older update
            }
            
            // Update version if provided
            if (env.version) {
              g.version = env.version;
            }
            if (env.name) g.name = env.name;
            if (env.emoji !== undefined) g.emoji = env.emoji || '';
            if (env.shortcut !== undefined) this.app.$set(g, 'shortcut', this.app.normalizeShortcutText(env.shortcut || ''));
            if (env.color!==undefined) g.color = env.color;
            if (env.favicon !== undefined) {
              this.app.$set(g, 'favicon', env.favicon || '');
              this.app.$set(g, 'faviconError', false);
              this.app.$set(g, 'faviconLoading', false);
            }
            if (env.faviconSource !== undefined) this.app.$set(g, 'faviconSource', env.faviconSource || null);
            if (env.faviconRuleId !== undefined) this.app.$set(g, 'faviconRuleId', env.faviconRuleId || null);
            if (typeof env.opacity==='number') g.opacity = Math.max(0, Math.min(100, env.opacity));
            if (env.infoHtml !== undefined) g.infoHtml = this.app.sanitizeHtml(String(env.infoHtml || ''));
            if (env.urlPlaceholders !== undefined) this.app.$set(g, 'urlPlaceholders', this.app.normalizePlaceholderList(env.urlPlaceholders || []));
            if (env.linkedCollapseGroupUuids !== undefined || env.linkedCollapseOnCloseGroupUuids !== undefined) {
              const normalizedLinked = this.app.normalizeLinkedCollapseGroupUuidList(
                env.linkedCollapseGroupUuids !== undefined ? (env.linkedCollapseGroupUuids || []) : (g.linkedCollapseGroupUuids || []),
                g.uuid || ''
              );
              const normalizedLinkedOnClose = this.app.normalizeLinkedCollapseGroupUuidList(
                env.linkedCollapseOnCloseGroupUuids !== undefined ? (env.linkedCollapseOnCloseGroupUuids || []) : (g.linkedCollapseOnCloseGroupUuids || []),
                g.uuid || ''
              );
              this.app.$set(g, 'linkedCollapseGroupUuids', normalizedLinked);
              this.app.$set(g, 'linkedCollapseOnCloseGroupUuids', normalizedLinkedOnClose);
              this.app.applyLinkedCollapseAssignmentsForGroup(g, normalizedLinked, normalizedLinkedOnClose, Date.now());
            }
            // Note: We don't update members/roster here - that's handled by group-roster messages
            const isOwner = (g?.members||[]).some(m=>m.role==='owner' && m.uuid===this.app.data.identity?.uuid) || (g.ownerUuid===this.app.data.identity?.uuid);
            try { 
              debugLog('log', '[SYNC] handle group-update', { 
                isOwner, 
                links: Array.isArray(env.links)?env.links.length:0,
                sampleLink: env.links?.[0] ? { text: env.links[0].text, url: env.links[0].url, hasUrl: !!env.links[0].url } : null
              }); 
            } catch {}
            // Hydrate links for members on initial bootstrap even if event-log is present
            if (!isOwner) {
              const incomingLinks = Array.isArray(env.links)
                ? env.links
                : (env.snapshot && env.snapshot.data && Array.isArray(env.snapshot.data.links) ? env.snapshot.data.links : null);
              if (incomingLinks && (!Array.isArray(g.links) || g.links.length === 0)) {
                if (!Array.isArray(g.links)) this.app.$set(g, 'links', []);
                g.links = [];
                incomingLinks.forEach((l, i) => {
                  const col = (typeof l.column==='number') ? l.column : 0;
                  const idx = (typeof l.index==='number') ? l.index : i;
                  const nl = {
                    uuid: l.uuid || this.app.generateUUID(),
                    text: l.text || l.url || '',
                    url: l.url || '',
                    rawUrlInput: l.rawUrlInput || '',
                    urlPlaceholders: this.app.normalizePlaceholderList(l.urlPlaceholders || []),
                    keywords: l.keywords || '',
                    color: l.color || '',
                    emoji: l.emoji || '',
                    shortcut: l.shortcut || '',
                    infoHtml: this.app.sanitizeHtml(String(l.infoHtml || '')),
                    refTargetUuid: l.refTargetUuid || '',
                    inheritSourceKeywords: l.inheritSourceKeywords !== false,
                    column: col,
                    index: idx,
                    editing: false,
                    isMouseOver: false
                  };
                  this.app.$set(g.links, g.links.length, nl);
                });
              }
            }

            if (Array.isArray(env.links)) {
              if (isOwner) {
                // Owner is canonical; ignore incoming link snapshots to avoid overriding positions/order
                try { debugLog('log', '[SYNC] owner ignoring incoming link snapshot'); } catch {}
              } else {
                // Member: merge by remoteId (or URL) and preserve local order
                // Ensure g.links is an array
                if (!Array.isArray(g.links)) {
                  this.app.$set(g, 'links', []);
                }
                const ensure = (l)=>{
                  debugLog('log', '[SYNC] Processing link in group-update:', {
                    uuid: l.uuid,
                    text: l.text,
                    url: l.url,
                    hasUrl: !!l.url && l.url !== '',
                    urlType: typeof l.url,
                    urlLength: l.url ? l.url.length : 0
                  });
                  
                  // Find existing link by UUID (preferred)
                  let ex = null;
                  
                  // First try to find by UUID if available
                  if (l.uuid) {
                    ex = g.links.find(x => x.uuid === l.uuid);
                    if (ex) {
                      debugLog('log', '[SYNC] Found existing link by UUID in group-update');
                    }
                  }
                  
                  // Only use URL matching as fallback if both links have URLs
                  // Don't skip links without URLs
                  if (!ex && l.url && l.url.trim()) {
                    ex = g.links.find(x => x.url && this.app.urlsEqual(x.url, l.url));
                    if (ex) {
                      debugLog('log', '[SYNC] Found existing link by URL in group-update');
                    }
                  }
                  
                  if (ex) {
                    // Update existing link with reactive properties
                    debugLog('log', '[SYNC] Updating link - before:', { text: ex.text, url: ex.url });
                    this.app.$set(ex, 'text', l.text || '');
                    this.app.$set(ex, 'url', l.url || '');
                    this.app.$set(ex, 'rawUrlInput', l.rawUrlInput || '');
                    this.app.$set(ex, 'urlPlaceholders', this.app.normalizePlaceholderList(l.urlPlaceholders || []));
                    this.app.$set(ex, 'keywords', l.keywords || '');
                    this.app.$set(ex, 'color', l.color || '');
                    this.app.$set(ex, 'emoji', l.emoji || '');
                    this.app.$set(ex, 'shortcut', l.shortcut || '');
                    this.app.$set(ex, 'infoHtml', this.app.sanitizeHtml(String(l.infoHtml || '')));
                    this.app.$set(ex, 'refTargetUuid', l.refTargetUuid || '');
                    this.app.$set(ex, 'inheritSourceKeywords', l.inheritSourceKeywords !== false);
                    // Always preserve UUID consistency
                    if (l.uuid && !ex.uuid) this.app.$set(ex, 'uuid', l.uuid);
                    // Ensure reactive UI properties exist
                    if (ex.editing === undefined) this.app.$set(ex, 'editing', false);
                    if (ex.isMouseOver === undefined) this.app.$set(ex, 'isMouseOver', false);
                    debugLog('log', '[SYNC] Updated link - after:', { uuid: ex.uuid, text: ex.text, url: ex.url, hasUrl: !!ex.url && ex.url !== '' });
                  } else {
                    // Add new link with reactive properties - including those without URL
                    const col = (typeof l.column==='number') ? l.column : 0;
                    // compute next index in that column if none provided
                    const nextIdx = (() => { const arr=g.links.filter(x=>x.column===col); return arr.length? Math.max(...arr.map(x=>x.index||0))+1 : 0; })();
                    const idx = (typeof l.index==='number') ? l.index : nextIdx;
                    const nl = this.app.$set(g.links, g.links.length, { 
                      uuid: l.uuid || this.app.generateUUID(), // Use UUID from update or generate new one
                      text: l.text || '', // Links can have text without URL
                      url: l.url || '', // URL can be empty
                      rawUrlInput: l.rawUrlInput || '',
                      urlPlaceholders: this.app.normalizePlaceholderList(l.urlPlaceholders || []),
                      keywords: l.keywords || '', 
                      color: l.color || '',
                      emoji: l.emoji || '',
                      shortcut: l.shortcut || '',
                      infoHtml: this.app.sanitizeHtml(String(l.infoHtml || '')),
                      refTargetUuid: l.refTargetUuid || '',
                      inheritSourceKeywords: l.inheritSourceKeywords !== false,
                      column: col, 
                      index: idx, 
                      editing: false, 
                      isMouseOver: false 
                    });
                    try { debugLog('log', '[SYNC] added link from snapshot', { uuid: nl.uuid, column: nl.column, index: nl.index, text: nl.text, hasUrl: !!nl.url }); } catch {}
                  }
                };
                debugLog('log', '[SYNC] processing', env.links.length, 'links from update');
                env.links.forEach(ensure);
                // Final dedupe pass to avoid multiple occurrences
                this.dedupeGroupLinks(g);
                // tidy indices column-wise
                const cols = [...new Set((g.links||[]).map(x=>x.column))];
                cols.forEach(c => {
                  const arr = g.links.filter(x=>x.column===c).sort((a,b)=> (a.index||0)-(b.index||0));
                  arr.forEach((l,i)=> l.index = i);
                });
              }
            }
            
            // Apply event-log data if provided in the update - BUT DON'T OVERWRITE OWNER'S DATA
            if (env.useEventLog && env.eventLog) {
              const isOwner = (g?.members||[]).some(m=>m.role==='owner' && m.uuid===this.app.data.identity?.uuid) || (g.ownerUuid===this.app.data.identity?.uuid);
              
              if (isOwner) {
                // OWNER: Never overwrite own event-log, only merge new events
                debugLog('log', '[SYNC] Owner merging event-log from member update', {
                  currentEventCount: g.eventLog?.length || 0,
                  incomingEventCount: env.eventLog?.length || 0
                });
                
                // Only process if we already have event-log enabled
                if (g.useEventLog && g.eventLog) {
                  // Find new events that we don't have yet
                  const existingEventIds = new Set((g.eventLog || []).map(e => e.eventId));
                  const newEvents = (env.eventLog || []).filter(e => !existingEventIds.has(e.eventId));
                  
                  if (newEvents.length > 0) {
                    debugLog('log', '[SYNC] Owner found new events to merge', { count: newEvents.length });
                    // Merge new events using EventLogManager
                    if (this.app.eventLogManager) {
                      newEvents.forEach(event => {
                        this.app.eventLogManager.applyRemoteEvent(g, event, 'owner-leads');
                      });
                    }
                  }
                  
                  // Update vector clock by merging
                  if (env.vectorClock) {
                    const mergedVC = { ...(g.vectorClock || {}) };
                    Object.keys(env.vectorClock).forEach(key => {
                      mergedVC[key] = Math.max(mergedVC[key] || 0, env.vectorClock[key] || 0);
                    });
                    this.app.$set(g, 'vectorClock', mergedVC);
                  }
                } else if (!g.useEventLog) {
                  // Owner doesn't have event-log yet, but member does - enable it
                  debugLog('log', '[SYNC] Owner enabling event-log based on member data');
                  this.app.$set(g, 'useEventLog', true);
                  this.app.$set(g, 'eventLog', env.eventLog || []);
                  this.app.$set(g, 'snapshot', env.snapshot || null);
                  this.app.$set(g, 'headEventId', env.headEventId || null);
                  this.app.$set(g, 'vectorClock', env.vectorClock || {});
                }
              } else {
                // MEMBER: Accept event-log from owner or other members
                debugLog('log', '[SYNC] Member applying event-log data from group-update', {
                  eventLogCount: env.eventLog?.length || 0,
                  hasSnapshot: !!env.snapshot,
                  vectorClock: env.vectorClock
                });
                
                this.app.$set(g, 'useEventLog', true);
                this.app.$set(g, 'eventLog', env.eventLog || []);
                this.app.$set(g, 'snapshot', env.snapshot || null);
                this.app.$set(g, 'headEventId', env.headEventId || null);
                this.app.$set(g, 'vectorClock', env.vectorClock || {});
              }
            }
            
            this.app.saveData();
            try { this.app.$forceUpdate(); } catch (error) {
            debugLog('warn', '[Vue] $forceUpdate failed:', error);
          }
          }
        } else if (env.type === 'group-update-request') {
          // Respond with snapshot: ONLY the owner should respond
          if (!group.groupId) return; // Only process for shared groups with groupId
          const g = (this.app.data.groups||[]).find(x => 
            x.groupId === group.groupId
          );
          const isOwner = (g?.members||[]).some(m=>m.role==='owner' && m.uuid===this.app.data.identity?.uuid);
          if (!g) return;
          if (!isOwner) return; // Members do not respond to group-update-request
          try { debugLog('log', '[SYNC] respond group-update', { isOwner, to: env.from?.uuid, groupId: g.groupId }); } catch {}
          const snapshot = { 
            v:1, 
            type:'group-update', 
            ts:Date.now(), 
            from:{ uuid:this.app.data.identity.uuid, name:this.app.data.identity.name||'' }, 
            ...this.app.serializeGroupForSync(g), 
            msgId:(Math.random().toString(36).slice(2)+Date.now()) 
          };
          try { await this.sendChunkedGroup(g, 'group-update', snapshot); } catch {}
          // Also send the current roster if owner, so members get the latest permissions
          if (isOwner && g.members) {
            try {
              const rosterMsg = { v:1, type:'group-roster', ts:Date.now(), from:{ uuid:this.app.data.identity.uuid, name:this.app.data.identity.name||'' }, groupId: g.groupId, members: g.members||[] };
              await this.sendToGroup(g, rosterMsg);
              debugLog('log', '[SYNC] sent roster after update-request', { members: g.members.length });
            } catch {}
          }
        } else if (env.type === 'share-links') {
          // import into this group
          const sel = env.selection || {};
          // Resolve current up-to-date group reference by groupId only
          if (!group.groupId) return; // Only process for shared groups with groupId
          const g = (this.app.data.groups||[]).find(x => 
            x.groupId === group.groupId
          );
          
          // IMPORTANT: Ignore share-links if event-log is active
          if (g && g.useEventLog) {
            debugLog('log', '[SYNC] Ignoring share-links because event-log is active for group', g.name);
            return;
          }
          
          // inbound filter by prefs
          const fromUuid = env.from?.uuid;
          const prefs = g?.prefs?.inbound;
          if (prefs) {
            const per = prefs.perMember || {};
            const st = per[fromUuid] || 'unset';
            // For owner: always allow updates from all members
            // For members: allow by default unless explicitly denied  
            const isOwner = this.app.isOwnerOfGroup(g);
            const allow = isOwner || st==='allow' || st==='unset';
            try { debugLog('log', '[SYNC] inbound share-links filter', { from: fromUuid, state: st, isOwner, allow }); } catch {}
            if (!allow) { try { debugLog('warn', '[SYNC] share-links blocked by inbound prefs'); } catch {} return; }
          }
          if (Array.isArray(sel.links)) {
            debugLog('log', '[SYNC] Processing share-links', { 
              count: sel.links.length, 
              sample: sel.links[0] ? { 
                uuid: sel.links[0].uuid, 
                text: sel.links[0].text, 
                url: sel.links[0].url, 
                hasUrl: !!sel.links[0].url 
              } : null 
            });
            
            sel.links.forEach((l,i)=>{
              debugLog('log', '[SYNC] Processing incoming link:', {
                uuid: l.uuid,
                text: l.text,
                url: l.url,
                hasUrl: !!l.url && l.url !== '',
                urlLength: l.url ? l.url.length : 0
              });
              
              // IMPORTANT: With UUIDs, we must check for UUID match first
              let ex = null;
              
              // First priority: Match by UUID (this is the primary identifier now)
              if (l.uuid) {
                ex = (g.links||[]).find(x => x.uuid === l.uuid);
                if (ex) {
                  debugLog('log', '[SYNC] Found existing link by UUID:', l.uuid, 'existing url:', ex.url, 'new url:', l.url);
                }
              }
              
              // Fallback: URL match (only if no UUID match and URL exists)
              if (!ex && l.url && l.url.trim()) {
                ex = (g.links||[]).find(x => x.url && this.app.urlsEqual(x.url, l.url));
                if (ex) {
                  debugLog('log', '[SYNC] Found existing link by URL match');
                }
              }
              
              if (ex) {
                // Update existing link with reactive properties
                debugLog('log', '[SYNC] Updating existing link - before:', { text: ex.text, url: ex.url });
                this.app.$set(ex, 'text', l.text || '');
                this.app.$set(ex, 'url', l.url || '');
                this.app.$set(ex, 'rawUrlInput', l.rawUrlInput || '');
                this.app.$set(ex, 'urlPlaceholders', this.app.normalizePlaceholderList(l.urlPlaceholders || []));
                this.app.$set(ex, 'keywords', l.keywords || '');
                this.app.$set(ex, 'color', l.color || '');
                this.app.$set(ex, 'emoji', l.emoji || '');
                this.app.$set(ex, 'shortcut', l.shortcut || '');
                this.app.$set(ex, 'infoHtml', this.app.sanitizeHtml(String(l.infoHtml || '')));
                this.app.$set(ex, 'refTargetUuid', l.refTargetUuid || '');
                this.app.$set(ex, 'inheritSourceKeywords', l.inheritSourceKeywords !== false);
                // Ensure UUID is set if provided
                if (l.uuid && !ex.uuid) this.app.$set(ex, 'uuid', l.uuid);
                // Ensure reactive UI properties exist
                if (ex.editing === undefined) this.app.$set(ex, 'editing', false);
                if (ex.isMouseOver === undefined) this.app.$set(ex, 'isMouseOver', false);
                debugLog('log', '[SYNC] Updated existing link - after:', { uuid: ex.uuid, text: ex.text, url: ex.url });
              } else {
                // Create new link with UUID and reactive properties - including links without URL
                const col = (typeof l.column==='number') ? l.column : 0;
                const nextIdx = (() => { const arr=(g.links||[]).filter(x=>x.column===col); return arr.length? Math.max(...arr.map(x=>x.index||0))+1 : 0; })();
                const idx = (typeof l.index==='number') ? l.index : nextIdx;
                const newLink = this.app.$set(g.links, g.links.length, { 
                  uuid: l.uuid || this.app.generateUUID(), // Ensure UUID exists 
                  text: l.text || '', // Links can have only text
                  url: l.url || '', // URL can be empty
                  rawUrlInput: l.rawUrlInput || '',
                  urlPlaceholders: this.app.normalizePlaceholderList(l.urlPlaceholders || []),
                  keywords: l.keywords || '',
                  color: l.color || '',
                  emoji: l.emoji || '',
                  shortcut: l.shortcut || '',
                  infoHtml: this.app.sanitizeHtml(String(l.infoHtml || '')),
                  refTargetUuid: l.refTargetUuid || '',
                  inheritSourceKeywords: l.inheritSourceKeywords !== false,
                  column: col, 
                  index: idx, 
                  editing: false, 
                  isMouseOver: false 
                });
                debugLog('log', '[SYNC] Added new link from share-links:', { 
                  uuid: newLink.uuid, 
                  text: newLink.text, 
                  url: newLink.url,
                  hasUrl: !!newLink.url && newLink.url !== '',
                  column: newLink.column, 
                  index: newLink.index 
                });
              }
            });
            // Final dedupe pass to avoid multiple occurrences
            this.dedupeGroupLinks(g);
            // normalize per-column indices
            const cols = [...new Set((g.links||[]).map(x=>x.column))];
            cols.forEach(c => {
              const arr = g.links.filter(x=>x.column===c).sort((a,b)=> (a.index||0)-(b.index||0));
              arr.forEach((l,i)=> l.index=i);
            });
            this.app.saveData();
            // Force Vue to recalc classes that depend on reactive props
            try { this.app.$forceUpdate(); } catch (error) {
            debugLog('warn', '[Vue] $forceUpdate failed:', error);
          }
          }
        } else if (env.type === 'link-delete' && env.link) {
          if (!group.groupId) return; // Only process for shared groups with groupId
          const g = (this.app.data.groups||[]).find(x => 
            x.groupId === group.groupId
          );
          if (!g) return;
          
          // CRITICAL FIX: Version checking for delete operations
          if (env.version && g.version && env.version < g.version) {
            debugLog('warn', '[SYNC] Ignoring link-delete from older version', {
              incoming: env.version,
              current: g.version,
              link: env.link?.uuid || env.link?.url,
              from: env.from?.uuid
            });
            // Don't send back update here - the sender will sync via other means
            return;
          }
          const luuid = env.link.uuid;
          const lid = env.link.id; // Legacy - not used anymore
          const lurl = env.link.url;
          let idx = -1;
          let col = 0;
          if (Array.isArray(g.links)) {
            // First try to find by UUID (preferred)
            if (luuid) {
              idx = g.links.findIndex(x => x.uuid === luuid);
            }
            // Fallback to URL matching if no UUID
            if (idx < 0 && lurl) {
              idx = g.links.findIndex(x => this.app.urlsEqual(x.url, lurl));
            }
            if (idx >= 0) col = g.links[idx].column||0;
          }
          if (idx >= 0) {
            g.links.splice(idx,1);
            const colLinks = (g.links||[]).filter(l=>l.column===col).sort((a,b)=>a.index-b.index);
            colLinks.forEach((l,i)=>{ l.index=i; });
            this.app.saveData();
            try { this.app.$forceUpdate(); } catch (error) {
            debugLog('warn', '[Vue] $forceUpdate failed:', error);
          }
            try { debugLog('log', '[SYNC] link-delete applied', { lid, lurl, col }); } catch {}
          } else {
            try { debugLog('warn', '[SYNC] link-delete could not find local link', { lid, lurl }); } catch {}
          }
        }
      }
      async sendOwnerSync(group) {
        // Owner initiates snapshot + request once on open
        // Get fresh group data to ensure we have the latest UUIDs after any migrations
        const freshGroup = this.app.data.groups?.find(g => g.uuid === group.uuid) || group;
        const isOwner = (freshGroup?.members||[]).some(m=>m.role==='owner' && m.uuid===this.app.data.identity?.uuid);
        if (!freshGroup || !freshGroup.shared || !isOwner) return;
        const from = { uuid:this.app.data.identity.uuid, name:this.app.data.identity.name||'' };
        // Ensure every link has a UUID before sending
        const linksWithUUIDs = (freshGroup.links||[]).map(l => {
          if (!l.uuid) {
            debugLog('warn', '[SYNC] Link missing UUID during owner sync:', l.text || l.url);
            // Generate UUID only if missing (should not happen after migration)
            l.uuid = this.app.generateUUID ? this.app.generateUUID() : this.generateUUID();
          }
          return this.app.serializeLinkForSync(l);
        });
        const snapshot = { 
          v:1, 
          type:'group-update', 
          ts:Date.now(), 
          from, 
          ...this.app.serializeGroupForSync(freshGroup),
          msgId:(Math.random().toString(36).slice(2)+Date.now()) 
        };
        try { debugLog('log', '[SYNC] owner snapshot+request', { topic: freshGroup.groupTopic, links: linksWithUUIDs.length, uuids: linksWithUUIDs.map(l => l.uuid) }); } catch {}
        try { await this.sendToGroup(freshGroup, snapshot); } catch {}
        const reqId = (Math.random().toString(36).slice(2)+Date.now());
        try { await this.sendToGroup(freshGroup, { v:1, type:'group-update-request', ts:Date.now(), from, groupId: freshGroup.groupId, msgId:reqId }); } catch {}
      }
      async inviteContactToGroup(group, contactUuid) {
        await this.ensureIdentity();
        // Ensure pairwise channel is derived and subscribed before sending invite
        try { await this.derivePairwiseFor(contactUuid); } catch {}
        
        // Get fresh group data to ensure we have the latest UUIDs after any migrations
        const freshGroup = this.app.data.groups?.find(g => g.uuid === group.uuid) || group;
        
        if (!freshGroup.shared || !freshGroup.groupId) {
          // Group is not shared yet OR was previously shared but is now unshared
          this.app.$set(freshGroup, 'shared', true);
          
          // Only generate new sharing properties if they don't exist
          // This preserves groupId for previously shared groups
          if (!freshGroup.groupId) {
            this.app.$set(freshGroup, 'groupId', this.genGroupId());
          }
          if (!freshGroup.groupKey) {
            this.app.$set(freshGroup, 'groupKey', this.genGroupKeyB64());
          }
          if (!freshGroup.groupTopic) {
            this.app.$set(freshGroup, 'groupTopic', this.genGroupTopic());
          }
          
          this.app.$set(freshGroup, 'ownerUuid', this.app.data.identity?.uuid || '');
          // persist newly shared state on owner side
          this.app.saveData();
          this.subscribeGroup(freshGroup);
          // send initial meta
          await this.sendToGroup(freshGroup, { 
            v:1, 
            type:'group-meta', 
            ts:Date.now(), 
            from:{uuid:this.app.data.identity.uuid,name:this.app.data.identity.name||''}, 
            groupId: freshGroup.groupId, 
            ...this.app.serializeGroupMetaForSync(freshGroup) 
          });
        }
        // Update and send roster
        if (!Array.isArray(freshGroup.members)) this.app.$set(freshGroup,'members',[]);
        const owner = { uuid: this.app.data.identity.uuid, name: this.app.data.identity.name||'' , role:'owner' };
        const contact = (this.app.data.contacts||[]).find(c=>c.uuid===contactUuid);
        // New member starts with basic permissions (owner can adjust later)
        // Start with add/edit permissions enabled for better collaboration experience
        const invited = { uuid: contactUuid, name: contact?.name||contactUuid, role:'member', canAdd:true, canEdit:true, canDelete:false };
        const uniqBy = (arr,key) => Object.values(arr.reduce((m,x)=>{m[x[key]]=x;return m;},{}));
        freshGroup.members = uniqBy([owner, ...(freshGroup.members||[]), invited],'uuid');
        // persist updated roster on owner side
        this.app.saveData();
        await this.sendToGroup(freshGroup, { v:1, type:'group-roster', ts:Date.now(), from:{uuid:this.app.data.identity.uuid,name:this.app.data.identity.name||''}, groupId: freshGroup.groupId, members: freshGroup.members });
        
        // Ensure all links have UUIDs before sending in invite
        const linksWithUUIDs = (freshGroup.links||[]).map(l => {
          if (!l.uuid) {
            debugLog('warn', '[INVITE] Link missing UUID:', l.text || l.url);
            // This should not happen after migration, but ensure UUID exists
            l.uuid = this.app.generateUUID ? this.app.generateUUID() : this.generateUUID();
            this.app.saveData(); // Save if we had to generate any UUIDs
          }
          return this.app.serializeLinkForSync(l);
        });
        
        debugLog('log', '[INVITE] Sending links with UUIDs:', linksWithUUIDs.map(l => ({ uuid: l.uuid, text: l.text })));
        debugLog('log', '[INVITE] Group event-log status:', {
          useEventLog: freshGroup.useEventLog,
          eventLogCount: freshGroup.eventLog?.length || 0,
          hasSnapshot: !!freshGroup.snapshot,
          headEventId: freshGroup.headEventId,
          vectorClock: freshGroup.vectorClock
        });
        
        // Keep invite lightweight to avoid ntfy attachments on pairwise channel
        // Full snapshot is delivered via group topic after subscribe
        const inviteSelection = { groups: [], links: [] };
        const invite = { 
          v:1, 
          type:'invite', 
          ts:Date.now(), 
          from:{uuid:this.app.data.identity.uuid,name:this.app.data.identity.name||''}, 
          groupId: freshGroup.groupId, 
          groupName: freshGroup.name, 
          groupColor: freshGroup.color||'', 
          groupOpacity: (typeof freshGroup.opacity==='number'?freshGroup.opacity:100), 
          urlPlaceholders: this.app.normalizePlaceholderList(freshGroup.urlPlaceholders || []),
          linkedCollapseGroupUuids: this.app.normalizeLinkedCollapseGroupUuidList(freshGroup.linkedCollapseGroupUuids || [], freshGroup.uuid || ''),
          linkedCollapseOnCloseGroupUuids: this.app.normalizeLinkedCollapseGroupUuidList(freshGroup.linkedCollapseOnCloseGroupUuids || [], freshGroup.uuid || ''),
          groupOwnerUuid: (freshGroup.ownerUuid||this.app.data.identity?.uuid||''), 
          groupTopic: freshGroup.groupTopic, 
          groupKey: freshGroup.groupKey, 
          roles:['member'], 
          members: freshGroup.members||[], 
          selection: inviteSelection,
          // Only signal if event-log is used; no heavy payload here
          useEventLog: !!freshGroup.useEventLog
        };
        // Final safety: ensure contact has channel
        const c = (this.app.data.contacts||[]).find(x=>x.uuid===contactUuid);
        if (!c || !c.topic || !c.kChannelB64) {
          debugLog('warn', '[INVITE] Cannot send invite: contact channel missing', { contactUuid });
          return;
        }
        await this.sendToContact(contactUuid, invite);
        // Also bootstrap member with a pairwise full snapshot (chunked)
        try {
          const snapshot = { 
            v:1, 
            type:'group-update', 
            ts:Date.now(), 
            from:{ uuid:this.app.data.identity.uuid, name:this.app.data.identity.name||'' }, 
            ...this.app.serializeGroupForSync(freshGroup), 
            msgId:(Math.random().toString(36).slice(2)+Date.now()) 
          };
          await this.sendChunkedToContact(contactUuid, 'group-update', snapshot);
          debugLog('log','[INVITE] Pairwise chunked group-update sent to invited contact');
        } catch (e) { debugLog('warn','[INVITE] Pairwise snapshot failed', e); }
        // Proactively send full snapshot over group topic shortly after invite
        try {
          setTimeout(async () => {
            try {
              const from = { uuid: this.app.data.identity?.uuid, name: this.app.data.identity?.name || '' };
              const snapshot = {
                v: 1,
                type: 'group-update',
                ts: Date.now(),
                from,
                ...this.app.serializeGroupForSync(freshGroup),
                msgId: (Math.random().toString(36).slice(2) + Date.now())
              };
              // Use chunked transfer to avoid ntfy attachments for large payloads
              await this.sendChunkedGroup(freshGroup, 'group-update', snapshot);
              debugLog('log', '[INVITE] Proactive chunked group-update snapshot sent');
            } catch (e) { debugLog('warn', '[INVITE] Proactive snapshot failed', e); }
          }, 800);
        } catch {}
      }
      // Quick-Connect: rendezvous (offer/answer) and secure card exchange using ephemeral ECDH
      async quickCodeReceiveStart(code) {
        this.applyConfig();
        const topic = `mb-qc-${code}`; // avoid '/' in topic for broad server compatibility
        this.qcTopic = topic; this.qcCode = code;
        this.qcSeen = new Set(); this.qcAnswered = false;
        if (this.qcSub) { 
          try {
            if (this.qcSub.es && this.qcSub.es.close) this.qcSub.es.close();
            if (this.qcSub.lp && this.qcSub.lp.abort) this.qcSub.lp.abort();
          } catch {}
          this.qcSub = null; 
        }
        this.onQcStatus && this.onQcStatus({ phase: 'waiting', side: 'receiver', code, topic });
        this.qcSub = this.ntfy.subscribe(topic, async (evt) => {
          try {
            if (evt && evt.id && this.qcSeen && this.qcSeen.has(evt.id)) return; if (evt && evt.id && this.qcSeen) this.qcSeen.add(evt.id);
            const msg = JSON.parse(evt.text);
            if (msg?.type === 'qc-offer' && msg.epub) {
              this.onQcStatus && this.onQcStatus({ phase: 'offer_received' });
              if (!this.qcAnswered) { this.qcAnswered = true; await this.handleQcOffer(topic, msg); }
            } else if (msg?.type === 'qc-final' && msg.payload) {
              const kTemp = this.qcSecrets.get(topic);
              if (!kTemp) return;
              const plain = await CryptoUtil.aesDecrypt(kTemp, msg.payload);
              if (plain?.card) {
                await this.addContactFromCard(plain.card);
                await this.derivePairwiseFor(plain.card.uuid);
              }
              this.onQcStatus && this.onQcStatus({ phase: 'final_received', done: true });
              try { this.qcSub && this.qcSub.close(); } catch {}
              try { this.ntfy.unsubscribe(this.qcTopic); } catch {}
            }
          } catch { /* ignore */ }
        });
      }
      async handleQcOffer(topic, offer) {
        const eph = await crypto.subtle.generateKey({ name: 'ECDH', namedCurve: 'P-256' }, true, ['deriveBits']);
        const otherEpub = await CryptoUtil.importPub(offer.epub);
        const shared = await CryptoUtil.deriveBits(eph.privateKey, otherEpub);
        const kTemp = await CryptoUtil.hkdf(shared, 'mybookmarks:qc-temp', 32);
        await this.ensureIdentity();
        const plaintext = { v: 1, type: 'qc-answer', ts: Date.now(), from: { uuid: this.app.data.identity.uuid, name: this.app.data.identity.name || '' }, card: this.getContactCard() };
        const payload = await CryptoUtil.aesEncrypt(kTemp, plaintext);
        const myEpubB64 = B64.enc(new Uint8Array(await crypto.subtle.exportKey('raw', eph.publicKey)));
        this.qcSecrets.set(topic, kTemp);
        try {
          await this.ntfy.publish(topic, JSON.stringify({ type: 'qc-answer', epub: myEpubB64, payload }), this.cfg.quickCodeTtlSec || CONSTS.QUICK_CODE_TTL_SEC);
        } catch(e) { try { debugLog('error','[QC] publish qc-answer failed', e); } catch {} }
        this.onQcStatus && this.onQcStatus({ phase: 'answer_sent' });
      }
      async quickCodeSendOffer(code) {
        this.applyConfig();
        const topic = `mb-qc-${code}`; // avoid '/' in topic for broad server compatibility
        this.qcTopic = topic; this.qcCode = code; this.qcSeen = new Set();
        // Close any existing subscription first
        if (this.qcSub) { try { this.qcSub.close(); } catch {} this.qcSub = null; }
        // ephemeral key
        const eph = await crypto.subtle.generateKey({ name: 'ECDH', namedCurve: 'P-256' }, true, ['deriveBits']);
        const epubB64 = B64.enc(new Uint8Array(await crypto.subtle.exportKey('raw', eph.publicKey)));
        this.qcSub = this.ntfy.subscribe(topic, async (evt) => {
          try {
            if (evt && evt.id && this.qcSeen && this.qcSeen.has(evt.id)) return; if (evt && evt.id && this.qcSeen) this.qcSeen.add(evt.id);
            const msg = JSON.parse(evt.text);
            if (msg?.type === 'qc-answer' && msg.payload && msg.epub) {
              this.onQcStatus && this.onQcStatus({ phase: 'answer_received' });
              const otherEpub = await CryptoUtil.importPub(msg.epub);
              const shared = await CryptoUtil.deriveBits(eph.privateKey, otherEpub);
              const kTemp = await CryptoUtil.hkdf(shared, 'mybookmarks:qc-temp', 32);
              const plain = await CryptoUtil.aesDecrypt(kTemp, msg.payload);
              if (plain?.card) {
                await this.addContactFromCard(plain.card);
                // auto-derive pairwise
                await this.derivePairwiseFor(plain.card.uuid);
              }
              // Send back our card encrypted with the same temporary key (finalize pairing for receiver)
              const myCard = this.getContactCard();
              const finalPayload = await CryptoUtil.aesEncrypt(kTemp, { v: 1, type: 'qc-final', ts: Date.now(), from: { uuid: this.app.data.identity.uuid, name: this.app.data.identity.name || '' }, card: myCard });
              await this.ntfy.publish(topic, JSON.stringify({ type: 'qc-final', payload: finalPayload }), this.cfg.quickCodeTtlSec || CONSTS.QUICK_CODE_TTL_SEC);
              this.onQcStatus && this.onQcStatus({ phase: 'final_sent', done: true });
              try { 
                if (this.qcSub) {
                  if (this.qcSub.es && this.qcSub.es.close) this.qcSub.es.close();
                  if (this.qcSub.lp && this.qcSub.lp.abort) this.qcSub.lp.abort();
                }
              } catch { }
              try { this.ntfy.unsubscribe(this.qcTopic); } catch {}
            }
          } catch (e) { /* ignore */ }
        });
        try {
          await this.ntfy.publish(topic, JSON.stringify({ v: 1, type: 'qc-offer', ts: Date.now(), from: { name: this.app.data.identity?.name || '' }, epub: epubB64 }), this.cfg.quickCodeTtlSec || CONSTS.QUICK_CODE_TTL_SEC);
        } catch(e) { try { debugLog('error','[QC] publish qc-offer failed', e); } catch {} }
        this.onQcStatus && this.onQcStatus({ phase: 'offer_sent', side: 'sender', code, topic });
        // Return a promise that resolves when answer handled
        return new Promise((resolve) => {
          const handler = async (data) => {
            try {
              const msg = JSON.parse(data);
              if (msg?.type === 'qc-answer' && msg.payload && msg.epub) { resolve(true); }
            } catch { }
          };
          if (this.qcSub) this.qcSub.onmessage = (ev) => handler(ev.data);
          // timeout safety
          setTimeout(() => { 
            try { 
              if (this.qcSub) {
                if (this.qcSub.es && this.qcSub.es.close) this.qcSub.es.close();
                if (this.qcSub.lp && this.qcSub.lp.abort) this.qcSub.lp.abort();
              }
            } catch { } 
            this.qcSub = null; 
            resolve(null); 
          }, (this.cfg.quickCodeTtlSec || CONSTS.QUICK_CODE_TTL_SEC) * 1000);
        });
      }
      quickCodeStop() { 
        try { 
          if (this.qcSub) {
            // qcSub is a handles object with { es, lp, closed } structure
            if (this.qcSub.es && this.qcSub.es.close) this.qcSub.es.close();
            if (this.qcSub.lp && this.qcSub.lp.abort) this.qcSub.lp.abort();
            // Also unsubscribe from ntfy topic
            if (this.qcTopic) this.ntfy.unsubscribe(this.qcTopic);
          }
        } catch (e) { 
          debugLog('warn', '[QC] Error closing subscription:', e); 
        } 
        this.qcSub = null; 
        this.qcSecrets.clear(); 
        this.onQcStatus && this.onQcStatus({ phase: 'stopped' }); 
      }
      async onEnvelope(env, meta) {
        // Ignore self-echo on pairwise channels to avoid acting on our own messages
        try {
          if (meta?.scope === 'pair' && env?.from?.uuid && this.app.data.identity?.uuid && env.from.uuid === this.app.data.identity.uuid) {
            return;
          }
        } catch {}
        
        // Check if sender is blocked (removed contact)
        if (env?.from?.uuid && this.app.data.blockedContacts?.includes(env.from.uuid)) {
          debugLog('log', '[SECURITY] Dropping message from blocked contact:', env.from.uuid);
          return;
        }
        
        // Dedup by msgId if present
        if (env && env.msgId && this.app.processedMsgIds && this.app.processedMsgIds.has(env.msgId)) return;

        // Pairwise chunked sync (initial snapshot bootstrap)
        if (meta?.scope==='pair' && (env?.type==='sync-chunk' || env?.type==='sync-chunks-done')) {
          try {
            const tId = env.transferId;
            if (!tId) return;
            let buf = this.groupTransfers.get(tId);
            if (!buf) {
              if (this.groupTransfers.size >= CONSTS.MAX_CONCURRENT_TRANSFERS) return;
              buf = { groupId: env.groupId || null, contentType: env.contentType||'snapshot', total: env.total||0, parts: new Map(), timer: null, from: env.from?.uuid, bytes: 0 };
              this.groupTransfers.set(tId, buf);
              buf.timer = setTimeout(()=>{ this.groupTransfers.delete(tId); }, CONSTS.MINUTE_MS);
            }
            if (env.type==='sync-chunk') {
              if (typeof env.seq==='number' && typeof env.payloadB64==='string') {
                buf.parts.set(env.seq, env.payloadB64);
                buf.bytes += env.payloadB64.length;
                if (env.total && !buf.total) buf.total = env.total;
                if (buf.total && buf.parts.size===buf.total) {
                  try {
                    const ordered = Array.from({ length: buf.total }, (_, i)=> buf.parts.get(i)||'');
                    const bytes = B64.dec(ordered.join(''));
                    const json = new TextDecoder().decode(bytes);
                    const fullEnv = JSON.parse(json);
                    const g = (this.app.data.groups||[]).find(x=> x.groupId === fullEnv.groupId);
                    if (g) this.handleGroupEnvelope(g, fullEnv);
                  } catch(e) { debugLog('warn','[PAIR] early chunk reassembly failed', e); }
                  if (buf.timer) clearTimeout(buf.timer);
                  this.groupTransfers.delete(tId);
                }
              }
              return;
            }
            if (env.type==='sync-chunks-done') {
              const total = buf.total || env.total || 0;
              if (total>0 && buf.parts.size===total) {
                const ordered = Array.from({ length: total }, (_, i)=> buf.parts.get(i)||'');
                const bytes = B64.dec(ordered.join(''));
                const json = new TextDecoder().decode(bytes);
                const fullEnv = JSON.parse(json);
                // Dispatch to group handler
                const g = (this.app.data.groups||[]).find(x => x.groupId === fullEnv.groupId);
                if (g) this.handleGroupEnvelope(g, fullEnv);
              }
              if (buf.timer) clearTimeout(buf.timer);
              this.groupTransfers.delete(tId);
              return;
            }
          } catch (e) { debugLog('warn','[PAIR] chunk reassembly failed', e); }
        }
        
        // Show invitation dialog for group invites (don't mark as processed yet)
        if (meta?.scope==='pair' && env?.type==='invite' && env.groupTopic && env.groupKey) {
          this.app.showInvitationDialog('group', env);
          return;
        }
        
        // Show invitation dialog for shared links or groups (don't mark as processed yet)
        if (meta?.scope==='pair' && env?.type==='share' && env?.selection && (env.selection.links || env.selection.groups)) {
          this.app.showInvitationDialog('link', env);
          return;
        }
        
        // Mark as processed for other message types
        if (env && env.msgId && this.app.processedMsgIds) this.app.processedMsgIds.add(env.msgId);
        // Handle membership updates over pairwise
        if (meta?.scope==='pair' && env?.type==='group-member-removed' && env.groupId) {
          debugLog('log', '[GROUP_REMOVED] Received removal notification for group:', env.groupId);
          // Unsubscribe and remove local group
          const gs = (this.app.data.groups||[]);
          const idx = gs.findIndex(x=>x.groupId===env.groupId);
          if (idx>=0) {
            const groupName = gs[idx].name;
            debugLog('log', '[GROUP_REMOVED] Removing group:', groupName, 'with id:', env.groupId);
            try { 
              if (gs[idx].groupTopic) {
                // Unsubscribe from NTFY
                this.ntfy.unsubscribe(gs[idx].groupTopic);
                // Also remove from groupSubs map to allow re-subscription later
                if (this.groupSubs && this.groupSubs.has(gs[idx].groupTopic)) {
                  this.groupSubs.delete(gs[idx].groupTopic);
                  debugLog('log', '[GROUP_REMOVED] Removed from groupSubs:', gs[idx].groupTopic);
                }
              }
            } catch (e) {
              debugLog('error', '[GROUP_REMOVED] Failed to unsubscribe:', e);
            }
            try {
              this.app.removeGroupFromLinkedCollapseAssignments(String(gs[idx]?.uuid || '').trim(), Date.now());
            } catch {}
            gs.splice(idx,1);
            this.app.saveData();
            try { this.app.$forceUpdate(); } catch (error) {
            debugLog('warn', '[Vue] $forceUpdate failed:', error);
          }
            debugLog('log', '[GROUP_REMOVED] Successfully removed group:', groupName);
          } else {
            debugLog('warn', '[GROUP_REMOVED] Group not found with id:', env.groupId);
          }
          return;
        }
        if (meta?.scope==='pair' && env?.type==='group-member-left' && env.groupId && env.memberUuid) {
          // Owner's side: remove member and broadcast roster
          const g = (this.app.data.groups||[]).find(x=>x.groupId===env.groupId);
          if (g) {
            g.members = (g.members||[]).filter(x=>x.uuid!==env.memberUuid);
            // Auto-unshare when only owner remains or no regular members
            try {
              const noMembers = !g.members || g.members.length === 0;
              const onlyOwnerRemains = g.members && g.members.length === 1 && g.members[0].role === 'owner';
              const noRegularMembers = g.members && g.members.length > 0 && !g.members.some(x => x.role === 'member');
              if (g.shared && (noMembers || onlyOwnerRemains || noRegularMembers)) {
                debugLog('log', '[SHARE] Auto-unshare after member left:', g.name,
                  noMembers ? '(no members)' : onlyOwnerRemains ? '(only owner remains)' : '(no regular members)');
                g.shared = false;
                try { if (g.groupTopic) this.ntfy.unsubscribe(g.groupTopic); } catch (e) { debugLog('warn','[SHARE] Unsubscribe failed', e); }
              }
            } catch {}

            this.app.saveData();
            try { this.app.$forceUpdate(); } catch (error) {
            debugLog('warn', '[Vue] $forceUpdate failed:', error);
          }
            
            // Only broadcast roster if group is still shared
            if (g.shared) {
              try { await this.sendToGroup(g, { v:1, type:'group-roster', ts:Date.now(), from:{ uuid:this.app.data.identity?.uuid, name:this.app.data.identity?.name||'' }, groupId: g.groupId, members: g.members||[] }); } catch {}
            }
          }
          return;
        }
        // Contact update: refresh contact name and affected group rosters
        if (meta?.scope==='pair' && env?.type==='contact-update' && env.from?.uuid) {
          try {
            const uuid = env.from.uuid;
            const name = env.from.name || '';
            const contacts = (this.app.data.contacts||[]);
            const c = contacts.find(x=>x.uuid===uuid);
            if (c && name && c.name!==name) { c.name = name; }
            // Update rosters where this member exists
            for (const g of (this.app.data.groups||[])) {
              if (Array.isArray(g.members)) {
                let changed = false;
                g.members = g.members.map(m=>{
                  if (m.uuid===uuid && name && m.name!==name) { changed=true; return Object.assign({}, m, { name }); }
                  return m;
                });
                if (changed) { /* local change suffices; owner will broadcast */ }
              }
            }
            this.app.saveData();
            try { this.app.$forceUpdate(); } catch (error) {
            debugLog('warn', '[Vue] $forceUpdate failed:', error);
          }
          } catch {}
          return;
        }
        // Handle ping/pong for online status checking
        if (env?.type === 'ping' && env?.pingId) {
          // Extract sender UUID - it might be directly in 'from' field or in 'from.uuid'
          const senderUuid = typeof env.from === 'string' ? env.from : env.from?.uuid;
          debugLog('log', '[PING/PONG] Received ping from:', senderUuid, 'with ID:', env?.pingId);
          
          // Don't respond to our own pings
          if (senderUuid === this.app.data.identity?.uuid) {
            debugLog('log', '[PING/PONG] Ignoring self-ping');
            return;
          }
          
          // Automatically respond with pong
          try {
            const contact = (this.app.data.contacts || []).find(c => c.uuid === senderUuid);
            if (contact) {
              const pongMessage = {
                type: 'pong',
                pingId: env.pingId, // Echo back the same ID
                from: this.app.data.identity?.uuid,
                timestamp: Date.now()
              };
              await this.sendToContact(contact.uuid, pongMessage);
              debugLog('log', '[PING/PONG] Sent pong response to:', contact.uuid);
            } else {
              debugLog('warn', '[PING/PONG] No contact found for UUID:', senderUuid);
            }
          } catch (e) {
            debugLog('error', '[PING/PONG] Failed to send pong:', e);
          }
          return;
        }
        
        // Handle pong responses
        if (env?.type === 'pong' && env?.pingId) {
          // Extract sender UUID - it might be directly in 'from' field or in 'from.uuid'
          const senderUuid = typeof env.from === 'string' ? env.from : env.from?.uuid;
          debugLog('log', '[PING/PONG] Received pong from:', senderUuid, 'with ID:', env?.pingId);
          
          // Trigger any waiting promise for this pingId
          if (this.app.pendingPings && this.app.pendingPings[env.pingId]) {
            this.app.pendingPings[env.pingId].resolve(true);
            delete this.app.pendingPings[env.pingId];
          }
          return;
        }
        
        // For any other message types, we can optionally log them but don't store in inbox
        debugLog('log', '[MESSAGE] Received message type:', env?.type, 'from:', env?.from?.name || env?.from?.uuid);
      }
      
      dedupeGroupLinks(group) {
        if (!group || !Array.isArray(group.links)) return;
        const seen = new Map();
        const deduped = [];
        
        for (const link of group.links) {
          // Use UUID for deduplication if available, otherwise fall back to URL
          const key = link.uuid 
            ? `uuid:${link.uuid}` 
            : `url:${this.app.normalizeUrl ? this.app.normalizeUrl(link.url) : link.url}`;
          
          if (!seen.has(key)) {
            seen.set(key, true);
            deduped.push(link);
          } else {
            // If we find a duplicate, keep the one with more information
            const existing = deduped.find(l => {
              const existingKey = l.uuid 
                ? `uuid:${l.uuid}` 
                : `url:${this.app.normalizeUrl ? this.app.normalizeUrl(l.url) : l.url}`;
              return existingKey === key;
            });
            // Update existing link with any missing information
            if (existing) {
              if (!existing.uuid && link.uuid) existing.uuid = link.uuid;
              if (!existing.text && link.text) existing.text = link.text;
              if (!existing.keywords && link.keywords) existing.keywords = link.keywords;
            }
          }
        }
        
        group.links = deduped;
      }
    }

    MB.Sync.SharingService = SharingService;

    const initialData = {
      groups: [],
      snapshots: [],
      schemaVersion: 1,
      identity: { uuid: '', name: '', pubKey: '', privKey: '' },
      contacts: [],
      inbox: [],
      pendingNcDeletes: [],
      options: { // Default options structure
        common: {
          language: 'en',
          pageTitle: 'My Bookmarks',
          searchAsYouType: false,
          manualGroupColumnWidth: false,
          debugEnabled: false,
          confirmDeleteGroup: true,
        confirmDeleteLink: true,
        },
        groups: {
          collapseGroupsOnStart: false,
          hoverExpandDelayMs: CONSTS.HOVER_EXPAND_DELAY_MS,
          hoverExpandEnabled: true,
          autoAdjustHeightOnLinkChanges: false,
          columnWidths: {},
          defaultGroupFormatting: '',
          defaultGroupTitleFormatting: '',
          defaultGroupLinkFormatting: '',
          defaultGroupBadgeFormatting: '',
          defaultGroupPillFormatting: '',
          defaultLinkFormatting: '',
          clearClosesAllGroups: false,
          keywordClickExpandsAll: false,
          searchAutoExpandFound: false,
        },
        links: {
          openInNewTab: true,
          addViaDialog: false,
          autoFetchTitle: false,
          autoFetchFavicon: false,
          allowExternalFaviconService: false,
          showLinkBadges: false,
          showReferenceMarker: true,
          showLinkPopover: true,
          progressiveLoadingThreshold: CONSTS.PROGRESSIVE_LOADING_THRESHOLD,
          copyUrlFormat: '{title}: {url}', // Customizable format for copying links
          defaultUrlPrefix: CONSTS.DEFAULT_URL_PREFIX,
          globalShortcuts: [],
          globalPlaceholders: [],
          noteCollapsedState: {},
          faviconRules: getDefaultFaviconRules()
        },
        backupReminder: {
          enabled: true,
          intervalDays: 14,
          changeThreshold: 30,
          startupCheck: true,
          remindBeforeImport: true,
          reminderCooldownHours: 24,
          showUrgencyIndicator: true,
          exportBlinkEnabled: true
        },
        automaticSnapshots: {
          enabled: true,
          beforeDestructiveActions: true,
          onSyncConflict: true,
          onEventThreshold: true,
          eventThreshold: 50,
          onTimeInterval: true,
          intervalMinutes: 30,
          onSessionEnd: true,
          cooldownSeconds: 120,
          maxAutoSnapshots: 20
        },
        buttons: {
          // Group quick-action buttons
          showAddLink: true,      // Show "Add link" button in group header
          showDeleteGroup: true,  // Show "Delete group" button in group header
          showKeywordQuickAddBadge: true, // Show + badge for quick keyword assignment
          // Link quick-action buttons
          showCopyUrl: true,      // Show "Copy URL" button for links
          showQrCode: true,       // Show "QR Code" button for links
          showDeleteLink: true    // Show "Delete link" button for links
        },
        sharing: {
          ntfyServerUrl: 'https://ntfy.c5p.de',
          ntfyAuthToken: '',
          defaultTtl: 0,
          quickCodeTtlSec: CONSTS.QUICK_CODE_TTL_SEC,
          contactOnlineTimeoutSeconds: CONSTS.CONTACT_ONLINE_TIMEOUT_SEC,
        },
        groupSharing: {
          topicPrefix: 'mb-g-',
        },
        colors: {
          background: '',  // Changed from websiteBackground to match optionPath
          toolbarBackground: '',
          titleBarBackground: '',
          titleTextColor: '',
          keywordContainer: '',
          keywordBackground: ''  // Default keyword formatting (container and badges background)
        },
        customCss: '',
        visualCss: {
          stateVersion: 0,
          rules: [],
          designTokens: [],
          selectedTemplate: null,
          customRuleSets: {},
          collapsedRules: [],
          designTokensCollapsed: false,
          sidebarWidth: 400,
          sidebarTopHeight: 300
        },
        eventlog: {
          snapshotInterval: CONSTS.EVENT_LOG_SNAPSHOT_INTERVAL,
          maxEvents: CONSTS.EVENT_LOG_MAX_EVENTS * 2, // Double for main setting
          syncStrategy: 'owner-leads'
        },
        // CardDAV configuration defaults
        carddav: {
          serverUrl: '',
          username: '',
          password: '',
          addressbookPath: '',
          createAddressbookIfMissing: true,
          syncIntervalSec: 0, // 0 = manual only
          lastSyncAt: 0,
          addressbookUrl: '',
          syncToken: ''
        },
        // Nextcloud Bookmarks settings
        bookmarks: {
          serverUrl: '',
          username: '',
          password: '',
          rootFolderId: 0, // 0 = all folders
          syncIntervalSec: 0,
          folderHashes: {}
        },
        performance: {
          virtualizeLinks: false,
          initialLimit: 200,
          pageSize: 200
        },
        security: {
          enabled: false,
          sessionTimeoutMinutes: 30
        }
      },
    };

    let linksDb = null;
    let sharing = null;

    

    // Small debounce helper
    function debounce(fn, wait) {
      let t = null;
      function debounced(...args) {
        const ctx = this;
        if (t) clearTimeout(t);
        t = setTimeout(() => fn.apply(ctx, args), wait);
      }
      debounced.cancel = () => { if (t) { clearTimeout(t); t = null; } };
      return debounced;
    }

    // Custom directive for focusing elements
    Vue.directive('focus', {
      inserted: function (el, binding) {
        if (binding.value) {
          el.focus();
        }
      },
      update: function (el, binding) {
        if (binding.value && binding.oldValue !== binding.value) {
          // Need $nextTick to ensure the element is visible/rendered before focusing
          Vue.nextTick(() => {
            el.focus();
          });
        }
      }
    });


    // Main Vue instance
    let app = new Vue({
      el: '#app',
      directives: {
        focus: {
          inserted: function(el, binding) {
            // Store element reference for later use
            el._focusHandler = () => {
              const focusElement = () => {
                el.focus();
                el.select();
                // Keep trying if focus was stolen
                if (document.activeElement !== el) {
                  setTimeout(() => {
                    el.focus();
                    el.select();
                  }, 100);
                }
              };
              
              // Try multiple times to ensure focus stays
              setTimeout(focusElement, CONSTS.FOCUS_DELAY_SHORT_MS);
              setTimeout(focusElement, CONSTS.FOCUS_DELAY_MEDIUM_MS);
              setTimeout(focusElement, CONSTS.FOCUS_DELAY_LONG_MS);
            };
            
            // Focus on initial insert if value is true
            if (binding.value) {
              el._focusHandler();
            }
          },
          update: function(el, binding) {
            // When value changes from false/null to true, focus the element
            if (binding.value && !binding.oldValue) {
              if (el._focusHandler) {
                el._focusHandler();
              }
            }
          },
          unbind: function(el) {
            // Clean up
            delete el._focusHandler;
          }
        }
      },
      data: {
        title: 'My Bookmarks', // Will be updated from options
        filterText: '',
        activeKeywordFilters: [],
        data: JSON.parse(JSON.stringify(initialData)), // Deep clone initial data
        dataId: -1, // ID for the IndexedDB record
        dataLoaded: false, // True once IndexedDB load completed successfully
        loadFailed: false, // True if last load attempt failed
        lastLoadError: '', // Last load error message (debug)
        isDarkMode: false, // Dark mode state
        // Sync progress UI
        syncInProgress: false,
        syncProgress: 0,
        syncProgressText: '' ,
        storageUsed: 0, // Current storage usage in bytes
        customColors: {
          background: '#fafbfc',
          toolbar: '#ffffff',
          titleBar: '#f8f9fa',
          titleText: '#1a1a1a',
          keywordContainer: '#f0f0f0'
        },
        // UI State
        contextMenuTarget: null, // { type: 'link'/'group', item: object }
        isLinkMenuVisible: false,
        // Group body resize
        isGroupHeightResizing: false,
        groupHeightResizeState: { groupUuid: null, startY: 0, startHeight: 0 },
        // Group column resize
        isGroupColumnResizing: false,
        groupColumnResizeState: {
          leftColumn: null,
          rightColumn: null,
          startX: 0,
          startLeftWidth: 0,
          startRightWidth: 0
        },
        // Conflict Resolution UI
        showConflictNotification: false,
        conflictNotificationText: '',
        conflictNotificationTimeout: null,
        // Visual CSS Editor
        cssSidebarVisible: false,
        visualCssRules: [],
        visualCssAvailableSelectors: [],
        showMigrationNotice: false,
        customCssDraft: '', // Keep for computed properties compatibility
        selectedVisualTemplate: null,
        editingRuleId: null,
        editingRuleName: '',
        collapsedRules: [],
        designTokensCollapsed: false,
        // Feature Overview Sidebar
        featureSidebarVisible: false,
        helpLanguageTab: 'de', // Default to German
        selectedColor: '#000000',
        // Browser Extension
        extensionAvailable: false,
        extensionVersion: null,
        autoFetchTimeout: null, // Timeout for debounced auto-fetch
        // CSS Templates
        cssTemplates: [],
        selectedTemplateId: null,
        showSaveTemplateDialog: false,
        newTemplateName: '',
        // Custom Rule Sets
        customRuleSets: {},
        selectedRuleSetName: null,
        showSaveRuleSetDialog: false,
        
        // Visual CSS Rules search
        rulesFilterQuery: '',
        newRuleSetName: '',
        // Toast Notifications
        toastMessage: '',
        toastType: 'success', // success, error, info
        toastVisible: false,
        // CSS Sidebar resize
        isCssSidebarResizing: false,
        cssSidebarTopHeight: 300, // Default height in pixels
        cssSidebarStartY: 0,
        cssSidebarStartHeight: 0,
        cssPropertyEditor: {
          ruleId: null,
          property: '',
          rawValue: '',
          useRawValue: false,
          important: false,
          model: {}
        },
        cssPropertyEditorExpandedSections: {
          basic: true,
          value: true,
          advanced: true
        },
        cssPropertyEditorFonts: [],
        cssPropertyEditorFontsLoaded: false,
        // CSS Sidebar width resize
        isCssSidebarWidthResizing: false,
        cssSidebarWidth: 400, // Default width in pixels
        cssSidebarStartX: 0,
        cssSidebarStartWidth: 0,
        // Element Picker & Pseudo States
        elementPickerActive: false,
        currentPickerRule: null,
        lastHighlightedEl: null,
        lastHighlightedOutline: null,
        // Keyword suggestion context for generic edit dialog
        keywordSuggestionContext: null,
        keywordSuggestionField: null,
        keywordSuggestionStyle: null,
        // Design Tokens
        designTokens: [],
        // CSS Presets
        cssPresets: [
          { id: 'card-shadow', name: 'Card Shadow', properties: {
            'box-shadow': '0 2px 8px rgba(0,0,0,0.12)',
            'border-radius': '12px',
            'background-color': '#ffffff'
          }},
          { id: 'subtle-border', name: 'Subtle Border', properties: {
            'border': '1px solid rgba(0,0,0,0.08)',
            'border-radius': '8px',
            'background-color': '#ffffff'
          }},
          { id: 'button-primary', name: 'Button Primary', properties: {
            'background-color': '#0d6efd',
            'color': '#ffffff',
            'border': '1px solid #0d6efd',
            'padding': '0.375rem 0.75rem',
            'border-radius': '0.375rem'
          }}
        ],
        cssHookClasses: [
          'body',
          '#app.container-fluid.mb-app',
          '.mb-titlebar',
          '.mb-titlebar h1',
          '.mb-toolbar',
          '.btn-toolbar',
          '.mb-tools',
          '.mb-toolbar__search',
          '.mb-toolbar__search .input-group-text',
          '.mb-toolbar__storage',
          '.mb-toolbar__backup-urgency',
          '.mb-backup-urgency-indicator',
          '.mb-export-backup-alert',
          '.mb-export-backup-alert--blink',
          '.mb-footer',
          '.groupContainer',
          '.mb-group',
          '.groupContainerHeader',
          '.mb-group__header',
          '.groupTitle',
          '.mb-group__title',
          '.groupLinkCount',
          '.mb-linkcount-badge',
          '.mb-group__badges',
          '.group-info-section',
          '.mb-group-info-section',
          '.mb-group-info-header',
          '.mb-group-info-label',
          '.mb-group-info-content',
          '.linkContainer',
          '.mb-link',
          '.mb-links',
          '.linkText',
          '.linkText a',
          '.mb-link__anchor',
          '.linkTextCategory',
          '.mb-link__badges',
          '.badge',
          '.keyword-badge',
          '.mb-keyword',
          '.mb-group__keyword-badge',
          '.mb-link__keyword-badge',
          '.mb-keyword-suggestions',
          '.mb-keyword-suggestions--overlay',
          '.mb-keyword-suggestion',
          '.mb-keywords-cloud',
          '.mb-keyword-label',
          '.keyword-container',
          '.mb-keyword-bar',
          '.btn',
          '.mb-btn',
          '.btn-primary',
          '.btn-success',
          '.btn-danger',
          '.btn-secondary',
          '.btn-outline-secondary',
          '.form-control',
          '.form-select',
          '.modal',
          '.mb-modal',
          '.mb-ref-alias-modal',
          '.modal-content',
          '.modal-header',
          '.modal-body',
          '.modal-footer',
          '.mb-ref-alias-source-line',
          '.mb-ref-alias-warning',
          '.mb-context-menu',
          '.mb-css-sidebar',
          '.mb-css-sidebar-header',
          '.mb-css-sidebar-title',
          '.mb-css-sidebar-close',
          '.mb-css-sidebar-container',
          '.mb-css-sidebar-help',
          '.mb-css-sidebar-help-content',
          '.mb-css-help-hint',
          '.mb-css-help-code',
          '.mb-css-sidebar-divider',
          '.mb-css-sidebar-editor-section',
          '.mb-css-editor',
          '.mb-css-editor-wrapper',
          '.mb-css-editor-toolbar',
          '.mb-css-editor-title',
          '.mb-css-editor-buttons',
          '.mb-css-editor-textarea',
          '.mb-css-highlighted-container',
          '.mb-css-highlighted-pre',
          '.mb-css-highlighted-code',
          '.mb-css-save-btn',
          '.mb-css-cancel-btn',
          '.mb-css-reset-btn',
          '.mb-css-colorpicker-btn',
          '.mb-css-template-select',
          '.mb-css-template-buttons',
          '.mb-css-hook-insert-btn',
          '.mb-css-hook-selector',
          '.css-sidebar-resize-handle',
          '.sidebar-split-container',
          '.sidebar-top-section',
          '.sidebar-bottom-section',
          '.sidebar-divider',
          '.mb-css-property-editor',
          '.mb-css-property-editor-header',
          '.mb-css-property-editor-content',
          '.editor-header',
          '.editor-content',
          '.sidebar-content',
          '.mb-feature-sidebar',
          '.mb-feature-sidebar-header',
          '.mb-feature-sidebar-title',
          '.mb-feature-sidebar-close',
          '.mb-feature-sidebar-content',
          '.feature-sidebar',
          '.feature-section',
          '.feature-card',
          '.context-menu',
          '.context-menu-visible',
          '.context-menu ul',
          '.context-menu ul li',
          '.context-menu .separator',
          '.context-menu .submenu',
          '.context-menu .submenu::after',
          '.context-submenu',
          '.context-submenu li',
          '.mb-context-menu',
          '.mb-context-menu-visible',
          '.mb-context-menu ul',
          '.mb-context-menu ul li',
          '.mb-context-menu-separator',
          '.mb-context-submenu',
          '.mb-context-submenu-item',
          '.mb-context-submenu::after',
          '.mb-group-menu-btn',
          '.mb-link-menu-btn',
          '.mb-snapshots-dropdown',
          '.mb-snapshots-btn',
          '.mb-snapshots-menu',
          '.mb-edit-modal-title',
          '.mb-edit-modal-body',
          '.mb-edit-modal-footer',
          '.mb-edit-form',
          '.mb-edit-filter-container',
          '.mb-edit-filter-group',
          '.mb-edit-filter-input',
          '.mb-edit-section',
          '.mb-edit-section-header',
          '.mb-edit-section-body',
          '.mb-edit-field-row',
          '.mb-edit-field-label',
          '.mb-edit-field-help',
          '.mb-edit-text-input',
          '.mb-edit-url-input',
          '.mb-edit-number-input',
          '.mb-edit-checkbox',
          '.mb-edit-select',
          '.mb-edit-save-btn',
          '.mb-edit-cancel-btn',
          '.mb-edit-reset-btn',
          '.mb-toast',
          '.mb-toast-success',
          '.mb-toast-error',
          '.mb-toast-warning',
          '.mb-toast-info',
          '.mb-toast-content',
          '.mb-toast-title',
          '.mb-toast-body',
          '.mb-toast-close',
          '.mb-toast-progress',
          '.mb-toast-progress-fill',
          '.group-uuid-<uuid>',
          '.link-uuid-<uuid>'
        ],
        // Sync All state
        syncAllCooldown: 0,
        isSyncingAll: false,
        lastSyncAllTime: 0,
        isGroupMenuVisible: false,
        contextMenuStyle: { top: '0px', left: '0px' },
        editLink: null, // Link being edited in modal
        editLinkOriginalValues: null, // Original values before editing (for event-log)
        linkModalVisible: false, // Track when link edit modal is visible
        refAliasEditData: null, // Data for dedicated reference-link alias dialog
        refAliasExpandedSections: {},
        globalPlaceholderRows: [],
        // Metadata fetch UI state (for edit/add dialog)
        titleFetchState: 'idle', // idle|loading|ok|fail
        faviconFetchState: 'idle', // idle|loading|ok|fail
        metadataMessage: '',
        editGroup: null, // Group being edited in modal
        editGroupEnableStyling: true, // UI switch for per-group styling
        qrCodeUrl: '',
        bookmarkletHref: '',
        // Duplicates dialog
        duplicatesFound: {},
        showDuplicatesDialog: false,
        pasteContent: '',
        pasteHint: '',
        parsedLinks: null,
        detectedFormat: '',
        importGroupTitle: '',
        importCsvSeparator: '',
        isFullExport: false,
        fullExportData: null,
        importUrl: '',
        fetchingUrl: false,
        urlFetchError: '',
        fetchingBrowserBookmarks: false,
        browserBookmarksInfo: '',
        importCollapsedGroups: {}, // Track which groups are collapsed in import preview
        importDialogExpandedSections: { file: true, url: true, clipboard: true },
        exportSelection: [],
        exportFormat: 'json',
        
        prevIdentityName: '',
        // NC Folder Picker state
        ncFolders: [],
        ncFoldersLoading: false,
        ncFolderSelected: 0,
        // Drag & Drop
        dropManager: null, // Will be initialized in mounted()
        dragState: null, // Reactive state for drag & drop
        externalLinkDragActive: false, // Shows link drop zones for external browser-link drags
        externalLinkDragCleanupTimer: null,
        expandHoverTimers: {}, // timers for auto-expanding collapsed groups while dragging links
        internalLinkDragPointer: null, // cached pointer for implicit link drops without dropzone hit

        keywordManager: { selected: '', newName: '' },
        keywordQuickDialog: {
          mode: '',
          group: null,
          link: null,
          value: ''
        },
        keywordQuickSuggestionContext: null,
        quickKeywordSuggestionStyle: null,
        shortcutManager: { linkFilter: '', globalDrafts: [] },
        shortcutOpenQueue: null,
        
        // Info popup
        infoPopupContent: '',
        infoPopupTimer: null,
        linkPopover: {
          visible: false,
          link: null,
          style: { top: '0px', left: '0px' },
          titleHtml: '',
          displayUrl: '',
          url: '',
          rawUrlInput: '',
          favicon: '',
          keywords: [],
          emoji: '',
          uuid: '',
          createdAt: { full: '', relative: '', raw: null },
          updatedAt: { full: '', relative: '', raw: null }
        },
        linkPopoverHideTimer: null,
        
        // JSON Inspector
        inspectedGroup: null,
        inspectedGroupJSON: '',

        // History (Undo/Redo)
        appInitialized: false,
        historyPast: [],
        historyFuture: [],
        historyLock: false,
        lastSavedJson: '',
        backupReminderState: {
          lastBackupAt: 0,
          lastReminderAt: 0,
          changesSinceBackup: 0,
          lastChangeAt: 0
        },
        automaticSnapshotState: {
          lastAutoSnapshotAt: 0,
          changesSinceLastAutoSnapshot: 0,
          firstChangeSinceLastAutoSnapshotAt: 0,
          lastChangeAt: 0,
          sessionDirty: false,
          lastAutoReason: ''
        },
        carddavTimer: null,

        // Quick-Connect dialog state
        qcDialog: { visible: false, mode: 'receive', code: '', status: [], progress: 'idle' },
        contactsDialog: { visible: false, tab: 'contacts' },
        shareDialog: { visible: false, mode: 'link', payload: null, selectedContacts: {} },
        // Contact online status tracking
        contactOnlineStatus: {}, // { contactUuid: { online: boolean, lastCheck: timestamp } }
        pendingPings: {}, // { pingId: { resolve: function, reject: function, timeout: timeoutId } }
        // Removed from group notification
        removedGroupInfo: {
          groupName: '',
          ownerName: '',
          removedAt: null,
          groupId: null
        },
        // Invitation dialog for immediate acceptance/rejection
        invitationDialog: { 
          visible: false, 
          type: '', // 'group' or 'link'
          env: null, 
          groupName: '', 
          linkCount: 0,
          fromName: '',
          preview: [] // Preview of links to be added
        },
        processedMsgIds: new Set(),
        localSecurity: {
          isEncryptedStore: false,
          locked: false,
          lockReason: '',
          unlockPassword: '',
          unlockError: '',
          unlockBusy: false,
          encryptedEnvelope: null,
          encryptedDataId: -1,
          sessionExpiresAt: 0
        },
        localSecurityPasswordDialog: {
          password: '',
          confirmPassword: '',
          error: ''
        },

        // --- Generic Edit Dialog Data ---
        genericEditConfig: {
          title: '',
          type: '', // 'options', 'group', or 'link'
          design: {}, // The design structure
          saveCallback: null,
          context: {}
        },
        genericEditData: null, // The data being edited
        genericFilterText: '', // Filter text for generic dialog
        genericExpandedSections: {}, // Track which sections are expanded
        // Legacy properties for old dialogs - kept for compatibility
        expandedLinkSections: {},
        expandedGroupSections: {},
        expandedSections: {},
        settingsFilterText: '',
        optionsDesign: { // Struktur fr generischen Dialog
          common: {
            translateKey: 'options.common',
            fields: {
              language: { id: 'CommonLanguage', type: 'select', translateKey: 'options.common.language', values: { 'en': 'options.common.language.english', 'de': 'options.common.language.german' }, optionPath: 'common.language', helpText: 'options.common.language.help' },
              pageTitle: { id: 'CommonPageTitle', type: 'text', translateKey: 'options.common.pageTitle', optionPath: 'common.pageTitle', helpText: 'options.common.pageTitle.help' },
              
              searchAsYouType: { id: 'SearchAsYouType', type: 'checkbox', translateKey: 'options.common.searchAsYouType', optionPath: 'common.searchAsYouType', helpText: 'options.common.searchAsYouType.help' },
              manualGroupColumnWidth: { id: 'CommonManualGroupColumnWidth', type: 'checkbox', translateKey: 'options.common.manualGroupColumnWidth', optionPath: 'common.manualGroupColumnWidth', helpText: 'options.common.manualGroupColumnWidth.help' },
              debugEnabled: { id: 'CommonDebugEnabled', type: 'checkbox', translateKey: 'options.common.debugEnabled', optionPath: 'common.debugEnabled', helpText: 'options.common.debugEnabled.help' },
              confirmDeleteGroup: { id: 'CommonConfirmDeleteGroup', type: 'checkbox', translateKey: 'options.common.confirmDeleteGroup', optionPath: 'common.confirmDeleteGroup', helpText: 'options.common.confirmDeleteGroup.help' },
              confirmDeleteLink: { id: 'CommonConfirmDeleteLink', type: 'checkbox', translateKey: 'options.common.confirmDeleteLink', optionPath: 'common.confirmDeleteLink', helpText: 'options.common.confirmDeleteLink.help' }
            }
          },
          security: {
            translateKey: 'options.security.title',
            fields: {
              enabled: {
                id: 'SecurityEnabled',
                type: 'checkbox',
                translateKey: 'options.security.enabled',
                optionPath: 'security.enabled',
                helpText: 'options.security.enabled.help'
              },
              sessionTimeoutMinutes: {
                id: 'SecuritySessionTimeoutMinutes',
                type: 'number',
                translateKey: 'options.security.sessionTimeoutMinutes',
                optionPath: 'security.sessionTimeoutMinutes',
                helpText: 'options.security.sessionTimeoutMinutes.help',
                min: 0,
                max: 1440,
                step: 1,
                suffix: 'options.security.minutesSuffix'
              }
            }
          },
          groups: {
            translateKey: 'options.groups',
            fields: {
              collapseGroupsOnStart: {
                id: 'GroupsCollapseGroupsOnStart',
                type: 'checkbox',
                translateKey: 'options.groups.collapseGroupsOnStart',
                optionPath: 'groups.collapseGroupsOnStart',
                helpText: 'options.groups.collapseGroupsOnStart.help'
              },
              hoverExpandEnabled: {
                id: 'GroupsHoverExpandEnabled',
                type: 'checkbox',
                translateKey: 'options.groups.hoverExpandEnabled',
                optionPath: 'groups.hoverExpandEnabled',
                helpText: 'options.groups.hoverExpandEnabled.help'
              },
              hoverExpandDelay: {
                id: 'GroupsHoverExpandDelay',
                type: 'number',
                translateKey: 'options.groups.hoverExpandDelay',
                optionPath: 'groups.hoverExpandDelayMs',
                helpText: 'options.groups.hoverExpandDelay.help'
              },
              autoAdjustHeightOnLinkChanges: {
                id: 'GroupsAutoAdjustHeightOnLinkChanges',
                type: 'checkbox',
                translateKey: 'options.groups.autoAdjustHeightOnLinkChanges',
                optionPath: 'groups.autoAdjustHeightOnLinkChanges',
                helpText: 'options.groups.autoAdjustHeightOnLinkChanges.help'
              },
              clearClosesAllGroups: {
                id: 'GroupsClearClosesAll',
                type: 'checkbox',
                translateKey: 'options.groups.clearClosesAllGroups',
                optionPath: 'groups.clearClosesAllGroups',
                helpText: 'options.groups.clearClosesAllGroups.help'
              },
              keywordClickExpandsAll: {
                id: 'GroupsKeywordClickExpandsAll',
                type: 'checkbox',
                translateKey: 'options.groups.keywordClickExpandsAll',
                optionPath: 'groups.keywordClickExpandsAll',
                helpText: 'options.groups.keywordClickExpandsAll.help'
              },
              searchAutoExpandFound: {
                id: 'GroupsSearchAutoExpandFound',
                type: 'checkbox',
                translateKey: 'options.groups.searchAutoExpandFound',
                optionPath: 'groups.searchAutoExpandFound',
                helpText: 'options.groups.searchAutoExpandFound.help'
              }
            }
          },
          links: {
            translateKey: 'options.links',
            fields: {
              openInNewTab: {
              id: 'LinksOpenInNewTab',
              type: 'checkbox',
              translateKey: 'options.links.openInNewTab',
              optionPath: 'links.openInNewTab',
              helpText: 'options.links.openInNewTab.help'
              },
              progressiveLoadingThreshold: {
              id: 'LinksProgressiveLoadingThreshold',
              type: 'number',
              translateKey: 'options.links.progressiveLoadingThreshold',
              optionPath: 'links.progressiveLoadingThreshold',
              helpText: 'options.links.progressiveLoadingThreshold.help',
              defaultValue: 100
              },
              addViaDialog: {
              id: 'LinksAddViaDialog',
              type: 'checkbox',
              translateKey: 'options.links.addViaDialog',
              optionPath: 'links.addViaDialog',
              helpText: 'options.links.addViaDialog.help'
              },
              defaultUrlPrefix: {
              id: 'LinksDefaultUrlPrefix',
              type: 'text',
              translateKey: 'options.links.defaultUrlPrefix',
              optionPath: 'links.defaultUrlPrefix',
              helpText: 'options.links.defaultUrlPrefix.help',
              placeholder: 'https://'
              },
              autoFetchTitle: {
              id: 'LinksAutoFetchTitle',
              type: 'checkbox',
              translateKey: 'options.links.autoFetchTitle',
              optionPath: 'links.autoFetchTitle',
              helpText: 'options.links.autoFetchTitle.help'
              },
              autoFetchFavicon: {
              id: 'LinksAutoFetchFavicon',
              type: 'checkbox',
              translateKey: 'options.links.autoFetchFavicon',
              optionPath: 'links.autoFetchFavicon',
              helpText: 'options.links.autoFetchFavicon.help'
              },
              allowExternalFaviconService: {
              id: 'LinksAllowExternalFaviconService',
              type: 'checkbox',
              translateKey: 'options.links.allowExternalFaviconService',
              optionPath: 'links.allowExternalFaviconService',
              helpText: 'options.links.allowExternalFaviconService.help',
              defaultValue: false
              },
              showLinkBadges: {
              id: 'LinksShowLinkBadges',
              type: 'checkbox',
              translateKey: 'options.links.showLinkBadges',
              optionPath: 'links.showLinkBadges',
              helpText: 'options.links.showLinkBadges.help'
              },
              showReferenceMarker: {
              id: 'LinksShowReferenceMarker',
              type: 'checkbox',
              translateKey: 'options.links.showReferenceMarker',
              optionPath: 'links.showReferenceMarker',
              helpText: 'options.links.showReferenceMarker.help',
              defaultValue: true
              },
              showLinkPopover: {
              id: 'LinksShowLinkPopover',
              type: 'checkbox',
              translateKey: 'options.links.showLinkPopover',
              optionPath: 'links.showLinkPopover',
              helpText: 'options.links.showLinkPopover.help',
              defaultValue: true
              },
              copyUrlFormat: {
                id: 'LinksCopyUrlFormat',
                type: 'text',
                translateKey: 'options.links.copyUrlFormat',
                optionPath: 'links.copyUrlFormat',
                helpText: 'options.links.copyUrlFormat.help',
                defaultValue: '{title}: {url}',
                placeholder: '{title}: {url}'
              },
              
            }
          },
	          backupReminder: {
	            translateKey: 'options.backupReminder',
	            fields: {
              enabled: {
                id: 'BackupReminderEnabled',
                type: 'checkbox',
                translateKey: 'options.backupReminder.enabled',
                optionPath: 'backupReminder.enabled',
                helpText: 'options.backupReminder.enabled.help',
                defaultValue: true
              },
              intervalDays: {
                id: 'BackupReminderIntervalDays',
                type: 'number',
                translateKey: 'options.backupReminder.intervalDays',
                optionPath: 'backupReminder.intervalDays',
                helpText: 'options.backupReminder.intervalDays.help',
                min: 1,
                max: 365
              },
              changeThreshold: {
                id: 'BackupReminderChangeThreshold',
                type: 'number',
                translateKey: 'options.backupReminder.changeThreshold',
                optionPath: 'backupReminder.changeThreshold',
                helpText: 'options.backupReminder.changeThreshold.help',
                min: 1,
                max: 1000
              },
              startupCheck: {
                id: 'BackupReminderStartupCheck',
                type: 'checkbox',
                translateKey: 'options.backupReminder.startupCheck',
                optionPath: 'backupReminder.startupCheck',
                helpText: 'options.backupReminder.startupCheck.help',
                defaultValue: true
              },
              remindBeforeImport: {
                id: 'BackupReminderBeforeImport',
                type: 'checkbox',
                translateKey: 'options.backupReminder.remindBeforeImport',
                optionPath: 'backupReminder.remindBeforeImport',
                helpText: 'options.backupReminder.remindBeforeImport.help',
                defaultValue: true
              },
              reminderCooldownHours: {
                id: 'BackupReminderCooldownHours',
                type: 'number',
                translateKey: 'options.backupReminder.reminderCooldownHours',
                optionPath: 'backupReminder.reminderCooldownHours',
                helpText: 'options.backupReminder.reminderCooldownHours.help',
                min: 1,
                max: 168
              },
              showUrgencyIndicator: {
                id: 'BackupReminderShowUrgencyIndicator',
                type: 'checkbox',
                translateKey: 'options.backupReminder.showUrgencyIndicator',
                optionPath: 'backupReminder.showUrgencyIndicator',
                helpText: 'options.backupReminder.showUrgencyIndicator.help',
                defaultValue: true
              },
              exportBlinkEnabled: {
                id: 'BackupReminderExportBlinkEnabled',
                type: 'checkbox',
                translateKey: 'options.backupReminder.exportBlinkEnabled',
                optionPath: 'backupReminder.exportBlinkEnabled',
                helpText: 'options.backupReminder.exportBlinkEnabled.help',
                defaultValue: true
	              }
	            }
	          },
	          automaticSnapshots: {
	            translateKey: 'options.automaticSnapshots',
	            fields: {
	              enabled: {
	                id: 'AutomaticSnapshotsEnabled',
	                type: 'checkbox',
	                translateKey: 'options.automaticSnapshots.enabled',
	                optionPath: 'automaticSnapshots.enabled',
	                helpText: 'options.automaticSnapshots.enabled.help',
	                defaultValue: true
	              },
	              beforeDestructiveActions: {
	                id: 'AutomaticSnapshotsDestructive',
	                type: 'checkbox',
	                translateKey: 'options.automaticSnapshots.beforeDestructiveActions',
	                optionPath: 'automaticSnapshots.beforeDestructiveActions',
	                helpText: 'options.automaticSnapshots.beforeDestructiveActions.help',
	                defaultValue: true
	              },
	              onSyncConflict: {
	                id: 'AutomaticSnapshotsSyncConflict',
	                type: 'checkbox',
	                translateKey: 'options.automaticSnapshots.onSyncConflict',
	                optionPath: 'automaticSnapshots.onSyncConflict',
	                helpText: 'options.automaticSnapshots.onSyncConflict.help',
	                defaultValue: true
	              },
	              onEventThreshold: {
	                id: 'AutomaticSnapshotsOnEventThreshold',
	                type: 'checkbox',
	                translateKey: 'options.automaticSnapshots.onEventThreshold',
	                optionPath: 'automaticSnapshots.onEventThreshold',
	                helpText: 'options.automaticSnapshots.onEventThreshold.help',
	                defaultValue: true
	              },
	              eventThreshold: {
	                id: 'AutomaticSnapshotsEventThreshold',
	                type: 'number',
	                translateKey: 'options.automaticSnapshots.eventThreshold',
	                optionPath: 'automaticSnapshots.eventThreshold',
	                helpText: 'options.automaticSnapshots.eventThreshold.help',
	                min: 1,
	                max: 1000
	              },
	              onTimeInterval: {
	                id: 'AutomaticSnapshotsOnTimeInterval',
	                type: 'checkbox',
	                translateKey: 'options.automaticSnapshots.onTimeInterval',
	                optionPath: 'automaticSnapshots.onTimeInterval',
	                helpText: 'options.automaticSnapshots.onTimeInterval.help',
	                defaultValue: true
	              },
	              intervalMinutes: {
	                id: 'AutomaticSnapshotsIntervalMinutes',
	                type: 'number',
	                translateKey: 'options.automaticSnapshots.intervalMinutes',
	                optionPath: 'automaticSnapshots.intervalMinutes',
	                helpText: 'options.automaticSnapshots.intervalMinutes.help',
	                min: 1,
	                max: 1440
	              },
	              onSessionEnd: {
	                id: 'AutomaticSnapshotsOnSessionEnd',
	                type: 'checkbox',
	                translateKey: 'options.automaticSnapshots.onSessionEnd',
	                optionPath: 'automaticSnapshots.onSessionEnd',
	                helpText: 'options.automaticSnapshots.onSessionEnd.help',
	                defaultValue: true
	              },
	              cooldownSeconds: {
	                id: 'AutomaticSnapshotsCooldownSeconds',
	                type: 'number',
	                translateKey: 'options.automaticSnapshots.cooldownSeconds',
	                optionPath: 'automaticSnapshots.cooldownSeconds',
	                helpText: 'options.automaticSnapshots.cooldownSeconds.help',
	                min: 0,
	                max: 3600
	              },
	              maxAutoSnapshots: {
	                id: 'AutomaticSnapshotsMaxAutoSnapshots',
	                type: 'number',
	                translateKey: 'options.automaticSnapshots.maxAutoSnapshots',
	                optionPath: 'automaticSnapshots.maxAutoSnapshots',
	                helpText: 'options.automaticSnapshots.maxAutoSnapshots.help',
	                min: 1,
	                max: 200
	              }
	            }
	          },
	          buttons: {
	            translateKey: 'options.buttons',
	            fields: {
              showAddLink: {
                id: 'ButtonsShowAddLink',
                type: 'checkbox',
                translateKey: 'options.buttons.showAddLink',
                optionPath: 'buttons.showAddLink',
                helpText: 'options.buttons.showAddLink.help',
                defaultValue: true
              },
              showDeleteGroup: {
                id: 'ButtonsShowDeleteGroup',
                type: 'checkbox',
                translateKey: 'options.buttons.showDeleteGroup',
                optionPath: 'buttons.showDeleteGroup',
                helpText: 'options.buttons.showDeleteGroup.help',
                defaultValue: true
              },
              showKeywordQuickAddBadge: {
                id: 'ButtonsShowKeywordQuickAddBadge',
                type: 'checkbox',
                translateKey: 'options.buttons.showKeywordQuickAddBadge',
                optionPath: 'buttons.showKeywordQuickAddBadge',
                helpText: 'options.buttons.showKeywordQuickAddBadge.help',
                defaultValue: true
              },
              showCopyUrl: {
                id: 'ButtonsShowCopyUrl',
                type: 'checkbox',
                translateKey: 'options.buttons.showCopyUrl',
                optionPath: 'buttons.showCopyUrl',
                helpText: 'options.buttons.showCopyUrl.help',
                defaultValue: true
              },
              showQrCode: {
                id: 'ButtonsShowQrCode',
                type: 'checkbox',
                translateKey: 'options.buttons.showQrCode',
                optionPath: 'buttons.showQrCode',
                helpText: 'options.buttons.showQrCode.help',
                defaultValue: true
              },
              showDeleteLink: {
                id: 'ButtonsShowDeleteLink',
                type: 'checkbox',
                translateKey: 'options.buttons.showDeleteLink',
                optionPath: 'buttons.showDeleteLink',
                helpText: 'options.buttons.showDeleteLink.help',
                defaultValue: true
              }
            }
          },
          sharing: {
            translateKey: 'options.sharing',
            fields: {
              // Move display name here to show above ntfy server URL
              identityName: { id: 'CommonIdentityName', type: 'text', translateKey: 'options.common.identityName', optionPath: 'common.identityName', helpText: 'options.common.identityName.help' },
              ntfyServerUrl: { id: 'SharingNtfyServer', type: 'text', translateKey: 'options.sharing.ntfyServerUrl', optionPath: 'sharing.ntfyServerUrl', helpText: 'options.sharing.ntfyServerUrl.help' },
              ntfyAuthToken: { id: 'SharingNtfyToken', type: 'text', translateKey: 'options.sharing.ntfyAuthToken', optionPath: 'sharing.ntfyAuthToken', helpText: 'options.sharing.ntfyAuthToken.help' },
              defaultTtl: { id: 'SharingDefaultTtl', type: 'number', translateKey: 'options.sharing.defaultTtl', optionPath: 'sharing.defaultTtl', helpText: 'options.sharing.defaultTtl.help' },
              quickCodeTtlSec: { id: 'SharingQuickCodeTtl', type: 'number', translateKey: 'options.sharing.quickCodeTtl', optionPath: 'sharing.quickCodeTtlSec', helpText: 'options.sharing.quickCodeTtl.help' },
              contactOnlineTimeoutSeconds: { id: 'SharingContactOnlineTimeout', type: 'number', translateKey: 'options.sharing.contactOnlineTimeout', optionPath: 'sharing.contactOnlineTimeoutSeconds', helpText: 'options.sharing.contactOnlineTimeout.help' }
            }
          },
          sync: {
            translateKey: 'options.sync',
            fields: {
              // Settings for all users (Owner & Member)
              conflictNotificationLevel: { 
                id: 'SyncConflictNotifications', 
                type: 'select', 
                translateKey: 'options.sync.conflictNotificationLevel', 
                optionPath: 'sync.conflictNotificationLevel',
                helpText: 'options.sync.conflictNotificationLevel.help',
                roleScope: 'all', // For everyone
                values: {
                  'silent': 'options.sync.conflictNotificationLevel.silent',
                  'minimal': 'options.sync.conflictNotificationLevel.minimal',
                  'verbose': 'options.sync.conflictNotificationLevel.verbose'
                }
              },
              autoSyncInterval: {
                id: 'SyncAutoInterval',
                type: 'select',
                translateKey: 'options.sync.autoSyncInterval',
                optionPath: 'sync.autoSyncInterval',
                helpText: 'options.sync.autoSyncInterval.help',
                roleScope: 'all',
                values: {
                  '300': 'options.sync.autoSyncInterval.5min',
                  '600': 'options.sync.autoSyncInterval.10min',
                  '1800': 'options.sync.autoSyncInterval.30min',
                  '3600': 'options.sync.autoSyncInterval.1hour',
                  '0': 'options.sync.autoSyncInterval.manual'
                }
              },
              offlineMode: {
                id: 'SyncOfflineMode',
                type: 'select',
                translateKey: 'options.sync.offlineMode',
                optionPath: 'sync.offlineMode',
                helpText: 'options.sync.offlineMode.help',
                roleScope: 'all',
                values: {
                  'optimistic': 'options.sync.offlineMode.optimistic',
                  'conservative': 'options.sync.offlineMode.conservative'
                }
              },
              // Settings only for Owners
              conflictResolution: {
                id: 'SyncConflictResolution',
                type: 'select',
                translateKey: 'options.sync.conflictResolution',
                optionPath: 'sync.conflictResolution',
                helpText: 'options.sync.conflictResolution.help',
                roleScope: 'owner', // Only for group owners
                values: {
                  'owner-wins': 'options.sync.conflictResolution.ownerWins',
                  'last-write-wins': 'options.sync.conflictResolution.lastWriteWins',
                  'manual': 'options.sync.conflictResolution.manual'
                }
              },
              memberRateLimit: {
                id: 'SyncMemberRateLimit',
                type: 'number',
                translateKey: 'options.sync.memberRateLimit',
                optionPath: 'sync.memberRateLimit',
                helpText: 'options.sync.memberRateLimit.help',
                roleScope: 'owner',
                min: 0,
                max: 100,
                suffix: 'options.sync.memberRateLimit.suffix'
              },
              validationLevel: {
                id: 'SyncValidationLevel',
                type: 'select',
                translateKey: 'options.sync.validationLevel',
                optionPath: 'sync.validationLevel',
                helpText: 'options.sync.validationLevel.help',
                roleScope: 'owner',
                values: {
                  'strict': 'options.sync.validationLevel.strict',
                  'moderate': 'options.sync.validationLevel.moderate',
                  'permissive': 'options.sync.validationLevel.permissive'
                }
              },
              // Settings only for Members
              localCacheStrategy: {
                id: 'SyncLocalCache',
                type: 'select',
                translateKey: 'options.sync.localCacheStrategy',
                optionPath: 'sync.localCacheStrategy',
                helpText: 'options.sync.localCacheStrategy.help',
                roleScope: 'member', // Only for members
                values: {
                  'full': 'options.sync.localCacheStrategy.full',
                  'minimal': 'options.sync.localCacheStrategy.minimal'
                }
              },
              errorHandling: {
                id: 'SyncErrorHandling',
                type: 'select',
                translateKey: 'options.sync.errorHandling',
                optionPath: 'sync.errorHandling',
                helpText: 'options.sync.errorHandling.help',
                roleScope: 'member',
                values: {
                  'retry': 'options.sync.errorHandling.retry',
                  'queue': 'options.sync.errorHandling.queue',
                  'discard': 'options.sync.errorHandling.discard'
                }
              }
            }
          },
          syncEngine: {
            translateKey: 'options.sync.engine',
            fields: {
              backend: {
                id: 'SyncBackend', type: 'select', translateKey: 'options.sync.backend', optionPath: 'sync.backend', helpText: 'options.sync.backend.help',
                values: { 'carddav': 'options.sync.backend.carddav', 'nc-bookmarks': 'options.sync.backend.nc' }
              }
            }
          },
          bookmarks: {
            translateKey: 'bookmarks.title',
            fields: {
              serverUrl: { id: 'BkServerUrl', type: 'text', translateKey: 'bookmarks.serverUrl', optionPath: 'bookmarks.serverUrl', helpText: 'bookmarks.serverUrl.help' },
              username:  { id: 'BkUsername',  type: 'text', translateKey: 'bookmarks.username',  optionPath: 'bookmarks.username',  helpText: 'bookmarks.username.help' },
              password:  { id: 'BkPassword',  type: 'text', translateKey: 'bookmarks.password',  optionPath: 'bookmarks.password',  helpText: 'bookmarks.password.help' },
              rootFolderId: { id: 'BkRootFolder', type: 'select', translateKey: 'bookmarks.rootFolderId', optionPath: 'bookmarks.rootFolderId', helpText: 'bookmarks.rootFolderId.help', values: { '0': 'All folders' } },
              autoCreateFolders: { id: 'BkAutoCreate', type: 'checkbox', translateKey: 'bookmarks.autoCreate', optionPath: 'bookmarks.autoCreateFolders', helpText: 'bookmarks.autoCreate.help' },
              autoRenameFolders: { id: 'BkAutoRename', type: 'checkbox', translateKey: 'bookmarks.autoRename', optionPath: 'bookmarks.autoRenameFolders', helpText: 'bookmarks.autoRename.help' },
              syncIntervalSec: { id: 'BkSyncInterval', type: 'select', translateKey: 'carddav.syncInterval', optionPath: 'bookmarks.syncIntervalSec', helpText: 'carddav.syncInterval.help', values: { '0':'carddav.syncInterval.manual','300':'carddav.syncInterval.5min','600':'carddav.syncInterval.10min','1800':'carddav.syncInterval.30min','3600':'carddav.syncInterval.1hour' } },
              // Actions at the end of the section: Test + Reset in one row
              actionsRow: { type: 'actions', actions: [
                { key: 'testConnection', translateKey: 'carddav.testConnection', buttonClass: 'btn-outline-primary' },
                { key: 'resetBindings', translateKey: 'sync.resetBindings', buttonLabel: 'sync.resetBindings', buttonClass: 'btn-outline-danger' }
              ]}
            }
          },
          carddav: {
            translateKey: 'carddav.title',
            fields: {
              serverUrl: { id: 'CardDAVServerUrl', type: 'text', translateKey: 'carddav.serverUrl', optionPath: 'carddav.serverUrl', helpText: 'carddav.serverUrl.help' },
              username: { id: 'CardDAVUsername', type: 'text', translateKey: 'carddav.username', optionPath: 'carddav.username', helpText: 'carddav.username.help' },
              password: { id: 'CardDAVPassword', type: 'text', translateKey: 'carddav.password', optionPath: 'carddav.password', helpText: 'carddav.password.help' },
              addressbookPath: { id: 'CardDAVAddressbookPath', type: 'text', translateKey: 'carddav.addressbookPath', optionPath: 'carddav.addressbookPath', helpText: 'carddav.addressbookPath.help' },
              createAddressbookIfMissing: { id: 'CardDAVCreateAB', type: 'checkbox', translateKey: 'carddav.createAddressbookIfMissing', optionPath: 'carddav.createAddressbookIfMissing', helpText: 'carddav.createAddressbookIfMissing.help' },
              syncIntervalSec: {
                id: 'CardDAVSyncInterval', type: 'select', translateKey: 'carddav.syncInterval', optionPath: 'carddav.syncIntervalSec', helpText: 'carddav.syncInterval.help',
                values: { '0': 'carddav.syncInterval.manual', '300': 'carddav.syncInterval.5min', '600': 'carddav.syncInterval.10min', '1800': 'carddav.syncInterval.30min', '3600': 'carddav.syncInterval.1hour' }
              }
            }
          },
          eventlog: {
            translateKey: 'options.eventlog.title',
            fields: {
              snapshotInterval: {
                id: 'eventLogSnapshotInterval',
                type: 'number',
                translateKey: 'options.eventlog.snapshotInterval',
                optionPath: 'eventlog.snapshotInterval',
                helpText: 'options.eventlog.snapshotInterval.help',
                min: 10,
                max: 1000,
                suffix: 'Events'
              },
              maxEvents: {
                id: 'eventLogMaxEvents',
                type: 'number',
                translateKey: 'options.eventlog.maxEvents',
                optionPath: 'eventlog.maxEvents',
                helpText: 'options.eventlog.maxEvents.help',
                min: 100,
                max: 10000,
                suffix: 'Events'
              },
              syncStrategy: {
                id: 'syncStrategy',
                type: 'select',
                translateKey: 'options.eventlog.syncStrategy',
                optionPath: 'eventlog.syncStrategy',
                helpText: 'options.eventlog.syncStrategy.help',
                values: {
                  'owner-leads': 'options.eventlog.syncStrategy.ownerLeads',
                  'all-equal': 'options.eventlog.syncStrategy.allEqual',
                  'smart-merge': 'options.eventlog.syncStrategy.smartMerge'
                }
              }
            }
          }
        },
        // Group Edit Dialog Configuration
        groupEditDesign: {
          basic: {
            translateKey: 'group.basic',
            fields: {
              name: {
                type: 'text',
                translateKey: 'group.name',
                placeholder: 'Enter group name',
                helpText: 'group.name.help'
              },
              emoji: {
                type: 'emoji',
                translateKey: 'group.emoji',
                placeholder: 'group.emoji.placeholder',
                helpText: 'group.emoji.help'
              },
              keywords: {
                type: 'text',
                translateKey: 'group.keywords',
                placeholder: 'e.g. work, personal, docs',
                helpText: 'group.keywords.help'
              }
            }
          },
          advanced: {
            translateKey: 'group.advanced',
            fields: {
              shortcut: {
                type: 'shortcut',
                translateKey: 'group.shortcut',
                placeholder: 'group.shortcut.placeholder',
                helpText: 'group.shortcut.help'
              },
              manualHeightResizeOverride: {
                id: 'GroupManualHeightResizeOverride',
                type: 'checkbox',
                translateKey: 'group.manualHeightResizeOverride',
                helpText: 'group.manualHeightResizeOverride.help'
              },
              infoHtml: {
                type: 'textarea',
                translateKey: 'group.infoHtml',
                placeholder: 'group.infoHtml.placeholder',
                helpText: 'group.infoHtml.help',
                rows: 4
              }
            }
          },
          behavior: {
            translateKey: 'group.behavior',
            fields: {
              linkedCollapseGroupUuids: {
                type: 'group-link-behaviors',
                translateKey: 'group.linkedCollapseGroups',
                helpText: 'group.linkedCollapseGroups.help'
              }
            }
          },
          placeholders: {
            translateKey: 'placeholders.group.title',
            fields: {
              urlPlaceholders: {
                type: 'placeholders',
                scope: 'group',
                translateKey: 'placeholders.group.title',
                helpText: 'placeholders.group.help'
              }
            }
          }
        },
        // Link Edit Dialog Configuration
        linkEditDesign: {
          basic: {
            translateKey: 'link.basic',
            fields: {
              itemType: {
                type: 'select',
                translateKey: 'link.itemType',
                helpText: 'link.itemType.help',
                values: {
                  'link': 'link.itemType.link',
                  'note': 'link.itemType.note',
                  'separator': 'link.itemType.separator'
                }
              },
              text: {
                type: 'text',
                translateKey: 'link.text',
                placeholder: 'Enter link text',
                helpText: 'link.text.help'
              },
              url: {
                type: 'url',
                translateKey: 'link.url',
                placeholder: 'https://example.com',
                helpText: 'link.url.info',
                validation: 'url',
                autofocus: true
              },
              emoji: {
                type: 'emoji',
                translateKey: 'link.emoji',
                placeholder: 'link.emoji.placeholder',
                helpText: 'link.emoji.help'
              },
              keywords: {
                type: 'text',
                translateKey: 'link.keywords',
                placeholder: 'e.g. work, personal, docs',
                helpText: 'link.keywords.help'
              }
            }
          },
          advanced: {
            translateKey: 'link.advanced',
            fields: {
              shortcut: {
                type: 'shortcut',
                translateKey: 'link.shortcut',
                placeholder: 'link.shortcut.placeholder',
                helpText: 'link.shortcut.help'
              },
              infoHtml: {
                type: 'textarea',
                translateKey: 'link.infoHtml',
                placeholder: 'link.infoHtml.placeholder',
                helpText: 'link.infoHtml.help',
                rows: 4
              }
            }
          },
          placeholders: {
            translateKey: 'placeholders.link.title',
            fields: {
              urlPlaceholders: {
                type: 'placeholders',
                scope: 'link',
                translateKey: 'placeholders.link.title',
                helpText: 'placeholders.noneInUrl'
              }
            }
          }
        },
        // Favicon Rules working state (Options modal)
        faviconRulesWorking: [],
        faviconRulesTestUrl: '',
        i18n: { // bersetzungen jetzt hier
          'en': {
            // Favicon rules
            'options.links.faviconRules': 'Favicon rules',
            'options.links.faviconRules.manage': 'Manage favicon rules',
            'favicon.rules.title': 'Favicon Rules',
            'favicon.rules.add': 'Add rule',
            'favicon.rules.apply': 'Apply to existing links',
            'favicon.rules.override': 'Override existing favicons',
            'favicon.rules.type': 'Type',
            'favicon.rules.pattern': 'Pattern',
            'favicon.rules.icon': 'Icon',
            'favicon.rules.comment': 'Comment',
            'favicon.rules.commentPlaceholder': 'Optional comment',
            'favicon.rules.enabled': 'Enabled',
            'favicon.rules.domain': 'Domain',
            'favicon.rules.prefix': 'URL prefix',
            'favicon.rules.regex': 'Regex',
            'favicon.rules.autofetch': 'Auto-fetch',
            'favicon.rules.upload': 'Upload',
            'favicon.rules.delete': 'Delete',
            'favicon.rules.test': 'Test URL',
            'favicon.rules.matchPreview': 'Matched rule preview',
            'favicon.rules.restoreDefaults': 'Restore defaults',
            'favicon.rules.export': 'Export rules',
            'favicon.rules.import': 'Import rules',
            'favicon.rules.none': 'No favicon rules yet.',
            'favicon.rules.defaultsRestored': 'Default favicon rules restored',
            'favicon.rules.defaultsAlreadyPresent': 'All default favicon rules are already present',
            'favicon.rules.exportError': 'Failed to export favicon rules',
            'favicon.rules.importSuccess': 'Imported {count} favicon rules',
            'favicon.rules.importNothing': 'No new favicon rules to import',
            'favicon.rules.importError': 'Failed to import favicon rules',
            'favicon.rules.needsExtension': 'Extension required to auto-fetch icons',
            'favicon.rules.saved': 'Favicon rules saved',
            'favicon.rules.applied': 'Favicon rules applied',
            // CardDAV
            'carddav.title': 'CardDAV Sync',
            'carddav.serverUrl': 'Server URL',
            'carddav.serverUrl.help': 'Base URL of your CardDAV server (e.g., https://cloud.example.com)',
            'carddav.username': 'Username',
            'carddav.username.help': 'Your CardDAV username',
            'carddav.password': 'App password',
            'carddav.password.help': 'Use an app-specific password if available',
            'carddav.addressbookPath': 'Addressbook URL/path (optional)',
            'carddav.addressbookPath.help': 'Leave empty for auto-discovery, or set a full DAV path',
            'carddav.createAddressbookIfMissing': 'Automatically create addressbook if missing',
            'carddav.createAddressbookIfMissing.help': 'Automatically create an addressbook named "MyBookmarks" if allowed',
            'carddav.syncInterval': 'Auto-sync interval',
            'carddav.syncInterval.help': 'How often to sync automatically (0 = manual only)',
            'carddav.syncInterval.manual': 'Manual only',
            'carddav.syncInterval.5min': 'Every 5 minutes',
            'carddav.syncInterval.10min': 'Every 10 minutes',
            'carddav.syncInterval.30min': 'Every 30 minutes',
            'carddav.syncInterval.1hour': 'Every hour',
            'carddav.syncNow': 'Sync now (Nextcloud Bookmarks)',
            'carddav.extensionRequired': 'Browser extension with CardDAV support required',
            'carddav.notEnabled': 'CardDAV is disabled in Options',
            'carddav.syncStarted': 'CardDAV sync started',
            'carddav.syncFailed': 'CardDAV sync failed: {message}',
            'carddav.addressbookPathMissing': 'Please configure Server URL and Addressbook Path in Options',
            'carddav.testConnection': 'Test connection',
            'options.sync.engine': 'Sync Backend',
            'options.sync.backend': 'Sync service',
            'options.sync.backend.help': 'Select sync provider',
            'options.sync.backend.carddav': 'CardDAV (DAV, experimental)',
            'options.sync.backend.nc': 'Nextcloud Bookmarks (REST, alpha)',
            'bookmarks.title': 'Nextcloud Bookmarks',
            'bookmarks.serverUrl': 'Server URL',
            'bookmarks.serverUrl.help': 'Base URL of your Nextcloud (e.g., https://cloud.example.com)',
            'bookmarks.username': 'Username',
            'bookmarks.username.help': 'Your Nextcloud username',
            'bookmarks.password': 'App password',
            'bookmarks.password.help': 'Use an app-specific password',
            'bookmarks.rootFolderId': 'Sync root folder',
            'bookmarks.rootFolderId.help': '0 = all folders; set a specific folder ID to limit sync',
            'bookmarks.autoCreate': 'Auto-create folders from groups',
            'bookmarks.autoCreate.help': 'Create missing Nextcloud folders for local groups',
            'bookmarks.autoRename': 'Rename folders when groups are renamed',
            'bookmarks.autoRename.help': 'Rename Nextcloud folders when group names change',
            'bookmarks.chooseFolder': 'Choose Folder',
            'bookmarks.pickFolder': 'Select a Nextcloud folder',
            'bookmarks.refresh': 'Refresh',
            'bookmarks.select': 'Select',
            'sync.resetBindings': 'Reset Nextcloud mapping bindings',
            'sync.resetBindings.help': 'Remove all stored Nextcloud folder/bookmark IDs from your groups and links. Useful to resync fresh.',
            'sync.resetBindings.confirm': 'This will remove all Nextcloud sync bindings (folder and bookmark IDs) from all groups and links. Your bookmarks stay, but re-sync will recreate mappings. Continue?',
            'sync.resetBindings.done': 'Sync bindings cleared',
            'sync.resetBindings.failed': 'Failed to clear sync bindings',
            'eraseDatabase': 'Erase database',
            'eraseDatabase.warning': 'Warning! This will permanently delete ALL your bookmarks, groups, and settings. This action cannot be undone!',
            'eraseDatabase.confirm': 'Are you absolutely sure you want to delete everything?',
            'addGroup': 'Add group',
            'search': 'Search',
            'importFromFile': 'Import from file',
            'exportToFile': 'Export to file',
            'import': 'Import',
            'options': 'Options',
            'options.applyError': 'Could not apply options.',
            'css.advancedEditor': 'Advanced Editor',
            'options.common': 'Common',
            'options.common.language': 'Language',
            'options.common.language.english': 'English',
            'options.common.language.german': 'German',
            'options.common.language.help': 'Select the language',
            'options.common.pageTitle': 'Page title',
            'options.common.pageTitle.help': 'Set the page title',
            'options.common.identityName': 'Your display name',
            'options.common.identityName.help': 'This name is shown to other members and contacts',
            'options.common.manualGroupColumnWidth': 'Allow manual group column widths',
            'options.common.manualGroupColumnWidth.help': 'Allow dragging vertical separators to resize group columns and persist the widths.',
            'options.groups': 'Groups',
            'options.groups.collapseGroupsOnStart': 'Collapse groups on start',
            'options.groups.collapseGroupsOnStart.help': 'Collapse all groups on start',
            'options.groups.hoverExpandEnabled': 'Auto-open collapsed groups while dragging links',
            'options.groups.hoverExpandEnabled.help': 'When dragging a link, hovering a collapsed group expands it after the delay',
            'options.groups.hoverExpandDelay': 'Auto-open delay while dragging links',
            'options.groups.hoverExpandDelay.help': 'Time to hover a collapsed group with a dragged link before it expands (milliseconds)',
            'options.groups.autoAdjustHeightOnLinkChanges': 'Automatically adjust group height when links are added/removed',
            'options.groups.autoAdjustHeightOnLinkChanges.help': 'Automatically fit group height after adding/removing links if content would otherwise require scrolling. Disables manual height resize unless overridden per group.',
            'options.common.searchAsYouType': 'Instant search while typing',
            'options.common.searchAsYouType.help': 'You can start typing a search term without clicking in the search text field, unless you have focused on another input field',
            'options.common.debugEnabled': 'Enable diagnostic logging',
            'options.common.debugEnabled.help': 'Show debug logs in the browser console',
            'options.common.confirmDeleteGroup': 'Confirm group deletion',
            'options.common.confirmDeleteGroup.help': 'Ask for confirmation when deleting a group',
            'options.common.confirmDeleteLink': 'Confirm link deletion',
            'options.common.confirmDeleteLink.help': 'Ask for confirmation when deleting a link',
            'options.security.title': 'Local Data Protection',
            'options.security.enabled': 'Encrypt local database',
            'options.security.enabled.help': 'Protects locally stored data with a password. The password is required when opening this page.',
            'options.security.sessionTimeoutMinutes': 'Unlocked session duration',
            'options.security.sessionTimeoutMinutes.help': 'How long the decrypted session stays active before it locks again automatically (0 = disabled).',
            'options.security.minutesSuffix': 'min',
            'options.security.disable.confirm': 'Disable local encryption and store data unencrypted?',
            'options.security.passwordDialog.title': 'Set encryption password',
            'options.security.passwordDialog.help': 'This password is required to unlock local data.',
            'options.security.passwordDialog.password': 'Password',
            'options.security.passwordDialog.confirm': 'Confirm password',
            'options.security.passwordDialog.submit': 'Apply password',
            'options.security.passwordDialog.error.empty': 'Please enter a password.',
            'options.security.passwordDialog.error.short': 'Password must be at least 8 characters.',
            'options.security.passwordDialog.error.mismatch': 'Passwords do not match.',
            'options.security.enabledSuccess': 'Local data encryption enabled.',
            'options.security.enableCanceled': 'Encryption was not enabled (password entry canceled).',
            'options.security.enableFailed': 'Could not enable encryption.',
            'options.security.disabledSuccess': 'Local data encryption disabled.',
            'options.security.unlockTitle': 'Unlock local data',
            'options.security.unlockDescription': 'Enter the password to access locally stored data.',
            'options.security.unlockPassword': 'Password',
            'options.security.unlockButton': 'Unlock',
            'options.security.unlockError': 'Could not unlock data. Please check the password.',
            'options.security.lockedByTimeout': 'Session expired. Data has been locked again.',
            'confirm.deleteGroup': 'Delete group "%s" and all its links?',
            'confirm.deleteLink': 'Delete this link?',
            'confirm.deleteRefLink': 'Delete this ref link?',
            'options.groups.defaultGroupFormatting': 'Default group formatting',
            'options.groups.defaultGroupFormatting.help': 'Background formatting applied to newly created groups',
            'options.groups.defaultGroupTitleFormatting': 'Default group title formatting',
            'options.groups.defaultGroupTitleFormatting.help': 'Title formatting applied to newly created groups',
            'options.groups.defaultGroupLinkFormatting': 'Default group link formatting',
            'options.groups.defaultGroupLinkFormatting.help': 'Link formatting applied to all links in newly created groups',
            'options.groups.defaultGroupBadgeFormatting': 'Default badge formatting',
            'options.groups.defaultGroupBadgeFormatting.help': 'Badge formatting for link count and keywords in newly created groups',
            'options.groups.defaultLinkCountFormatting': 'Default link count formatting',
            'options.groups.defaultLinkCountFormatting.help': 'Formatting for link count display in newly created groups',
            'options.links.defaultLinkFormatting': 'Default link formatting',
            'options.links.defaultLinkFormatting.help': 'Default formatting for individual links',
            'options.links.defaultUrlPrefix': 'Automatic URL prefix',
            'options.links.defaultUrlPrefix.help': 'Prefix to add when a URL has no scheme (e.g., https://). Leave empty to add nothing.',
            'options.groups.clearClosesAllGroups': 'Collapse all groups when clearing search',
            'options.groups.clearClosesAllGroups.help': 'On Clear, collapse all groups for privacy',
            'options.groups.keywordClickExpandsAll': 'Expand all groups on keyword click',
            'options.groups.keywordClickExpandsAll.help': 'When clicking a keyword chip, expand all groups',
            'options.groups.searchAutoExpandFound': 'Auto-expand matching groups during search',
            'options.groups.searchAutoExpandFound.help': 'Expand groups that match the current search text',
            'options.colors.generalSection': 'General Website Colors',
            'options.colors.globalFormatting': 'Global Formatting',
            'options.colors.globalFormatting.help': 'Sets the overall appearance and background of the entire application',
            'options.colors.background': 'Website Background',
            'options.colors.background.help': 'Sets the main background color of the entire website',
            'options.colors.toolbarBackground': 'Toolbar Background',
            'options.colors.toolbarBackground.help': 'Background color of the toolbar containing search and action buttons',
            'options.colors.titleBarBackground': 'Title Bar Background',
            'options.colors.titleBarBackground.help': 'Background color of the title bar at the top of the page',
            'options.colors.titleTextColor': 'Title Text Color',
            'options.colors.titleTextColor.help': 'Color of the title text in the header',
            'options.colors.keywordBackground': 'Default keyword formatting',
            'options.colors.keywordBackground.help': 'Default background/formatting for the keyword area and badges',
            'options.colors.resetAll': 'Reset All Colors',
            'options.colors.reset': 'Reset',
            'css.custom.open': 'Custom CSS',
            'css.custom.title': 'Custom CSS',
            'css.custom.help': 'Styles are applied live. Example selectors: .groupTitle .text-truncate, .linkText a',
            'css.custom.placeholder': 'Example: .linkText a { color: #0d6efd; }',
            'css.reset': 'Reset',
            'css.custom.hooks': 'Hook classes',
            'css.custom.clickToInsert': 'Click to insert',
            'css.custom.selectClass': '-- Select CSS Selector --',
            'css.custom.layoutStructure': 'Layout & Structure',
            'css.custom.groups': 'Groups',
            'css.custom.groupInfo': 'Group Info Section',
            'css.custom.currentGroups': 'Current Groups',
            'css.custom.links': 'Links',
            'css.custom.currentLinks': 'Current Links',
            'css.custom.badges': 'Badges & Keywords',
            'css.custom.currentKeywords': 'Current Keywords',
            'css.custom.keywordsInGroups': 'Keywords in Groups',
            'css.custom.keywordsInLinks': 'Keywords in Links',
            'css.custom.specificGroupKeywords': 'Specific Keywords (Group  Keyword)',
            'css.custom.specificKeywords': 'Specific Keywords (Group  Link  Keyword)',
            'css.custom.multiline': 'With Comments',
            'css.custom.multilineTooltip': 'Add explanatory comments above complex selectors for better readability',
            'css.selectorExists': 'CSS selector already exists! Jumped to line.',
            'css.custom.buttons': 'Buttons & Forms',
            'css.custom.modals': 'Dialogs & Modals',
            'css.custom.sidebar': 'Sidebar & CSS Editor',
            'css.custom.keywordBar': 'Keyword Bar',
            'link.favicon.upload': 'Upload favicon',
            'link.favicon.remove': 'Remove',
            'link.favicon.invalidFile': 'Please select an image file',
            'link.favicon.tooLarge': 'Image is too large (max 256KB)',
            'link.favicon.uploaded': 'Favicon uploaded',
            'link.favicon.readError': 'Could not read image file',
            'group.favicon.upload': 'Upload group icon',
            'group.favicon.remove': 'Remove icon',
            'group.favicon.invalidFile': 'Please select an image file',
            'group.favicon.tooLarge': 'Image is too large (max 256KB)',
            'group.favicon.uploaded': 'Group icon updated',
            'group.favicon.readError': 'Could not read image file',
            'css.custom.slugHelpTitle': 'Keyword slugs',
            'css.custom.slugHelpText': 'Keywords are transformed to slugs: lowercased, spaces  dash, other non [a-z0-9_-]  dash.\nExamples: "UI/UX"  ui-ux, "C++"  c--, "Foo Bar"  foo-bar.\n\nKeyword CSS levels:\n1) Global keyword chips:\n   .mb-keyword { ... }\n   .mb-keyword-kw-<slug> { ... }\n\n2) Per group keyword chips:\n   .group-uuid-<uuid> .mb-group__keyword-badge { ... }\n   .group-uuid-<uuid> .mb-keyword-kw-<slug> { ... }\n\n3) Per link keyword chips:\n   .link-uuid-<uuid> .mb-link__keyword-badge { ... }\n   .link-uuid-<uuid> .mb-keyword-kw-<slug> { ... }\n\n4) Combined / specific anchor styles:\n   .group-uuid-<uuid> .mb-link__anchor { ... }\n   .link-uuid-<uuid> .mb-link__anchor { ... }\n\nTip: Copy UUID via context menu  "Copy CSS class".',
            'css.custom.helpTitle': ' CSS CUSTOMIZATION GUIDE',
            'css.templates.select': '-- Select Template --',
            'css.templates.save': 'Save as Template',
            'css.templates.delete': 'Delete Template',
            'css.templates.namePlaceholder': 'Enter template name...',
            'css.templates.overwriteConfirm': 'Template "{0}" already exists. Overwrite?',
            'css.templates.saved': 'Template "{0}" saved',
            'css.templates.loaded': 'Template "{0}" loaded',
            'css.templates.deleted': 'Template "{0}" deleted',
            'css.templates.deleteConfirm': 'Really delete template "{0}"?',
            'css.templates.darkMode': 'Dark Mode',
            'css.templates.minimal': 'Minimal',
            'css.templates.colorful': 'Colorful',
            'css.visual.title': 'Visual CSS Editor',
            'css.visual.templates': 'CSS Templates',
            'css.visual.rules': 'CSS Rules',
            'css.visual.generated': 'Generated CSS',
            'css.visual.importantHint': 'Override other styles with !important',
            'css.visual.designTokens': 'Design Tokens',
            'css.visual.addToken': 'Add Token',
            'css.visual.noTokens': 'No tokens yet. Add some (e.g., brand-primary (without --), #3b82f6)',
            'css.visual.tokensHint': 'Use tokens via the dropdown next to properties (var(--token)).',
            'css.visual.tokensSelect': '-- Select Token --',
            'css.visual.valuePlaceholder': 'Enter value (e.g., #ff0000, rgb(), var(--...))',
            'css.visual.openFormatEditor': 'Open property format editor',
            'css.visual.formatEditor': 'Property Format Editor',
            'css.visual.formatEditorNoSelection': 'Select a property with the gear button next to "Enter value...".',
            'css.visual.formatEditorBasic': 'Basic',
            'css.visual.formatEditorValue': 'Value Builder',
            'css.visual.formatEditorAdvanced': 'Advanced',
            'css.visual.formatEditorApply': 'Apply',
            'css.visual.formatEditorRevert': 'Revert',
            'css.visual.formatEditorUseRaw': 'Edit as raw CSS value',
            'css.visual.formatEditorPreview': 'Preview',
            'css.visual.formatEditorProperty': 'Property',
            'css.visual.formatEditorType': 'Type',
            'css.visual.formatEditorRawEnabled': 'Raw mode enabled. Disable it to use guided controls.',
            'css.visual.formatEditorRawOnly': 'This property uses raw mode only.',
            'css.visual.value': 'Value',
            'css.visual.none': 'None',
            'css.visual.color': 'Color',
            'css.visual.alpha': 'Alpha',
            'css.visual.fontFamilyCustom': 'Custom font-family value',
            'css.visual.linkValues': 'Link values',
            'css.unit': 'Unit',
            'css.blur': 'Blur',
            'css.spread': 'Spread',
            'css.visual.tokenName': 'Token name',
            'css.visual.tokenValue': 'Token value',
            'css.visual.invalidCssValue': 'Invalid CSS value',
            'css.visual.missingTokens': 'Missing tokens',
            'css.visual.invalidTokenValue': 'Invalid token value (e.g., #rrggbb, rgb(), linear-gradient(), var(--name))',
            'extension.clearCache': 'Clear extension cache',
            'extension.cacheCleared': 'Extension cache cleared',
            'extension.cacheClearFailed': 'Failed to clear extension cache',
            'extension.notAvailable': 'Extension not available',
            'extension.refetchFavicons': 'Re-fetching favicons',
            
            'css.visual.pickElement': 'Pick element',
            'css.visual.pickerActive': 'Element picker active: Click an element in content',
            'css.visual.picked': 'Picked',
            'css.visual.applyPreset': 'Apply preset',
            'css.visual.presetApplied': 'Preset applied',
            'css.visual.rule': 'Rule',
            'css.visual.doubleClickToEdit': 'Double-click to edit',
            'css.visual.copy': 'Copy',
            'css.visual.toggleCollapse': 'Toggle collapse',
            'css.visual.expandAll': 'Expand all',
            'css.visual.collapseAll': 'Collapse all',
            'css.visual.activate': 'Activate',
            'css.visual.deactivate': 'Deactivate',
            'css.visual.searchRules': 'Search rules',
            'css.visual.activateProperty': 'Activate property',
            'css.visual.deactivateProperty': 'Deactivate property',
            'css.visual.selectElementShort': 'Select element',
            'css.visual.customCss': 'Custom CSS',
            'css.visual.moveUp': 'Move up',
            'css.visual.moveDown': 'Move down',
            'css.visual.duplicate': 'Duplicate',
            'css.visual.delete': 'Delete',
            'css.visual.selectTemplate': '-- Select Template --',
            'css.visual.defaultTemplates': 'Default Templates',
            'css.visual.appLevel': 'App Level',
            'css.visual.uiPrimitives': 'UI Primitives',
            'css.visual.groupLevel': 'Group Level',
            'css.visual.linkLevel': 'Link Level',
            'css.visual.allGroups': 'All Groups',
            'css.visual.groupHeader': 'Group Header',
            'css.visual.groupTitle': 'Group Title',
            'css.visual.groupContent': 'Group Content',
            'css.visual.allLinks': 'All Links',
            'css.visual.allSeparators': 'All Separators',
            'css.visual.allNotes': 'All Notes',
            'css.visual.linkHover': 'Link (Hover)',
            'css.visual.state': 'State',
            'css.visual.hoverState': 'Hover (:hover)',
            'css.visual.dragOverState': 'Drag Over (.drag-over-active)',
            'css.visual.linkAnchor': 'Link Anchor',
            'css.visual.linkUrl': 'Link URL',
            'css.visual.linkIcon': 'Link Icon',
            'css.visual.keywords': 'Keywords',
            'css.visual.allKeywords': 'All Keywords (Keyword Bar)',
            'css.visual.selectedKeywords': 'Selected Keywords (Keyword Bar)',
            'css.visual.selectedKeywordText': 'Selected Keyword Text',
            'css.visual.keywordsHierarchical': 'Keywords (Hierarchical)',
            'css.visual.keywordByName': 'Keyword by Name',
            'css.visual.keywordSuggestions': 'Keyword Suggestions List',
            'css.visual.keywordSuggestionItem': 'Keyword Suggestion Item',
            'css.visual.apply': 'Apply',
            'css.visual.save': 'Save',
            'css.visual.migrationNotice': 'Note: Your existing Custom CSS has been imported. You can edit or delete it above as a "Legacy CSS" rule.',
            'css.visual.selectGroup': '-- All Groups --',
            'css.visual.selectLink': '-- All Links --',
            'css.visual.selectSeparator': '-- All Separators --',
            'css.visual.selectNote': '-- All Notes --',
            'css.visual.separatorShort': 'Sep.',
            'css.visual.noteShort': 'Note',
            'css.visual.selectKeyword': '-- All Keywords --',
            'css.visual.keyword': 'Keyword',
            'css.visual.customProperties': 'Custom CSS Properties',
            'css.visual.customPropertiesHint': 'e.g. display: flex;\njustify-content: center;',
            'css.visual.customPropertiesHelp': 'Enter any CSS properties (one per line)',
            'css.visual.generatedSelector': 'Generated Selector',
            'css.visual.ruleSets': 'Rule Sets',
            'css.visual.loadRuleSet': 'Load Rule Set',
            'css.visual.saveCurrentRules': 'Save Current Rules',
            'css.visual.savedRuleSets': 'Saved Sets',
            'css.visual.rulesCount': 'rules',
            'css.visual.deleteRuleSet': 'Delete',
            'css.visual.ruleSetName': 'Rule Set Name:',
            'css.visual.ruleSetSaved': 'Rule set saved!',
            'css.visual.loadRuleSetConfirm': 'Load this rule set? Your current rules will be replaced.',
            'css.visual.deleteRuleSetConfirm': 'Delete this rule set?',
            'css.visual.selectRuleSet': '-- Select --',
            'css.visual.ruleSetLoaded': 'Rule set loaded',
            'css.visual.ruleSetDeleted': 'Rule set deleted',
            'css.visual.clearAll': 'Clear All',
            'css.visual.clearAllTooltip': 'Delete all CSS settings',
            'css.visual.clearAllConfirm': 'Do you really want to delete ALL CSS settings?\n\nThis will remove:\n All CSS rules\n The selected template\n All saved rule sets\n\nThis action cannot be undone!',
            'css.visual.clearedAll': 'All CSS settings have been deleted',
            'css.visual.clearProperties': 'Clear Properties',
            'css.visual.clearPropertiesTitle': 'Delete all properties of this rule',
            'css.visual.propertiesCleared': 'Properties cleared',
            'css.visual.propertyAlreadyExists': 'This property already exists in this rule',
            'css.templates.defaultTemplates': 'Default Templates',
            'css.templates.customTemplates': 'Custom Templates',
            'css.templates.cannotDeleteDefault': 'Default templates cannot be deleted',
	            'options.colors.add': 'Add Color',
	            'options.links': 'Links',
	            'options.backupReminder': 'Backup reminders',
	            'options.backupReminder.enabled': 'Enable backup reminders',
	            'options.backupReminder.enabled.help': 'Shows reminders at strategic moments to create a backup.',
	            'options.backupReminder.intervalDays': 'Reminder interval (days)',
	            'options.backupReminder.intervalDays.help': 'Reminder appears again when the last backup is older than this value.',
	            'options.backupReminder.changeThreshold': 'Changes before reminder',
	            'options.backupReminder.changeThreshold.help': 'Reminder appears after this number of saved changes since the last backup.',
	            'options.backupReminder.startupCheck': 'Check on startup',
	            'options.backupReminder.startupCheck.help': 'Checks on startup whether a backup reminder should be shown.',
	            'options.backupReminder.remindBeforeImport': 'Remind before import',
	            'options.backupReminder.remindBeforeImport.help': 'Shows a reminder before importing links or restoring a full export.',
	            'options.backupReminder.reminderCooldownHours': 'Reminder cooldown (hours)',
	            'options.backupReminder.reminderCooldownHours.help': 'Minimum time between two reminders (except before import).',
	            'options.backupReminder.showUrgencyIndicator': 'Show backup urgency indicator',
	            'options.backupReminder.showUrgencyIndicator.help': 'Shows the color score indicator next to the database size in the toolbar.',
	            'options.backupReminder.exportBlinkEnabled': 'Blink export button on urgency',
	            'options.backupReminder.exportBlinkEnabled.help': 'Makes the export button blink in score color when urgency reaches the yellow range.',
	            'options.automaticSnapshots': 'Automatic snapshots',
	            'options.automaticSnapshots.enabled': 'Enable automatic snapshots',
	            'options.automaticSnapshots.enabled.help': 'Automatically creates restore points based on your rules.',
	            'options.automaticSnapshots.beforeDestructiveActions': 'Before destructive actions',
	            'options.automaticSnapshots.beforeDestructiveActions.help': 'Create a snapshot before deleting groups/links or other destructive operations.',
	            'options.automaticSnapshots.onSyncConflict': 'On sync conflicts',
	            'options.automaticSnapshots.onSyncConflict.help': 'Create a snapshot when sync conflicts are detected and resolved.',
	            'options.automaticSnapshots.onEventThreshold': 'Use change threshold',
	            'options.automaticSnapshots.onEventThreshold.help': 'Enable automatic snapshots after a number of saved changes.',
	            'options.automaticSnapshots.eventThreshold': 'Changes until snapshot',
	            'options.automaticSnapshots.eventThreshold.help': 'Create a snapshot after this many saved changes.',
	            'options.automaticSnapshots.onTimeInterval': 'Use time interval',
	            'options.automaticSnapshots.onTimeInterval.help': 'Enable automatic snapshots when enough time has passed since the last snapshot.',
	            'options.automaticSnapshots.intervalMinutes': 'Interval (minutes)',
	            'options.automaticSnapshots.intervalMinutes.help': 'Minimum minutes between automatic snapshots when there are unsnapshotted changes.',
	            'options.automaticSnapshots.onSessionEnd': 'At session end',
	            'options.automaticSnapshots.onSessionEnd.help': 'Create a snapshot when closing or reloading the page if there are unsaved snapshot-worthy changes.',
	            'options.automaticSnapshots.cooldownSeconds': 'Cooldown (seconds)',
	            'options.automaticSnapshots.cooldownSeconds.help': 'Minimum delay between two automatic snapshots.',
	            'options.automaticSnapshots.maxAutoSnapshots': 'Keep max automatic snapshots',
	            'options.automaticSnapshots.maxAutoSnapshots.help': 'Retention limit for automatic snapshots (manual snapshots are kept separately).',
	            'backup.reminder.message': 'Backup recommended now: %s.',
	            'backup.reminder.hint': 'Use Export (JSON) or save a snapshot.',
	            'backup.reminder.reason.none': 'no backup detected yet',
	            'backup.reminder.reason.interval': 'last backup {days} day(s) ago',
	            'backup.reminder.reason.changes': '{count} changes since the last backup',
	            'backup.reminder.reason.import': 'before an import',
	            'backup.reminder.reason.generic': 'regular reminder',
	            'backup.urgency.title': 'Backup urgency',
	            'backup.urgency.score': 'Score',
	            'backup.urgency.level.low': 'low',
	            'backup.urgency.level.medium': 'medium',
	            'backup.urgency.level.high': 'high',
	            'backup.urgency.lastBackup.days': 'Last backup: {days} day(s) ago',
	            'backup.urgency.lastBackup.none': 'No backup recorded yet',
	            'backup.urgency.changes': 'Changes since backup: {count}',
	            'backup.urgency.thresholds': 'Thresholds: {days} day(s) / {changes} changes',
	            'backup.urgency.empty': 'No links available yet',
	            'backup.urgency.remindersDisabled': 'Backup reminders are currently disabled',
	            'options.sharing': 'Sharing',
	            'options.sync': 'NTFY Synchronization',
            // Role badges
            'sync.role.all': 'All',
            'sync.role.owner': 'Owner',
            'sync.role.member': 'Member',
            // Conflict notification settings
            'options.sync.conflictNotificationLevel': 'Sync conflict notifications',
            'options.sync.conflictNotificationLevel.help': 'How to display sync conflict resolutions (applies to everyone):\n Silent - No notifications, conflicts resolved automatically\n Important only - Show only critical conflicts that may affect your data\n All conflicts - Show every conflict resolution for full transparency',
            'options.sync.conflictNotificationLevel.silent': 'Silent',
            'options.sync.conflictNotificationLevel.minimal': 'Important only',
            'options.sync.conflictNotificationLevel.verbose': 'All conflicts',
            // Auto sync interval
            'options.sync.autoSyncInterval': 'Automatic sync interval',
            'options.sync.autoSyncInterval.help': 'How often to check for updates (applies to everyone):\n 5 minutes - For active collaboration, moderate battery usage\n 10 minutes - Good balance between updates and resource usage\n 30 minutes - Battery-friendly, suitable for less active groups\n 1 hour - Minimal resource usage, for rarely changing content\n Manual only - You control when to sync, no automatic updates',
            'options.sync.autoSyncInterval.5min': '5 minutes',
            'options.sync.autoSyncInterval.10min': '10 minutes',
            'options.sync.autoSyncInterval.30min': '30 minutes',
            'options.sync.autoSyncInterval.1hour': '1 hour',
            'options.sync.autoSyncInterval.manual': 'Manual only',
            // Offline mode
            'options.sync.offlineMode': 'Offline Mode',
            'options.sync.offlineMode.help': 'How to handle changes when offline (applies to everyone):\n Show immediately - Changes appear instantly, may need correction later if conflicts occur\n Wait for confirmation - Changes only appear after successful sync, more reliable but slower',
            'options.sync.offlineMode.optimistic': 'Show immediately',
            'options.sync.offlineMode.conservative': 'Wait for confirmation',
            // Owner-only settings
            'options.sync.conflictResolution': 'Conflict resolution strategy',
            'options.sync.conflictResolution.help': 'How to resolve editing conflicts (owner groups only):\n Owner wins - Your changes as owner always take priority\n Latest wins - Most recent change wins regardless of who made it\n Ask me - Prompt for each conflict (may interrupt workflow)',
            'options.sync.conflictResolution.ownerWins': 'Owner wins',
            'options.sync.conflictResolution.lastWriteWins': 'Latest wins',
            'options.sync.conflictResolution.manual': 'Ask me',
            'options.sync.memberRateLimit': 'Change limit per member (per minute)',
            'options.sync.memberRateLimit.help': 'Max changes per minute per member (0 = unlimited, owner groups only)',
            'options.sync.memberRateLimit.suffix': 'per min',
            'options.sync.validationLevel': 'Validation Level',
            'options.sync.validationLevel.help': 'How strictly to validate incoming changes (owner groups only):\n Strict - Reject any suspicious or malformed data\n Moderate - Allow minor issues but block major problems\n Permissive - Accept most changes, only block critical errors',
            'options.sync.validationLevel.strict': 'Strict',
            'options.sync.validationLevel.moderate': 'Moderate',
            'options.sync.validationLevel.permissive': 'Permissive',
            // Member-only settings
            'options.sync.localCacheStrategy': 'Amount of data kept locally',
            'options.sync.localCacheStrategy.help': 'How much data to keep locally (member groups only):\n Everything - Keep full history and all versions locally (uses more storage)\n Current only - Keep only latest version (saves storage space)',
            'options.sync.localCacheStrategy.full': 'Everything',
            'options.sync.localCacheStrategy.minimal': 'Current only',
            'options.sync.errorHandling': 'Behavior on sync errors',
            'options.sync.errorHandling.help': 'How to handle sync errors (member groups only):\n Auto-retry - Automatically retry failed operations (recommended)\n Queue for later - Save failed changes to retry manually\n Discard on error - Give up on failed changes (data may be lost)',
            'options.sync.errorHandling.retry': 'Auto-retry',
            'options.sync.errorHandling.queue': 'Queue for later',
            'options.sync.errorHandling.discard': 'Discard on error',
            'options.sharing.ntfyServerUrl': 'Notification server (ntfy) URL',
            'options.sharing.ntfyServerUrl.help': 'URL of the ntfy push notification server, Default: https://ntfy.c5p.de (high limits)',
            'options.sharing.ntfyAuthToken': 'Auth Token',
            'options.sharing.ntfyAuthToken.help': 'Optional Bearer token for authentication',
            'options.sharing.defaultTtl': 'Default message lifetime (TTL)',
            'options.sharing.defaultTtl.help': 'Time to live in seconds (0 = server default)',
            'options.sharing.quickCodeTtl': 'Quick-Connect code lifetime (sec)',
            'options.sharing.quickCodeTtl.help': 'Validity of quick share codes in seconds',
            'options.sharing.contactOnlineTimeout': 'Contact online status timeout (sec)',
            'options.sharing.contactOnlineTimeout.help': 'How long a contact is shown as online without response (in seconds)',
            'options.links.openInNewTab': 'Open links in new tab',
            'options.links.openInNewTab.help': 'If enabled, clicking a link opens it in a new browser tab',
            'options.links.progressiveLoadingThreshold': 'Initial link count before "Show more"',
            'options.links.progressiveLoadingThreshold.help': 'Number of links to show initially per group (show more button appears above this limit)',
            'options.links.addViaDialog': 'Add links via dialog',
            'options.links.addViaDialog.help': 'Show an add button in the group header and hide inline inputs',
            'options.links.autoFetchTitle': 'Automatically fetch page title on add',
            'options.links.autoFetchTitle.help': 'Try to fetch the web page title and prefill link title (best-effort)',
            'options.links.autoFetchFavicon': 'Automatically fetch website icon (favicon)',
            'options.links.autoFetchFavicon.help': 'Use a favicon service URL to render the icon before the link',
            'options.links.allowExternalFaviconService': 'Allow external favicon fallback service (Google)',
            'options.links.allowExternalFaviconService.help': 'If enabled, missing popover favicons are loaded via Google favicon service (can trigger requests to t3.gstatic.com).',
            'options.links.showLinkBadges': 'Show link keyword badges',
            'options.links.showLinkBadges.help': 'Display keyword badges next to links',
            'options.links.showReferenceMarker': 'Show reference link marker (*)',
            'options.links.showReferenceMarker.help': 'Display a subtle asterisk next to reference links.',
            'options.links.showLinkPopover': 'Show link info popover on hover',
            'options.links.showLinkPopover.help': 'Display a multi-line popover with metadata when hovering or focusing a link',
            'css.visual.popoverLevel': 'Link Popover',
            'css.visual.linkPopover': 'Popover container',
            'css.visual.linkPopoverTitle': 'Popover title row',
            'css.visual.linkPopoverUrl': 'Popover URL line',
            'css.visual.linkPopoverMeta': 'Popover metadata block',
            'css.visual.linkPopoverRow': 'Popover metadata row',
            'css.visual.linkPopoverLabel': 'Popover label',
            'css.visual.linkPopoverValue': 'Popover value',
            'css.visual.linkPopoverValueMuted': 'Popover relative value',
            'css.visual.linkPopoverKeywords': 'Popover keywords container',
            'css.visual.linkPopoverBadge': 'Popover keyword badge',
            'css.visual.linkPopoverFavicon': 'Popover favicon',
            'options.links.copyUrlFormat': 'Format for "Copy URL"',
            'options.links.copyUrlFormat.help': 'Format for copying links. Available placeholders: {title}, {url}, {keywords}, {date}, {time}',
            'options.buttons': 'Quick Action Buttons',
            'options.buttons.showAddLink': 'Show quick action "Add link"',
            'options.buttons.showAddLink.help': 'Display the add link button in group headers',
            'options.buttons.showDeleteGroup': 'Show quick action "Delete group"',
            'options.buttons.showDeleteGroup.help': 'Display the delete button in group headers',
            'options.buttons.showKeywordQuickAddBadge': 'Show "+" keyword badge on hover',
            'options.buttons.showKeywordQuickAddBadge.help': 'Show a round + badge next to group and link keywords on mouseover to add keywords quickly',
            'options.buttons.showCopyUrl': 'Show quick action "Copy URL"',
            'options.buttons.showCopyUrl.help': 'Display the copy URL button for links',
            'options.buttons.showQrCode': 'Show quick action "QR code"',
            'options.buttons.showQrCode.help': 'Display the QR code button for links',
            'options.buttons.showDeleteLink': 'Show quick action "Delete link"',
            'options.buttons.showDeleteLink.help': 'Display the delete button for links',
            'groups.openAll': 'Open all',
            'groups.closeAll': 'Close all',
            'toolbar.equalizeGroupColumns': 'Equalize group column widths',
            'group.toggleGroupCollapse': 'Toggle group collapse',
            'group.moveGroupLeft': 'Move group left',
            'group.moveGroupRight': 'Move group right',
            'group.deleteGroup': 'Delete group',
            'group.link.moveLinkLeft': 'Move link left',
            'group.link.moveLinkRight': 'Move link right',
            'group.link.deleteLink': 'Delete link',
            'group.link.linkText': 'Link text',
            'group.link.linkUrl': 'Link URL',
            'group.link.add': 'Add',
            'group.link.dropAfter': 'Drop here',
            // Sync and Conflict Resolution
            'sync.conflictResolved': 'Sync Conflict Resolved',
            'sync.conflict.linkEdit': 'Link edit conflict resolved automatically',
            'sync.conflict.linkAdd': 'Duplicate link prevented',
            'sync.conflict.linkDelete': 'Link deletion conflict resolved',
            'sync.conflict.generic': 'Sync conflict automatically resolved',
            'group.dropAfter': 'Drop here',
            'menu.group.editGroup': 'Edit group',
            'group.showMore': 'Show more',
            'group.showLess': 'Show less',
            'group.resizeHeight': 'Drag to resize group height. Double-click to auto-fit this group.',
            'menu.group.inviteMembers': 'Invite members',
            'menu.group.transferOwnership': 'Transfer ownership',
            'menu.group.duplicate': 'Duplicate',
            'menu.keywords': 'Keywords',
            'menu.keyword.new': 'New keyword',
            'menu.keyword.remove': 'Remove',
            'menu.keyword.add': 'Add',
            'menu.keyword.noneAssigned': 'No assigned keywords',
            'menu.keyword.noneAvailable': 'No remaining keywords',
            'keywords.manage': 'Manage',
            'keywords.dialog.title': 'Manage Keywords',
            'keywords.dialog.empty': 'No keywords available',
            'keywords.dialog.newName': 'New name',
            'keywords.dialog.rename': 'Rename',
            'keywords.dialog.delete': 'Delete',
            'keywords.dialog.renameMissing': 'Please select a keyword.',
            'keywords.dialog.renameSame': 'Please enter a different keyword name.',
            'keywords.dialog.renameSuccess': 'Keyword renamed.',
            'keywords.dialog.deleteSuccess': 'Keyword deleted.',
            'keywords.dialog.confirmDelete': 'Delete keyword "%s" everywhere?',
            'keywords.quick.title.group': 'Add group keyword',
            'keywords.quick.title.link': 'Add link keyword',
            'keywords.quick.inputLabel': 'Keyword',
            'keywords.quick.placeholder': 'Enter keyword',
            'keywords.quick.help': 'Separate multiple keywords with comma or semicolon.',
            'keywords.quick.add': 'Add',
            'keywords.quick.empty': 'Please enter at least one keyword.',
            'keywords.quick.added': 'Keyword added.',
            'keywords.quick.duplicate': 'Keyword already assigned.',
            'dialog.contacts.title': 'Contacts',
            'dialog.contacts.empty': 'No contacts yet',
            'dialog.contacts.name': 'Name',
            'dialog.contacts.uuid': 'UUID',
            'dialog.contacts.status': 'Status',
            'dialog.contacts.actions': 'Actions',
            'dialog.contacts.sendTest': 'Send test',
            'dialog.contacts.remove': 'Remove',
            'dialog.contacts.online': 'online',
            'dialog.contacts.offline': 'offline', 
            'dialog.contacts.checking': 'checking...',
            'dialog.contacts.reachable': 'reachable',
            'dialog.contacts.unreachable': 'unreachable',
            'dialog.contacts.offlineTooltip': 'Contact is offline',
            'dialog.contacts.cannotSendOffline': 'Cannot send to offline contact',
            'dialog.contacts.removeWarningOwner': 'This contact owns',
            'dialog.contacts.removeWarningGroups': 'shared group(s) that will be deleted',
            'dialog.contacts.removeWarningMember': 'This contact is member of',
            'dialog.contacts.removeWarningYourGroups': 'of your shared group(s)',
            'dialog.contacts.removeConfirm': 'Remove contact',
            'dialog.contacts.removeNote': 'This contact will no longer be able to send you messages.',
            'dialog.share.title': 'Share',
            'dialog.send.linkTitle': 'Send Link',
            'dialog.send.groupTitle': 'Send Group',
            'dialog.send.selectContacts': 'Select contacts to send to:',
            'dialog.send.noContacts': 'No contacts available. Add contacts first.',
            'dialog.send.send': 'Send',
            'dialog.send.cancel': 'Cancel',
            'dialog.transfer.title': 'Transfer Ownership',
            'dialog.transfer.select': 'Select new owner:',
            'dialog.transfer.noCandidates': 'No eligible members found.',
            'dialog.transfer.transfer': 'Transfer',
            'dialog.transfer.acceptPrompt': 'The current owner requests to transfer group ownership to you. Do you accept?',
            'dialog.invite.title': 'Invite Members',
            'qc.receive': 'RECEIVE',
            'qc.receive.desc': 'Show code',
            'qc.receive.instruction': 'Share this code:',
            'qc.send': 'SEND',
            'qc.send.desc': 'Enter code',
            'qc.send.instruction': 'Enter the code:',
            'qc.generate': 'Generate Code',
            'qc.connect': 'Connect',
            'qc.stop': 'Stop',
            'qc.cancel': 'Cancel',
            'dialog.contacts.tabTitle': 'Contacts',
            'dialog.quickconnect.tabTitle': 'Quick-Connect',
            'dialog.close': 'Close',
            'members.title': 'Members',
            'members.filter.allow': 'allowed',
            'members.filter.deny': 'blocked',
            'members.filter.unset': 'local default',
            'members.remove': 'Remove',
            'members.noRoster': 'No member list received yet',
            'removedFromGroup.title': 'Group Membership Removed',
            'removedFromGroup.message': 'You have been removed from the following group while you were offline:',
            'removedFromGroup.owner': 'Group Owner:',
            'removedFromGroup.removedAt': 'Removed:',
            'removedFromGroup.explanation': 'The group will be removed from your list. If you need access again, please contact the group owner.',
            'removedFromGroup.acknowledge': 'I Understand',
            'members.perm.add': 'Add',
            'members.perm.edit': 'Edit',
            'members.perm.delete': 'Delete',
            'error.perm.add': 'You do not have permission to add links in this group.',
            'error.perm.edit': 'You do not have permission to edit links in this group.',
            'error.perm.delete': 'You do not have permission to delete links in this group.',
            'permission.denied': 'No permission',
            'error.onlyOwner': 'Only the owner can invite members.',
            'group.shared': 'Shared group',
            'group.keywords': 'Keywords',
            'group.shortcut': 'Group shortcut',
            'group.basic': 'Basic Settings',
            'group.styling': 'Styling',
            'group.advanced': 'Advanced',
            'group.behavior': 'Behavior',
            'group.name': 'Group Name',
            'group.name.help': 'HTML is allowed. Safe tags only (b, i, strong, em, br, span, small, code, pre, a with http/https/mailto).',
            'group.name.required': 'Please enter a group name',
            'group.keywords.help': 'Keywords for searching and filtering (separate with comma or semicolon)',
            'group.shortcut.placeholder': 'Focus field and press e.g. Ctrl+Alt+G',
            'group.shortcut.help': 'Press the key combination here to open all links in this group at once.',
            'group.linkedCollapseGroups': 'Synchronize linked groups',
            'group.linkedCollapseGroups.help': 'Configure per group whether opening and/or closing should be synchronized. Assignment is stored bidirectionally.',
            'group.linkedCollapseGroups.none': 'No other groups available.',
            'group.linkedCollapseGroups.column.group': 'Group',
            'group.linkedCollapseGroups.column.expand': 'Open',
            'group.linkedCollapseGroups.column.collapse': 'Close',
            'group.manualHeightResizeOverride': 'Allow manual height resize for this group',
            'group.manualHeightResizeOverride.help': 'Overrides the global auto-height setting for this group. When enabled, you can resize this group manually.',
            'group.color': 'Color',
            'group.backgroundFormatting': 'Background Formatting',
            'group.titleFormatting': 'Title Formatting',
            'group.linkFormatting': 'Link Formatting',
            'group.badgeFormatting': 'Keyword Badge Formatting',
            'group.pillFormatting': 'Link Count Formatting',
            'group.infoHtml': 'Info HTML',
            'group.infoHtml.placeholder': 'Enter HTML content to display in info section...',
            'group.infoHtml.help': 'This HTML will be displayed in a collapsible section below the group title.',
            'group.emoji': 'Icon',
            'group.emoji.placeholder': 'Click to select emoji',
            'group.emoji.help': 'Select an emoji icon for this group',
            'group.info.toggle': 'Information',
            'link.info': 'Information',
            'link.infoHtml': 'Info HTML',
            'link.infoHtml.placeholder': 'Enter HTML content to display in tooltip...',
            'link.infoHtml.help': 'This HTML will be displayed when hovering over the info icon.',
            'link.popover.url': 'URL',
            'link.popover.noUrl': 'No URL available',
            'link.popover.created': 'Created',
            'link.popover.updated': 'Updated',
            'link.popover.originalUrl': 'Original Input',
            'link.popover.untitled': 'Untitled link',
            'link.popover.notAvailable': 'Not recorded',
            'link.url.info': 'Leave URL empty to create a heading/category',
            'link.basic': 'Basic Settings',
            'link.advanced': 'Advanced',
            'link.text': 'Text',
            'link.text.help': 'HTML is allowed in the visible link text. Safe tags only. Note: anchors are stripped inside the link label.',
            'link.text.required': 'Please enter link text',
            'link.url': 'URL',
            'link.shortcut': 'Shortcut',
            'link.shortcut.placeholder': 'Focus field and press e.g. Ctrl+Alt+M',
            'link.shortcut.help': 'Press the key combination directly in this field. If multiple links share the same shortcut, all of them open together.',
            'link.shortcut.invalid': 'Please use Ctrl/Alt/Cmd plus a key (e.g. Ctrl+Alt+M).',
            'link.shortcut.reserved': 'This shortcut is reserved by the browser/system.',
            'link.shortcut.opened': 'Opened {count} link(s) via shortcut.',
            'link.shortcut.openedPartial': 'Only opened {opened} of {total} link(s). Popup blocker may have blocked the rest.',
            'link.shortcut.batchRemaining': 'Opened {opened} of {total} link(s). {remaining} remaining. Trigger the same shortcut/action again to continue.',
            'link.shortcut.confirmMany': 'Open {count} links at once?',
            'shortcuts.manage': 'Shortcut Manager',
            'shortcuts.manager.title': 'Shortcut Manager',
            'shortcuts.manager.linkAssignments': 'Defined link shortcuts',
            'shortcuts.manager.filterPlaceholder': 'Filter by shortcut, group, title or URL',
            'shortcuts.manager.noneDefined': 'No link shortcuts defined yet.',
            'shortcuts.manager.linksCount': 'links',
            'shortcuts.manager.urlsCount': 'valid URLs',
            'shortcuts.manager.openNow': 'Open now',
            'shortcuts.manager.editLink': 'Edit',
            'shortcuts.manager.globalTitle': 'Global shortcuts (open multiple pages)',
            'shortcuts.manager.globalHelp': 'Select groups and links from your bookmarks. Group selection includes all links in that group.',
            'shortcuts.manager.globalEmpty': 'No global shortcuts configured.',
            'shortcuts.manager.globalCombo': 'Shortcut',
            'shortcuts.manager.globalName': 'Name',
            'shortcuts.manager.globalNamePlaceholder': 'Optional label (e.g. Morning Start)',
            'shortcuts.manager.globalTargets': 'Select groups and links',
            'shortcuts.manager.globalNoLinks': 'No groups/links available.',
            'shortcuts.manager.invalidLinkUrl': 'Invalid URL; cannot be opened via shortcut.',
            'shortcuts.manager.remove': 'Remove',
            'shortcuts.manager.addGlobal': 'Add global shortcut',
            'shortcuts.manager.selectionStats': '{groups} groups, {links} links selected, {urls} URLs will open',
            'shortcuts.manager.invalidCombo': 'Please define a valid shortcut in row {row}.',
            'shortcuts.manager.invalidTargets': 'Please select at least one link or group in row {row}.',
            'shortcuts.manager.saved': 'Saved {count} global shortcuts.',
            'shortcuts.manager.popupBlockerHint': 'Browsers may block opening many tabs at once. If that happens, allow pop-ups for this site or trigger the shortcut/action again.',
            'shortcut.notice.globalDefined': 'Global shortcut "{combo}" is already defined and opens {count} URL(s).',
            'shortcut.notice.groupDefined': 'Group "{group}" already has shortcut "{combo}".',
            'shortcut.notice.groupInGlobal': 'Group "{group}" is already part of global shortcut "{combo}".',
            'shortcut.notice.linkInGlobalViaGroup': 'Link is already included in global shortcut "{combo}" via group "{group}".',
            'shortcut.notice.linkInGlobalDirect': 'Link is already selected in global shortcut "{combo}".',
            'shortcut.notice.linkInGroupShortcut': 'Link is already covered by group shortcut "{combo}" (group "{group}").',
            'link.itemType': 'Entry type',
            'link.itemType.help': 'Choose whether this item is a normal link, a note, or a visual separator.',
            'link.itemType.link': 'Link',
            'link.itemType.note': 'Note',
            'link.itemType.separator': 'Separator',
            'link.note.defaultLabel': 'Note',
            'note.expand': 'Expand note',
            'note.collapse': 'Collapse note',
            'link.separator.defaultLabel': 'Separator',
            'link.keywords': 'Keywords',
            'link.keywords.help': 'Keywords for searching and filtering (separate with comma or semicolon)',
            'link.emoji': 'Icon',
            'link.emoji.placeholder': 'Click to select emoji',
            'link.emoji.help': 'Select an emoji icon for this link',
            // Emoji picker
            'emoji.recent': 'Recent',
            'emoji.smileys': 'Smileys',
            'emoji.people': 'People',
            'emoji.animals': 'Animals',
            'emoji.food': 'Food',
            'emoji.travel': 'Travel',
            'emoji.activities': 'Activities',
            'emoji.objects': 'Objects',
            'emoji.symbols': 'Symbols',
            'emoji.flags': 'Flags',
            'link.color': 'Link Color',
            'color.reset': 'Reset',
            'color.remove': 'Remove',
            'color.add': 'Add Color',
            'menu.link.editLink': 'Edit link',
            'menu.link.editRefLink': 'Edit ref link',
            'menu.link.editNote': 'Edit note',
            'menu.link.editSeparator': 'Edit separator',
            'menu.link.deleteLink': 'Delete link',
            'menu.link.deleteRefLink': 'Delete ref link',
            'menu.link.deleteNote': 'Delete note',
            'menu.link.deleteSeparator': 'Delete separator',
            'menu.link.createRefLink': 'Create ref link',
            'menu.link.editOriginalLink': 'Edit original link',
            'link.copyUrl': 'Copy URL to clipboard',
            'link.urlCopied': 'URL copied',
            'link.copyFailed': 'Failed to copy URL',
            'link.ref.markerTitle': 'Reference link',
            'link.ref.missing': 'Reference link (original missing)',
            'link.ref.keywordReadOnly': 'Reference link keywords are read-only. Edit the original link.',
            'link.ref.sourceMissing': 'Original link could not be resolved.',
            'link.ref.createFromRefDisabled': 'Create ref link is only available for original URL links.',
            'link.ref.editDialog.title': 'Edit reference link text',
            'link.ref.editDialog.original': 'Original link',
            'link.ref.editDialog.originalKeywords': 'Original keywords',
            'link.ref.editDialog.none': 'None',
            'link.ref.editDialog.sourceMissingHint': 'The original link could not be found. You can still set a local reference text.',
            'link.ref.editDialog.aliasLabel': 'Reference text',
            'link.ref.editDialog.aliasPlaceholder': 'Leave empty to use the original link text',
            'link.ref.editDialog.help': 'Only this reference text is changed. URL and metadata stay linked to the original link.',
            'link.ref.editDialog.inheritKeywords': 'Use original link keywords',
            'link.ref.editDialog.localKeywordsLabel': 'Additional reference keywords',
            'link.ref.editDialog.localKeywordsPlaceholder': 'keyword1, keyword2',
            'link.ref.editDialog.localKeywordsHelp': 'These keywords belong only to this reference link.',
            'link.ref.selectTargetPrompt': 'Select target group number for the reference link:',
            'link.ref.invalidTarget': 'Invalid group selection.',
            'link.ref.aliasPrompt': 'Optional reference text (leave empty to use original text):',
            'link.ref.created': 'Reference link created.',
            'link.ref.deleteSourceConfirm': 'This link is used by {count} reference link(s). Delete anyway?',
            'placeholders.global.manage': 'Manage global placeholders',
            'placeholders.global.title': 'Global placeholders',
            'placeholders.global.help': 'Global placeholders are available for all links.',
            'placeholders.group.title': 'Group placeholders',
            'placeholders.group.help': 'Group placeholders override global placeholders for links in this group.',
            'placeholders.link.title': 'Link placeholders',
            'placeholders.urlTemplate': 'URL template',
            'placeholders.noneInUrl': 'No placeholders found in URL template.',
            'placeholders.name': 'Name',
            'placeholders.value': 'Value',
            'placeholders.encode': 'Encode',
            'placeholders.valuePlaceholder': 'Enter value',
            'placeholders.encodeLabel': 'URL-encode',
            'placeholders.preview': 'Preview',
            'placeholders.unresolvedHint': 'Unresolved placeholders',
            'placeholders.add': 'Add placeholder',
            'placeholders.inheritedValue': 'Inherited value',
            'placeholders.restoreInherited': 'Restore inherited',
            'placeholders.inheritedLocked': 'Inherited placeholders cannot be deleted.',
            'toast.success': 'Success',
            'toast.error': 'Error',
            'toast.warning': 'Warning',
            'toast.info': 'Information',
            'menu.link.sendLink': 'Send link',
            'menu.link.createQrCode': 'Create QR code',
            'menu.link.copyForCss': 'Copy for CSS',
            'menu.link.copyCssClass': 'Copy CSS class',
            'menu.link.copyUuid': 'Copy UUID',
            'menu.link.copyCssSelector': 'Copy CSS selector [data-link-uuid]',
            'menu.group.sendGroup': 'Send group',
            'menu.group.members': 'Members',
            'menu.group.inspectJSON': 'Inspect JSON',
            'menu.group.enableEventLog': 'Enable Event-Log (Beta)',
            'menu.group.copyForCss': 'Copy for CSS',
            'menu.group.copyCssClass': 'Copy CSS class',
            'menu.group.copyUuid': 'Copy UUID',
            'menu.group.copyCssSelector': 'Copy CSS selector [data-group-uuid]',
            'menu.group.leaveGroup': 'Leave group',
            'menu.group.sort': 'Sort links',
            'menu.group.sort.withinColumns': 'Within columns (AZ)',
            'menu.group.sort.preserveCounts': 'Global AZ, preserve column sizes',
            'menu.group.sort.rebalance': 'Global AZ, rebalance columns',
            'menu.group.sort.withinColumnsDesc': 'Within columns (ZA)',
            'menu.group.sort.preserveCountsDesc': 'Global ZA, preserve column sizes',
            'menu.group.sort.rebalanceDesc': 'Global ZA, rebalance columns',
            'menu.group.sort.separatorFallback': 'Groups with separators can only be sorted within columns.',
            'menu.group.addSeparator': 'Add separator',
            'menu.group.addNote': 'Add note',
            'group.separator.add': 'Add separator',
            'group.note.add': 'Add note',
            'json.inspector.title': 'Group JSON Inspector',
            'json.inspector.info': 'Complete JSON representation of the group object',
            'json.inspector.copy': 'Copy JSON',
            'json.inspector.stats': 'Statistics',
            'error.eventlog.ownerOnly': 'Only the owner can enable event-log for this group',
            'Are you sure?': 'Are you sure?',
            'tools': 'Tools',
            'snapshots.title': 'Snapshots',
            'snapshots.save': 'Save snapshot',
            'snapshots.none': 'No snapshots yet',
            'snapshots.promptName': 'Snapshot name:',
            'snapshots.restore.confirm': 'Restore this snapshot? Current state will be added to Undo.',
            'snapshots.delete.confirm': 'Delete this snapshot?',
            'snapshots.auto.prefix': 'Auto',
            'snapshots.auto.created': 'Automatic snapshot created (%s)',
            'snapshots.auto.reason.destructiveAction': 'Destructive action',
            'snapshots.auto.reason.syncConflict': 'Sync conflict',
            'snapshots.auto.reason.eventThreshold': 'Event threshold',
            'snapshots.auto.reason.timeInterval': 'Time interval',
            'snapshots.auto.reason.sessionEnd': 'Session end',
            'clear': 'Clear',
            'undo': 'Undo',
            'redo': 'Redo',
            'duplicates.find': 'Find duplicates',
            'duplicates.title': 'Duplicate Links Found',
            'duplicates.description': 'The following links appear in multiple groups:',
            'duplicates.none': 'No duplicates found.',
            'duplicates.copies': 'copies',
            'duplicates.keep': 'Keep',
            'duplicates.remove': 'Remove',
            'duplicates.info': 'The first occurrence of each link will be kept. Unchecked items will not be deleted.',
            'duplicates.removeSelected': 'Remove Selected Duplicates',
            'duplicates.confirmDelete': 'Delete %s duplicate(s) and keep the first?',
            'duplicates.deleted': 'Deleted %s duplicate(s).',
            'bookmarklet.addCurrentTab': 'Bookmarklet: Add current tab',
            'bookmarklet.instructions': 'Drag this link to your bookmarks bar to add the current tab here. Clicking it on any page opens this app with the URL prefilled.'
            , 'bookmarklet.helpTitle': 'Add Current Tab (Clipboard Bookmarklet)'
            , 'bookmarklet.dragThis': 'Drag this to your bookmarks bar'
            , 'bookmarklet.step.drag': 'Drag the button below to your bookmarks bar.'
            , 'bookmarklet.step.clickAnyPage': 'On any page, click the bookmarklet to copy URL and title to your clipboard.'
            , 'bookmarklet.step.switchBack': 'Switch back to this app and click Paste from clipboard to add it.'
            , 'clipboard.paste': 'Paste from clipboard'
            , 'clipboard.pastePrompt': 'Paste clipboard content here (JSON or URL):'
            , 'clipboard.empty': 'Clipboard is empty.'
            , 'clipboard.invalid': 'Clipboard content is not a valid URL or JSON.'
            , 'clipboard.noPermission': 'Could not read clipboard. Paste manually when prompted.'
            , 'clipboard.modalTitle': 'Import Links'
            , 'clipboard.instructions': 'Paste JSON, CSV, or HTML bookmarks:'
            , 'clipboard.read': 'Read from Clipboard'
            , 'clipboard.add': 'Add'
            , 'clipboard.placeholder': 'Paste your data here...'
            , 'clipboard.detectedFormat': 'Detected format:'
            , 'clipboard.preview': 'Preview'
            , 'clipboard.selectAll': 'Select All'
            , 'clipboard.deselectAll': 'Deselect All'
            , 'clipboard.import': 'Import Selected'
            , 'clipboard.cancel': 'Cancel'
            , 'clipboard.noLinksFound': 'No valid links found'
            , 'clipboard.noSelection': 'Please select at least one link'
            , 'clipboard.importSuccess': 'Successfully imported links'
            , 'clipboard.readOk': 'Content read from clipboard'
            , 'import.fromFile': 'Import from file:'
            , 'import.fromUrl': 'Import from URL:'
            , 'import.urlPlaceholder': 'https://example.com/bookmarks.json'
            , 'import.fetch': 'Fetch'
            , 'import.fetching': 'Fetching...'
            , 'import.corsError': 'Cannot fetch due to CORS policy. Try downloading the file and importing it locally, or use a CORS proxy.'
            , 'import.fetchError': 'Failed to fetch'
            , 'import.fromClipboard': 'Paste from clipboard:'
            , 'import.csvSeparator': 'CSV separator (optional):'
            , 'import.csvSeparator.placeholder': 'Auto-detect (e.g. ; or ,)'
            , 'import.csvSeparator.help': 'Leave empty for automatic detection. Use \\t for tab.'
            , 'import.or': ' OR '
            , 'import.newGroupTitle': 'New group title:'
            , 'import.groupTitlePlaceholder': 'Enter group title (optional)'
            , 'import.fullExportWarning.title': 'Warning!'
            , 'import.fullExportWarning.message': 'This is a full database export. It should only be imported into an EMPTY database to avoid conflicts. All existing data will be replaced.'
            , 'import.fullExportConfirm': 'This will REPLACE your entire database (groups, settings, contacts, etc.).\n\nThis is a restore operation - all UUIDs will be preserved.\n\nContinue?'
            , 'import.fullExportSuccess': 'Database restored successfully!'
            , 'import.groupsFound': 'Found links from the following groups:'
            , 'import.groupsWillBeCreated': 'These groups will be created automatically if they don\'t exist.'
            , 'import.defaultGroupTitle': 'Import'
            , 'import.fromBrowser': 'Import from browser:'
            , 'import.fetchingBookmarks': 'Loading bookmarks...'
            , 'import.browserBookmarks': 'Import Browser Bookmarks'
            , 'import.fullExportError': 'Database restore failed. Check console for details.'
            , 'export.title': 'Export Bookmarks'
            , 'export.selectItems': 'Select groups and links to export:'
            , 'export.groups': 'Groups'
            , 'export.selectAll': 'Select All'
            , 'export.deselectAll': 'Deselect All'
            , 'export.format': 'Export Format:'
            , 'export.selected': 'links selected'
            , 'export.export': 'Export'
            , 'export.cancel': 'Cancel'
            // Invitation dialog translations
            , 'invitation.groupTitle': 'Shared Group Invitation'
            , 'invitation.linkTitle': 'Shared Links Received'
            , 'share.groupTitle': 'Group Received'
            , 'share.linkTitle': 'Links Received'
            , 'invitation.from': 'From'
            , 'invitation.groupName': 'Group name'
            , 'invitation.linkCount': 'Number of links'
            , 'invitation.linksToAdd': 'Links to be added'
            , 'invitation.groupDescription': 'Would you like to add this shared group? You will be able to share links with other members of the group.'
            , 'invitation.linkDescription': 'Would you like to add these links to your selected group?'
            , 'invitation.sharedGroupDescription': 'Would you like to add this shared group with all its links?'
            , 'share.groupDescription': 'Would you like to add this group with all its links?'
            , 'share.linkDescription': 'Would you like to add these links?'
            , 'share.add': 'Add'
            , 'share.cancel': 'Cancel'
            , 'invitation.reject': 'Reject'
            , 'invitation.accept': 'Accept'
            // Browser Extension translations
            , 'extension.importBookmarks': 'Import Browser Bookmarks'
            , 'extension.enrichMetadata': 'Enrich Links with Metadata'
            , 'extension.notInstalled': 'Browser Extension not installed'
            , 'extension.installHint': 'Please install the MyBookmarks extension from local2/extensions/'
            , 'extension.imported': 'Imported {count} bookmarks in {groups} groups!'
            , 'extension.enriched': 'Enriched {count} links with metadata!'
            , 'extension.allHaveMetadata': 'All links already have metadata!'
            , 'extension.fetchMetadataConfirm': 'Fetch metadata for {count} links?'
            , 'extension.error': 'Error: {message}'

            // Event-Log Tab translations
            , 'eventlog.time': 'Time'
            , 'eventlog.type': 'Type'
            , 'eventlog.author': 'Author'
            , 'eventlog.details': 'Details'
            , 'eventlog.changes': 'changes'
            
            // Snapshot Tab translations
            , 'snapshot.info': 'Snapshot Information'
            , 'snapshot.created': 'Created'
            , 'snapshot.eventId': 'Event ID'
            , 'snapshot.links': 'Links in snapshot'
            , 'snapshot.members': 'Members in snapshot'
            , 'snapshot.version': 'Version'
            , 'snapshot.vectorClock': 'Vector Clock'
            , 'snapshot.member': 'Member'
            , 'snapshot.eventCount': 'Event Count'
            , 'snapshot.noVectorClock': 'No vector clock data'
            , 'snapshot.showData': 'Show snapshot data'
            
            // Event-Log & Sync Settings
            , 'options.eventlog.title': 'Event-Log & Sync'
            , 'options.eventlog.snapshotInterval': 'Snapshot every X events'
            , 'options.eventlog.snapshotInterval.help': 'Create snapshot after this many events (reduces memory usage)'
            , 'options.eventlog.maxEvents': 'Maximum number of events'
            , 'options.eventlog.maxEvents.help': 'Maximum events before forced cleanup (hard limit)'
            , 'options.eventlog.syncStrategy': 'Conflict strategy during sync'
            , 'options.eventlog.syncStrategy.help': 'How to handle conflicts when syncing'
            , 'options.eventlog.syncStrategy.ownerLeads': 'Owner leads (recommended)'
            , 'options.eventlog.syncStrategy.allEqual': 'All members equal'
            , 'options.eventlog.syncStrategy.smartMerge': 'Smart merge (experimental)'
            , 'Events': 'Events'
            , 'options.eventlog.note': 'Note:'
            , 'options.eventlog.note.text': 'Event-log settings apply when you are the group owner. Members use the owner\'s settings.'
            
            // CSS Dialog translations
            , 'css.format': 'CSS Format'
            , 'css.noStyle': 'No custom style'
            , 'css.clear': 'Clear'
            , 'css.preview.text': 'Preview Text'
            , 'css.opacity.warning': 'Note:'
            , 'css.opacity.websiteBackgroundInfo': 'For Website Background, opacity is applied to the background color only (using rgba). This prevents dialogs from becoming transparent.'
            , 'css.background': 'Background (shorthand)'
            , 'css.backgroundColor': 'Background Color'
            , 'css.backgroundOpacity': 'Opacity'
            , 'css.text': 'Text'
            , 'css.textColor': 'Text Color'
            , 'css.fontFamily': 'Font Family'
            , 'css.default': 'Default'
            , 'css.fontSize': 'Font Size'
            , 'css.fontWeight': 'Font Weight'
            , 'css.normal': 'Normal'
            , 'css.bold': 'Bold'
            , 'css.lighter': 'Lighter'
            , 'css.fontStyle': 'Font Style'
            , 'css.italic': 'Italic'
            , 'css.oblique': 'Oblique'
            , 'css.textDecoration': 'Text Decoration'
            , 'css.underline': 'Underline'
            , 'css.overline': 'Overline'
            , 'css.lineThrough': 'Line Through'
            , 'css.underlineOverline': 'Underline + Overline'
            , 'css.border': 'Border'
            , 'css.borderStyle': 'Border Style'
            , 'css.none': 'None'
            , 'css.solid': 'Solid'
            , 'css.dashed': 'Dashed'
            , 'css.dotted': 'Dotted'
            , 'css.double': 'Double'
            , 'css.groove': 'Groove'
            , 'css.ridge': 'Ridge'
            , 'css.inset': 'Inset'
            , 'css.outset': 'Outset'
            , 'css.borderWidth': 'Border Width'
            , 'css.borderColor': 'Border Color'
            , 'css.borderRadius': 'Border Radius'
            , 'css.shadow': 'Shadow'
            , 'css.boxShadow': 'Box Shadow'
            , 'css.shadowPresets': 'Presets'
            , 'css.shadowSubtle': 'Subtle'
            , 'css.shadowMedium': 'Medium'
            , 'css.shadowStrong': 'Strong'
            , 'css.shadowInset': 'Inset'
            , 'css.generatedCode': 'Generated CSS:'
            , 'css.apply': 'Apply'
            , 'css.cancel': 'Cancel'
            , 'css.shorthand': 'Shorthand'
            , 'css.spacing': 'Spacing'
            , 'css.padding': 'Padding'
            , 'css.margin': 'Margin'
            , 'css.top': 'Top'
            , 'css.right': 'Right'
            , 'css.bottom': 'Bottom'
            , 'css.left': 'Left'
            , 'css.resetAll': 'Reset All'
            
            // Visual CSS Editor translations
            , 'css.visual.addRule': 'Add New CSS Rule'
            , 'css.visual.deleteRule': 'Delete Rule'
            , 'css.visual.element': 'Element'
            , 'css.visual.selectElement': '-- Select Element --'
            , 'css.visual.group': 'Group'
            , 'css.visual.link': 'Link'
            , 'css.visual.properties': 'CSS Properties'
            , 'css.visual.addProperty': '+ Add Property...'
            , 'css.visual.colors': 'Colors'
            , 'css.visual.typography': 'Typography'
            , 'css.visual.borders': 'Borders'
            , 'css.visual.sizes': 'Sizes'
            , 'css.visual.complete': 'complete'
            , 'css.outline': 'Outline'
            , 'css.outlineWidth': 'Outline Width'
            , 'css.outlineStyle': 'Outline Style'
            , 'css.outlineColor': 'Outline Color'
            , 'css.outlineOffset': 'Outline Offset'
            , 'css.width': 'Width'
            , 'css.height': 'Height'
            , 'css.opacity': 'Opacity'
            , 'css.textAlign': 'Text Align'
            , 'css.topLeft': 'top left'
            , 'css.topRight': 'top right'
            , 'css.bottomLeft': 'bottom left'
            , 'css.bottomRight': 'bottom right'
            , 'css.visual.layout': 'Layout'
            , 'css.visual.effects': 'Effects'

            // Generic button translations
            , 'apply': 'Apply'
            , 'cancel': 'Cancel'
            , 'save': 'Save'
            , 'delete': 'Delete'
            , 'members.select': 'Select member by number:'
            , 'close': 'Close'
            , 'ok': 'OK'
            , 'features.open': 'Help / Feature overview'
            , 'sync.progress': 'Sync in progress'
            , 'group.addLink': 'Add link'
            , 'group.resizeWidth': 'Drag to resize group column width'
            , 'link.qrCode': 'Generate QR Code'
            , 'link.copyError': 'Could not access clipboard'
            , 'favicon.loadError': 'Could not load favicon'
            , 'import.extensionRequired': 'Browser extension required for URL import. Please install the MyBookmarks extension or use file upload.'
            , 'quick.test.note': 'Test message'
            , 'quick.test.failed': 'Quick test failed.'
            , 'link.ref.editDialog.originalUrl': 'Original URL template'
            , 'link.ref.editDialog.placeholders': 'Placeholders'
          },
          'de': {
            // Favicon rules
            'options.links.faviconRules': 'Favicon-Regeln',
            'options.links.faviconRules.manage': 'Favicon-Regeln verwalten',
            'favicon.rules.title': 'Favicon-Regeln',
            'favicon.rules.add': 'Regel hinzufgen',
            'favicon.rules.apply': 'Auf bestehende Links anwenden',
            'favicon.rules.override': 'Vorhandene Favicons berschreiben',
            'favicon.rules.type': 'Typ',
            'favicon.rules.pattern': 'Muster',
            'favicon.rules.icon': 'Icon',
            'favicon.rules.comment': 'Kommentar',
            'favicon.rules.commentPlaceholder': 'Optionaler Kommentar',
            'favicon.rules.enabled': 'Aktiv',
            'favicon.rules.domain': 'Domain',
            'favicon.rules.prefix': 'URL-Prfix',
            'favicon.rules.regex': 'Regex',
            'favicon.rules.autofetch': 'Auto laden',
            'favicon.rules.upload': 'Hochladen',
            'favicon.rules.delete': 'Lschen',
            'favicon.rules.test': 'Test-URL',
            'favicon.rules.matchPreview': 'Treffervorschau',
            'favicon.rules.restoreDefaults': 'Standardregeln wiederherstellen',
            'favicon.rules.export': 'Regeln exportieren',
            'favicon.rules.import': 'Regeln importieren',
            'favicon.rules.none': 'Keine Favicon-Regeln vorhanden.',
            'favicon.rules.defaultsRestored': 'Standard-Favicon-Regeln wiederhergestellt',
            'favicon.rules.defaultsAlreadyPresent': 'Alle Standard-Favicon-Regeln sind bereits vorhanden',
            'favicon.rules.exportError': 'Export der Favicon-Regeln fehlgeschlagen',
            'favicon.rules.importSuccess': '{count} Favicon-Regeln importiert',
            'favicon.rules.importNothing': 'Keine neuen Favicon-Regeln importiert',
            'favicon.rules.importError': 'Import der Favicon-Regeln fehlgeschlagen',
            'favicon.rules.needsExtension': 'Extension erforderlich zum automatischen Laden von Icons',
            'favicon.rules.saved': 'Favicon-Regeln gespeichert',
            'favicon.rules.applied': 'Favicon-Regeln angewendet',
            // CardDAV
            'carddav.title': 'CardDAV-Sync',
            'carddav.serverUrl': 'Server-URL',
            'carddav.serverUrl.help': 'Basis-URL deines CardDAV-Servers (z. B. https://cloud.example.com)',
            'carddav.username': 'Benutzername',
            'carddav.username.help': 'Dein CardDAV-Benutzername',
            'carddav.password': 'App-Passwort',
            'carddav.password.help': 'Falls mglich App-Passwort verwenden',
            'carddav.addressbookPath': 'Adressbuch-URL/Pfad (optional)',
            'carddav.addressbookPath.help': 'Leer lassen fr Auto-Discovery oder vollstndigen DAV-Pfad angeben',
            'carddav.createAddressbookIfMissing': 'Adressbuch automatisch erstellen, falls nicht vorhanden',
            'carddav.createAddressbookIfMissing.help': 'Adressbuch "MyBookmarks" automatisch anlegen, sofern erlaubt',
            'carddav.syncInterval': 'Auto-Sync-Intervall',
            'carddav.syncInterval.help': 'Wie oft automatisch synchronisiert wird (0 = nur manuell)',
            'carddav.syncInterval.manual': 'Nur manuell',
            'carddav.syncInterval.5min': 'Alle 5 Minuten',
            'carddav.syncInterval.10min': 'Alle 10 Minuten',
            'carddav.syncInterval.30min': 'Alle 30 Minuten',
            'carddav.syncInterval.1hour': 'Stndlich',
            'carddav.syncNow': 'Jetzt synchronisieren (Nextcloud Bookmarks)',
            'carddav.extensionRequired': 'Browser-Erweiterung mit CardDAV-Untersttzung erforderlich',
            'carddav.notEnabled': 'CardDAV ist in den Optionen deaktiviert',
            'carddav.syncStarted': 'CardDAV-Synchronisierung gestartet',
            'carddav.syncFailed': 'CardDAV-Synchronisierung fehlgeschlagen: {message}',
            'carddav.addressbookPathMissing': 'Bitte Server-URL und Adressbuch-Pfad in den Optionen konfigurieren',
            'carddav.testConnection': 'Verbindung testen',
            'options.sync.engine': 'Sync-Backend',
            'options.sync.backend': 'Sync-Dienst',
            'options.sync.backend.help': 'Sync-Anbieter whlen',
            'options.sync.backend.carddav': 'CardDAV (experimentell)',
            'options.sync.backend.nc': 'Nextcloud Bookmarks (REST)',
            'bookmarks.title': 'Nextcloud Bookmarks',
            'bookmarks.serverUrl': 'Server-URL',
            'bookmarks.serverUrl.help': 'Basis-URL deiner Nextcloud (z. B. https://cloud.example.com)',
            'bookmarks.username': 'Benutzername',
            'bookmarks.username.help': 'Dein Nextcloud-Benutzername',
            'bookmarks.password': 'App-Passwort',
            'bookmarks.password.help': 'App-spezifisches Passwort verwenden',
            'bookmarks.rootFolderId': 'Sync-Startordner',
            'bookmarks.rootFolderId.help': '0 = alle Ordner; eine Ordner-ID setzen, um zu begrenzen',
            'bookmarks.autoCreate': 'Ordner aus Gruppen automatisch anlegen',
            'bookmarks.autoCreate.help': 'Nicht vorhandene Nextcloud-Ordner fr lokale Gruppen anlegen',
            'bookmarks.autoRename': 'Ordnernamen bei Gruppen-Umbenennung mitziehen',
            'bookmarks.autoRename.help': 'Nextcloud-Ordnernamen aktualisieren, wenn Gruppen umbenannt werden',
            'bookmarks.chooseFolder': 'Ordner whlen',
            'bookmarks.pickFolder': 'Nextcloud-Ordner auswhlen',
            'bookmarks.refresh': 'Aktualisieren',
            'bookmarks.select': 'Auswhlen',
            'sync.resetBindings': 'Zuordnungen zu Nextcloud zurcksetzen',
            'sync.resetBindings.help': 'Entfernt alle gespeicherten Nextcloud Ordner-/Bookmark-IDs aus Gruppen und Links. Ntzlich fr einen frischen Neuabgleich.',
            'sync.resetBindings.confirm': 'Dies entfernt ALLE Nextcloud-Sync-Verknpfungen (Ordner- und Bookmark-IDs) aus allen Gruppen und Links. Deine Bookmarks bleiben erhalten, aber beim nchsten Sync werden die Verknpfungen neu erstellt. Fortfahren?',
            'sync.resetBindings.done': 'Sync-Verknpfungen wurden entfernt',
            'sync.resetBindings.failed': 'Zurcksetzen der Sync-Verknpfungen fehlgeschlagen',
            'eraseDatabase': 'Lsche Datenbank',
            'eraseDatabase.warning': 'Warnung! Dies wird ALLE Ihre Lesezeichen, Gruppen und Einstellungen dauerhaft lschen. Diese Aktion kann nicht rckgngig gemacht werden!',
            'eraseDatabase.confirm': 'Sind Sie absolut sicher, dass Sie alles lschen mchten?',
            'addGroup': 'Gruppe hinzufgen',
            'search': 'Suche',
            'importFromFile': 'Importiere aus Datei',
            'exportToFile': 'Exportiere in Datei',
            'import': 'Importieren',
            'options': 'Optionen',
            'options.applyError': 'Optionen konnten nicht bernommen werden.',
            'css.advancedEditor': 'Erweiterter Editor',
            'options.common': 'Allgemein',
            'options.common.language': 'Sprache',
            'options.common.language.english': 'Englisch',
            'options.common.language.german': 'Deutsch',
            'options.common.language.help': 'Whle die Sprache',
            'options.common.pageTitle': 'Seitentitel',
            'options.common.pageTitle.help': 'Setze den Seitentitel',
            'options.common.identityName': 'Ihr Anzeigename',
            'options.common.identityName.help': 'Dieser Name wird anderen Mitgliedern und Kontakten angezeigt',
            'options.common.manualGroupColumnWidth': 'Manuelle Spaltenbreite fr Gruppen aktivieren',
            'options.common.manualGroupColumnWidth.help': 'Erlaubt das Ziehen der vertikalen Trenner zur Breitenanpassung der Gruppenspalten und speichert die Breiten.',
            'options.groups': 'Gruppen',
            'options.groups.collapseGroupsOnStart': 'Gruppen beim Start einklappen',
            'options.groups.collapseGroupsOnStart.help': 'Klappe alle Gruppen beim Start ein',
            'options.groups.hoverExpandEnabled': 'Eingeklappte Gruppen beim Link-Ziehen automatisch ffnen',
            'options.groups.hoverExpandEnabled.help': 'Beim Ziehen eines Links ffnet sich eine eingeklappte Gruppe nach der Wartezeit',
            'options.groups.hoverExpandDelay': 'Verzgerung frs Auto-ffnen beim Link-Ziehen (ms)',
            'options.groups.hoverExpandDelay.help': 'Zeit in Millisekunden, die ein gezogener Link ber einer eingeklappten Gruppe schweben muss, um sie zu ffnen',
            'options.groups.autoAdjustHeightOnLinkChanges': 'Gruppenhhe beim Hinzufgen/Entfernen automatisch anpassen',
            'options.groups.autoAdjustHeightOnLinkChanges.help': 'Passt die Gruppenhhe nach dem Hinzufgen/Entfernen von Links automatisch an, wenn sonst gescrollt werden msste. Deaktiviert manuelles Hhen-Resizing, auer bei Gruppen-Override.',
            'options.common.searchAsYouType': 'Sofortsuche beim Tippen',
            'options.common.searchAsYouType.help': 'Du kannst anfangen, einen Suchbegriff einzugeben, ohne in das Suchfeld zu klicken, es sei denn, du hast ein anderes Eingabefeld fokussiert',
            'options.common.debugEnabled': 'Diagnose-Protokoll aktivieren',
            'options.common.debugEnabled.help': 'Zeigt Debug-Ausgaben in der Browser-Konsole',
            'options.common.confirmDeleteGroup': 'Lschen von Gruppen besttigen',
            'options.common.confirmDeleteGroup.help': 'Beim Lschen einer Gruppe eine Besttigung anzeigen',
            'options.common.confirmDeleteLink': 'Lschen von Links besttigen',
            'options.common.confirmDeleteLink.help': 'Beim Lschen eines Links eine Besttigung anzeigen',
            'options.security.title': 'Lokaler Datenschutz',
            'options.security.enabled': 'Lokale Datenbank verschlsseln',
            'options.security.enabled.help': 'Schtzt lokal gespeicherte Daten mit einem Passwort. Beim ffnen der Seite wird das Passwort bentigt.',
            'options.security.sessionTimeoutMinutes': 'Dauer der entsperrten Session',
            'options.security.sessionTimeoutMinutes.help': 'Wie lange die entschlsselte Session aktiv bleibt, bevor sie automatisch wieder gesperrt wird (0 = deaktiviert).',
            'options.security.minutesSuffix': 'Min',
            'options.security.disable.confirm': 'Lokale Verschlsselung deaktivieren und Daten unverschlsselt speichern?',
            'options.security.passwordDialog.title': 'Verschlsselungs-Passwort festlegen',
            'options.security.passwordDialog.help': 'Dieses Passwort wird bentigt, um lokale Daten zu entsperren.',
            'options.security.passwordDialog.password': 'Passwort',
            'options.security.passwordDialog.confirm': 'Passwort besttigen',
            'options.security.passwordDialog.submit': 'Passwort bernehmen',
            'options.security.passwordDialog.error.empty': 'Bitte ein Passwort eingeben.',
            'options.security.passwordDialog.error.short': 'Das Passwort muss mindestens 8 Zeichen lang sein.',
            'options.security.passwordDialog.error.mismatch': 'Die Passwrter stimmen nicht berein.',
            'options.security.enabledSuccess': 'Lokale Datenverschlsselung aktiviert.',
            'options.security.enableCanceled': 'Verschlsselung nicht aktiviert (Passworteingabe abgebrochen).',
            'options.security.enableFailed': 'Verschlsselung konnte nicht aktiviert werden.',
            'options.security.disabledSuccess': 'Lokale Datenverschlsselung deaktiviert.',
            'options.security.unlockTitle': 'Lokale Daten entsperren',
            'options.security.unlockDescription': 'Bitte Passwort eingeben, um auf lokal gespeicherte Daten zuzugreifen.',
            'options.security.unlockPassword': 'Passwort',
            'options.security.unlockButton': 'Entsperren',
            'options.security.unlockError': 'Daten konnten nicht entsperrt werden. Passwort prfen.',
            'options.security.lockedByTimeout': 'Session abgelaufen. Daten wurden wieder gesperrt.',
            'confirm.deleteGroup': 'Gruppe "%s" und alle enthaltenen Links lschen?',
            'confirm.deleteLink': 'Diesen Link lschen?',
            'confirm.deleteRefLink': 'Diesen Ref-Link lschen?',
            'options.groups.defaultGroupFormatting': 'Standard-Gruppenformatierung',
            'options.groups.defaultGroupFormatting.help': 'Hintergrundformatierung fr neu erstellte Gruppen',
            'options.groups.defaultGroupTitleFormatting': 'Standard-Titelformatierung',
            'options.groups.defaultGroupTitleFormatting.help': 'Titelformatierung fr neu erstellte Gruppen',
            'options.groups.defaultGroupLinkFormatting': 'Standard-Gruppenlink-Formatierung',
            'options.groups.defaultGroupLinkFormatting.help': 'Linkformatierung fr alle Links in neu erstellten Gruppen',
            'options.groups.defaultGroupBadgeFormatting': 'Standard-Badge-Formatierung',
            'options.groups.defaultGroupBadgeFormatting.help': 'Badge-Formatierung fr Link-Anzahl und Keywords in neu erstellten Gruppen',
            'options.groups.defaultLinkCountFormatting': 'Standard-Linkanzahl-Formatierung',
            'options.groups.defaultLinkCountFormatting.help': 'Formatierung fr Link-Anzahl-Anzeige in neu erstellten Gruppen',
            'options.links.defaultLinkFormatting': 'Standard-Link-Formatierung',
            'options.links.defaultLinkFormatting.help': 'Standardformatierung fr einzelne Links',
            'options.groups.clearClosesAllGroups': 'Beim Lschen der Suche alle Gruppen einklappen',
            'options.groups.clearClosesAllGroups.help': 'Beim Clear alle Gruppen einklappen (Datensicherheit)',
            'options.groups.keywordClickExpandsAll': 'Klick auf Keyword ffnet alle Gruppen',
            'options.groups.keywordClickExpandsAll.help': 'Beim Klick auf ein Keyword alle Gruppen ausklappen',
            'options.groups.searchAutoExpandFound': 'Treffergruppen whrend der Suche automatisch ffnen',
            'options.groups.searchAutoExpandFound.help': 'Passende Gruppen bei aktiver Suche automatisch ausklappen',
            'options.colors': 'Darstellung & Farben',
            'options.colors.generalSection': 'Allgemeine Website-Farben',
            'options.colors.globalFormatting': 'Globale Formatierung',
            'options.colors.globalFormatting.help': 'Legt das allgemeine Erscheinungsbild und den Hintergrund der gesamten Anwendung fest',
            'options.colors.background': 'Website-Hintergrund',
            'options.colors.background.help': 'Legt die Haupthintergrundfarbe der gesamten Website fest',
            'options.colors.toolbarBackground': 'Werkzeugleiste-Hintergrund',
            'options.colors.toolbarBackground.help': 'Hintergrundfarbe der Werkzeugleiste mit Such- und Aktionsschaltflchen',
            'options.colors.titleBarBackground': 'Titelleiste-Hintergrund',
            'options.colors.titleBarBackground.help': 'Hintergrundfarbe der Titelleiste am oberen Rand der Seite',
            'options.colors.titleTextColor': 'Titeltext-Farbe',
            'options.colors.titleTextColor.help': 'Farbe des Titeltextes in der Kopfzeile',
            'options.colors.keywordBackground': 'Standard-Schlagwort-Formatierung',
            'options.colors.keywordBackground.help': 'Standard-Hintergrund/Formatierung fr den Schlagwortbereich und Badges',
            'options.colors.resetAll': 'Alle Farben zurcksetzen',
            'options.colors.reset': 'Zurcksetzen',
            'css.custom.open': 'Benutzerdefiniertes CSS',
            'css.custom.title': 'Benutzerdefiniertes CSS',
            'css.custom.help': 'Styles werden live angewendet. Beispiel-Selektoren: .groupTitle .text-truncate, .linkText a',
            'css.custom.placeholder': 'Beispiel: .linkText a { color: #0d6efd; }',
            'css.reset': 'Zurcksetzen',
            'css.custom.hooks': 'HookKlassen',
            'css.custom.clickToInsert': 'Zum Einfgen klicken',
            'css.custom.selectClass': '-- CSS-Selektor whlen --',
            'css.custom.layoutStructure': 'Layout & Struktur',
            'css.custom.groups': 'Gruppen',
            'css.custom.groupInfo': 'Gruppen Info-Bereich',
            'css.custom.currentGroups': 'Aktuelle Gruppen',
            'css.custom.links': 'Links',
            'css.custom.currentLinks': 'Aktuelle Links',
            'css.custom.badges': 'Badges & Keywords',
            'css.custom.currentKeywords': 'Aktuelle Keywords',
            'css.custom.keywordsInGroups': 'Keywords in Gruppen',
            'css.custom.keywordsInLinks': 'Keywords in Links',
            'css.custom.specificGroupKeywords': 'Spezifische Keywords (Gruppe  Keyword)',
            'css.custom.specificKeywords': 'Spezifische Keywords (Gruppe  Link  Keyword)',
            'css.custom.multiline': 'Mit Kommentaren',
            'css.custom.multilineTooltip': 'Erklrende Kommentare ber komplexen Selektoren fr bessere Lesbarkeit hinzufgen',
            'css.selectorExists': 'CSS-Selektor existiert bereits! Zur Zeile gesprungen.',
            'css.custom.buttons': 'Buttons & Formulare',
            'css.custom.modals': 'Dialoge & Modals',
            'css.custom.sidebar': 'Sidebar & CSS Editor',
            'css.custom.keywordBar': 'Keyword-Leiste',
            'link.favicon.upload': 'Favicon hochladen',
            'link.favicon.remove': 'Entfernen',
            'link.favicon.invalidFile': 'Bitte eine Bilddatei auswhlen',
            'link.favicon.tooLarge': 'Bild ist zu gro (max. 256KB)',
            'link.favicon.uploaded': 'Favicon hochgeladen',
            'link.favicon.readError': 'Bilddatei konnte nicht gelesen werden',
            'group.favicon.upload': 'Gruppen-Icon hochladen',
            'group.favicon.remove': 'Icon entfernen',
            'group.favicon.invalidFile': 'Bitte eine Bilddatei auswhlen',
            'group.favicon.tooLarge': 'Bild ist zu gro (max. 256KB)',
            'group.favicon.uploaded': 'Gruppen-Icon aktualisiert',
            'group.favicon.readError': 'Bilddatei konnte nicht gelesen werden',
            'css.custom.slugHelpTitle': 'KeywordSlugs',
            'css.custom.slugHelpText': 'Keywords werden zu Slugs umgewandelt: Kleinbuchstaben, Leerzeichen  Bindestrich, andere Nicht[a-z0-9_-]  Bindestrich.\nBeispiele: "UI/UX"  ui-ux, "C++"  c--, "Foo Bar"  foo-bar.\n\nKeywordCSS Ebenen:\n1) Globale Keywordchips:\n   .mb-keyword { ... }\n   .mb-keyword-kw-<slug> { ... }\n\n2) Pro Gruppe (Keywordchips):\n   .group-uuid-<uuid> .mb-group__keyword-badge { ... }\n   .group-uuid-<uuid> .mb-keyword-kw-<slug> { ... }\n\n3) Pro Link (Keywordchips):\n   .link-uuid-<uuid> .mb-link__keyword-badge { ... }\n   .link-uuid-<uuid> .mb-keyword-kw-<slug> { ... }\n\n4) Kombiniert / spezifische LinkStile:\n   .group-uuid-<uuid> .mb-link__anchor { ... }\n   .link-uuid-<uuid> .mb-link__anchor { ... }\n\nTipp: UUID ber Kontextmen  "CSSKlasse kopieren".',
            'css.custom.helpTitle': ' CSS ANPASSUNGS-LEITFADEN',
            'css.templates.select': '-- Vorlage whlen --',
            'css.templates.save': 'Als Vorlage speichern',
            'css.templates.delete': 'Vorlage lschen',
            'css.templates.namePlaceholder': 'Vorlagen-Name eingeben...',
            'css.templates.overwriteConfirm': 'Vorlage "{0}" existiert bereits. berschreiben?',
            'css.templates.saved': 'Vorlage "{0}" gespeichert',
            'css.templates.loaded': 'Vorlage "{0}" geladen',
            'css.templates.deleted': 'Vorlage "{0}" gelscht',
            'css.templates.deleteConfirm': 'Vorlage "{0}" wirklich lschen?',
            'css.templates.darkMode': 'Dunkler Modus',
            'css.templates.minimal': 'Minimal',
            'css.templates.colorful': 'Farbenfroh',
            'css.visual.title': 'Visueller CSS Editor',
            'css.visual.templates': 'CSS Vorlagen',
            'css.visual.rules': 'CSS Regeln',
            'css.visual.generated': 'Generiertes CSS',
            'css.visual.importantHint': 'Andere Styles mit !important berschreiben',
            'css.templates.defaultTemplates': 'Standard-Vorlagen',
            'css.templates.customTemplates': 'Eigene Vorlagen',
            'css.templates.cannotDeleteDefault': 'Standard-Vorlagen knnen nicht gelscht werden',
	            'options.colors.add': 'Farbe hinzufgen',
	            'options.links': 'Links',
	            'options.backupReminder': 'Backup-Erinnerungen',
	            'options.backupReminder.enabled': 'Backup-Erinnerungen aktivieren',
	            'options.backupReminder.enabled.help': 'Zeigt zu strategischen Zeitpunkten Hinweise zum Erstellen eines Backups.',
	            'options.backupReminder.intervalDays': 'Erinnerungsintervall (Tage)',
	            'options.backupReminder.intervalDays.help': 'Erneut erinnern, wenn das letzte Backup lter als dieser Wert ist.',
	            'options.backupReminder.changeThreshold': 'nderungen bis zur Erinnerung',
	            'options.backupReminder.changeThreshold.help': 'Erinnert nach dieser Anzahl gespeicherter nderungen seit dem letzten Backup.',
	            'options.backupReminder.startupCheck': 'Beim Start prfen',
	            'options.backupReminder.startupCheck.help': 'Prft beim Start, ob eine Backup-Erinnerung angezeigt werden soll.',
	            'options.backupReminder.remindBeforeImport': 'Vor Import erinnern',
	            'options.backupReminder.remindBeforeImport.help': 'Zeigt vor Link-Importen oder Full-Export-Wiederherstellung eine Erinnerung an.',
	            'options.backupReminder.reminderCooldownHours': 'Erinnerungsabstand (Stunden)',
	            'options.backupReminder.reminderCooldownHours.help': 'Mindestabstand zwischen zwei Erinnerungen (auer vor Import).',
	            'options.backupReminder.showUrgencyIndicator': 'Backup-Dringlichkeitsfeld anzeigen',
	            'options.backupReminder.showUrgencyIndicator.help': 'Zeigt den farbigen Score-Indikator neben der DB-Gre in der Toolbar an.',
	            'options.backupReminder.exportBlinkEnabled': 'Export-Button bei Dringlichkeit blinken lassen',
	            'options.backupReminder.exportBlinkEnabled.help': 'Lsst den Export-Button in der Score-Farbe blinken, sobald der gelbe Bereich erreicht ist.',
	            'options.automaticSnapshots': 'Automatische Snapshots',
	            'options.automaticSnapshots.enabled': 'Automatische Snapshots aktivieren',
	            'options.automaticSnapshots.enabled.help': 'Erstellt automatisch Wiederherstellungspunkte anhand Ihrer Regeln.',
	            'options.automaticSnapshots.beforeDestructiveActions': 'Vor destruktiven Aktionen',
	            'options.automaticSnapshots.beforeDestructiveActions.help': 'Erstellt einen Snapshot vor dem Lschen von Gruppen/Links oder hnlichen destruktiven nderungen.',
	            'options.automaticSnapshots.onSyncConflict': 'Bei Sync-Konflikten',
	            'options.automaticSnapshots.onSyncConflict.help': 'Erstellt einen Snapshot, wenn Sync-Konflikte erkannt und aufgelst werden.',
	            'options.automaticSnapshots.onEventThreshold': 'nderungsschwelle verwenden',
	            'options.automaticSnapshots.onEventThreshold.help': 'Aktiviert automatische Snapshots nach einer Anzahl gespeicherter nderungen.',
	            'options.automaticSnapshots.eventThreshold': 'nderungen bis Snapshot',
	            'options.automaticSnapshots.eventThreshold.help': 'Erstellt einen Snapshot nach dieser Anzahl gespeicherter nderungen.',
	            'options.automaticSnapshots.onTimeInterval': 'Zeitintervall verwenden',
	            'options.automaticSnapshots.onTimeInterval.help': 'Aktiviert automatische Snapshots, wenn seit dem letzten Snapshot genug Zeit vergangen ist.',
	            'options.automaticSnapshots.intervalMinutes': 'Intervall (Minuten)',
	            'options.automaticSnapshots.intervalMinutes.help': 'Mindestabstand in Minuten zwischen automatischen Snapshots bei vorhandenen nderungen.',
	            'options.automaticSnapshots.onSessionEnd': 'Beim Sitzungsende',
	            'options.automaticSnapshots.onSessionEnd.help': 'Erstellt beim Schlieen oder Neuladen einen Snapshot, wenn relevante nderungen vorliegen.',
	            'options.automaticSnapshots.cooldownSeconds': 'Cooldown (Sekunden)',
	            'options.automaticSnapshots.cooldownSeconds.help': 'Mindestabstand zwischen zwei automatischen Snapshots.',
	            'options.automaticSnapshots.maxAutoSnapshots': 'Max. automatische Snapshots behalten',
	            'options.automaticSnapshots.maxAutoSnapshots.help': 'Aufbewahrungslimit fr automatische Snapshots (manuelle Snapshots bleiben separat erhalten).',
	            'backup.reminder.message': 'Backup jetzt empfohlen: %s.',
	            'backup.reminder.hint': 'Nutze Export (JSON) oder speichere einen Snapshot.',
	            'backup.reminder.reason.none': 'bisher kein Backup erkannt',
	            'backup.reminder.reason.interval': 'letztes Backup vor {days} Tag(en)',
	            'backup.reminder.reason.changes': '{count} nderungen seit dem letzten Backup',
	            'backup.reminder.reason.import': 'vor einem Import',
	            'backup.reminder.reason.generic': 'regelmige Erinnerung',
	            'backup.urgency.title': 'Backup-Dringlichkeit',
	            'backup.urgency.score': 'Score',
	            'backup.urgency.level.low': 'niedrig',
	            'backup.urgency.level.medium': 'mittel',
	            'backup.urgency.level.high': 'hoch',
	            'backup.urgency.lastBackup.days': 'Letztes Backup: vor {days} Tag(en)',
	            'backup.urgency.lastBackup.none': 'Noch kein Backup erkannt',
	            'backup.urgency.changes': 'nderungen seit Backup: {count}',
	            'backup.urgency.thresholds': 'Schwellen: {days} Tag(e) / {changes} nderungen',
	            'backup.urgency.empty': 'Noch keine Links vorhanden',
	            'backup.urgency.remindersDisabled': 'Backup-Erinnerungen sind derzeit deaktiviert',
	            'options.sharing': 'Teilen',
            'options.sharing.ntfyServerUrl': 'Benachrichtigungsserver (ntfy) URL',
            'options.sharing.ntfyServerUrl.help': 'URL des ntfy Push-Benachrichtigungsservers',
            'options.sharing.ntfyAuthToken': 'Authentifizierungs-Token',
            'options.sharing.ntfyAuthToken.help': 'Optionales Bearer-Token fr die Authentifizierung',
            'options.sharing.defaultTtl': 'Standard-Gltigkeitsdauer (TTL)',
            'options.sharing.defaultTtl.help': 'Gltigkeitsdauer in Sekunden (0 = Server-Standard)',
            'options.sharing.quickCodeTtl': 'Gltigkeit von Quick-Connect-Codes (Sek.)',
            'options.sharing.quickCodeTtl.help': 'Gltigkeit von Quick-Share-Codes in Sekunden',
            'options.sharing.contactOnlineTimeout': 'Online-Status-Timeout fr Kontakte (Sek.)',
            'options.sharing.contactOnlineTimeout.help': 'Wie lange ein Kontakt als online angezeigt wird, ohne zu antworten (in Sekunden)',
            'options.links.openInNewTab': 'Links in neuem Tab ffnen',
            'options.links.openInNewTab.help': 'Wenn aktiviert, ffnet ein Klick auf einen Link einen neuen Browser-Tab',
            'options.links.progressiveLoadingThreshold': 'Anzahl Links vor Mehr anzeigen',
            'options.links.progressiveLoadingThreshold.help': 'Anzahl der Links, die anfangs pro Gruppe angezeigt werden ("Weitere anzeigen"-Button erscheint oberhalb dieses Limits)',
            'options.links.addViaDialog': 'Links ber Dialog hinzufgen',
            'options.links.addViaDialog.help': 'Zeige oben rechts einen Hinzufgen-Button und blende die Inline-Eingaben aus',
            'options.links.autoFetchTitle': 'Seitentitel beim Hinzufgen automatisch laden',
            'options.links.autoFetchTitle.help': 'Versuche, den Seitentitel zu laden und das Titelfeld vorzufllen (Best-Effort)',
            'options.links.autoFetchFavicon': 'Website-Icon (Favicon) automatisch laden',
            'options.links.autoFetchFavicon.help': 'Verwende eine Favicon-Service-URL, um das Icon vor dem Link anzuzeigen',
            'options.links.allowExternalFaviconService': 'Externen Favicon-Fallback-Service (Google) erlauben',
            'options.links.allowExternalFaviconService.help': 'Wenn aktiviert, werden fehlende Popover-Favicons ber den Google-Favicon-Service geladen (kann Anfragen an t3.gstatic.com auslsen).',
            'options.links.showLinkBadges': 'Link-Keyword-Badges anzeigen',
            'options.links.showLinkBadges.help': 'Zeige Keyword-Badges neben Links an',
            'options.links.showReferenceMarker': 'Referenz-Link-Markierung (*) anzeigen',
            'options.links.showReferenceMarker.help': 'Zeigt ein dezentes Sternchen neben Referenz-Links an.',
            'options.links.showLinkPopover': 'Link-Infobox bei Hover anzeigen',
            'options.links.showLinkPopover.help': 'Zeigt beim berfahren oder Fokussieren eines Links ein Popover mit wichtigsten Metadaten an',
            'css.visual.popoverLevel': 'Link-Popover',
            'css.visual.linkPopover': 'Popover-Container',
            'css.visual.linkPopoverTitle': 'Popover-Titelzeile',
            'css.visual.linkPopoverUrl': 'Popover-URL-Zeile',
            'css.visual.linkPopoverMeta': 'Popover-Metadatenblock',
            'css.visual.linkPopoverRow': 'Popover-Zeile',
            'css.visual.linkPopoverLabel': 'Popover-Label',
            'css.visual.linkPopoverValue': 'Popover-Wert',
            'css.visual.linkPopoverValueMuted': 'Popover-Wert (relativ)',
            'css.visual.linkPopoverKeywords': 'Popover-Keywords',
            'css.visual.linkPopoverBadge': 'Popover-Keyword-Badge',
            'css.visual.linkPopoverFavicon': 'Popover-Favicon',
            'options.links.copyUrlFormat': 'Format fr URL kopieren',
            'options.links.copyUrlFormat.help': 'Format zum Kopieren von Links. Verfgbare Platzhalter: {title}, {url}, {keywords}, {date}, {time}',
            'options.links.defaultUrlPrefix': 'Automatisches URL-Prfix',
            'options.links.defaultUrlPrefix.help': 'Prfix, das ergnzt wird, wenn eine URL kein Schema hat (z. B. https://). Leer lassen, um nichts zu ergnzen.',
            'options.buttons': 'Schnellaktions-Schaltflchen',
            'options.buttons.showAddLink': 'Quick-Action Link hinzufgen anzeigen',
            'options.buttons.showAddLink.help': 'Zeigt die Schaltflche zum Hinzufgen von Links in Gruppenkopfzeilen',
            'options.buttons.showDeleteGroup': 'Quick-Action Gruppe lschen anzeigen',
            'options.buttons.showDeleteGroup.help': 'Zeigt die Lschen-Schaltflche in Gruppenkopfzeilen',
            'options.buttons.showKeywordQuickAddBadge': '+-Keyword-Badge bei Hover anzeigen',
            'options.buttons.showKeywordQuickAddBadge.help': 'Zeigt bei Mouseover neben Gruppen- und Link-Keywords ein rundes +-Badge zum schnellen Hinzufgen',
            'options.buttons.showCopyUrl': 'Quick-Action URL kopieren anzeigen',
            'options.buttons.showCopyUrl.help': 'Zeigt die URL-Kopieren-Schaltflche fr Links',
            'options.buttons.showQrCode': 'Quick-Action QR-Code anzeigen',
            'options.buttons.showQrCode.help': 'Zeigt die QR-Code-Schaltflche fr Links',
            'options.buttons.showDeleteLink': 'Quick-Action Link lschen anzeigen',
            'options.buttons.showDeleteLink.help': 'Zeigt die Lschen-Schaltflche fr Links',
            'groups.openAll': 'Alle ffnen',
            'groups.closeAll': 'Alle schlieen',
            'toolbar.equalizeGroupColumns': 'Gruppenspalten gleichmig breit machen',
            'group.toggleGroupCollapse': 'Gruppe ein-/ausklappen',
            'group.moveGroupLeft': 'Gruppe nach links verschieben',
            'group.moveGroupRight': 'Gruppe nach rechts verschieben',
            'group.deleteGroup': 'Gruppe lschen',
            'group.link.moveLinkLeft': 'Link nach links verschieben',
            'group.link.moveLinkRight': 'Link nach rechts verschieben',
            'group.link.deleteLink': 'Link lschen',
            'group.link.linkText': 'Link Text',
            'group.link.linkUrl': 'Link URL',
            'group.link.add': 'Hinz.',
            'group.link.dropAfter': 'Hier einfgen',
            'group.dropAfter': 'Hier einfgen',
            'menu.group.editGroup': 'Gruppe bearbeiten',
            'group.showMore': 'Weitere anzeigen',
            'group.showLess': 'Weniger anzeigen',
            'group.resizeHeight': 'Gruppenhhe ziehen zum ndern. Doppelklick passt diese Gruppe automatisch an.',
            'menu.group.inviteMembers': 'Mitglieder einladen',
            'menu.group.transferOwnership': 'Eigentmer bertragen',
            'menu.group.duplicate': 'Duplizieren',
            'menu.keywords': 'Keywords',
            'menu.keyword.new': 'Neues Keyword',
            'menu.keyword.remove': 'Entfernen',
            'menu.keyword.add': 'Hinzufgen',
            'menu.keyword.noneAssigned': 'Keine zugewiesenen Keywords',
            'menu.keyword.noneAvailable': 'Keine weiteren Keywords',
            'keywords.manage': 'Verwalten',
            'keywords.dialog.title': 'Keywords verwalten',
            'keywords.dialog.empty': 'Keine Keywords vorhanden',
            'keywords.dialog.newName': 'Neuer Name',
            'keywords.dialog.rename': 'Umbenennen',
            'keywords.dialog.delete': 'Lschen',
            'keywords.dialog.renameMissing': 'Bitte ein Keyword auswhlen.',
            'keywords.dialog.renameSame': 'Bitte einen anderen Keyword-Namen eingeben.',
            'keywords.dialog.renameSuccess': 'Keyword umbenannt.',
            'keywords.dialog.deleteSuccess': 'Keyword gelscht.',
            'keywords.dialog.confirmDelete': 'Keyword "%s" berall lschen?',
            'keywords.quick.title.group': 'Gruppen-Keyword hinzufgen',
            'keywords.quick.title.link': 'Link-Keyword hinzufgen',
            'keywords.quick.inputLabel': 'Keyword',
            'keywords.quick.placeholder': 'Keyword eingeben',
            'keywords.quick.help': 'Mehrere Keywords mit Komma oder Semikolon trennen.',
            'keywords.quick.add': 'Hinzufgen',
            'keywords.quick.empty': 'Bitte mindestens ein Keyword eingeben.',
            'keywords.quick.added': 'Keyword hinzugefgt.',
            'keywords.quick.duplicate': 'Keyword ist bereits zugewiesen.',
            'dialog.contacts.title': 'Kontakte',
            'dialog.contacts.empty': 'Keine Kontakte',
            'dialog.contacts.name': 'Name',
            'dialog.contacts.uuid': 'UUID',
            'dialog.contacts.status': 'Status',
            'dialog.contacts.actions': 'Aktionen',
            'dialog.contacts.sendTest': 'Test senden',
            'dialog.contacts.remove': 'Entfernen',
            'dialog.contacts.online': 'online',
            'dialog.contacts.offline': 'offline',
            'dialog.contacts.checking': 'prfe...',
            'dialog.contacts.reachable': 'erreichbar',
            'dialog.contacts.unreachable': 'nicht erreichbar',
            'dialog.contacts.offlineTooltip': 'Kontakt ist offline',
            'dialog.contacts.cannotSendOffline': 'Kann nicht an offline Kontakt senden',
            'dialog.contacts.removeWarningOwner': 'Dieser Kontakt besitzt',
            'dialog.contacts.removeWarningGroups': 'geteilte Gruppe(n), die gelscht werden',
            'dialog.contacts.removeWarningMember': 'Dieser Kontakt ist Mitglied von',
            'dialog.contacts.removeWarningYourGroups': 'Ihrer geteilten Gruppe(n)',
            'dialog.contacts.removeConfirm': 'Kontakt entfernen',
            'dialog.contacts.removeNote': 'Dieser Kontakt kann Ihnen keine Nachrichten mehr senden.',
            'dialog.share.title': 'Teilen',
            'dialog.send.linkTitle': 'Link senden',
            'dialog.send.groupTitle': 'Gruppe senden',
            'dialog.send.selectContacts': 'Kontakte zum Senden auswhlen:',
            'dialog.send.noContacts': 'Keine Kontakte vorhanden. Fgen Sie zuerst Kontakte hinzu.',
            'dialog.send.send': 'Senden',
            'dialog.send.cancel': 'Abbrechen',
            'dialog.transfer.title': 'Eigentmer bertragen',
            'dialog.transfer.select': 'Neuen Eigentmer auswhlen:',
            'dialog.transfer.noCandidates': 'Keine geeigneten Mitglieder gefunden.',
            'dialog.transfer.transfer': 'bertragen',
            'dialog.transfer.acceptPrompt': 'Der aktuelle Eigentmer mchte die Gruppen-Inhaberschaft an Sie bertragen. Akzeptieren?',
            'dialog.invite.title': 'Mitglieder einladen',
            'qc.receive': 'EMPFANGEN',
            'qc.receive.desc': 'Code anzeigen',
            'qc.receive.instruction': 'Teilen Sie diesen Code:',
            'qc.send': 'SENDEN',
            'qc.send.desc': 'Code eingeben',
            'qc.send.instruction': 'Code eingeben:',
            'qc.generate': 'Code generieren',
            'qc.connect': 'Verbinden',
            'qc.stop': 'Stopp',
            'qc.cancel': 'Abbrechen',
            'dialog.contacts.tabTitle': 'Kontakte',
            'dialog.quickconnect.tabTitle': 'Quick-Connect',
            'dialog.close': 'Schlieen',
            'clipboard.paste': 'Aus Zwischenablage einfgen',
            'clipboard.modalTitle': 'Links importieren',
            'clipboard.instructions': 'JSON, CSV oder HTML-Lesezeichen einfgen:',
            'clipboard.read': 'Aus Zwischenablage lesen',
            'clipboard.placeholder': 'Daten hier einfgen...',
            'clipboard.detectedFormat': 'Erkanntes Format:',
            'clipboard.preview': 'Vorschau',
            'clipboard.selectAll': 'Alle auswhlen',
            'clipboard.deselectAll': 'Alle abwhlen',
            'clipboard.import': 'Ausgewhlte importieren',
            'clipboard.cancel': 'Abbrechen',
            'clipboard.noLinksFound': 'Keine gltigen Links gefunden',
            'clipboard.noSelection': 'Bitte mindestens einen Link auswhlen',
            // Sync und Konfliktauflsung
            'sync.conflictResolved': 'Sync-Konflikt gelst',
            'sync.conflict.linkEdit': 'Link-Bearbeitungskonflikt automatisch gelst',
            'sync.conflict.linkAdd': 'Doppelter Link verhindert',
            'sync.conflict.linkDelete': 'Link-Lschkonflikt gelst',
            'sync.conflict.generic': 'Sync-Konflikt automatisch gelst',
            // Sync-Einstellungen
            'options.sync': 'NTFY-Synchronisation',
            // Rollen-Badges
            'sync.role.all': 'Alle',
            'sync.role.owner': 'Besitzer',
            'sync.role.member': 'Mitglied',
            // Konflikt-Benachrichtigungen
            'options.sync.conflictNotificationLevel': 'Benachrichtigungen bei Sync-Konflikten',
            'options.sync.conflictNotificationLevel.help': 'Wie Sync-Konflikte angezeigt werden (gilt fr alle):\n Stumm - Keine Benachrichtigungen, Konflikte werden automatisch gelst\n Nur wichtige - Zeigt nur kritische Konflikte die Ihre Daten betreffen knnten\n Alle Konflikte - Zeigt jede Konfliktlsung fr volle Transparenz',
            'options.sync.conflictNotificationLevel.silent': 'Stumm',
            'options.sync.conflictNotificationLevel.minimal': 'Nur wichtige',
            'options.sync.conflictNotificationLevel.verbose': 'Alle Konflikte',
            // Auto-Sync Intervall
            'options.sync.autoSyncInterval': 'Automatisches Sync-Intervall',
            'options.sync.autoSyncInterval.help': 'Wie oft nach Updates gesucht wird (gilt fr alle):\n 5 Minuten - Fr aktive Zusammenarbeit, moderater Akkuverbrauch\n 10 Minuten - Gute Balance zwischen Updates und Ressourcenverbrauch\n 30 Minuten - Akkuschonend, geeignet fr weniger aktive Gruppen\n 1 Stunde - Minimaler Ressourcenverbrauch, fr selten ndernde Inhalte\n Nur manuell - Sie kontrollieren wann synchronisiert wird',
            'options.sync.autoSyncInterval.5min': '5 Minuten',
            'options.sync.autoSyncInterval.10min': '10 Minuten',
            'options.sync.autoSyncInterval.30min': '30 Minuten',
            'options.sync.autoSyncInterval.1hour': '1 Stunde',
            'options.sync.autoSyncInterval.manual': 'Nur manuell',
            // Offline-Modus
            'options.sync.offlineMode': 'Offline-Modus',
            'options.sync.offlineMode.help': 'Wie nderungen offline behandelt werden (gilt fr alle):\n Sofort anzeigen - nderungen erscheinen sofort, mssen evtl. spter korrigiert werden\n Auf Besttigung warten - nderungen erst nach erfolgreicher Sync, zuverlssiger aber langsamer',
            'options.sync.offlineMode.optimistic': 'Sofort anzeigen',
            'options.sync.offlineMode.conservative': 'Auf Besttigung warten',
            // Nur fr Besitzer
            'options.sync.conflictResolution': 'Strategie zur Konfliktauflsung',
            'options.sync.conflictResolution.help': 'Wie Bearbeitungskonflikte gelst werden (nur Besitzer-Gruppen):\n Besitzer gewinnt - Ihre nderungen als Besitzer haben immer Vorrang\n Neueste gewinnt - Die aktuellste nderung gewinnt, egal von wem\n Nachfragen - Bei jedem Konflikt nachfragen (kann Workflow unterbrechen)',
            'options.sync.conflictResolution.ownerWins': 'Besitzer gewinnt',
            'options.sync.conflictResolution.lastWriteWins': 'Neueste gewinnt',
            'options.sync.conflictResolution.manual': 'Nachfragen',
            'options.sync.memberRateLimit': 'nderungslimit pro Mitglied (pro Minute)',
            'options.sync.memberRateLimit.help': 'Max. nderungen pro Minute pro Mitglied (0 = unbegrenzt, nur Besitzer-Gruppen)',
            'options.sync.memberRateLimit.suffix': 'pro Min',
            'options.sync.validationLevel': 'Validierungsstufe',
            'options.sync.validationLevel.help': 'Wie strikt eingehende nderungen validiert werden (nur Besitzer-Gruppen):\n Strikt - Verdchtige oder fehlerhafte Daten ablehnen\n Moderat - Kleine Probleme erlauben, groe blockieren\n Nachsichtig - Die meisten nderungen akzeptieren, nur kritische Fehler blockieren',
            'options.sync.validationLevel.strict': 'Strikt',
            'options.sync.validationLevel.moderate': 'Moderat',
            'options.sync.validationLevel.permissive': 'Nachsichtig',
            // Nur fr Mitglieder
            'options.sync.localCacheStrategy': 'Lokal gespeicherte Datenmenge',
            'options.sync.localCacheStrategy.help': 'Wie viele Daten lokal gespeichert werden (nur Mitglieder-Gruppen):\n Alles - Vollstndige Historie und alle Versionen lokal (mehr Speicher)\n Nur aktuell - Nur neueste Version behalten (spart Speicherplatz)',
            'options.sync.localCacheStrategy.full': 'Alles',
            'options.sync.localCacheStrategy.minimal': 'Nur aktuell',
            'options.sync.errorHandling': 'Verhalten bei Sync-Fehlern',
            'options.sync.errorHandling.help': 'Wie Sync-Fehler behandelt werden (nur Mitglieder-Gruppen):\n Auto-Wiederholen - Fehlgeschlagene Operationen automatisch wiederholen (empfohlen)\n Fr spter aufheben - Fehlgeschlagene nderungen fr manuellen Retry speichern\n Bei Fehler verwerfen - Fehlgeschlagene nderungen aufgeben (Datenverlust mglich)',
            'options.sync.errorHandling.retry': 'Auto-Wiederholen',
            'options.sync.errorHandling.queue': 'Fr spter aufheben',
            'options.sync.errorHandling.discard': 'Bei Fehler verwerfen',
            'clipboard.importSuccess': 'Links erfolgreich importiert',
            'clipboard.readOk': 'Inhalt aus Zwischenablage gelesen',
            'clipboard.empty': 'Zwischenablage ist leer.',
            'clipboard.noPermission': 'Konnte Zwischenablage nicht lesen. Bitte manuell einfgen.',
            'import.fromFile': 'Aus Datei importieren:',
            'import.fromUrl': 'Von URL importieren:',
            'import.urlPlaceholder': 'https://beispiel.de/bookmarks.json',
            'import.fetch': 'Abrufen',
            'import.fetching': 'Wird abgerufen...',
            'import.corsError': 'Abruf aufgrund von CORS-Richtlinien nicht mglich. Laden Sie die Datei herunter und importieren Sie sie lokal, oder verwenden Sie einen CORS-Proxy.',
            'import.fetchError': 'Abruf fehlgeschlagen',
            'import.fromClipboard': 'Aus Zwischenablage einfgen:',
            'import.csvSeparator': 'CSV-Trennzeichen (optional):',
            'import.csvSeparator.placeholder': 'Automatisch erkennen (z. B. ; oder ,)',
            'import.csvSeparator.help': 'Leer lassen fr automatische Erkennung. Fr Tab \\t eingeben.',
            'import.or': ' ODER ',
            'import.newGroupTitle': 'Neuer Gruppentitel:',
            'import.groupTitlePlaceholder': 'Gruppentitel eingeben (optional)',
            'import.fullExportWarning.title': 'Warnung!',
            'import.fullExportWarning.message': 'Dies ist ein vollstndiger Datenbank-Export. Er sollte nur in eine LEERE Datenbank importiert werden, um Konflikte zu vermeiden. Alle vorhandenen Daten werden ersetzt.',
            'import.fullExportConfirm': 'Dies wird Ihre GESAMTE Datenbank ERSETZEN (Gruppen, Einstellungen, Kontakte, etc.).\n\nDies ist eine Wiederherstellungsoperation - alle UUIDs bleiben erhalten.\n\nFortfahren?',
            'import.fullExportSuccess': 'Datenbank erfolgreich wiederhergestellt!',
            'import.groupsFound': 'Links aus folgenden Gruppen gefunden:',
            'import.groupsWillBeCreated': 'Diese Gruppen werden automatisch erstellt, falls sie noch nicht existieren.',
            'import.defaultGroupTitle': 'Import',
            'import.fromBrowser': 'Aus Browser importieren:',
            'import.fetchingBookmarks': 'Lade Lesezeichen...',
            'import.browserBookmarks': 'Browser-Lesezeichen importieren',
            'import.fullExportError': 'Datenbankwiederherstellung fehlgeschlagen. Details in der Konsole.',
            'export.title': 'Lesezeichen exportieren',
            'export.selectItems': 'Gruppen und Links zum Export auswhlen:',
            'export.groups': 'Gruppen',
            'export.selectAll': 'Alle auswhlen',
            'export.deselectAll': 'Alle abwhlen',
            'export.format': 'Export-Format:',
            'export.selected': 'Links ausgewhlt',
            'export.export': 'Exportieren',
            'export.cancel': 'Abbrechen',
            'members.title': 'Mitglieder',
            'members.filter.allow': 'erlaubt',
            'members.filter.deny': 'blockiert',
            'members.filter.unset': 'lokal standard',
            'members.remove': 'Entfernen',
            'members.noRoster': 'Noch keine Mitgliederliste empfangen',
            'removedFromGroup.title': 'Gruppenmitgliedschaft entfernt',
            'removedFromGroup.message': 'Sie wurden aus der folgenden Gruppe entfernt, whrend Sie offline waren:',
            'removedFromGroup.owner': 'Gruppenbesitzer:',
            'removedFromGroup.removedAt': 'Entfernt:',
            'removedFromGroup.explanation': 'Die Gruppe wird aus Ihrer Liste entfernt. Falls Sie wieder Zugriff bentigen, kontaktieren Sie bitte den Gruppenbesitzer.',
            'removedFromGroup.acknowledge': 'Verstanden',
            'members.perm.add': 'Hinzufgen',
            'members.perm.edit': 'Bearbeiten',
            'members.perm.delete': 'Lschen',
            'error.perm.add': 'Du hast keine Berechtigung, in dieser Gruppe Links hinzuzufgen.',
            'error.perm.edit': 'Du hast keine Berechtigung, in dieser Gruppe Links zu bearbeiten.',
            'error.perm.delete': 'Du hast keine Berechtigung, in dieser Gruppe Links zu lschen.',
            'permission.denied': 'Keine Berechtigung',
            'error.onlyOwner': 'Nur der Owner kann Mitglieder einladen.',
            'group.shared': 'Geteilte Gruppe',
            'group.keywords': 'Schlagwrter',
            'group.shortcut': 'Gruppen-Shortcut',
            'group.basic': 'Grundeinstellungen',
            'group.styling': 'Darstellung',
            'group.advanced': 'Erweitert',
            'group.behavior': 'Verhalten',
            'group.name': 'Gruppenname',
            'group.name.help': 'HTML ist erlaubt. Sichere Tags (b, i, strong, em, br, span, small, code, pre, a mit http/https/mailto).',
            'group.name.required': 'Bitte einen Gruppennamen eingeben',
            'group.keywords.help': 'Schlagwrter fr Suche und Filterung (mit Komma oder Semikolon trennen)',
            'group.shortcut.placeholder': 'Feld fokussieren und z. B. Strg+Alt+G drcken',
            'group.shortcut.help': 'Die Tastenkombination hier drcken, um alle Links der Gruppe gleichzeitig zu ffnen.',
            'group.linkedCollapseGroups': 'Verknpfte Gruppen synchronisieren',
            'group.linkedCollapseGroups.help': 'Lege pro Gruppe fest, ob Aufklappen und/oder Zuklappen synchron erfolgen soll. Die Zuordnung wird bidirektional gespeichert.',
            'group.linkedCollapseGroups.none': 'Keine weiteren Gruppen verfgbar.',
            'group.linkedCollapseGroups.column.group': 'Gruppe',
            'group.linkedCollapseGroups.column.expand': 'Aufklappen',
            'group.linkedCollapseGroups.column.collapse': 'Zuklappen',
            'group.manualHeightResizeOverride': 'Manuelles Hhen-Resizing fr diese Gruppe erlauben',
            'group.manualHeightResizeOverride.help': 'berschreibt die globale Auto-Hhenanpassung fr diese Gruppe. Wenn aktiv, kann die Gruppenhhe manuell gendert werden.',
            'group.color': 'Farbe',
            'group.backgroundFormatting': 'Hintergrundformatierung',
            'group.titleFormatting': 'Titelformatierung',
            'group.linkFormatting': 'Link-Formatierung',
            'group.badgeFormatting': 'Schlagwort-Badge-Formatierung',
            'group.pillFormatting': 'Linkanzahl-Formatierung',
            'group.infoHtml': 'Info HTML',
            'group.infoHtml.placeholder': 'HTML-Inhalt eingeben, der im Info-Bereich angezeigt wird...',
            'group.infoHtml.help': 'Dieser HTML-Inhalt wird in einem aufklappbaren Bereich unter dem Gruppentitel angezeigt.',
            'group.emoji': 'Symbol',
            'group.emoji.placeholder': 'Klicke, um ein Emoji zu whlen',
            'group.emoji.help': 'Whle ein Emoji-Symbol fr diese Gruppe',
            'group.info.toggle': 'Information',
            'link.info': 'Information',
            'link.infoHtml': 'Info HTML',
            'link.infoHtml.placeholder': 'HTML-Inhalt eingeben, der im Tooltip angezeigt wird...',
            'link.infoHtml.help': 'Dieser HTML-Inhalt wird beim berfahren des Info-Symbols angezeigt.',
            'link.popover.url': 'URL',
            'link.popover.noUrl': 'Keine URL vorhanden',
            'link.popover.created': 'Erstellt',
            'link.popover.updated': 'Aktualisiert',
            'link.popover.originalUrl': 'Originaleingabe',
            'link.popover.untitled': 'Unbenannter Link',
            'link.popover.notAvailable': 'Nicht erfasst',
            'link.url.info': 'URL leer lassen, um eine berschrift/Kategorie zu erstellen',
            'link.basic': 'Grundeinstellungen',
            'link.appearance': 'Darstellung',
            'link.advanced': 'Erweitert',
            'link.text': 'Text',
            'link.text.help': 'HTML ist im sichtbaren Linktext erlaubt. Nur sichere Tags. Hinweis: Anker werden im Linklabel entfernt.',
            'link.text.required': 'Bitte einen Link-Text eingeben',
            'link.url': 'URL',
            'link.itemType': 'Eintragstyp',
            'link.itemType.help': 'Whle, ob der Eintrag ein normaler Link, eine Notiz oder ein visueller Trenner ist.',
            'link.itemType.link': 'Link',
            'link.itemType.note': 'Notiz',
            'link.itemType.separator': 'Trenner',
            'link.note.defaultLabel': 'Notiz',
            'note.expand': 'Notiz aufklappen',
            'note.collapse': 'Notiz einklappen',
            'link.separator.defaultLabel': 'Trenner',
            'link.keywords': 'Schlagwrter',
            'link.keywords.help': 'Schlagwrter fr Suche und Filterung (mit Komma oder Semikolon trennen)',
            'link.emoji': 'Symbol',
            'link.emoji.placeholder': 'Klicke, um ein Emoji zu whlen',
            'link.emoji.help': 'Whle ein Emoji-Symbol fr diesen Link',
            // Emoji-Auswahl
            'emoji.recent': 'Zuletzt',
            'emoji.smileys': 'Smileys',
            'emoji.people': 'Personen',
            'emoji.animals': 'Tiere',
            'emoji.food': 'Essen',
            'emoji.travel': 'Reisen',
            'emoji.activities': 'Aktivitten',
            'emoji.objects': 'Objekte',
            'emoji.symbols': 'Symbole',
            'emoji.flags': 'Flaggen',
            'link.color': 'Linkfarbe',
            'color.reset': 'Zurcksetzen',
            'color.remove': 'Entfernen',
            'color.add': 'Farbe hinzufgen',
            'menu.link.editLink': 'Link bearbeiten',
            'menu.link.editRefLink': 'Ref-Link bearbeiten',
            'menu.link.editNote': 'Notiz bearbeiten',
            'menu.link.editSeparator': 'Trenner bearbeiten',
            'menu.link.deleteLink': 'Link lschen',
            'menu.link.deleteRefLink': 'Ref-Link lschen',
            'menu.link.deleteNote': 'Notiz lschen',
            'menu.link.deleteSeparator': 'Trenner lschen',
            'menu.link.createRefLink': 'Ref-Link erstellen',
            'menu.link.editOriginalLink': 'Original-Link bearbeiten',
            'link.copyUrl': 'URL in Zwischenablage kopieren',
            'link.urlCopied': 'URL kopiert',
            'link.copyFailed': 'URL konnte nicht kopiert werden',
            'link.ref.markerTitle': 'Referenz-Link',
            'link.ref.missing': 'Referenz-Link (Original fehlt)',
            'link.ref.keywordReadOnly': 'Keywords von Referenz-Links sind schreibgeschtzt. Bearbeite den Original-Link.',
            'link.ref.sourceMissing': 'Original-Link konnte nicht aufgelst werden.',
            'link.ref.createFromRefDisabled': 'Ref-Link erstellen ist nur fr originale URL-Links verfgbar.',
            'link.ref.editDialog.title': 'Referenz-Link-Text bearbeiten',
            'link.ref.editDialog.original': 'Original-Link',
            'link.ref.editDialog.originalKeywords': 'Keywords des Original-Links',
            'link.ref.editDialog.none': 'Keine',
            'link.ref.editDialog.sourceMissingHint': 'Der Original-Link konnte nicht gefunden werden. Sie knnen trotzdem einen lokalen Referenztext setzen.',
            'link.ref.editDialog.aliasLabel': 'Referenztext',
            'link.ref.editDialog.aliasPlaceholder': 'Leer lassen, um den Original-Linktext zu verwenden',
            'link.ref.editDialog.help': 'Es wird nur dieser Referenztext gendert. URL und Metadaten bleiben mit dem Original verknpft.',
            'link.ref.editDialog.inheritKeywords': 'Keywords vom Original-Link bernehmen',
            'link.ref.editDialog.localKeywordsLabel': 'Zustzliche Keywords fr diesen Ref-Link',
            'link.ref.editDialog.localKeywordsPlaceholder': 'keyword1, keyword2',
            'link.ref.editDialog.localKeywordsHelp': 'Diese Keywords gelten nur fr diesen Ref-Link.',
            'link.ref.selectTargetPrompt': 'Zielgruppe (Nummer) fr den Referenz-Link whlen:',
            'link.ref.invalidTarget': 'Ungltige Gruppenauswahl.',
            'link.ref.aliasPrompt': 'Optionaler Referenz-Text (leer lassen = Originaltext):',
            'link.ref.created': 'Referenz-Link erstellt.',
            'link.ref.deleteSourceConfirm': 'Dieser Link wird von {count} Referenz-Link(s) verwendet. Trotzdem lschen?',
            'placeholders.global.manage': 'Globale Platzhalter verwalten',
            'placeholders.global.title': 'Globale Platzhalter',
            'placeholders.global.help': 'Globale Platzhalter stehen fr alle Links zur Verfgung.',
            'placeholders.group.title': 'Gruppen-Platzhalter',
            'placeholders.group.help': 'Gruppen-Platzhalter berschreiben globale Platzhalter fr Links in dieser Gruppe.',
            'placeholders.link.title': 'Link-Platzhalter',
            'placeholders.urlTemplate': 'URL-Vorlage',
            'placeholders.noneInUrl': 'Keine Platzhalter in der URL-Vorlage gefunden.',
            'placeholders.name': 'Name',
            'placeholders.value': 'Wert',
            'placeholders.encode': 'Kodieren',
            'placeholders.valuePlaceholder': 'Wert eingeben',
            'placeholders.encodeLabel': 'URL-kodieren',
            'placeholders.preview': 'Vorschau',
            'placeholders.unresolvedHint': 'Nicht aufgelste Platzhalter',
            'placeholders.add': 'Platzhalter hinzufgen',
            'placeholders.inheritedValue': 'Geerbter Wert',
            'placeholders.restoreInherited': 'Geerbten Wert wiederherstellen',
            'placeholders.inheritedLocked': 'Geerbte Platzhalter knnen nicht gelscht werden.',
            'link.shortcut': 'Shortcut',
            'link.shortcut.placeholder': 'Feld fokussieren und z. B. Strg+Alt+M drcken',
            'link.shortcut.help': 'Die Tastenkombination direkt in diesem Feld drcken. Wenn mehrere Links denselben Shortcut haben, werden alle zusammen geffnet.',
            'link.shortcut.invalid': 'Bitte Strg/Alt/Cmd plus eine Taste verwenden (z. B. Strg+Alt+M).',
            'link.shortcut.reserved': 'Diese Tastenkombination ist vom Browser/System reserviert.',
            'link.shortcut.opened': '{count} Link(s) per Shortcut geffnet.',
            'link.shortcut.openedPartial': 'Nur {opened} von {total} Link(s) geffnet. Der Popup-Blocker hat den Rest mglicherweise blockiert.',
            'link.shortcut.batchRemaining': '{opened} von {total} Link(s) geffnet. {remaining} verbleibend. Gleichen Shortcut/Aktion erneut ausfhren, um fortzufahren.',
            'link.shortcut.confirmMany': '{count} Links gleichzeitig ffnen?',
            'shortcuts.manage': 'Shortcut-Manager',
            'shortcuts.manager.title': 'Shortcut-Manager',
            'shortcuts.manager.linkAssignments': 'Definierte Link-Shortcuts',
            'shortcuts.manager.filterPlaceholder': 'Nach Shortcut, Gruppe, Titel oder URL filtern',
            'shortcuts.manager.noneDefined': 'Noch keine Link-Shortcuts definiert.',
            'shortcuts.manager.linksCount': 'Links',
            'shortcuts.manager.urlsCount': 'gltige URLs',
            'shortcuts.manager.openNow': 'Jetzt ffnen',
            'shortcuts.manager.editLink': 'Bearbeiten',
            'shortcuts.manager.globalTitle': 'Globale Shortcuts (mehrere Seiten gleichzeitig ffnen)',
            'shortcuts.manager.globalHelp': 'Whlen Sie Gruppen und Links direkt aus Ihren Lesezeichen aus. Bei Gruppenauswahl werden alle Links der Gruppe geffnet.',
            'shortcuts.manager.globalEmpty': 'Noch keine globalen Shortcuts konfiguriert.',
            'shortcuts.manager.globalCombo': 'Shortcut',
            'shortcuts.manager.globalName': 'Name',
            'shortcuts.manager.globalNamePlaceholder': 'Optionaler Name (z. B. Morgenstart)',
            'shortcuts.manager.globalTargets': 'Gruppen und Links auswhlen',
            'shortcuts.manager.globalNoLinks': 'Keine Gruppen/Links verfgbar.',
            'shortcuts.manager.invalidLinkUrl': 'Ungltige URL, kann per Shortcut nicht geffnet werden.',
            'shortcuts.manager.remove': 'Entfernen',
            'shortcuts.manager.addGlobal': 'Globalen Shortcut hinzufgen',
            'shortcuts.manager.selectionStats': '{groups} Gruppen, {links} Links ausgewhlt, {urls} URLs werden geffnet',
            'shortcuts.manager.invalidCombo': 'Bitte in Zeile {row} einen gltigen Shortcut definieren.',
            'shortcuts.manager.invalidTargets': 'Bitte in Zeile {row} mindestens einen Link oder eine Gruppe auswhlen.',
            'shortcuts.manager.saved': '{count} globale Shortcuts gespeichert.',
            'shortcuts.manager.popupBlockerHint': 'Browser knnen das gleichzeitige ffnen vieler Tabs blockieren. Falls das passiert, Pop-ups fr diese Seite erlauben oder den Shortcut/die Aktion erneut ausfhren.',
            'shortcut.notice.globalDefined': 'Globaler Shortcut "{combo}" ist bereits definiert und ffnet {count} URL(s).',
            'shortcut.notice.groupDefined': 'Die Gruppe "{group}" hat bereits den Shortcut "{combo}".',
            'shortcut.notice.groupInGlobal': 'Die Gruppe "{group}" ist bereits Teil des globalen Shortcuts "{combo}".',
            'shortcut.notice.linkInGlobalViaGroup': 'Der Link ist bereits ber die Gruppe "{group}" im globalen Shortcut "{combo}" enthalten.',
            'shortcut.notice.linkInGlobalDirect': 'Der Link ist bereits direkt im globalen Shortcut "{combo}" ausgewhlt.',
            'shortcut.notice.linkInGroupShortcut': 'Der Link ist bereits im Gruppen-Shortcut "{combo}" enthalten (Gruppe "{group}").',
            'toast.success': 'Erfolg',
            'toast.error': 'Fehler',
            'toast.warning': 'Warnung',
            'toast.info': 'Information',
            'menu.link.sendLink': 'Link senden',
            'menu.link.createQrCode': 'QRCode erstellen',
            'menu.link.copyForCss': 'Fr CSS kopieren',
            'menu.link.copyCssClass': 'CSSKlasse kopieren',
            'menu.link.copyUuid': 'UUID kopieren',
            'menu.link.copyCssSelector': 'CSS-Selektor kopieren [data-link-uuid]',
            'menu.group.sendGroup': 'Gruppe senden',
            'menu.group.members': 'Mitglieder',
            'menu.group.inspectJSON': 'JSON inspizieren',
            'menu.group.enableEventLog': 'Event-Log aktivieren (Beta)',
            'menu.group.copyForCss': 'Fr CSS kopieren',
            'menu.group.copyCssClass': 'CSSKlasse kopieren',
            'menu.group.copyUuid': 'UUID kopieren',
            'menu.group.copyCssSelector': 'CSS-Selektor kopieren [data-group-uuid]',
            'menu.group.leaveGroup': 'Gruppe verlassen',
            'menu.group.sort': 'Links sortieren',
            'menu.group.sort.withinColumns': 'Spaltenweise (AZ)',
            'menu.group.sort.preserveCounts': 'Global AZ, Spaltengre beibehalten',
            'menu.group.sort.rebalance': 'Global AZ, Spalten ausbalancieren',
            'menu.group.sort.withinColumnsDesc': 'Spaltenweise (ZA)',
            'menu.group.sort.preserveCountsDesc': 'Global ZA, Spaltengre beibehalten',
            'menu.group.sort.rebalanceDesc': 'Global ZA, Spalten ausbalancieren',
            'menu.group.sort.separatorFallback': 'Gruppen mit Trennern knnen nur spaltenweise sortiert werden.',
            'menu.group.addSeparator': 'Trenner hinzufgen',
            'menu.group.addNote': 'Notiz hinzufgen',
            'group.separator.add': 'Trenner hinzufgen',
            'group.note.add': 'Notiz hinzufgen',
            'json.inspector.title': 'Gruppen JSON Inspector',
            'json.inspector.info': 'Vollstndige JSON-Darstellung des Gruppenobjekts',
            'json.inspector.copy': 'JSON kopieren',
            'json.inspector.stats': 'Statistiken',
            'error.eventlog.ownerOnly': 'Nur der Eigentmer kann das Event-Log fr diese Gruppe aktivieren',
            'Are you sure?': 'Bist du sicher?',
            'tools': 'Werkzeuge',
            'snapshots.title': 'Snapshots',
            'snapshots.save': 'Snapshot speichern',
            'snapshots.none': 'Noch keine Snapshots',
            'snapshots.promptName': 'Name fr Snapshot:',
            'snapshots.restore.confirm': 'Diesen Snapshot wiederherstellen? Der aktuelle Stand wird zum Rckgngig-Verlauf hinzugefgt.',
            'snapshots.delete.confirm': 'Diesen Snapshot lschen?',
            'snapshots.auto.prefix': 'Auto',
            'snapshots.auto.created': 'Automatischer Snapshot erstellt (%s)',
            'snapshots.auto.reason.destructiveAction': 'Destruktive Aktion',
            'snapshots.auto.reason.syncConflict': 'Sync-Konflikt',
            'snapshots.auto.reason.eventThreshold': 'nderungsschwelle',
            'snapshots.auto.reason.timeInterval': 'Zeitintervall',
            'snapshots.auto.reason.sessionEnd': 'Sitzungsende',
            'clear': 'Leeren',
            'undo': 'Rckgngig',
            'redo': 'Wiederholen',
            'duplicates.find': 'Duplikate finden',
            'duplicates.title': 'Gefundene Duplikate',
            'duplicates.description': 'Die folgenden Links erscheinen in mehreren Gruppen:',
            'duplicates.none': 'Keine Duplikate gefunden.',
            'duplicates.copies': 'Kopien',
            'duplicates.keep': 'Behalten',
            'duplicates.remove': 'Entfernen',
            'duplicates.info': 'Das erste Vorkommen jedes Links wird behalten. Nicht angekreuzte Eintrge werden nicht gelscht.',
            'duplicates.removeSelected': 'Ausgewhlte Duplikate entfernen',
            'duplicates.confirmDelete': '%s Duplikat(e) lschen und den ersten Eintrag behalten?',
            'duplicates.deleted': '%s Duplikat(e) gelscht.',
            'bookmarklet.addCurrentTab': 'Bookmarklet: Aktuellen Tab hinzufgen',
            'bookmarklet.instructions': 'Ziehe diesen Link in die Lesezeichenleiste. Ein Klick darauf ffnet diese App und bernimmt die aktuelle Seite.'
            , 'bookmarklet.helpTitle': 'Aktuellen Tab hinzufgen (Clipboard-Bookmarklet)'
            , 'bookmarklet.dragThis': 'Diesen Link in die Lesezeichenleiste ziehen'
            , 'bookmarklet.step.drag': 'Ziehe den Button unten in die Lesezeichenleiste.'
            , 'bookmarklet.step.clickAnyPage': 'Klicke das Bookmarklet auf einer beliebigen Seite, um URL und Titel in die Zwischenablage zu kopieren.'
            , 'bookmarklet.step.switchBack': 'Wechsle zurck zu dieser App und klicke Aus Zwischenablage einfgen, um den Link hinzuzufgen.'
            , 'clipboard.pastePrompt': 'Fge den Inhalt der Zwischenablage hier ein (JSON oder URL):'
            , 'clipboard.invalid': 'Der Inhalt ist keine gltige URL oder kein gltiges JSON.'
            , 'clipboard.add': 'Hinzufgen'
            // Einladungsdialog bersetzungen
            , 'invitation.groupTitle': 'Einladung zur geteilten Gruppe'
            , 'invitation.linkTitle': 'Geteilte Links erhalten'
            , 'share.groupTitle': 'Gruppe erhalten'
            , 'share.linkTitle': 'Links erhalten'
            , 'invitation.from': 'Von'
            , 'invitation.groupName': 'Gruppenname'
            , 'invitation.linkCount': 'Anzahl Links'
            , 'invitation.linksToAdd': 'Zu hinzufgende Links'
            , 'invitation.groupDescription': 'Mchten Sie diese geteilte Gruppe hinzufgen? Sie knnen dann Links mit anderen Mitgliedern der Gruppe teilen.'
            , 'invitation.linkDescription': 'Mchten Sie diese Links zu Ihrer ausgewhlten Gruppe hinzufgen?'
            , 'invitation.sharedGroupDescription': 'Mchten Sie diese geteilte Gruppe mit allen Links hinzufgen?'
            , 'share.groupDescription': 'Mchten Sie diese Gruppe mit allen Links hinzufgen?'
            , 'share.linkDescription': 'Mchten Sie diese Links hinzufgen?'
            , 'share.add': 'Hinzufgen'
            , 'share.cancel': 'Abbrechen'
            , 'invitation.reject': 'Ablehnen'
            , 'invitation.accept': 'Annehmen'
            // Browser Extension bersetzungen
            , 'extension.importBookmarks': 'Browser-Lesezeichen importieren'
            , 'extension.enrichMetadata': 'Links mit Metadaten anreichern'
            , 'extension.notInstalled': 'Browser-Erweiterung nicht installiert'
            , 'extension.installHint': 'Installiere die MyBookmarks-Erweiterung aus local2/extensions/'
            , 'extension.imported': '{count} Lesezeichen in {groups} Gruppen importiert!'
            , 'extension.enriched': '{count} Links mit Metadaten angereichert!'
            , 'extension.allHaveMetadata': 'Alle Links haben bereits Metadaten!'
            , 'extension.fetchMetadataConfirm': 'Metadaten fr {count} Links abrufen?'
            , 'extension.error': 'Fehler: {message}'

            // Event-Log Tab bersetzungen
            , 'eventlog.time': 'Zeit'
            , 'eventlog.type': 'Typ'
            , 'eventlog.author': 'Autor'
            , 'eventlog.details': 'Details'
            , 'eventlog.changes': 'nderungen'
            
            // Snapshot Tab bersetzungen
            , 'snapshot.info': 'Snapshot-Informationen'
            , 'snapshot.created': 'Erstellt'
            , 'snapshot.eventId': 'Event-ID'
            , 'snapshot.links': 'Links im Snapshot'
            , 'snapshot.members': 'Mitglieder im Snapshot'
            , 'snapshot.version': 'Version'
            , 'snapshot.vectorClock': 'Vector Clock'
            , 'snapshot.member': 'Mitglied'
            , 'snapshot.eventCount': 'Event-Anzahl'
            , 'snapshot.noVectorClock': 'Keine Vector Clock Daten'
            , 'snapshot.showData': 'Snapshot-Daten anzeigen'
            
            // Event-Log & Sync Einstellungen
            , 'options.eventlog.title': 'Event-Log & Sync'
            , 'options.eventlog.snapshotInterval': 'Snapshot alle X Ereignisse'
            , 'options.eventlog.snapshotInterval.help': 'Snapshot nach dieser Anzahl von Events erstellen (reduziert Speicherverbrauch)'
            , 'options.eventlog.maxEvents': 'Maximale Anzahl Ereignisse'
            , 'options.eventlog.maxEvents.help': 'Maximale Events vor erzwungener Bereinigung (harte Grenze)'
            , 'options.eventlog.syncStrategy': 'Konfliktstrategie beim Synchronisieren'
            , 'options.eventlog.syncStrategy.help': 'Wie Konflikte beim Synchronisieren behandelt werden'
            , 'options.eventlog.syncStrategy.ownerLeads': 'Besitzer fhrt (empfohlen)'
            , 'options.eventlog.syncStrategy.allEqual': 'Alle Mitglieder gleich'
            , 'options.eventlog.syncStrategy.smartMerge': 'Smart Merge (experimentell)'
            , 'Events': 'Ereignisse'
            , 'options.eventlog.note': 'Hinweis:'
            , 'options.eventlog.note.text': 'Event-Log-Einstellungen gelten, wenn Sie der Gruppenbesitzer sind. Mitglieder verwenden die Einstellungen des Besitzers.'
            
            // CSS Dialog bersetzungen
            , 'css.format': 'CSS-Format'
            , 'css.noStyle': 'Kein benutzerdefinierter Stil'
            , 'css.clear': 'Lschen'
            , 'css.preview.text': 'Vorschautext'
            , 'css.opacity.warning': 'Hinweis:'
            , 'css.opacity.websiteBackgroundInfo': 'Fr den Website-Hintergrund wird die Deckkraft nur auf die Hintergrundfarbe angewendet (mittels rgba). Dadurch bleiben Dialoge sichtbar.'
            , 'css.background': 'Hintergrund (Kurzform)'
            , 'css.backgroundColor': 'Hintergrundfarbe'
            , 'css.backgroundOpacity': 'Deckkraft'
            , 'css.text': 'Text'
            , 'css.textColor': 'Textfarbe'
            , 'css.fontFamily': 'Schriftfamilie'
            , 'css.default': 'Standard'
            , 'css.fontSize': 'Schriftgre'
            , 'css.fontWeight': 'Schriftstrke'
            , 'css.normal': 'Normal'
            , 'css.bold': 'Fett'
            , 'css.lighter': 'Leichter'
            , 'css.fontStyle': 'Schriftstil'
            , 'css.italic': 'Kursiv'
            , 'css.oblique': 'Schrg'
            , 'css.textDecoration': 'Textdekoration'
            , 'css.underline': 'Unterstrichen'
            , 'css.overline': 'berstrichen'
            , 'css.lineThrough': 'Durchgestrichen'
            , 'css.underlineOverline': 'Unter- + berstrichen'
            , 'css.border': 'Rahmen'
            , 'css.borderStyle': 'Rahmenstil'
            , 'css.none': 'Keiner'
            , 'css.solid': 'Durchgezogen'
            , 'css.dashed': 'Gestrichelt'
            , 'css.dotted': 'Gepunktet'
            , 'css.double': 'Doppelt'
            , 'css.groove': 'Vertieft'
            , 'css.ridge': 'Erhht'
            , 'css.inset': 'Eingelassen'
            , 'css.outset': 'Hervorstehend'
            , 'css.borderWidth': 'Rahmenbreite'
            , 'css.borderColor': 'Rahmenfarbe'
            , 'css.borderRadius': 'Rahmenradius'
            , 'css.shadow': 'Schatten'
            , 'css.boxShadow': 'Box-Schatten'
            , 'css.shadowPresets': 'Vorlagen'
            , 'css.shadowSubtle': 'Dezent'
            , 'css.shadowMedium': 'Mittel'
            , 'css.shadowStrong': 'Stark'
            , 'css.shadowInset': 'Innen'
            , 'css.generatedCode': 'Generiertes CSS:'
            , 'css.apply': 'Anwenden'
            , 'css.cancel': 'Abbrechen'
            , 'css.shorthand': 'Kurzform'
            , 'css.spacing': 'Abstnde'
            , 'css.padding': 'Innenabstand (Padding)'
            , 'css.margin': 'Auenabstand (Margin)'
            , 'css.top': 'Oben'
            , 'css.right': 'Rechts'
            , 'css.bottom': 'Unten'
            , 'css.left': 'Links'
            , 'css.resetAll': 'Alle zurcksetzen'

            // Visual CSS Editor bersetzungen
            , 'css.visual.designTokens': 'Design Tokens'
            , 'css.visual.addToken': 'Token hinzufgen'
            , 'css.visual.noTokens': 'Noch keine Tokens. Fge welche hinzu (z. B. brand-primary (ohne --), #3b82f6)'
            , 'css.visual.tokensHint': 'Tokens per Dropdown neben den Properties einsetzen (var(--token)).'
            , 'css.visual.tokensSelect': '-- Token whlen --'
            , 'css.visual.valuePlaceholder': 'Wert eingeben (z. B. #ff0000, rgb(), var(--...))'
            , 'css.visual.openFormatEditor': 'Property-Format-Editor ffnen'
            , 'css.visual.formatEditor': 'Property-Format-Editor'
            , 'css.visual.formatEditorNoSelection': 'Whle eine Property ber den Zahnrad-Button neben "Wert eingeben ...".'
            , 'css.visual.formatEditorBasic': 'Basis'
            , 'css.visual.formatEditorValue': 'Wert-Builder'
            , 'css.visual.formatEditorAdvanced': 'Erweitert'
            , 'css.visual.formatEditorApply': 'Anwenden'
            , 'css.visual.formatEditorRevert': 'Zurcksetzen'
            , 'css.visual.formatEditorUseRaw': 'Als rohen CSS-Wert bearbeiten'
            , 'css.visual.formatEditorPreview': 'Vorschau'
            , 'css.visual.formatEditorProperty': 'Property'
            , 'css.visual.formatEditorType': 'Typ'
            , 'css.visual.formatEditorRawEnabled': 'Rohmodus aktiv. Deaktiviere ihn, um gefhrte Eingaben zu nutzen.'
            , 'css.visual.formatEditorRawOnly': 'Diese Property untersttzt nur den Rohmodus.'
            , 'css.visual.value': 'Wert'
            , 'css.visual.none': 'Keine'
            , 'css.visual.color': 'Farbe'
            , 'css.visual.alpha': 'Alpha'
            , 'css.visual.fontFamilyCustom': 'Eigener font-family-Wert'
            , 'css.visual.linkValues': 'Werte koppeln'
            , 'css.unit': 'Einheit'
            , 'css.blur': 'Unschrfe'
            , 'css.spread': 'Ausdehnung'
            , 'css.visual.tokenName': 'Token-Name'
            , 'css.visual.tokenValue': 'Token-Wert'
            , 'css.visual.invalidCssValue': 'Ungltiger CSS-Wert'
            , 'css.visual.missingTokens': 'Fehlende Tokens'
            , 'css.visual.invalidTokenValue': 'Ungltiger Token-Wert (z. B. #rrggbb, rgb(), linear-gradient(), var(--name))'
            , 'extension.clearCache': 'Extension-Cache leeren'
            , 'extension.cacheCleared': 'Extension-Cache geleert'
            , 'extension.cacheClearFailed': 'Extension-Cache konnte nicht geleert werden'
            , 'extension.notAvailable': 'Extension nicht verfgbar'
            , 'extension.refetchFavicons': 'Favicons werden neu geladen'
            
            , 'css.visual.pickElement': 'Element whlen'
            , 'css.visual.pickerActive': 'Element-Picker aktiv: Klicke ein Element im Inhalt'
            , 'css.visual.picked': 'Ausgewhlt'
            , 'css.visual.applyPreset': 'Preset anwenden'
            , 'css.visual.presetApplied': 'Preset angewendet'
            , 'css.visual.addRule': 'Neue CSS Regel hinzufgen'
            , 'css.visual.deleteRule': 'Regel lschen'
            , 'css.visual.element': 'Element'
            , 'css.visual.selectElement': '-- Element whlen --'
            , 'css.visual.group': 'Gruppe'
            , 'css.visual.selectGroup': '-- Alle Gruppen --'
            , 'css.visual.link': 'Link'
            , 'css.visual.selectLink': '-- Alle Links --'
            , 'css.visual.properties': 'CSS Eigenschaften'
            , 'css.visual.addProperty': '+ Eigenschaft hinzufgen...'
            , 'css.visual.colors': 'Farben'
            , 'css.visual.typography': 'Typografie'
            , 'css.visual.borders': 'Rahmen'
            , 'css.visual.sizes': 'Gren'
            , 'css.visual.complete': 'komplett'
            , 'css.outline': 'Umrisslinie'
            , 'css.outlineWidth': 'Umrissbreite'
            , 'css.outlineStyle': 'Umrissstil'
            , 'css.outlineColor': 'Umrissfarbe'
            , 'css.outlineOffset': 'Umrissabstand'
            , 'css.width': 'Breite'
            , 'css.height': 'Hhe'
            , 'css.opacity': 'Transparenz'
            , 'css.textAlign': 'Textausrichtung'
            , 'css.topLeft': 'oben links'
            , 'css.topRight': 'oben rechts'
            , 'css.bottomLeft': 'unten links'
            , 'css.bottomRight': 'unten rechts'
            , 'css.visual.layout': 'Layout'
            , 'css.visual.effects': 'Effekte'
            , 'css.visual.rule': 'Regel'
            , 'css.visual.doubleClickToEdit': 'Doppelklick zum Bearbeiten'
            , 'css.visual.copy': 'Kopie'
            , 'css.visual.toggleCollapse': 'Ein-/Ausklappen'
            , 'css.visual.expandAll': 'Alle aufklappen'
            , 'css.visual.collapseAll': 'Alle zuklappen'
            , 'css.visual.activate': 'Aktivieren'
            , 'css.visual.deactivate': 'Deaktivieren'
            , 'css.visual.selectElementShort': 'Element whlen'
            , 'css.visual.customCss': 'Custom CSS'
            , 'css.visual.moveUp': 'Nach oben'
            , 'css.visual.moveDown': 'Nach unten'
            , 'css.visual.duplicate': 'Duplizieren'
            , 'css.visual.delete': 'Lschen'
            , 'css.visual.selectTemplate': '-- Vorlage whlen --'
            , 'css.visual.defaultTemplates': 'Standard-Vorlagen'
            , 'css.visual.appLevel': 'App-Ebene'
            , 'css.visual.uiPrimitives': 'UI-Bausteine'
            , 'css.visual.groupLevel': 'Gruppen-Ebene'
            , 'css.visual.linkLevel': 'Link-Ebene'
            , 'css.visual.allGroups': 'Alle Gruppen'
            , 'css.visual.groupHeader': 'Gruppen Header'
            , 'css.visual.groupTitle': 'Gruppen Titel'
            , 'css.visual.groupContent': 'Gruppen Inhalt'
            , 'css.visual.allLinks': 'Alle Links'
            , 'css.visual.allSeparators': 'Alle Trenner'
            , 'css.visual.allNotes': 'Alle Notizen'
            , 'css.visual.linkHover': 'Link (Hover)'
            , 'css.visual.state': 'Zustand'
            , 'css.visual.hoverState': 'Hover (:hover)'
            , 'css.visual.dragOverState': 'Drag Over (.drag-over-active)'
            , 'css.visual.linkAnchor': 'Link Anchor'
            , 'css.visual.linkUrl': 'Link URL'
            , 'css.visual.linkIcon': 'Link Icon'
            , 'css.visual.keywords': 'Keywords'
            , 'css.visual.allKeywords': 'Alle Keywords (Keyword-Bar)'
            , 'css.visual.selectedKeywords': 'Selektierte Keywords (Keyword-Bar)'
            , 'css.visual.selectedKeywordText': 'Text selektierter Keywords'
            , 'css.visual.keywordsHierarchical': 'Keywords (Hierarchisch)'
            , 'css.visual.keywordByName': 'Keyword nach Name'
            , 'css.visual.keywordSuggestions': 'Keyword-Vorschlagsliste'
            , 'css.visual.keywordSuggestionItem': 'Keyword-Vorschlag'
            , 'css.visual.selectKeyword': '-- Alle Keywords --'
            , 'css.visual.keyword': 'Keyword'
            , 'css.visual.apply': 'Anwenden'
            , 'css.visual.save': 'Speichern'
            , 'css.visual.migrationNotice': 'Hinweis: Ihr bisheriges Custom CSS wurde importiert. Sie knnen es oben als "Legacy CSS" Regel bearbeiten oder lschen.'
            , 'css.visual.selectSeparator': '-- Alle Trenner --'
            , 'css.visual.separatorShort': 'Sep.'
            , 'css.visual.selectNote': '-- Alle Notizen --'
            , 'css.visual.noteShort': 'Notiz'
            , 'css.visual.customProperties': 'Custom CSS Eigenschaften'
            , 'css.visual.customPropertiesHint': 'z.B. display: flex;\njustify-content: center;'
            , 'css.visual.customPropertiesHelp': 'Geben Sie beliebige CSS-Eigenschaften ein (eine pro Zeile)'
            , 'css.visual.generatedSelector': 'Generierter Selektor'
            , 'css.visual.ruleSets': 'Regel-Stze'
            , 'css.visual.loadRuleSet': 'Regel-Satz laden'
            , 'css.visual.saveCurrentRules': 'Aktuelle Regeln speichern'
            , 'css.visual.savedRuleSets': 'Gespeicherte Stze'
            , 'css.visual.rulesCount': 'Regeln'
            , 'css.visual.deleteRuleSet': 'Lschen'
            , 'css.visual.ruleSetName': 'Name fr Regel-Satz:'
            , 'css.visual.ruleSetSaved': 'Regel-Satz gespeichert!'
            , 'css.visual.loadRuleSetConfirm': 'Mchten Sie diesen Regel-Satz laden? Ihre aktuellen Regeln werden ersetzt.'
            , 'css.visual.deleteRuleSetConfirm': 'Mchten Sie diesen Regel-Satz wirklich lschen?'
            , 'css.visual.selectRuleSet': '-- Whlen --'
            , 'css.visual.ruleSetLoaded': 'Regel-Satz geladen'
            , 'css.visual.ruleSetDeleted': 'Regel-Satz gelscht'
            , 'css.visual.clearAll': 'Alles lschen'
            , 'css.visual.clearAllTooltip': 'Alle CSS Einstellungen lschen'
            , 'css.visual.clearAllConfirm': 'Mchten Sie wirklich ALLE CSS-Einstellungen lschen?\n\nDies entfernt:\n Alle CSS-Regeln\n Das ausgewhlte Template\n Alle gespeicherten Regel-Stze\n\nDiese Aktion kann nicht rckgngig gemacht werden!'
            , 'css.visual.clearedAll': 'Alle CSS-Einstellungen wurden gelscht'
            , 'css.visual.clearProperties': 'Eigenschaften lschen'
            , 'css.visual.clearPropertiesTitle': 'Alle Eigenschaften dieser Regel lschen'
            , 'css.visual.propertiesCleared': 'Eigenschaften gelscht'
            , 'css.visual.propertyAlreadyExists': 'Diese Eigenschaft existiert bereits in dieser Regel'

            // Generische Button-bersetzungen
            , 'apply': 'Anwenden'
            , 'cancel': 'Abbrechen'
            , 'save': 'Speichern'
            , 'delete': 'Lschen'
            , 'members.select': 'Mitgliedsnummer auswhlen:'
            , 'close': 'Schlieen'
            , 'ok': 'OK'
            , 'features.open': 'Hilfe / Feature-bersicht'
            , 'sync.progress': 'Synchronisierung luft'
            , 'group.addLink': 'Link hinzufgen'
            , 'group.resizeWidth': 'Gruppenspaltenbreite per Ziehen ndern'
            , 'link.qrCode': 'QR-Code erzeugen'
            , 'link.copyError': 'Kein Zugriff auf die Zwischenablage'
            , 'favicon.loadError': 'Favicon konnte nicht geladen werden'
            , 'import.extensionRequired': 'Browser-Erweiterung fr URL-Import erforderlich. Bitte die MyBookmarks-Erweiterung installieren oder Datei-Import nutzen.'
            , 'quick.test.note': 'Testnachricht'
            , 'quick.test.failed': 'Schnelltest fehlgeschlagen.'
            , 'link.ref.editDialog.originalUrl': 'Original-URL-Vorlage'
            , 'link.ref.editDialog.placeholders': 'Platzhalter'
            , 'css.visual.searchRules': 'Regeln suchen'
            , 'css.visual.activateProperty': 'Eigenschaft aktivieren'
            , 'css.visual.deactivateProperty': 'Eigenschaft deaktivieren'
          }
        },
      },
      watch: {
        // Focus template name input when dialog opens
        showSaveTemplateDialog(newVal) {
          if (newVal) {
            this.$nextTick(() => {
              if (this.$refs.templateNameInput) {
                this.$refs.templateNameInput.focus();
              }
            });
          }
        },
        // When editing/adding a link, try to auto-fetch metadata after URL changes
        'editLink.url'(newVal, oldVal) {
          if (!this.editLink) return;
          if (!this.data.options?.links) return;
          if (!(this.data.options.links.autoFetchTitle || this.data.options.links.autoFetchFavicon)) return;
          // Only run when user actually changes the field, not on initial dialog open/programmatic set
          if (this._suppressMeta) return;
          if (typeof oldVal === 'undefined') return;
          const a = (newVal || '').trim();
          const b = (oldVal || '').trim();
          if (a === b || !a) return;
          if (!this._debouncedMeta) this._debouncedMeta = debounce(() => this.fetchMetadataForEditLink(false), 500).bind(this);
          this._debouncedMeta();
        },
        filterText(newVal, oldVal) {
          if (!this.data?.options?.groups?.searchAutoExpandFound) return;
          // Save collapsed state once when starting a search
          if (newVal && !oldVal && !this._savedCollapsedStates) {
            this._savedCollapsedStates = {};
            (this.data.groups || []).forEach(g => { this._savedCollapsedStates[g.id] = !!g.collapsed; });
          }
          if (newVal) {
            // Expand matched groups
            (this.data.groups || []).forEach(g => {
              if (this.isGroupMatched(g, newVal)) this.$set(g, 'collapsed', false);
            });
          } else if (!newVal && this._savedCollapsedStates) {
            // Restore previous collapsed states after clearing search
            (this.data.groups || []).forEach(g => {
              const prev = this._savedCollapsedStates[g.id];
              if (prev !== undefined) this.$set(g, 'collapsed', prev);
            });
            this._savedCollapsedStates = null;
          }
        },
        dragState(newValue, oldValue) {
          debugLog('log', "dragState changed from", oldValue, "to", newValue);
          if (newValue) {
            this.hideLinkPopover();
          }
          if (newValue) {
            debugLog('log', "#app should now have class 'dragging-" + newValue + "'");
            // Let's verify the CSS classes are actually applied
            this.$nextTick(() => {
              const appElement = document.getElementById('app');
              if (appElement) {
                debugLog('log', "App element classes after dragState change:", appElement.className);
                const dropZones = document.querySelectorAll('.group-drop-zone');
                debugLog('log', "Found", dropZones.length, "drop zones");
                dropZones.forEach((zone, index) => {
                  const computedStyle = window.getComputedStyle(zone);
                  debugLog('log', `Drop zone ${index} display:`, computedStyle.display);
                });
              }
            });
          } else {
            debugLog('log', "#app should now remove all dragging-* classes");
            this.internalLinkDragPointer = null;
          }
        },
        externalLinkDragActive(newValue) {
          if (newValue) {
            this.hideLinkPopover();
          }
        },
        'data.options.sync.backend'() {
          try { this.scheduleCardDavAutoSync(); } catch {}
        },
        'data.options.carddav.syncIntervalSec'() {
          try { this.scheduleCardDavAutoSync(); } catch {}
        },
        'data.options.bookmarks.syncIntervalSec'() {
          try { this.scheduleCardDavAutoSync(); } catch {}
        },
        extensionAvailable(newValue, oldValue) {
          if (newValue === oldValue) return;
          try { this.scheduleCardDavAutoSync(); } catch {}
        },
        'data.groups': {
          deep: true,
          handler() {
            this.invalidateShortcutUrlCache();
          }
        },
        'data.options.links.globalShortcuts': {
          deep: true,
          handler() {
            this.invalidateShortcutUrlCache();
          }
        },
        'data.options.links.defaultUrlPrefix'() {
          this.invalidateShortcutUrlCache();
        },
        'data.options.links.globalPlaceholders': {
          deep: true,
          handler() {
            this.invalidateShortcutUrlCache();
          }
        }
      },
      computed: {
        // Check if custom CSS has changes
        hasCustomCssChanges() {
          const currentCss = this.data.options?.customCss || '';
          return this.customCssDraft !== currentCss;
        },

        cssPropertyEditorRule() {
          const ruleId = this.cssPropertyEditor?.ruleId;
          if (!ruleId) return null;
          return (this.visualCssRules || []).find((rule) => String(rule?.id) === String(ruleId)) || null;
        },
        
        // Syntax highlighted CSS for display
        highlightedCss() {
          if (!this.customCssDraft) return '';
          try {
            if (typeof hljs !== 'undefined') {
              const result = hljs.highlight(this.customCssDraft, { language: 'css' });
              return result.value;
            }
          } catch (e) {
            debugLog('warn', 'Highlight.js error:', e);
          }
          // Fallback: escape HTML
          return this.customCssDraft
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;');
        },
        
        settingsMatchesFilter(settingName, helpText) {
          if (!this.settingsFilterText) return true;
          const filter = this.settingsFilterText.toLowerCase();
          const nameTranslated = this.getTranslation(settingName) || settingName || '';
          const helpTranslated = this.getTranslation(helpText) || helpText || '';
          return nameTranslated.toLowerCase().includes(filter) ||
                 helpTranslated.toLowerCase().includes(filter);
        },
        sectionHasVisibleSettings() {
          // Check if a section has any visible settings based on the filter
          return (section) => {
            if (!this.settingsFilterText) return true;

            const mappedSection = (section === 'appearanceColors' || section === 'colors') ? 'appearanceColors' : section;
            const sectionConfig = this.optionsDesign?.[mappedSection];
            if (!sectionConfig?.fields) return false;

            return Object.values(sectionConfig.fields).some((field) => {
              if (!field) return false;
              return this.settingsMatchesFilter(field.translateKey, field.helpText);
            });
          };
        },
        contextLink() {
          return this.contextMenuTarget?.type === 'link' ? this.contextMenuTarget.item : null;
        },
        contextGroup() {
          // For group menu, return the group item
          if (this.contextMenuTarget?.type === 'group') {
            return this.contextMenuTarget.item;
          }
          // For link menu, return the group context
          if (this.contextMenuTarget?.type === 'link') {
            return this.contextMenuTarget.groupContext;
          }
          return null;
        },
        allKeywords() {
          const set = new Set();
          (this.data.groups || []).forEach(g => {
            const add = (keywords) => {
              if (!keywords) return;
              // Handle both string and array formats
              this.parseKeywords(keywords).forEach(k => set.add(k));
            };
            add(g.keywords);
            (g.links || []).forEach(l => add(l.keywords));
          });
          return Array.from(set).sort((a, b) => a.localeCompare(b));
        },
        shortcutManagerLinkGroups() {
          const query = (this.shortcutManager?.linkFilter || '').trim().toLowerCase();
          const buckets = new Map();
          (this.data.groups || []).forEach((group) => {
            (group.links || []).forEach((link) => {
              const combo = this.normalizeShortcutText(link.shortcut || '');
              if (!combo) return;
              const rawUrl = String(this.getEffectiveLinkUrl(link) || '').trim();
              const normalizedUrl = MB.Utils.ensureProtocol(rawUrl);
              const validUrl = MB.Utils.isValidHttpUrl(normalizedUrl);
              if (!buckets.has(combo)) {
                buckets.set(combo, {
                  combo,
                  items: [],
                  validUrls: new Set()
                });
              }
              const bucket = buckets.get(combo);
              bucket.items.push({
                linkUuid: link.uuid || `${group.uuid || group.name || 'group'}-${rawUrl || link.text || 'link'}`,
                linkRef: link,
                groupName: group.name || '',
                linkText: (link.text || '').trim() || rawUrl || '',
                url: rawUrl,
                validUrl
              });
              if (validUrl) bucket.validUrls.add(normalizedUrl);
            });
          });
          let groups = Array.from(buckets.values()).map((bucket) => ({
            combo: bucket.combo,
            items: bucket.items.sort((a, b) => {
              const groupCmp = (a.groupName || '').localeCompare(b.groupName || '');
              if (groupCmp !== 0) return groupCmp;
              return (a.linkText || '').localeCompare(b.linkText || '');
            }),
            itemCount: bucket.items.length,
            validUrlCount: bucket.validUrls.size,
            urls: Array.from(bucket.validUrls)
          })).sort((a, b) => a.combo.localeCompare(b.combo));
          if (!query) return groups;
          groups = groups.filter((group) => {
            if (group.combo.toLowerCase().includes(query)) return true;
            return group.items.some((item) => {
              return (item.groupName || '').toLowerCase().includes(query)
                || (item.linkText || '').toLowerCase().includes(query)
                || (item.url || '').toLowerCase().includes(query);
            });
          });
          return groups;
        },
        shortcutManagerTargetGroups() {
          const groups = [];
          (this.data.groups || []).forEach((group) => {
            const groupId = String(group?.uuid || group?.id || '').trim();
            if (!groupId) return;
            const links = [];
            (group.links || []).forEach((link) => {
              if (link?.deleted) return;
              const linkId = String(link?.uuid || link?.id || '').trim();
              if (!linkId) return;
              const rawUrl = String(this.getEffectiveLinkUrl(link) || '').trim();
              const normalizedUrl = MB.Utils.ensureProtocol(rawUrl);
              const validUrl = MB.Utils.isValidHttpUrl(normalizedUrl);
              links.push({
                linkId,
                linkText: (String(link?.text || '').trim() || rawUrl || ''),
                rawUrl,
                validUrl
              });
            });
            const selectableLinkCount = links.reduce((sum, link) => sum + (link.validUrl ? 1 : 0), 0);
            groups.push({
              groupId,
              groupName: String(group?.name || '').trim(),
              links,
              selectableLinkCount
            });
          });
          return groups;
        },
        displayedKeywords() {
          const set = new Set();
          const query = (this.filterText || '').trim().toLowerCase();
          const rawFilter = (this.filterText || '').trim();
          const tokens = rawFilter ? rawFilter.toLowerCase().split(/\s+/).filter(Boolean) : [];
          const activeKeywords = this.activeKeywordFilters || [];

          (this.data.groups || []).forEach(group => {
            const groupMatchesText = (
              !query ||
              group.name?.toLowerCase().includes(query) ||
              (group.keywords && group.keywords.toLowerCase().includes(query)) ||
              (group.links && group.links.some(link =>
                link.text?.toLowerCase().includes(query) ||
                (link.keywords && link.keywords.toLowerCase().includes(query)) ||
                (link.url && link.url.toLowerCase().includes(query))
              ))
            );
            if (!groupMatchesText) return;

            const groupMatchesKeyword = this.groupMatchesKeywordFilters(group, activeKeywords);
            if (!groupMatchesKeyword) return;

            this.parseKeywords(group.keywords).forEach(kw => set.add(kw));

            const groupHasKeywordToken = tokens.length && this.parseKeywords(group.keywords || '')
              .map(k => k.toLowerCase()).some(kw => tokens.some(t => kw.includes(t)));
            (group.links || []).forEach(link => {
              const linkText = (link.text || '').toLowerCase();
              const linkUrl = (link.url || '').toLowerCase();
              const linkKeywordsLower = this.parseKeywords(link.keywords).map(k => k.toLowerCase()).join(' ');
              const linkMatchesText = tokens.length === 0 || groupHasKeywordToken ||
                tokens.every(t => linkText.includes(t) || linkUrl.includes(t) || linkKeywordsLower.includes(t));
              if (!linkMatchesText) return;
              const linkMatchesKeyword = !activeKeywords.length || this.groupOrLinkKeywordsContainAll(group, link, activeKeywords);
              if (!linkMatchesKeyword) return;
              this.parseKeywords(link.keywords).forEach(kw => set.add(kw));
            });
          });

          (this.activeKeywordFilters || []).forEach(kw => { if (kw) set.add(kw); });
          return Array.from(set).sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));
        },
        keywordColorMap() {
          const map = {};

          const ensureSet = (kw) => { if (!map[kw]) map[kw] = new Set(); };

          const addColors = (kw, colors) => {
            if (!kw) return;
            ensureSet(kw);
            (colors || []).forEach(c => { if (c && c.trim()) map[kw].add(c.trim()); });
          };

          const extractColorsFromValue = (value) => {
            if (!value) return [];
            // Try JSON primary color
            try {
              const primary = this.getPrimaryColorFromCss(value, '');
              if (primary) return [primary];
            } catch {}
            if (typeof value !== 'string') return [];
            const v = value.trim();
            if (!v) return [];
            // If linear-gradient, extract all color tokens (hex/rgb[a])
            if (v.includes('gradient')) {
              const tokens = v.match(/#([0-9a-fA-F]{3,6})|rgba?\([^\)]+\)/g);
              return tokens || [];
            }
            // Simple color string
            return [v];
          };

          const effectiveBadgeColors = (group, link) => {
            const merged = this.mergeFormattingSettings(
              this.data.options?.colors?.background,
              this.data.options?.groups?.defaultGroupBadgeFormatting,
              group?.badgeFormatting,
              link ? link.badgeFormatting : undefined
            );
            const colors = [];
            if (merged.backgroundColor) colors.push(merged.backgroundColor);
            if (merged.background) colors.push(...extractColorsFromValue(merged.background));
            // Fallbacks when no badge background is set
            if (colors.length === 0) {
              if (link) {
                colors.push(...extractColorsFromValue(link.formatting));
                colors.push(...extractColorsFromValue(link.color));
              }
              colors.push(...extractColorsFromValue(group?.titleFormatting));
              colors.push(...extractColorsFromValue(group?.color));
            }
            return colors.filter(Boolean);
          };

          const groups = this.data.groups || [];
          groups.forEach(g => {
            const addFrom = (keywords, link) => {
              if (!keywords) return;
              const colors = effectiveBadgeColors(g, link);
              const list = this.parseKeywords(keywords);
              list.forEach(kw => addColors(kw.trim(), colors));
            };

            // Group-level keywords
            addFrom(g.keywords, null);

            // Link-level keywords
            (g.links || []).forEach(l => addFrom(l.keywords, l));
          });

          const result = {};
          Object.keys(map).forEach(k => result[k] = Array.from(map[k]));
          return result;
        },
        keywordSuggestionList() {
          if (!['link', 'group'].includes(this.genericEditConfig?.type)) return [];
          if (!this.keywordSuggestionContext) return [];
          const context = this.keywordSuggestionContext;
          const searchTerm = (context.searchTerm || '').toLowerCase();
          const prefix = context.prefix || '';
          const suffix = context.suffix || '';
          const seen = new Set();
          const suggestions = [];
          (this.allKeywords || []).forEach(kw => {
            if (!kw) return;
            const kwLower = kw.toLowerCase();
            if (searchTerm && !kwLower.startsWith(searchTerm)) return;
            if (seen.has(kwLower)) return;
            seen.add(kwLower);
            suggestions.push({
              value: `${prefix}${kw}${suffix}`,
              label: kw,
              cursor: prefix.length + kw.length
            });
          });
          return suggestions;
        },
        quickKeywordSuggestionList() {
          const context = this.keywordQuickSuggestionContext;
          if (!context) return [];
          const searchTerm = (context.searchTerm || '').toLowerCase();
          const prefix = context.prefix || '';
          const suffix = context.suffix || '';
          const seen = new Set();
          const suggestions = [];
          (this.allKeywords || []).forEach(kw => {
            if (!kw) return;
            const kwLower = kw.toLowerCase();
            if (searchTerm && !kwLower.startsWith(searchTerm)) return;
            if (seen.has(kwLower)) return;
            seen.add(kwLower);
            suggestions.push({
              value: `${prefix}${kw}${suffix}`,
              label: kw,
              cursor: prefix.length + kw.length
            });
          });
          return suggestions;
        },
        shouldShowKeywordSuggestions() {
          return !!this.keywordSuggestionContext && !!this.keywordSuggestionField && this.keywordSuggestionList.length > 0;
        },
        shouldShowQuickKeywordSuggestions() {
          return !!this.keywordQuickSuggestionContext && this.quickKeywordSuggestionList.length > 0;
        },

        
	      },
	        created() {
	          this.loadBackupReminderState();
	          this.initDatabase();
	          sharing = new SharingService(this);
          // Expose sharing service globally for legacy call sites
          try { window.sharing = sharing; } catch {}

          // Load and apply Visual CSS rules on startup
          this.loadVisualCssRules();
          // Restore collapsed state of rule cards
          this.loadCollapsedRules();
          // Restore design tokens collapsed state
          this.loadDesignTokensCollapsed();

          // No wrapping of confirmShare; extend main confirmShare handler directly
          if (!this._onEscapeKeyup) {
            this._onEscapeKeyup = (e) => {
              if (e.key !== 'Escape') return;
              if (this.dropManager && typeof this.dropManager.reset === 'function') {
                this.dropManager.reset();
              }
              this.hideMenus();
              this.cancelEditing(this.editGroup); // Cancel group editing
              this.cancelEditing(this.editLink); // Cancel link editing
            };
          }
          window.addEventListener('keyup', this._onEscapeKeyup);
          // Global click listener to hide menus
          window.addEventListener('click', this.handleGlobalClick, true); // Use capture phase
          document.addEventListener('keydown', this.handleGlobalKeyDown); // Search-as-you-type
	          window.addEventListener('resize', this.handleKeywordSuggestionViewportChange);
	          window.addEventListener('scroll', this.handleKeywordSuggestionViewportChange, true);
	          window.addEventListener('dragenter', this.handleGlobalExternalDragEnter, true);
	          window.addEventListener('dragover', this.handleGlobalExternalDragOver, true);
	          window.addEventListener('dragleave', this.handleGlobalExternalDragLeave, true);
	          window.addEventListener('drop', this.handleGlobalExternalDrop, true);
	          if (!this._onAutomaticSnapshotSessionEnd) {
	            this._onAutomaticSnapshotSessionEnd = () => {
	              this.handleSessionEndAutomaticSnapshot();
	            };
	          }
	          window.addEventListener('pagehide', this._onAutomaticSnapshotSessionEnd);
	          window.addEventListener('beforeunload', this._onAutomaticSnapshotSessionEnd);
	      },
      beforeDestroy() {
        this.stopElementPicker();
        document.body.classList.remove('css-sidebar-open');
        document.body.style.marginRight = '';
        // Clean up global listeners
        if (this._onEscapeKeyup) {
          window.removeEventListener('keyup', this._onEscapeKeyup);
        }
        if (this._onExtensionReady) {
          window.removeEventListener('mybookmarks-extension-ready', this._onExtensionReady);
        }
        window.removeEventListener('click', this.handleGlobalClick, true);
        document.removeEventListener('keydown', this.handleGlobalKeyDown);
        window.removeEventListener('resize', this.handleKeywordSuggestionViewportChange);
        window.removeEventListener('scroll', this.handleKeywordSuggestionViewportChange, true);
	        window.removeEventListener('dragenter', this.handleGlobalExternalDragEnter, true);
	        window.removeEventListener('dragover', this.handleGlobalExternalDragOver, true);
	        window.removeEventListener('dragleave', this.handleGlobalExternalDragLeave, true);
	        window.removeEventListener('drop', this.handleGlobalExternalDrop, true);
	        if (this._onAutomaticSnapshotSessionEnd) {
	          window.removeEventListener('pagehide', this._onAutomaticSnapshotSessionEnd);
	          window.removeEventListener('beforeunload', this._onAutomaticSnapshotSessionEnd);
	        }
	        this.resetExternalLinkDragState();
        const keywordQuickModal = document.getElementById('keywordQuickAddModal');
        if (keywordQuickModal) {
          if (this._onKeywordQuickModalShown) {
            keywordQuickModal.removeEventListener('shown.bs.modal', this._onKeywordQuickModalShown);
          }
          if (this._onKeywordQuickModalHidden) {
            keywordQuickModal.removeEventListener('hidden.bs.modal', this._onKeywordQuickModalHidden);
          }
        }
        const localSecurityPasswordModal = document.getElementById('localSecurityPasswordModal');
        if (localSecurityPasswordModal && this._onLocalSecurityPasswordModalHidden) {
          localSecurityPasswordModal.removeEventListener('hidden.bs.modal', this._onLocalSecurityPasswordModalHidden);
        }
        document.removeEventListener('mousemove', this.handleGroupHeightResize);
        document.removeEventListener('mouseup', this.endGroupHeightResize);
        document.body.classList.remove('mb-group-resizing');
        this.isGroupHeightResizing = false;
        document.removeEventListener('mousemove', this.handleGroupColumnResize);
        document.removeEventListener('mouseup', this.endGroupColumnResize);
        document.body.classList.remove('mb-group-column-resizing');
        this.isGroupColumnResizing = false;
        
        // Clean up all timers to prevent memory leaks
        this.clearExpandHoverTimers();
        
        // Clean up DropManager timers if they exist
        if (this.dropManager) {
          if (this.dropManager.dragTimeout) {
            clearTimeout(this.dropManager.dragTimeout);
            this.dropManager.dragTimeout = null;
          }
          if (this.dropManager.delayedResetTimeout) {
            clearTimeout(this.dropManager.delayedResetTimeout);
            this.dropManager.delayedResetTimeout = null;
          }
        }
        
        // Clean up any debounced save timer
        if (this._debouncedSave && this._debouncedSave.cancel) {
          this._debouncedSave.cancel();
        }
        if (this._debouncedStorageUsage && this._debouncedStorageUsage.cancel) {
          this._debouncedStorageUsage.cancel();
        }
        if (this.carddavTimer) {
          clearInterval(this.carddavTimer);
          this.carddavTimer = null;
        }
        if (this._localSecurityPasswordPromptResolver) {
          this._localSecurityPasswordPromptResolver(null);
          this._localSecurityPasswordPromptResolver = null;
          this._localSecurityPasswordPromptResult = null;
        }
        this.clearLocalSecuritySessionTimer();
      },
      mounted() { // Example placement
        debugLog('log', '[MOUNTED] Vue app mounted, starting initialization');
        this.initializeDropManager();

        // Initialize browser extension communication
        this.initializeExtension();

        // Add event listener for import modal close to clean up memory
        const importModal = document.getElementById('pasteClipboardModal');
        if (importModal) {
          importModal.addEventListener('hidden.bs.modal', () => {
            this.resetImportDialog();
          });
        }

        const keywordQuickModal = document.getElementById('keywordQuickAddModal');
        if (keywordQuickModal) {
          this._onKeywordQuickModalShown = () => {
            this.focusKeywordQuickInput();
          };
          this._onKeywordQuickModalHidden = () => {
            this.resetKeywordQuickDialog();
          };
          keywordQuickModal.addEventListener('shown.bs.modal', this._onKeywordQuickModalShown);
          keywordQuickModal.addEventListener('hidden.bs.modal', this._onKeywordQuickModalHidden);
        }

        const referenceAliasModal = document.getElementById('referenceAliasModal');
        if (referenceAliasModal) {
          referenceAliasModal.addEventListener('hidden.bs.modal', () => {
            this.refAliasEditData = null;
            this.refAliasExpandedSections = {};
          });
        }
        const localSecurityPasswordModal = document.getElementById('localSecurityPasswordModal');
        if (localSecurityPasswordModal) {
          this._onLocalSecurityPasswordModalHidden = () => {
            this.onLocalSecurityPasswordModalHidden();
          };
          localSecurityPasswordModal.removeEventListener('hidden.bs.modal', this._onLocalSecurityPasswordModalHidden);
          localSecurityPasswordModal.addEventListener('hidden.bs.modal', this._onLocalSecurityPasswordModalHidden);
        }
        const globalPlaceholderModal = document.getElementById('globalPlaceholdersModal');
        if (globalPlaceholderModal) {
          globalPlaceholderModal.addEventListener('hidden.bs.modal', () => {
            this.globalPlaceholderRows = [];
          });
        }

        // Configure moment.js with German locale
        if (typeof moment !== 'undefined') {
          // Set German as default locale
          moment.locale('de');
          
          // Configure relative time strings for German if not already set
          moment.updateLocale('de', {
            relativeTime: {
              future: 'in %s',
              past: 'vor %s',
              s: 'ein paar Sekunden',
              ss: '%d Sekunden',
              m: 'einer Minute',
              mm: '%d Minuten',
              h: 'einer Stunde',
              hh: '%d Stunden',
              d: 'einem Tag',
              dd: '%d Tagen',
              M: 'einem Monat',
              MM: '%d Monaten',
              y: 'einem Jahr',
              yy: '%d Jahren'
            }
          });
          
          debugLog('log', '[INIT] Moment.js configured with German locale');
        }
        
        // Initialize dark mode
        this.initDarkMode();
        // Don't init colors here - will be done in updateSettings after data loads
        
	        // Load saved Visual CSS sidebar layout preferences
	        this.applyVisualCssSidebarPreferences();
	        // Ensure option blocks are normalized before manager initialization
	        this.fixOptions();
	        // Initialize Event-Log Manager for advanced sync with settings
	        const eventlogOptions = this.data.options?.eventlog || { snapshotInterval: 100, maxEvents: 500 };
	        this.eventLogManager = new EventLogManager(eventlogOptions.maxEvents, eventlogOptions.snapshotInterval);
        debugLog('log', '[INIT] EventLogManager initialized with settings', eventlogOptions);
        debugLog('log', '[INIT] Total groups:', this.data.groups?.length || 0);
        debugLog('log', '[INIT] Groups overview:', this.data.groups?.map(g => ({
          name: g.name,
          groupId: g.groupId,
          useEventLog: g.useEventLog,
          hasEventLog: !!g.eventLog,
          isShared: g.shared
        })));
        this.ensureAllTimestamps();
        
        // Calculate initial storage usage
        this.calculateStorageUsage();
        // Request persistent storage to reduce eviction risk (Edge/Chromium)
        if (navigator.storage && navigator.storage.persist) {
          navigator.storage.persist().then(granted => {
            debugLog('log', `[STORAGE] Persistent storage ${granted ? 'granted' : 'denied'}.`);
          }).catch(e => debugLog('warn', '[STORAGE] persist request failed', e));
        }
        // Apply saved custom CSS
        try { this.applyCustomCss(this.data.options?.customCss || ''); } catch {}
        
        // AUTO-ENABLE: Activate event-log for all groups and fix existing issues
        debugLog('log', '[AUTO-ENABLE] Checking auto-enable setting:', this.data.options?.eventlog);
        if (this.data.options?.eventlog?.autoEnable !== false) {
          const runAutoEnable = () => {
            debugLog('log', '[AUTO-ENABLE] Processing groups for event-log migration:', this.data.groups.length);

            // Ensure we have a user UUID
            if (!this.data.identity?.uuid) {
              if (!this.data.identity) {
                this.$set(this.data, 'identity', {
                  uuid: this.generateUUID(),
                  name: '',
                  pubKey: '',
                  privKey: ''
                });
              } else {
                this.$set(this.data.identity, 'uuid', this.generateUUID());
              }
              debugLog('log', '[AUTO-ENABLE] Generated user UUID:', this.data.identity.uuid);
            }

            const userUuid = this.data.identity.uuid;

            this.data.groups.forEach(group => {
              debugLog('log', '[AUTO-ENABLE] Checking group:', {
                name: group.name,
                hasEventLog: !!group.eventLog,
                useEventLog: group.useEventLog,
                groupId: group.groupId,
                isShared: group.shared,
                vectorClock: group.vectorClock
              });

              // Fix groups with "system" author in event-log
              if (group.eventLog && group.eventLog.length > 0) {
                let needsFix = false;
                group.eventLog.forEach(event => {
                  if (event.author === 'system') {
                    event.author = userUuid;
                    needsFix = true;
                    debugLog('log', '[AUTO-ENABLE] Fixed system author in event:', event.eventId);
                  }
                });

                // Fix vector clock if it has "system" entries
                if (group.vectorClock && group.vectorClock['system']) {
                  const systemCount = group.vectorClock['system'];
                  delete group.vectorClock['system'];
                  group.vectorClock[userUuid] = (group.vectorClock[userUuid] || 0) + systemCount;
                  needsFix = true;
                  debugLog('log', '[AUTO-ENABLE] Fixed system in vector clock for group:', group.name, 'new clock:', group.vectorClock);
                }

                if (needsFix) {
                  debugLog('log', '[AUTO-ENABLE] Repaired event-log for group:', group.name);
                }
              }

              if (!group.eventLog) {
                debugLog('log', '[AUTO-ENABLE] Enabling event-log for group:', group.name);
                // Migrate to event-log system
                this.migrateGroupToEventLog(group);
                this.$set(group, 'useEventLog', true);
                debugLog('log', '[AUTO-ENABLE] After migration:', {
                  name: group.name,
                  hasEventLog: !!group.eventLog,
                  useEventLog: group.useEventLog,
                  eventLogLength: group.eventLog?.length || 0
                });
              }
            });
            this.saveData();
          };

          const waitForData = (attempt = 0) => {
            if (this.loadFailed) {
              debugLog('warn', '[AUTO-ENABLE] Skipping event-log migration due to load failure.');
              return;
            }
            if (!this.dataLoaded) {
              if (attempt < 10) {
                return setTimeout(() => waitForData(attempt + 1), 200);
              }
              debugLog('warn', '[AUTO-ENABLE] Skipping event-log migration: data not loaded.');
              return;
            }
            runAutoEnable();
          };

          setTimeout(() => waitForData(0), 1000);
        } else {
          debugLog('log', '[AUTO-ENABLE] Event-log auto-enable is disabled');
        }
        // Initialize sharing
        this.fixOptions();
        sharing.applyConfig();
        // Initialize Smart Sync for offline recovery
        this.initSmartSync();
        // Subscribe to all shared groups on startup
        if (Array.isArray(this.data.groups)) {
          this.data.groups.forEach(g => {
            if (g.shared && g.groupTopic && g.groupKey) {
              try {
                debugLog('log', '[INIT] Subscribing to shared group:', g.name, g.groupId);
                // Don't request updates on startup - Smart Sync will handle it
                sharing.subscribeGroup(g, false);
              } catch (e) {
                debugLog('warn', '[INIT] Failed to subscribe to group:', g.name, e);
              }
            }
          });
        }
        // Register service worker only on allowed schemes (https or http on localhost)
        if ('serviceWorker' in navigator) {
          const isLocalhost = ['localhost', '127.0.0.1', '::1'].includes(location.hostname);
          const isAllowed = location.protocol === 'https:' || (location.protocol === 'http:' && isLocalhost);
          if (isAllowed) {
            navigator.serviceWorker.register('sw.js').catch((e) => debugLog('warn', 'SW register failed:', e));
          } else {
            debugLog('warn', 'Skipping Service Worker on protocol:', location.protocol);
          }
        }
        this.handleBookmarkletAdd();
        this.appInitialized = true;
      },
        methods: {
        // ===== BROWSER EXTENSION INTEGRATION =====

        initializeExtension() {
          debugLog('log', 'Initializing browser extension support...');

          // Listen for extension ready event
          if (!this._onExtensionReady) {
            this._onExtensionReady = (event) => {
              debugLog('log', 'MyBookmarks Extension is ready!', event.detail);
              this.extensionAvailable = true;
              this.extensionVersion = event.detail.version;

              // Enrich existing links with favicons when extension becomes available
              if (this.data.options?.links?.autoFetchFavicon) {
                debugLog('log', 'Extension ready - enriching existing links with favicons');
                this.enrichExistingLinksWithFavicons();
              }

              // Schedule CardDAV auto-sync if configured
              try { this.scheduleCardDavAutoSync(); } catch {}
            };
          }
          window.removeEventListener('mybookmarks-extension-ready', this._onExtensionReady);
          window.addEventListener('mybookmarks-extension-ready', this._onExtensionReady);

          // Check if extension is available on load with a delay
          setTimeout(() => {
            debugLog('log', 'Checking for MyBookmarksExtension object:', typeof window.MyBookmarksExtension);

            if (window.MyBookmarksExtension) {
              debugLog('log', 'MyBookmarksExtension found, checking availability...');
              this.checkExtensionAvailable().then(available => {
                debugLog('log', 'Extension availability check result:', available);
              if (available) {
                debugLog('log', 'MyBookmarks Extension detected and verified!');
                this.extensionAvailable = true;

                  // Enrich existing links with favicons
                  if (this.data.options?.links?.autoFetchFavicon) {
                    debugLog('log', 'Extension available - enriching existing links with favicons');
                    this.enrichExistingLinksWithFavicons();
                  }

                  // Schedule CardDAV auto-sync
                  try { this.scheduleCardDavAutoSync(); } catch {}
                }
              }).catch(err => {
                debugLog('error', 'Error checking extension availability:', err);
              });
            } else {
              debugLog('log', 'MyBookmarksExtension object not found');
            }
          }, 500);
        },

        async checkExtensionAvailable() {
          return await MB.Extension.checkAvailability();
        },

        async importBookmarksFromBrowser() {
          try {
            const hasExtension = await this.checkExtensionAvailable();
            if (!hasExtension) {
              alert(this.getTranslation('extension.installHint') || 'Bitte installiere die MyBookmarks-Erweiterung aus local2/extensions/');
              return;
            }

            const bookmarksData = await MB.Extension.getBookmarks();
            debugLog('log', 'Received bookmarks data:', bookmarksData);

            // Handle the response structure from the extension
            let bookmarksRoot;
            if (bookmarksData.success && bookmarksData.bookmarks) {
              bookmarksRoot = bookmarksData.bookmarks;
            } else if (bookmarksData) {
              bookmarksRoot = bookmarksData;
            } else {
              throw new Error('No bookmarks data received from extension');
            }

            const imported = { groups: [], linkCount: 0 };

            const processBookmark = (bookmark, parentGroup = null) => {
              if (!bookmark) return;

              if (bookmark.children && Array.isArray(bookmark.children)) {
                // It's a folder
                const group = {
                  uuid: this.generateUUID(),
                  id: this.getNextId(),
                  name: bookmark.title || bookmark.text || 'Imported Folder',
                  links: [],
                  deleted: false,
                  collapsed: false,
                  keywords: '',
                  urlPlaceholders: [],
                  color: '',
                  emoji: ''
                };

                if (parentGroup) {
                  // Nested folder - add as a subgroup (note: might need different handling)
                  debugLog('log', 'Nested folder found:', group.name);
                } else {
                  // Top-level folder - add to groups
                  this.data.groups.push(group);
                  imported.groups.push(group);
                }

                // Process children
                bookmark.children.forEach(child => processBookmark(child, group));
              } else if (bookmark.links && Array.isArray(bookmark.links)) {
                // It's a group with links array (our format)
                bookmark.links.forEach(link => {
                  if (link.url) {
                    const newLink = {
                      uuid: this.generateUUID(),
                      id: this.getNextId(),
                      text: link.text || link.title || link.url,
                      url: link.url,
                      urlPlaceholders: [],
                      keywords: '',
                      shortcut: '',
                      emoji: '',
                      deleted: false
                    };
                    if (parentGroup) {
                      parentGroup.links.push(newLink);
                      imported.linkCount++;
                    }
                  }
                });
              } else if (bookmark.url) {
                // It's a direct link
                const link = {
                  uuid: this.generateUUID(),
                  id: this.getNextId(),
                  text: bookmark.text || bookmark.title || bookmark.url,
                  url: bookmark.url,
                  urlPlaceholders: [],
                  keywords: '',
                  shortcut: '',
                  emoji: '',
                  deleted: false
                };
                if (parentGroup) {
                  parentGroup.links.push(link);
                  imported.linkCount++;
                }
              }
            };

            // Process the bookmarks tree
            if (Array.isArray(bookmarksRoot)) {
              bookmarksRoot.forEach(bookmark => processBookmark(bookmark));
            } else if (bookmarksRoot && typeof bookmarksRoot === 'object') {
              // Single root object
              processBookmark(bookmarksRoot);
            } else {
              throw new Error('Invalid bookmarks format');
            }

            this.saveData();
            const msg = (this.getTranslation('extension.imported') || '{count} Lesezeichen in {groups} Gruppen importiert!')
              .replace('{count}', imported.linkCount)
              .replace('{groups}', imported.groups.length);
            alert(msg);
          } catch (error) {
            debugLog('error', 'Fehler beim Importieren der Lesezeichen:', error);
            const msg = (this.getTranslation('extension.error') || 'Fehler: {message}')
              .replace('{message}', error.message);
            alert(msg);
          }
        },

        getFaviconText(key) {
          const type = this.genericEditConfig?.type === 'group' ? 'group' : 'link';
          const fallbackMap = {
            upload: { link: 'Upload favicon', group: 'Upload group icon' },
            remove: { link: 'Remove', group: 'Remove icon' },
            invalidFile: { link: 'Please select an image file', group: 'Please select an image file' },
            tooLarge: { link: 'Image is too large (max 256KB)', group: 'Image is too large (max 256KB)' },
            readError: { link: 'Could not read image file', group: 'Could not read image file' },
            uploaded: { link: 'Favicon uploaded', group: 'Group icon updated' }
          };
          const fallback = (fallbackMap[key] && fallbackMap[key][type]) || '';
          return this.getTranslation(`${type}.favicon.${key}`) || fallback;
        },

        // Handle favicon upload in link/group edit dialog
        onFaviconFileSelected(event) {
          try {
            const file = event?.target?.files?.[0];
            if (!file) return;
            if (!file.type || !file.type.startsWith('image/')) {
              this.showToast(this.getFaviconText('invalidFile'), 'warning');
              event.target.value = '';
              return;
            }
            // Optional size limit ~256KB
            if (file.size > 256 * 1024) {
              this.showToast(this.getFaviconText('tooLarge'), 'warning');
              // still allow, or block? We'll allow but warn
            }
            const reader = new FileReader();
            reader.onload = () => {
              const dataUrl = reader.result;
              if (typeof dataUrl === 'string' && dataUrl.startsWith('data:')) {
                this.$set(this.genericEditData, 'favicon', dataUrl);
                this.$set(this.genericEditData, 'faviconError', false);
                this.$set(this.genericEditData, 'faviconLoading', false);
                this.$set(this.genericEditData, 'faviconSource', 'upload');
                this.$set(this.genericEditData, 'faviconRuleId', null);
                this.showToast(this.getFaviconText('uploaded'), 'success');
              } else {
                this.showToast(this.getFaviconText('readError'), 'error');
              }
              try { event.target.value = ''; } catch {}
            };
            reader.onerror = () => {
              this.showToast(this.getFaviconText('readError'), 'error');
              try { event.target.value = ''; } catch {}
            };
            reader.readAsDataURL(file);
          } catch (e) {
            this.showToast(this.getFaviconText('readError'), 'error');
          }
        },
        clearEditedFavicon() {
          if (!this.genericEditData) return;
          this.$set(this.genericEditData, 'favicon', '');
          this.$set(this.genericEditData, 'faviconError', false);
          this.$set(this.genericEditData, 'faviconLoading', false);
          this.$set(this.genericEditData, 'faviconSource', null);
          this.$set(this.genericEditData, 'faviconRuleId', null);
        },

        // Clear extension (companion) caches like metadata cache
        clearExtensionCache() {
          if (!this.extensionAvailable) {
            this.showToast(this.getTranslation('extension.notAvailable') || 'Extension not available', 'warning');
            return;
          }
          return new Promise((resolve) => {
            let resolved = false;
            const handler = (event) => {
              if (!event || !event.data || event.source !== window) return;
              if (event.data.type === 'CLEAR_CACHE_RESPONSE') {
                resolved = true;
                window.removeEventListener('message', handler);
                const ok = event.data.result && event.data.result.success;
                if (ok) {
                  this.showToast((this.getTranslation('extension.cacheCleared') || 'Extension cache cleared') + (event.data.result.cleared !== undefined ? ` (${event.data.result.cleared})` : ''), 'success');
                  // After clearing extension cache, also clear local favicons and re-fetch if enabled
                  if (this.extensionAvailable && this.data.options?.links?.autoFetchFavicon) {
                    try {
                      let clearedIcons = 0;
                      (this.data.groups || []).forEach(g => {
                        (g.links || []).forEach(l => {
                          if (l && l.url) {
                            if (l.favicon) { this.$set(l, 'favicon', null); clearedIcons++; }
                            if (l.faviconError) this.$set(l, 'faviconError', false);
                            if (l.faviconLoading) this.$set(l, 'faviconLoading', false);
                          }
                        });
                      });
                      if (clearedIcons > 0) this.saveData();
                      this.showToast(this.getTranslation('extension.refetchFavicons') || 'Re-fetching favicons', 'info');
                      setTimeout(() => { try { this.enrichExistingLinksWithFavicons(); } catch {} }, 50);
                    } catch {}
                  }
                } else {
                  const err = (event.data.result && event.data.result.error) || 'Unknown error';
                  this.showToast((this.getTranslation('extension.cacheClearFailed') || 'Failed to clear extension cache') + ': ' + err, 'error');
                }
                resolve();
              }
            };
            window.addEventListener('message', handler);
            // Send request
            try {
              window.postMessage({ type: 'CLEAR_EXTENSION_CACHE' }, '*');
            } catch (e) {
              window.removeEventListener('message', handler);
              this.showToast((this.getTranslation('extension.cacheClearFailed') || 'Failed to clear extension cache') + ': ' + e.message, 'error');
              resolve();
            }
            // Fallback timeout
            setTimeout(() => {
              if (!resolved) {
                window.removeEventListener('message', handler);
                this.showToast(this.getTranslation('extension.cacheClearFailed') || 'Failed to clear extension cache', 'error');
                resolve();
              }
            }, 4000);
          });
        },

        // --- CardDAV Sync (gated by extension availability) ---
      async syncCardDavNow() {
        if (!this.extensionAvailable || !window.MyBookmarksExtension || typeof window.MyBookmarksExtension.davRequest !== 'function') {
          alert(this.getTranslation('carddav.extensionRequired') || 'Browser extension with CardDAV support required');
          return;
        }
        if ((this.data.options?.sync?.backend||'') !== 'carddav') {
          alert(this.getTranslation('carddav.notEnabled') || 'CardDAV is disabled in options');
          return;
        }
        try {
          debugLog('log', '[CardDAV] Manual read sync triggered');
          showAppToast(this.getTranslation('carddav.syncStarted') || 'CardDAV sync started', 'info');

          const opts = this.data.options?.carddav || {};
          let serverUrl = (opts.serverUrl || '').trim();
          if (!serverUrl) {
            alert((this.getTranslation('carddav.addressbookPathMissing') || 'Please configure Server URL and Addressbook Path in Options'));
            return;
          }
          const auth = MB.CardDAV.buildBasicAuthHeader(opts.username || '', opts.password || '');
          // Push auth to extension for header injection
          try { await MB.Extension.setDavAuth(serverUrl, opts.username || '', opts.password || ''); } catch {}

          // Resolve addressbook URL with robust discovery (Nextcloud/SabreDAV)
          // Priority: explicit addressbookPath > stored addressbookUrl > discovery
          let addressbookUrl = '';
          if (opts.addressbookPath && opts.addressbookPath.trim()) {
            addressbookUrl = MB.CardDAV.joinUrl(serverUrl, opts.addressbookPath.trim());
            // Persist the derived URL so future runs keep using it
            this.$set(this.data.options.carddav, 'addressbookUrl', addressbookUrl);
            this.saveData();
          } else {
            addressbookUrl = (opts.addressbookUrl || '').trim();
            if (!addressbookUrl) {
              // Try well-known redirect first
              try { serverUrl = await MB.CardDAV.followWellKnown(serverUrl) || serverUrl; } catch {}
              // Try common DAV bases
              const candidates = ['/', '/remote.php/dav/', '/dav/', '/carddav/']
                .map(p => MB.CardDAV.joinUrl(serverUrl, p));
              let baseDav = null;
              for (const base of candidates) {
                try {
                  const rel = await MB.CardDAV.getCurrentUserPrincipal(base, auth);
                  debugLog('log', `[CardDAV] Probe base ${base} -> principal rel:`, rel);
                  if (rel) { baseDav = base; break; }
                } catch {}
              }
              if (!baseDav) {
                // Last resort: assume Nextcloud base
                baseDav = MB.CardDAV.joinUrl(serverUrl, '/remote.php/dav/');
              }

              // Derive principal
              let principalRel = null;
              try { principalRel = await MB.CardDAV.getCurrentUserPrincipal(baseDav, auth); } catch {}
              let principalUrl = principalRel ? MB.CardDAV.joinUrl(baseDav, principalRel) : null;

              // If still unknown, try constructing principal from username (Nextcloud/SabreDAV)
              if (!principalUrl && opts.username) {
                principalUrl = MB.CardDAV.joinUrl(baseDav, `/principals/users/${encodeURIComponent(opts.username)}/`);
              }

              // Get addressbook-home-set; fallback to default path
              let homeRel = null;
              try { if (principalUrl) homeRel = await MB.CardDAV.getAddressbookHome(principalUrl, auth); } catch {}
              let homeUrl = homeRel ? MB.CardDAV.joinUrl(baseDav, homeRel) : null;
              if (!homeUrl && opts.username) {
                homeUrl = MB.CardDAV.joinUrl(baseDav, `/addressbooks/users/${encodeURIComponent(opts.username)}/`);
              }
              if (!homeUrl) throw new Error('addressbook-home-set not found');
              if (!homeUrl.endsWith('/')) homeUrl += '/';
              debugLog('log', '[CardDAV] homeUrl resolved to:', homeUrl);

              // List or create addressbook
              let books = await MB.CardDAV.listAddressbooks(homeUrl, auth);
              debugLog('log', `[CardDAV] Found ${books.length} addressbooks at homeUrl`);
              let pick = books.find(b => (b.displayname||'').toLowerCase() === 'mybookmarks') || books.find(b => (b.displayname||'').toLowerCase() === 'contacts') || books[0];
              if (!pick && opts.createAddressbookIfMissing) {
                try { const created = await MB.CardDAV.mkcolAddressbook(homeUrl, 'MyBookmarks', auth); pick = created; debugLog('log', '[CardDAV] Created addressbook MyBookmarks at', created.href); } catch (e) { debugLog('warn', '[CardDAV] MKCOL MyBookmarks failed', e); }
              }
              // Fallback: probe typical Nextcloud default addressbook "contacts/"
              if (!pick && opts.username) {
                const contactsHref = MB.CardDAV.joinUrl(homeUrl, 'contacts/');
                try {
                  const probe = await MB.CardDAV.propfind(contactsHref, 0,
                    `<?xml version="1.0"?><D:propfind xmlns:D="DAV:"><D:prop><D:resourcetype/><D:displayname/></D:prop></D:propfind>`, auth);
                  if (probe.ok) {
                    const x = MB.CardDAV.parseXml(probe.bodyText||'');
                    const rt = x.getElementsByTagNameNS('DAV:','resourcetype')[0];
                    const isAB = !!(rt && (rt.getElementsByTagNameNS('urn:ietf:params:xml:ns:carddav','addressbook')[0]));
                    if (isAB) {
                      pick = { href: contactsHref, displayname: (x.getElementsByTagNameNS('DAV:','displayname')[0]?.textContent || 'contacts') };
                    }
                  }
                } catch (e) { debugLog('warn','[CardDAV] probe contacts/ failed', e); }
              }
              if (!pick) throw new Error('No addressbook found');
              addressbookUrl = MB.CardDAV.joinUrl(baseDav, pick.href || '');
              this.$set(this.data.options.carddav, 'addressbookUrl', addressbookUrl);
              this.saveData();
            }
          }

          debugLog('log', '[CardDAV] Using addressbookUrl:', addressbookUrl);

          // Incremental or initial sync via sync-collection
          const prevToken = (this.data.options?.carddav?.syncToken || '').trim();
          let changes = [];
          let deletions = [];
          let nextToken = '';
          try {
            const r = await MB.CardDAV.syncCollection(addressbookUrl, prevToken || null, auth);
            changes = r.changes; deletions = r.deletions; nextToken = r.nextToken;
          } catch (err) {
            debugLog('warn', '[CardDAV] sync-collection failed; falling back to full query', err);
          }
          if (!prevToken && changes.length === 0 && (!nextToken || nextToken.length === 0)) {
            changes = await MB.CardDAV.addressbookQueryAll(addressbookUrl, auth);
          }

          // Merge into local data
          let createdGroups = 0, updatedLinks = 0, createdLinks = 0;
          const ensureGroupByName = (name) => {
            let g = (this.data.groups || []).find(x => (x.name||'') === name);
            if (!g) { g = this.getNewGroupTemplate(name); this.data.groups.push(g); createdGroups++; }
            return g;
          };

          // Apply deletions by href
          const removeByHref = (href) => {
            for (const g of (this.data.groups||[])) {
              if (!Array.isArray(g.links)) continue;
              g.links = g.links.filter(l => !(l.carddav && l.carddav.href === href));
            }
          };
          deletions.forEach(d => { try { removeByHref(d.href); } catch {} });

          for (const it of changes) {
            const card = MB.CardDAV.parseVCard(it.vcard || '');
            const uid = card.uid || this.generateUUID();
            const linkObj = {
              uuid: uid,
              text: card.fn || card.url || uid,
              url: card.url || '',
              keywords: (card.mbKeywords || (Array.isArray(card.categories) ? card.categories.join(', ') : '') || ''),
              infoHtml: card.note || '',
              emoji: card.mbMeta?.emoji || '',
              deleted: false,
              carddav: { href: it.href, etag: it.etag, lastSyncedAt: Date.now() }
            };
            const categories = Array.isArray(card.categories) ? card.categories : ['Imported'];
            for (const cat of categories) {
              const group = ensureGroupByName(cat || 'Imported');
              const existing = (group.links || []).find(l => l.uuid === uid) || (group.links || []).find(l => l.carddav && l.carddav.href === it.href) || (group.links || []).find(l => l.url && card.url && l.url === card.url);
              if (existing) {
                existing.text = linkObj.text;
                existing.url = linkObj.url;
                existing.keywords = linkObj.keywords;
                existing.infoHtml = linkObj.infoHtml;
                existing.emoji = linkObj.emoji;
                existing.carddav = linkObj.carddav;
                updatedLinks++;
              } else {
                if (!group.links) this.$set(group, 'links', []);
                group.links.push(linkObj);
                createdLinks++;
              }
            }
          }

          if (nextToken) {
            this.$set(this.data.options.carddav, 'syncToken', nextToken);
            this.$set(this.data.options.carddav, 'lastSyncAt', Date.now());
            this.$set(this.data.options.carddav, 'addressbookUrl', addressbookUrl);
          }
          this.saveData();
          debugLog('log', `[CardDAV] Merge done. Groups+${createdGroups} Links+${createdLinks} Updated+${updatedLinks} Deleted+${deletions.length}`);
          showAppToast(`CardDAV: +${createdLinks}, ~${updatedLinks}, -${deletions.length}, groups +${createdGroups}`, 'success');

          // Optional: upload local changes after read sync
          await this.syncCardDavUpload(addressbookUrl, auth);
        } catch (e) {
          debugLog('error', '[CardDAV] Sync failed', e);
          const msg = (this.getTranslation('carddav.syncFailed') || 'CardDAV sync failed: {message}')
            .replace('{message}', e?.message || String(e));
          showAppToast(msg, 'error');
        }
      },

      // Generic sync/test routing
      async syncNowGeneric() {
        try {
          const backend = this.data.options?.sync?.backend || (this.data.options?.carddav?.enabled ? 'carddav' : null);
          const adapter = MB.SyncAdapters.get(backend);
          if (!adapter) throw new Error('No sync backend selected');
          await adapter.syncNow(this);
        } catch (e) {
          showAppToast((this.getTranslation('carddav.syncFailed')||'Sync failed: {message}').replace('{message}', e?.message||String(e)), 'error');
        }
      },
      async testConnectionGeneric() {
        try {
          const backend = this.data.options?.sync?.backend || (this.data.options?.carddav?.enabled ? 'carddav' : null);
          const adapter = MB.SyncAdapters.get(backend);
          if (!adapter) throw new Error('No sync backend selected');
          const r = await adapter.testConnection(this);
          if (r?.ok || (r?.status>=200 && r?.status<300)) showAppToast('Connection OK', 'success'); else throw new Error('Status '+(r?.status||'??'));
        } catch (e) {
          showAppToast('Connection failed: '+(e?.message||String(e)), 'error');
        }
      },
      isFieldDisabled(sectionKey, fieldKey) {
        const backend = this.data.options?.sync?.backend || '';
        if (sectionKey === 'carddav') return backend !== 'carddav';
        if (sectionKey === 'bookmarks') return backend !== 'nc-bookmarks';
        return false;
      },

      // NC Folder Picker
      async openNcFolderPicker() {
        this.ncFolders = [];
        this.ncFoldersLoading = true;
        this.ncFolderSelected = this.data.options?.bookmarks?.rootFolderId || 0;
        const modal = bootstrap.Modal.getOrCreateInstance(document.getElementById('ncFolderPickerModal'));
        modal.show();
        try { await this.loadNcFolders(); } catch {} finally { this.ncFoldersLoading = false; }
      },
      async loadNcFolders() {
        try {
          const bk = this.data.options?.bookmarks||{};
          const serverUrl = (bk.serverUrl||'').trim(); if (!serverUrl) throw new Error('No serverUrl');
          await MB.Extension.setDavAuth(serverUrl, bk.username||'', bk.password||'');
          const auth = MB.CardDAV.buildBasicAuthHeader(bk.username||'', bk.password||'');
          const url = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/folder');
          const res = await MB.Extension.davRequest({ method:'GET', url, headers:{ 'Accept':'application/json', 'OCS-APIREQUEST':'true', 'X-Requested-With':'XMLHttpRequest', 'Authorization':auth }, username: bk.username||'', password: bk.password||'' });
          if (!res.ok) throw new Error('Status '+res.status);
          let parsed = null; try { parsed = JSON.parse(res.bodyText||'[]'); } catch {}
          let arr = Array.isArray(parsed) ? parsed : (parsed && Array.isArray(parsed.data) ? parsed.data : []);
          this.ncFolders = arr;
        } catch (e) {
          showAppToast('Folder list failed: '+(e?.message||String(e)), 'error');
        }
      },
      applyNcFolderSelection() {
        const id = Number(this.ncFolderSelected||0);
        this.$set(this.data.options.bookmarks, 'rootFolderId', id);
        this.saveData();
        const modal = bootstrap.Modal.getInstance(document.getElementById('ncFolderPickerModal'));
        modal && modal.hide();
        showAppToast('Root folder set to #'+id, 'success');
      },
      async testCardDavConnection() {
        try {
          const opts = this.data.options?.carddav || {};
          const serverUrl = (opts.serverUrl||'').trim();
          const path = (opts.addressbookPath||'').trim();
          if (!serverUrl || !path) { alert('Bitte Server-URL und Adressbuch-Pfad setzen'); return; }
          const auth = MB.CardDAV.buildBasicAuthHeader(opts.username||'', opts.password||'');
          await MB.Extension.setDavAuth(serverUrl, opts.username||'', opts.password||'');

          const addressbookUrl = MB.CardDAV.joinUrl(serverUrl, path);
          const results = [];
          results.push({ step: 'well-known', url: MB.CardDAV.joinUrl(serverUrl,'/.well-known/carddav') });
          try { const r = await MB.CardDAV.request({ method:'GET', url: results[0].url, headers:{} }); results[0].status = r.status; results[0].www = (r.headers||{})['www-authenticate']||''; } catch(e){ results[0].error = e.message; }

          // PROPFIND Depth:0 on addressbook
          const prop0 = { step:'propfind-0', url: addressbookUrl };
          try { const r = await MB.CardDAV.propfind(addressbookUrl, 0, `<?xml version="1.0"?><D:propfind xmlns:D="DAV:"><D:prop><D:resourcetype/></D:prop></D:propfind>`, auth); prop0.status=r.status; prop0.www=(r.headers||{})['www-authenticate']||''; } catch(e){ prop0.error=e.message; }
          results.push(prop0);

          // REPORT addressbook-query
          const rep = { step:'report', url: addressbookUrl };
          try { const rs = await MB.CardDAV.addressbookQueryAll(addressbookUrl, auth); rep.status=200; rep.count=rs.length; } catch(e){ rep.error=e.message; }
          results.push(rep);

          const lines = results.map(x=>`${x.step}: ${x.status||''} ${x.error||''} ${x.count!==undefined?('items='+x.count):''} ${x.www?('WWW-Auth='+x.www):''} url=${x.url}`);
          debugLog('log', '[CardDAV][Test]', results);
          alert(lines.join('\n'));
        } catch (e) {
          alert('Test fehlgeschlagen: ' + (e?.message||String(e)));
        }
      },

      // Upload local changes (create/update/delete) strictly via CardDAV
      async syncCardDavUpload(addressbookUrl, authHeader) {
        try {
          // Aggregate links by UUID across groups, collect categories (group names)
          const aggregated = new Map(); // uuid -> { linkRef, categories:Set, occurrences:[], deleted }
          for (const g of (this.data.groups || [])) {
            for (const l of (g.links || [])) {
              const uuid = l.uuid || (l.carddav && l.carddav.href) || null;
              if (!uuid) continue;
              if (!aggregated.has(uuid)) aggregated.set(uuid, { link: l, categories: new Set(), occ: [], deleted: !!l.deleted });
              const entry = aggregated.get(uuid);
              entry.occ.push({ group: g, link: l });
              if (g.name) entry.categories.add(g.name);
              // If any occurrence is marked deleted, treat as deleted
              if (l.deleted) entry.deleted = true;
            }
          }

          // Helper: compute stable hash for change detection
          const computeHash = (link, categories) => {
            const payload = {
              text: link.text||'', url: link.url||'', keywords: link.keywords||'', infoHtml: link.infoHtml||'', emoji: link.emoji||'',
              categories: Array.from(categories).sort()
            };
            try { return btoa(unescape(encodeURIComponent(JSON.stringify(payload)))); } catch { return JSON.stringify(payload); }
          };

          let created = 0, updated = 0, removed = 0, skipped = 0;

          for (const [uuid, entry] of aggregated.entries()) {
            const categories = entry.categories;
            const link = entry.link; // use first occurrence as source
            const href = link.carddav?.href;
            const etag = link.carddav?.etag;
            const lastHash = link.carddav?.lastHash || '';
            const nextHash = computeHash(link, categories);

            if (entry.deleted) {
              if (href) {
                const delRes = await MB.CardDAV.delete(href, authHeader, etag);
                if (delRes.ok || delRes.status === 404) {
                  // Clear metadata on all occurrences
                  entry.occ.forEach(({link}) => { this.$set(link, 'carddav', null); });
                  removed++;
                } else {
                  skipped++;
                }
              }
              continue;
            }

            // Build vCard model
            const model = {
              uid: link.uuid,
              fn: link.text || link.url || link.uuid,
              url: link.url || '',
              categories: Array.from(categories),
              note: link.infoHtml || '',
              keywords: link.keywords || '',
              meta: { emoji: link.emoji || '', updatedAt: Date.now() }
            };
            const vcard = MB.CardDAV.buildVCard(model);

            if (!href) {
              // Create new card
              const targetHref = MB.CardDAV.joinUrl(addressbookUrl, (link.uuid || uuid) + '.vcf');
              const putRes = await MB.CardDAV.put(targetHref, vcard, authHeader, null, '*');
              if (putRes.ok || putRes.status === 201 || putRes.status === 200) {
                const newEtag = putRes.headers?.etag || '';
                entry.occ.forEach(({link}) => { this.$set(link, 'carddav', { href: targetHref, etag: newEtag, lastSyncedAt: Date.now(), lastHash: nextHash }); });
                created++;
              } else {
                skipped++;
              }
              continue;
            }

            // Update existing if changed
            if (lastHash && lastHash === nextHash) { skipped++; continue; }

            const putRes = await MB.CardDAV.put(href, vcard, authHeader, etag || null, null);
            if (putRes.ok) {
              const newEtag = putRes.headers?.etag || '';
              entry.occ.forEach(({link}) => { this.$set(link, 'carddav', { href, etag: newEtag, lastSyncedAt: Date.now(), lastHash: nextHash }); });
              updated++;
            } else if (putRes.status === 412) {
              // Conflict: fetch server version and prefer server for URL; union categories/keywords; keep client FN if server has no meta timestamp
              try {
                const getRes = await MB.CardDAV.get(href, authHeader);
                if (getRes.ok) {
                  const serverCard = MB.CardDAV.parseVCard(getRes.bodyText || '');
                  const serverMetaTs = serverCard.mbMeta?.updatedAt || 0;
                  const clientTs = model.meta.updatedAt;
                  const resolved = {
                    uid: model.uid,
                    fn: (clientTs > serverMetaTs ? model.fn : (serverCard.fn || model.fn)),
                    url: (serverCard.url || model.url), // server-first URL
                    categories: Array.from(new Set([...(serverCard.categories||[]), ...model.categories])),
                    note: (clientTs > serverMetaTs ? model.note : (serverCard.note || model.note)),
                    keywords: Array.from(new Set([...(model.keywords||'').split(',').map(s=>s.trim()).filter(Boolean), ...((serverCard.mbKeywords||'').split(',').map(s=>s.trim()).filter(Boolean))])).join(', '),
                    meta: { emoji: model.meta.emoji || serverCard.mbMeta?.emoji || '', updatedAt: Date.now() }
                  };
                  const mergedVcf = MB.CardDAV.buildVCard(resolved);
                  const retry = await MB.CardDAV.put(href, mergedVcf, authHeader, null, null); // drop If-Match to accept latest
                  if (retry.ok) {
                    const newEtag = retry.headers?.etag || '';
                    entry.occ.forEach(({link}) => { this.$set(link, 'carddav', { href, etag: newEtag, lastSyncedAt: Date.now(), lastHash: nextHash }); });
                    updated++;
                  } else {
                    skipped++;
                  }
                } else {
                  skipped++;
                }
              } catch { skipped++; }
            } else {
              skipped++;
            }
          }

          this.saveData();
          debugLog('log', `[CardDAV] Upload done. +${created} ~${updated} -${removed} =${skipped}`);
          showAppToast(`CardDAV upload: +${created}, ~${updated}, -${removed}`, 'success');
        } catch (e) {
          debugLog('error', '[CardDAV] Upload failed', e);
          showAppToast((this.getTranslation('carddav.syncFailed') || 'CardDAV sync failed: {message}').replace('{message}', e?.message || String(e)), 'error');
        }
      },

        async enrichLinkWithMetadata(link) {
          if (!window.MyBookmarksExtension) return false;

          try {
            const metadata = await window.MyBookmarksExtension.fetchMetadata(link.url);
            if (metadata.title && !link.text) link.text = metadata.title;
            if (metadata.favicon) link.favicon = metadata.favicon;
            if (metadata.description) link.description = metadata.description;
            return true;
          } catch (error) {
            debugLog('error', 'Error fetching metadata:', error);
            return false;
          }
        },

        showExtensionNotInstalledHint() {
          alert(this.getTranslation('extension.installHint') || 'Bitte installiere die MyBookmarks-Erweiterung aus local2/extensions/');
        },

        async enrichExistingLinksWithFavicons() {
          // Silent enrichment of links with favicons when extension becomes available
          if (!this.extensionAvailable || !window.MyBookmarksExtension) return;

          debugLog('log', 'Starting silent favicon enrichment for existing links');

          const linksToEnrich = [];
          this.data.groups.forEach(group => {
            group.links.forEach(link => {
              // Only enrich links that have a URL but no base64 favicon yet
              const fav = link && link.favicon ? String(link.favicon) : '';
              const isBase64 = fav.startsWith('data:');
              if (link.url && !link.deleted && !isBase64 && !link.faviconError) {
                linksToEnrich.push(link);
              }
            });
          });

          if (linksToEnrich.length === 0) {
            debugLog('log', 'No links need favicon enrichment');
            return;
          }

          debugLog('log', `Enriching ${linksToEnrich.length} links with favicons`);

          for (const link of linksToEnrich) {
            try {
              await this.tryFetchAndSetFavicon(link, link.url);
              // Small delay to avoid overwhelming the extension
              await new Promise(r => setTimeout(r, 100));
            } catch (error) {
              debugLog('warn', 'Error enriching link with favicon:', error);
            }
          }

          this.saveData();
          debugLog('log', 'Favicon enrichment complete');
        },

        async enrichAllLinksWithMetadata() {
          const hasExtension = await this.checkExtensionAvailable();
          if (!hasExtension) {
            alert('Bitte installiere die MyBookmarks Browser-Erweiterung aus local2/extensions/');
            return;
          }

          const linksToEnrich = [];
          this.data.groups.forEach(group => {
            group.links.forEach(link => {
              if (link.url && !link.deleted && !link.favicon) {
                linksToEnrich.push(link);
              }
            });
          });

          if (linksToEnrich.length === 0) {
            alert(this.getTranslation('extension.allHaveMetadata') || 'Alle Links haben bereits Metadaten!');
            return;
          }

          const confirmMsg = (this.getTranslation('extension.fetchMetadataConfirm') || 'Metadaten fr {count} Links abrufen?')
            .replace('{count}', linksToEnrich.length);
          if (!confirm(confirmMsg)) return;

          let enriched = 0;
          for (const link of linksToEnrich) {
            try {
              if (await this.enrichLinkWithMetadata(link)) enriched++;
              await new Promise(r => setTimeout(r, 200));
            } catch (error) {
              debugLog('error', 'Fehler beim Anreichern des Links:', error);
            }
          }

          this.saveData();
          const msg = (this.getTranslation('extension.enriched') || '{count} Links mit Metadaten angereichert!')
            .replace('{count}', enriched);
          alert(msg);
        },

        // Get all links from all groups
        getAllLinks() {
          const links = [];
          if (this.data.groups) {
            this.data.groups.forEach(group => {
              if (group.links) {
                group.links.forEach(link => {
                  if (link.uuid) {
                    links.push({
                      ...link,
                      groupName: group.name,
                      groupUuid: group.uuid
                    });
                  }
                });
              }
            });
          }
          return links;
        },
        
        // Get all Group > Keyword combinations
        getGroupKeywords() {
          const results = [];
          const seenCombos = new Set();
          
          if (this.data.groups) {
            this.data.groups.forEach(group => {
              const groupKeywords = new Set();
              
              // Collect all keywords from all links in this group
              if (group.links) {
                group.links.forEach(link => {
                  if (link.keywords) {
                    const keywords = typeof link.keywords === 'string' 
                      ? link.keywords.split(',').map(k => k.trim()).filter(k => k)
                      : [];
                    keywords.forEach(kw => groupKeywords.add(kw));
                  }
                });
              }
              
              // Add keywords from group itself if it has any
              if (group.keywords) {
                const keywords = typeof group.keywords === 'string' 
                  ? group.keywords.split(',').map(k => k.trim()).filter(k => k)
                  : [];
                keywords.forEach(kw => groupKeywords.add(kw));
              }
              
              // Create entries for each unique keyword in this group
              groupKeywords.forEach(keyword => {
                const slug = this.keywordSlug(keyword);
                const comboKey = `${group.uuid}-${slug}`;
                
                if (!seenCombos.has(comboKey)) {
                  seenCombos.add(comboKey);
                  results.push({
                    key: comboKey,
                    groupName: group.name.substring(0, 20) + (group.name.length > 20 ? '...' : ''),
                    keyword: keyword,
                    selector: `.keyword-badge[data-group-uuid='${group.uuid}'][data-keyword='${slug}']`
                  });
                }
              });
            });
          }
          
          return results;
        },
        
        // Get all Group > Link > Keyword combinations
        getGroupLinkKeywords() {
          const results = [];
          if (this.data.groups) {
            this.data.groups.forEach(group => {
              if (group.links) {
                group.links.forEach(link => {
                  if (link.uuid && link.keywords) {
                    const keywords = typeof link.keywords === 'string' 
                      ? link.keywords.split(',').map(k => k.trim()).filter(k => k)
                      : [];
                    keywords.forEach(keyword => {
                      const slug = this.keywordSlug(keyword);
                      results.push({
                        key: `${group.uuid}-${link.uuid}-${slug}`,
                        groupName: group.name.substring(0, 15) + (group.name.length > 15 ? '...' : ''),
                        linkText: (link.text || link.url).substring(0, 15) + ((link.text || link.url).length > 15 ? '...' : ''),
                        keyword: keyword,
                        selector: `.keyword-badge[data-group-uuid='${group.uuid}'][data-link-uuid='${link.uuid}'][data-keyword='${slug}']`
                      });
                    });
                  }
                });
              }
            });
          }
          return results;
        },
        
        // Extract color styles from custom CSS for a specific keyword
        getEffectiveCustomCssText() {
          // Always read the currently applied stylesheet first so behavior
          // is identical with open/closed CSS sidebar.
          const styleEl = document.getElementById('user-custom-css');
          const applied = styleEl && typeof styleEl.textContent === 'string'
            ? styleEl.textContent
            : '';
          if (applied) return applied;
          if (typeof this.data?.options?.customCss === 'string' && this.data.options.customCss) {
            return this.data.options.customCss;
          }
          if (typeof this.customCssDraft === 'string' && this.customCssDraft) {
            return this.customCssDraft;
          }
          return '';
        },
        
        // Extract color styles from custom CSS for a specific keyword
        getKeywordColorFromCustomCSS(keyword) {
          try {
            const customCss = this.getEffectiveCustomCssText();
            if (!customCss) return null;
            
            const slug = this.keywordSlug(keyword);
            if (!slug) return null;
            
            // Look for CSS rules that target this keyword
            const patterns = [
              new RegExp(`\\.mb-keyword-kw-${slug}\\s*\\{([^}]+)\\}`, 'gi'),
              new RegExp(`\\.keyword-badge\\[data-keyword=['"]?${slug}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi'),
              new RegExp(`\\[data-keyword=['"]?${slug}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi')
            ];
            
            let styles = {};
            
            for (const pattern of patterns) {
              const matches = customCss.matchAll(pattern);
              for (const match of matches) {
                const rules = match[1];
                // Extract background-color
                const bgColorMatch = rules.match(/background-color\s*:\s*([^;!]+)/i);
                if (bgColorMatch) {
                  styles.backgroundColor = bgColorMatch[1].trim().replace(/!important/gi, '').trim();
                }
                // Extract background (for gradients)
                const bgMatch = rules.match(/background\s*:\s*([^;!]+)/i);
                if (bgMatch && !bgMatch[1].includes('none')) {
                  styles.background = bgMatch[1].trim().replace(/!important/gi, '').trim();
                }
                // Extract text color
                const colorMatch = rules.match(/(?<!background-)color\s*:\s*([^;!]+)/i);
                if (colorMatch) {
                  styles.color = colorMatch[1].trim().replace(/!important/gi, '').trim();
                }
              }
            }
            
            return styles;
          } catch (e) {
            debugLog('warn', 'Error extracting keyword color from CSS:', e);
            return null;
          }
        },
        
        // Get inline style object for keyword badges in the keyword cloud
        getKeywordInlineStyle(keyword) {
          const customStyles = this.getKeywordColorFromCustomCSS(keyword);
          if (!customStyles || Object.keys(customStyles).length === 0) {
            return null;
          }
          
          const style = {};
          if (customStyles.background) {
            style.background = customStyles.background;
          } else if (customStyles.backgroundColor) {
            style.backgroundColor = customStyles.backgroundColor;
          }
          if (customStyles.color) {
            style.color = customStyles.color;
          }
          
          return style;
        },
        
        // Collect all colors for a keyword from all contexts where it appears
        collectAllKeywordColors(keyword) {
          try {
            const colors = [];
            const customCss = this.getEffectiveCustomCssText();
            
            if (!customCss) return colors;
            
            const slug = this.keywordSlug(keyword);
            if (!slug) return colors;
            
            // Track which contexts have this keyword
            const contextsWithKeyword = [];
            
            // Find all groups that have this keyword
            this.data.groups.forEach(group => {
              if (!group.deleted && group.keywords && group.keywords.includes(keyword)) {
                contextsWithKeyword.push({
                  type: 'group',
                  uuid: group.uuid,
                  name: group.name
                });
              }
              
              // Find all links that have this keyword
              if (group.links) {
                group.links.forEach(link => {
                  if (!link.deleted && link.keywords && link.keywords.includes(keyword)) {
                    contextsWithKeyword.push({
                      type: 'link',
                      groupUuid: group.uuid,
                      linkUuid: link.uuid,
                      text: link.text
                    });
                  }
                });
              }
            });
            
            // Extract color for each context from CSS
            const escapedSlug = slug.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            
            contextsWithKeyword.forEach((ctx, idx) => {
              let color = null;
              
              if (ctx.type === 'group' && ctx.uuid) {
                // Look for group-specific keyword color
                const groupUuidEscaped = ctx.uuid.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                
                // First try: specific keyword in specific group
                const specificPatterns = [
                  new RegExp(`\\[data-group-uuid=['"]?${groupUuidEscaped}['"]?\\]\\[data-keyword=['"]?${escapedSlug}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi'),
                  new RegExp(`\\.keyword-badge\\[data-group-uuid=['"]?${groupUuidEscaped}['"]?\\]\\[data-keyword=['"]?${escapedSlug}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi')
                ];
                
                // Second try: ALL keywords in this group (fallback)
                const groupPatterns = [
                  new RegExp(`\\.keyword-badge\\[data-group-uuid=['"]?${groupUuidEscaped}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi'),
                  new RegExp(`\\[data-group-uuid=['"]?${groupUuidEscaped}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi')
                ];
                
                const allPatterns = [...specificPatterns, ...groupPatterns];
                
                for (const pattern of allPatterns) {
                  if (color) break;
                  const matches = customCss.matchAll(pattern);
                  for (const match of matches) {
                    const rules = match[1];
                    const bgMatch = rules.match(/background\s*:\s*([^;!]+)/i);
                    if (bgMatch && !bgMatch[1].includes('gradient')) {
                      color = bgMatch[1].trim().replace(/!important/gi, '').trim();
                      break;
                    }
                    const bgColorMatch = rules.match(/background-color\s*:\s*([^;!]+)/i);
                    if (bgColorMatch) {
                      color = bgColorMatch[1].trim().replace(/!important/gi, '').trim();
                      break;
                    }
                  }
                }
              } else if (ctx.type === 'link' && ctx.linkUuid) {
                // Look for link-specific keyword color
                const linkUuidEscaped = ctx.linkUuid.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                
                // First try: specific keyword on specific link
                const specificPatterns = [
                  new RegExp(`\\[data-link-uuid=['"]?${linkUuidEscaped}['"]?\\]\\[data-keyword=['"]?${escapedSlug}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi'),
                  new RegExp(`\\.keyword-badge\\[data-link-uuid=['"]?${linkUuidEscaped}['"]?\\]\\[data-keyword=['"]?${escapedSlug}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi')
                ];
                
                // Second try: ALL keywords on this link (fallback)
                const linkPatterns = [
                  new RegExp(`\\.keyword-badge\\[data-link-uuid=['"]?${linkUuidEscaped}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi'),
                  new RegExp(`\\[data-link-uuid=['"]?${linkUuidEscaped}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi')
                ];
                
                const allPatterns = [...specificPatterns, ...linkPatterns];
                
                for (const pattern of allPatterns) {
                  if (color) break;
                  const matches = customCss.matchAll(pattern);
                  for (const match of matches) {
                    const rules = match[1];
                    const bgMatch = rules.match(/background\s*:\s*([^;!]+)/i);
                    if (bgMatch && !bgMatch[1].includes('gradient')) {
                      color = bgMatch[1].trim().replace(/!important/gi, '').trim();
                      break;
                    }
                    const bgColorMatch = rules.match(/background-color\s*:\s*([^;!]+)/i);
                    if (bgColorMatch) {
                      color = bgColorMatch[1].trim().replace(/!important/gi, '').trim();
                      break;
                    }
                  }
                }
              }
              
              if (color) {
                colors.push(color);
              }
            });
            
            // FIRST check for general keyword color (as fallback for all contexts)
            let generalColor = null;
            const generalPatterns = [
              new RegExp(`\\.mb-keyword-kw-${escapedSlug}\\s*\\{([^}]+)\\}`, 'gi'),
              new RegExp(`\\.keyword-badge\\[data-keyword=['"]?${escapedSlug}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi'),
              new RegExp(`\\[data-keyword=['"]?${escapedSlug}['"]?\\]\\s*\\{([^}]+)\\}`, 'gi')
            ];
            
            for (const pattern of generalPatterns) {
              if (generalColor) break;
              const matches = customCss.matchAll(pattern);
              for (const match of matches) {
                const rules = match[1];
                const bgMatch = rules.match(/background\s*:\s*([^;!]+)/i);
                if (bgMatch) {
                  generalColor = bgMatch[1].trim().replace(/!important/gi, '').trim();
                  if (generalColor.includes('gradient')) {
                    generalColor = null; // Ignore gradients in general color
                  } else {
                    break;
                  }
                }
                const bgColorMatch = rules.match(/background-color\s*:\s*([^;!]+)/i);
                if (bgColorMatch && !generalColor) {
                  generalColor = bgColorMatch[1].trim().replace(/!important/gi, '').trim();
                  break;
                }
              }
            }
            
            // If we found a general color, use it for ALL contexts that don't have specific colors
            if (generalColor && contextsWithKeyword.length > 0) {
              // Add the general color once for each context
              contextsWithKeyword.forEach(() => {
                colors.push(generalColor);
              });
            } else if (generalColor) {
              // No specific contexts, but we have a general color
              colors.push(generalColor);
            }
            
            // Remove duplicates while preserving order
            return [...new Set(colors)];
          } catch (e) {
            debugLog('warn', 'Error collecting keyword colors:', e);
            return [];
          }
        },
        
        // Get gradient style for keyword badge in keyword bar (returns style string)
        getKeywordGradientStyle(keyword) {
          try {
            // Let "selected keyword" CSS rules fully control active badges.
            // Otherwise inline styles can override Visual CSS editor rules.
            if (this.isKeywordFilterActive(keyword)) {
              return '';
            }
            const colors = this.collectAllKeywordColors(keyword);
            
            if (colors.length === 0) {
              return '';
            } else if (colors.length === 1) {
              // Single color
              return `background-color: ${colors[0]} !important`;
            } else {
              // Multiple colors - create linear gradient
              const gradient = `linear-gradient(90deg, ${colors.join(', ')})`;
              return `background: ${gradient} !important`;
            }
          } catch (e) {
            debugLog('warn', 'Error creating keyword gradient:', e);
            return '';
          }
        },
        
        cssClassFromUuid(prefix, uuid) {
          try {
            const base = String(uuid || '').toLowerCase();
            const safe = base.replace(/[^a-z0-9_-]/g, '-');
            return `${prefix}-uuid-${safe}`;
          } catch { return `${prefix}-uuid-unknown`; }
        },
        async copyToClipboard(text) {
          try {
            if (navigator.clipboard && navigator.clipboard.writeText) {
              await navigator.clipboard.writeText(text);
            } else {
              const ta = document.createElement('textarea');
              ta.value = text;
              document.body.appendChild(ta);
              ta.select();
              document.execCommand('copy');
              document.body.removeChild(ta);
            }
            debugLog('log', '[CSS] Copied to clipboard:', text);
          } catch (e) { debugLog('warn', '[CSS] Copy failed', e); }
        },
        async copyGroupCssClass(group) {
          if (!group) return;
          const cls = this.cssClassFromUuid('group', group.uuid);
          await this.copyToClipboard('.' + cls + ' { }');
        },
        async copyLinkCssClass(link) {
          if (!link) return;
          const cls = this.cssClassFromUuid('link', link.uuid);
          await this.copyToClipboard('.' + cls + ' { }');
        },
        
        // Copy Group UUID to clipboard
        async copyGroupUuid(group, event) {
          if (!group || !group.uuid) return;
          try {
            // Check if Shift key is pressed - if so, copy as CSS selector
            let textToCopy = group.uuid;
            if (event && event.shiftKey) {
              textToCopy = `[data-group-uuid="${group.uuid}"]`;
            }
            
            await this.copyToClipboard(textToCopy);
            
            // Show success feedback
            const btn = event ? event.target : null;
            if (btn) {
              const originalText = btn.textContent;
              btn.textContent = '';
              setTimeout(() => {
                btn.textContent = originalText;
              }, 1000);
            }
            
            // If CSS Editor is open and shift key pressed, insert at cursor
            if (event && event.shiftKey && this.cssSidebarVisible && this.$refs.cssTextarea) {
              this.insertTextAtCursor(textToCopy);
            }
          } catch (e) {
            debugLog('warn', 'Failed to copy UUID:', e);
          }
        },
        
        // Copy Link UUID to clipboard
        async copyLinkUuid(link, event) {
          if (!link || !link.uuid) return;
          try {
            // Check if Shift key is pressed - if so, copy as CSS selector
            let textToCopy = link.uuid;
            if (event && event.shiftKey) {
              textToCopy = `[data-link-uuid="${link.uuid}"]`;
            }
            
            await this.copyToClipboard(textToCopy);
            
            // Show success feedback
            const btn = event ? event.target : null;
            if (btn) {
              const originalText = btn.textContent;
              btn.textContent = '';
              setTimeout(() => {
                btn.textContent = originalText;
              }, 1000);
            }
            
            // If CSS Editor is open and shift key pressed, insert at cursor
            if (event && event.shiftKey && this.cssSidebarVisible && this.$refs.cssTextarea) {
              this.insertTextAtCursor(textToCopy);
            }
          } catch (e) {
            debugLog('warn', 'Failed to copy UUID:', e);
          }
        },
        
        // Insert text at cursor position in CSS editor
        insertTextAtCursor(text) {
          const textarea = this.$refs.cssTextarea;
          if (!textarea) return;
          
          const start = textarea.selectionStart;
          const end = textarea.selectionEnd;
          const currentText = this.customCssDraft || '';
          
          // Insert text at cursor position
          this.customCssDraft = currentText.substring(0, start) + text + currentText.substring(end);
          
          // Apply the CSS
          this.applyCustomCssFromTextarea(false);
          
          // Restore cursor position after Vue updates the textarea
          this.$nextTick(() => {
            textarea.focus();
            const newPosition = start + text.length;
            textarea.setSelectionRange(newPosition, newPosition);
          });
        },
        
        // Handle keydown events in CSS textarea
        handleCssKeydown(event) {
          // Handle Tab key
          if (event.key === 'Tab') {
            event.preventDefault();
            
            const textarea = event.target;
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const text = textarea.value;
            
            if (event.shiftKey) {
              // Shift+Tab: Remove indentation
              if (start === end) {
                // No selection - remove up to 2 spaces before cursor
                const lineStart = text.lastIndexOf('\n', start - 1) + 1;
                const beforeCursor = text.substring(lineStart, start);
                const spacesToRemove = beforeCursor.match(/^( {1,2})/);
                
                if (spacesToRemove) {
                  const removeCount = spacesToRemove[1].length;
                  this.customCssDraft = text.substring(0, lineStart) + 
                                       text.substring(lineStart + removeCount);
                  this.$nextTick(() => {
                    textarea.setSelectionRange(start - removeCount, start - removeCount);
                  });
                }
              } else {
                // Selection - remove indentation from all selected lines
                const lineStart = text.lastIndexOf('\n', start - 1) + 1;
                const lineEnd = text.indexOf('\n', end);
                const endPos = lineEnd === -1 ? text.length : lineEnd;
                
                const selectedLines = text.substring(lineStart, endPos);
                const dedentedLines = selectedLines.split('\n').map(line => {
                  return line.replace(/^( {1,2})/, '');
                }).join('\n');
                
                const lengthDiff = selectedLines.length - dedentedLines.length;
                this.customCssDraft = text.substring(0, lineStart) + dedentedLines + text.substring(endPos);
                
                this.$nextTick(() => {
                  textarea.setSelectionRange(
                    Math.max(lineStart, start - (start === lineStart ? 0 : Math.min(2, lengthDiff))),
                    end - lengthDiff
                  );
                });
              }
            } else {
              // Tab: Add 2 spaces
              if (start === end) {
                // No selection - insert 2 spaces
                this.customCssDraft = text.substring(0, start) + '  ' + text.substring(end);
                this.$nextTick(() => {
                  textarea.setSelectionRange(start + 2, start + 2);
                });
              } else {
                // Selection - indent all selected lines
                const lineStart = text.lastIndexOf('\n', start - 1) + 1;
                const lineEnd = text.indexOf('\n', end);
                const endPos = lineEnd === -1 ? text.length : lineEnd;
                
                const selectedLines = text.substring(lineStart, endPos);
                const indentedLines = selectedLines.split('\n').map(line => '  ' + line).join('\n');
                
                this.customCssDraft = text.substring(0, lineStart) + indentedLines + text.substring(endPos);
                
                this.$nextTick(() => {
                  const addedSpaces = indentedLines.length - selectedLines.length;
                  textarea.setSelectionRange(
                    start + (start === lineStart ? 2 : 0),
                    end + addedSpaces
                  );
                });
              }
            }
            
            // Apply the CSS after modification
            this.applyCustomCssFromTextarea(false);
          }
        },
        
        keywordSlug(kw) {
          try { return String(kw||'').trim().toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9_-]/g,'-'); } catch { return ''; }
        },
        keywordClass(kw) {
          const slug = this.keywordSlug(kw);
          return slug ? `mb-keyword-kw-${slug}` : 'mb-keyword-kw';
        },
        ensureCustomStyleEl() {
          let el = document.getElementById('user-custom-css');
          if (!el) {
            el = document.createElement('style');
            el.id = 'user-custom-css';
            document.head.appendChild(el);
          }
          return el;
        },
        applyCustomCss(css) {
          const el = this.ensureCustomStyleEl();
          el.textContent = css || '';
        },
        ensureVisualCssOptions() {
          if (!this.data.options) {
            this.$set(this.data, 'options', {});
          }

          const legacyRules = Array.isArray(this.data.options.visualCssRules) ? this.data.options.visualCssRules : [];
          const rawVisualCss = (this.data.options.visualCss && typeof this.data.options.visualCss === 'object' && !Array.isArray(this.data.options.visualCss))
            ? this.data.options.visualCss
            : {};

          const visualCssOptions = Object.assign({
            stateVersion: 0,
            rules: legacyRules,
            designTokens: [],
            selectedTemplate: null,
            customRuleSets: {},
            collapsedRules: [],
            designTokensCollapsed: false,
            sidebarWidth: 400,
            sidebarTopHeight: 300
          }, rawVisualCss);

          if (!Array.isArray(visualCssOptions.rules)) visualCssOptions.rules = legacyRules;
          if (!Array.isArray(visualCssOptions.designTokens)) visualCssOptions.designTokens = [];
          if (!visualCssOptions.customRuleSets || typeof visualCssOptions.customRuleSets !== 'object' || Array.isArray(visualCssOptions.customRuleSets)) {
            visualCssOptions.customRuleSets = {};
          }
          if (!Array.isArray(visualCssOptions.collapsedRules)) visualCssOptions.collapsedRules = [];
          visualCssOptions.designTokensCollapsed = !!visualCssOptions.designTokensCollapsed;
          const parsedStateVersion = parseInt(visualCssOptions.stateVersion, 10);
          visualCssOptions.stateVersion = Number.isFinite(parsedStateVersion) ? parsedStateVersion : 0;
          visualCssOptions.selectedTemplate = (typeof visualCssOptions.selectedTemplate === 'string' && visualCssOptions.selectedTemplate.trim())
            ? visualCssOptions.selectedTemplate.trim()
            : null;

          const parsedSidebarWidth = parseInt(visualCssOptions.sidebarWidth, 10);
          visualCssOptions.sidebarWidth = Number.isFinite(parsedSidebarWidth) ? parsedSidebarWidth : 400;
          const parsedSidebarTopHeight = parseInt(visualCssOptions.sidebarTopHeight, 10);
          visualCssOptions.sidebarTopHeight = Number.isFinite(parsedSidebarTopHeight) ? parsedSidebarTopHeight : 300;

          this.$set(this.data.options, 'visualCss', visualCssOptions);
          this.$set(this.data.options, 'visualCssRules', visualCssOptions.rules);
          return this.data.options.visualCss;
        },
        syncVisualCssStateToOptions(save = false) {
          const visualCssOptions = this.ensureVisualCssOptions();
          const deepClone = (value, fallback) => {
            try { return JSON.parse(JSON.stringify(value)); } catch { return fallback; }
          };

          const rules = Array.isArray(this.visualCssRules) ? this.visualCssRules : [];
          const tokens = Array.isArray(this.designTokens) ? this.designTokens : [];
          const ruleSets = (this.customRuleSets && typeof this.customRuleSets === 'object' && !Array.isArray(this.customRuleSets))
            ? this.customRuleSets
            : {};
          const collapsedRules = Array.isArray(this.collapsedRules) ? this.collapsedRules : [];
          const selectedTemplate = (typeof this.selectedVisualTemplate === 'string' && this.selectedVisualTemplate.trim())
            ? this.selectedVisualTemplate.trim()
            : null;
          const sidebarWidth = parseInt(this.cssSidebarWidth, 10);
          const sidebarTopHeight = parseInt(this.cssSidebarTopHeight, 10);

          this.$set(visualCssOptions, 'rules', deepClone(rules, []));
          this.$set(visualCssOptions, 'designTokens', deepClone(tokens, []));
          this.$set(visualCssOptions, 'selectedTemplate', selectedTemplate);
          this.$set(visualCssOptions, 'customRuleSets', deepClone(ruleSets, {}));
          this.$set(visualCssOptions, 'collapsedRules', deepClone(collapsedRules, []));
          this.$set(visualCssOptions, 'designTokensCollapsed', !!this.designTokensCollapsed);
          this.$set(visualCssOptions, 'sidebarWidth', Number.isFinite(sidebarWidth) ? sidebarWidth : 400);
          this.$set(visualCssOptions, 'sidebarTopHeight', Number.isFinite(sidebarTopHeight) ? sidebarTopHeight : 300);
          this.$set(visualCssOptions, 'stateVersion', 1);
          // Backwards compatibility: keep top-level visualCssRules aligned
          this.$set(this.data.options, 'visualCssRules', deepClone(rules, []));

          if (save) {
            this.saveData();
          }
        },
        syncVisualCssStateToLocalStorage() {
          try { localStorage.setItem('visualCssRules', JSON.stringify(this.visualCssRules || [])); } catch {}
          try {
            if (this.selectedVisualTemplate) {
              localStorage.setItem('selectedVisualTemplate', this.selectedVisualTemplate);
            } else {
              localStorage.removeItem('selectedVisualTemplate');
            }
          } catch {}
          try { localStorage.setItem('designTokens', JSON.stringify(this.designTokens || [])); } catch {}
          try { localStorage.setItem('customRuleSets', JSON.stringify(this.customRuleSets || {})); } catch {}
          try { localStorage.setItem('visualCssCollapsedRules', JSON.stringify(this.collapsedRules || [])); } catch {}
          try { localStorage.setItem('designTokensCollapsed', this.designTokensCollapsed ? '1' : '0'); } catch {}
          try { localStorage.setItem('cssSidebarWidth', String(this.cssSidebarWidth || 400)); } catch {}
          try { localStorage.setItem('cssSidebarTopHeight', String(this.cssSidebarTopHeight || 300)); } catch {}
        },
        applyVisualCssSidebarPreferences() {
          const visualCssOptions = this.ensureVisualCssOptions();
          const preferredWidth = parseInt(visualCssOptions.sidebarWidth, 10);
          if (Number.isFinite(preferredWidth)) {
            this.cssSidebarWidth = preferredWidth;
          } else {
            const localWidth = parseInt(localStorage.getItem('cssSidebarWidth'), 10);
            if (Number.isFinite(localWidth)) this.cssSidebarWidth = localWidth;
          }

          const preferredTopHeight = parseInt(visualCssOptions.sidebarTopHeight, 10);
          let resolvedTopHeight = null;
          const localTopHeight = parseInt(localStorage.getItem('cssSidebarTopHeight'), 10);
          if (Number.isFinite(localTopHeight) && localTopHeight !== 300) {
            resolvedTopHeight = localTopHeight;
          } else if (Number.isFinite(preferredTopHeight) && preferredTopHeight !== 300) {
            resolvedTopHeight = preferredTopHeight;
          } else {
            const legacyTopHeight = parseInt(localStorage.getItem('sidebarTopHeight'), 10);
            if (Number.isFinite(legacyTopHeight) && legacyTopHeight !== 300) {
              resolvedTopHeight = legacyTopHeight;
            }
          }
          if (!Number.isFinite(resolvedTopHeight)) {
            const containerHeight = Math.max(420, window.innerHeight - 100);
            resolvedTopHeight = Math.round(containerHeight * (2 / 3));
          }
          this.cssSidebarTopHeight = resolvedTopHeight;
          this.clampCssSidebarTopHeight();
        },
        openCssSidebar() {
          // Initialize Visual CSS Rules if not already loaded
          if (!this.visualCssRules || this.visualCssRules.length === 0) {
            this.loadVisualCssRules();
          }
          // Normalize potentially legacy property keys before rendering editor UI
          this.normalizeAllVisualRules();

          // Load custom rule sets
          this.loadCustomRuleSets();

          // Initialize available selectors
          this.initializeAvailableSelectors();

          // Check for legacy CSS migration
          this.checkAndMigrateLegacyCss();

          this.cssSidebarVisible = true;
          // Add class to body for layout adjustment
          document.body.classList.add('css-sidebar-open');
          this.applyVisualCssSidebarPreferences();
          document.body.style.marginRight = this.cssSidebarWidth + 'px';
          this.$nextTick(() => {
            this.clampCssSidebarTopHeight();
            this.ensureCssPropertyEditorFonts();
            if (this.cssPropertyEditor.ruleId && !this.cssPropertyEditorRule) {
              this.clearCssPropertyEditorSelection();
            }
          });
        },

        closeCssSidebar() {
          if (this.elementPickerActive) this.stopElementPicker();
          this.cssSidebarVisible = false;
          // Remove class from body to restore layout
          document.body.classList.remove('css-sidebar-open');
          document.body.style.marginRight = '';
        },

        // Visual CSS Editor Methods
        initializeAvailableSelectors() {
          this.visualCssAvailableSelectors = [
            { value: 'body', label: 'Body (Entire Page)', supportsGroup: false, supportsLink: false },
            { value: '.mb-app', label: 'Application Container', supportsGroup: false, supportsLink: false },
            { value: '.mb-titlebar', label: 'Title Bar', supportsGroup: false, supportsLink: false },
            { value: '.mb-toolbar', label: 'Toolbar', supportsGroup: false, supportsLink: false },
            { value: '.mb-toolbar__search', label: 'Search Bar', supportsGroup: false, supportsLink: false },
            { value: '.mb-keywords-cloud', label: 'Keywords Cloud', supportsGroup: false, supportsLink: false },
            { value: '.mb-keywords-cloud .mb-keyword.mb-keyword-active', label: 'Selected Keywords (Keyword Bar)', supportsGroup: false, supportsLink: false },
            { value: '.mb-keywords-cloud .mb-keyword.mb-keyword-active .mb-keyword-text', label: 'Selected Keyword Text', supportsGroup: false, supportsLink: false },
            { value: '.mb-keyword-suggestions, .mb-keyword-suggestions--overlay', label: 'Keyword Suggestions List', supportsGroup: false, supportsLink: false },
            { value: '.mb-keyword-suggestion', label: 'Keyword Suggestions Item', supportsGroup: false, supportsLink: false },
            { value: '.mb-groups-container', label: 'Groups Container', supportsGroup: false, supportsLink: false },
            { value: '.mb-group', label: 'Group', supportsGroup: true, supportsLink: false },
            { value: '.mb-group__header', label: 'Group Header', supportsGroup: true, supportsLink: false },
            { value: '.mb-group__name', label: 'Group Name', supportsGroup: true, supportsLink: false },
            { value: '.mb-group__actions', label: 'Group Actions', supportsGroup: true, supportsLink: false },
            { value: '.verticalDropZone', label: 'Group Column Dropzone (Vertical)', supportsGroup: false, supportsLink: false },
            { value: '.groupContainerDragAndDrop.group-drop-zone', label: 'Group Dropzone (Horizontal)', supportsGroup: false, supportsLink: false },
            { value: '.mb-links-container', label: 'Links Container', supportsGroup: true, supportsLink: false },
            { value: '.mb-link', label: 'Link', supportsGroup: true, supportsLink: true },
            { value: '.mb-link-separator', label: 'Sep.', supportsGroup: true, supportsLink: true },
            { value: '.mb-link-note', label: 'Note', supportsGroup: true, supportsLink: true },
            { value: '.linkVerticalDropZone', label: 'Link Column Dropzone (Vertical)', supportsGroup: true, supportsLink: false },
            { value: '.linkContainerDragAndDrop.link-drop-zone', label: 'Link Dropzone (Horizontal)', supportsGroup: true, supportsLink: false },
            { value: '.link-url-preview', label: 'Link URL', supportsGroup: true, supportsLink: true },
            { value: '.mb-link__icon', label: 'Link Icon', supportsGroup: true, supportsLink: true },
            { value: '.mb-link__actions', label: 'Link Actions', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover', label: 'Link Popover Container', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__title', label: 'Link Popover Title', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__url', label: 'Link Popover URL', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__meta', label: 'Link Popover Metadata', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__row', label: 'Link Popover Row', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__label', label: 'Link Popover Label', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__value', label: 'Link Popover Value', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__value--muted', label: 'Link Popover Relative Text', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__keywords', label: 'Link Popover Keywords', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__badge', label: 'Link Popover Keyword Badge', supportsGroup: true, supportsLink: true },
            { value: '.link-detail-popover__favicon', label: 'Link Popover Favicon', supportsGroup: true, supportsLink: true }
          ];
        },

        loadVisualCssRules() {
          const visualCssOptions = this.ensureVisualCssOptions();
          const optionStateVersion = parseInt(visualCssOptions.stateVersion, 10);
          const hasPersistedVisualCssState = Number.isFinite(optionStateVersion) && optionStateVersion >= 1;

          // Load tokens (prefer options, fallback localStorage for legacy data)
          let loadedTokens = [];
          if (hasPersistedVisualCssState || (Array.isArray(visualCssOptions.designTokens) && visualCssOptions.designTokens.length > 0)) {
            loadedTokens = Array.isArray(visualCssOptions.designTokens) ? visualCssOptions.designTokens : [];
          } else {
            try {
              const tok = localStorage.getItem('designTokens');
              const parsed = tok ? JSON.parse(tok) : [];
              loadedTokens = Array.isArray(parsed) ? parsed : [];
            } catch (e) {
              loadedTokens = [];
            }
          }
          this.designTokens = loadedTokens.map(t => ({
            name: this.normalizeTokenName((t?.name || '').toString()),
            value: (t?.value ?? '').toString()
          }));

          // Load selected template (prefer options, fallback localStorage for legacy data)
          if (hasPersistedVisualCssState) {
            this.selectedVisualTemplate = visualCssOptions.selectedTemplate || null;
          } else {
            const optionTemplate = (typeof visualCssOptions.selectedTemplate === 'string' && visualCssOptions.selectedTemplate.trim())
              ? visualCssOptions.selectedTemplate.trim()
              : null;
            if (optionTemplate) {
              this.selectedVisualTemplate = optionTemplate;
            } else {
              const storedTemplate = localStorage.getItem('selectedVisualTemplate');
              this.selectedVisualTemplate = storedTemplate ? storedTemplate : null;
            }
          }

          // Load rules (prefer options, fallback localStorage for legacy data)
          let loadedRules = [];
          const optionRules = Array.isArray(visualCssOptions.rules) ? visualCssOptions.rules : [];
          if (hasPersistedVisualCssState || optionRules.length > 0) {
            loadedRules = optionRules;
          } else {
            const storedRules = localStorage.getItem('visualCssRules');
            if (storedRules) {
              try {
                const parsedRules = JSON.parse(storedRules);
                loadedRules = Array.isArray(parsedRules) ? parsedRules : [];
              } catch (e) {
                debugLog('error', 'Failed to parse stored visual CSS rules:', e);
                loadedRules = [];
              }
            }
          }
          this.visualCssRules = loadedRules.map(rule => this.normalizeVisualRule(JSON.parse(JSON.stringify(rule))));

          // Keep options/localStorage in sync so full export includes editor state
          this.syncVisualCssStateToOptions(this.dataLoaded === true);
          this.syncVisualCssStateToLocalStorage();

          // Apply CSS only when visual editor state is active; otherwise keep existing custom CSS text
          const hasVisualState = this.visualCssRules.length > 0
            || !!this.selectedVisualTemplate
            || this.designTokens.length > 0;
          if (hasVisualState) {
            this.applyVisualCss();
          } else if (typeof this.data.options?.customCss === 'string') {
            this.applyCustomCss(this.data.options.customCss);
          }
        },

        checkAndMigrateLegacyCss() {
          // Check if there's legacy custom CSS to migrate
          // Only migrate once - check if migration was already attempted
          if (this.data.options?.visualCssMigrated) {
            return; // Migration already done or skipped
          }

          // Check if we already have visual CSS rules stored
          if (this.data.options?.visualCssRules && this.data.options.visualCssRules.length > 0) {
            // We have visual rules, no need to migrate
            return;
          }

          const legacyCss = this.data.options?.customCss;
          // Only migrate if we have legacy CSS AND no visual rules AND no previous migration
          if (legacyCss && legacyCss.trim() &&
              this.visualCssRules.length === 0 &&
              !legacyCss.includes('/* Template:') && // Don't migrate generated CSS
              !legacyCss.includes('/* User Rules')) {  // Don't migrate generated CSS
            this.showMigrationNotice = true;
            // Auto-migrate simple CSS rules if possible
            this.attemptCssMigration(legacyCss);

            // Mark as migrated to prevent future auto-migration
            if (!this.data.options) {
              this.data.options = {};
            }
            this.data.options.visualCssMigrated = true;
            this.saveData();
          }
        },

        nextVisualRuleId() {
          const now = Date.now();
          if (!Number.isFinite(this._visualCssRuleSeq)) {
            this._visualCssRuleSeq = now;
          } else {
            this._visualCssRuleSeq = Math.max(this._visualCssRuleSeq + 1, now);
          }
          while (Array.isArray(this.visualCssRules) && this.visualCssRules.some(r => r && r.id === this._visualCssRuleSeq)) {
            this._visualCssRuleSeq += 1;
          }
          return this._visualCssRuleSeq;
        },

        attemptCssMigration(cssText) {
          // Simple migration: Convert CSS text to visual rules
          // This is a basic implementation - can be enhanced
          const migrationRule = {
            id: this.nextVisualRuleId(),
            enabled: true,
            selector: {
              base: 'body',
              groupId: null,
              linkId: null,
              keywordSlug: null,
              hover: false,
              dragOver: false
            },
            groupId: null,
            linkId: null,
            properties: {
              custom: cssText
            },
            important: {},
            customCss: cssText
          };

          this.visualCssRules.push(migrationRule);
          this.saveVisualCss();
        },

        addNewCssRule() {
          const ruleCount = this.visualCssRules.length + 1;
          const newRule = {
            id: this.nextVisualRuleId(),
            name: `${this.getTranslation('css.visual.rule') || 'Regel'} ${ruleCount}`,
            enabled: true,
            selector: {
              base: '',
              groupId: null,
              linkId: null,
              keywordSlug: null,
              hover: false,
              dragOver: false
            },
            groupId: null,
            linkId: null,
            properties: {},
            important: {},
            customCss: ''
          };

          this.visualCssRules.push(newRule);

          // Load template properties for this rule if a template is selected
          if (this.selectedVisualTemplate && newRule.selector.base) {
            this.loadTemplatePropertiesForRule(newRule);
          }

          this.saveVisualCss();
        },

        toggleCssRule(rule) {
          rule.enabled = !rule.enabled;
          this.saveVisualCss();
        },

        moveCssRuleUp(index) {
          if (index <= 0) return;
          const [rule] = this.visualCssRules.splice(index, 1);
          this.visualCssRules.splice(index - 1, 0, rule);
          this.saveVisualCss();
        },

        moveCssRuleDown(index) {
          if (index < 0 || index >= this.visualCssRules.length - 1) return;
          const [rule] = this.visualCssRules.splice(index, 1);
          this.visualCssRules.splice(index + 1, 0, rule);
          this.saveVisualCss();
        },

        duplicateCssRule(rule) {
          // Create a deep copy to avoid shared references
          const duplicate = JSON.parse(JSON.stringify(rule));
          duplicate.id = this.nextVisualRuleId();
          duplicate.name = (rule.name || this.getTranslation('css.visual.rule') || 'Regel') + ' ' + (this.getTranslation('css.visual.copy') || 'Kopie');

          const index = this.visualCssRules.indexOf(rule);
          this.visualCssRules.splice(index + 1, 0, duplicate);
          this.saveVisualCss();
        },

        deleteCssRule(rule) {
          const index = this.visualCssRules.indexOf(rule);
          if (index > -1) {
            if (String(this.cssPropertyEditor?.ruleId) === String(rule?.id)) {
              this.clearCssPropertyEditorSelection();
            }
            this.visualCssRules.splice(index, 1);
            // Remove from collapsed list if present
            const ci = this.collapsedRules.indexOf(rule.id);
            if (ci > -1) this.collapsedRules.splice(ci, 1);
            this.saveCollapsedRules();
            this.saveVisualCss();
          }
        },

        startEditingRuleName(rule) {
          this.editingRuleId = rule.id;
          this.editingRuleName = rule.name || `${this.getTranslation('css.visual.rule') || 'Regel'} ${this.visualCssRules.indexOf(rule) + 1}`;
          this.$nextTick(() => {
            const input = this.$refs.ruleNameInput;
            if (input && Array.isArray(input)) {
              input[0].focus();
              input[0].select();
            } else if (input) {
              input.focus();
              input.select();
            }
          });
        },
        saveRuleName(rule) {
          if (this.editingRuleName && this.editingRuleName.trim()) {
            rule.name = this.editingRuleName.trim();
            this.saveVisualCss();
          }
          this.cancelEditingRuleName();
        },
        cancelEditingRuleName() {
          this.editingRuleId = null;
          this.editingRuleName = '';
        },
        toggleRuleCollapse(rule) {
          const index = this.collapsedRules.indexOf(rule.id);
          if (index > -1) {
            this.collapsedRules.splice(index, 1);
          } else {
            this.collapsedRules.push(rule.id);
          }
          this.saveCollapsedRules();
        },
        isRuleCollapsed(rule) {
          return this.collapsedRules.includes(rule.id);
        },
        expandAllRules() {
          this.collapsedRules = [];
          this.saveCollapsedRules();
        },
        collapseAllRules() {
          this.collapsedRules = this.visualCssRules.map(rule => rule.id);
          this.saveCollapsedRules();
        },
        clearAllCssSettings() {
          // Ask for confirmation
          if (!confirm(this.getTranslation('css.visual.clearAllConfirm') || 'Mchten Sie wirklich ALLE CSS-Einstellungen lschen?\n\nDies entfernt:\n Alle CSS-Regeln\n Das ausgewhlte Template\n Alle gespeicherten Regel-Stze\n\nDiese Aktion kann nicht rckgngig gemacht werden!')) {
            return;
          }

          // Clear all CSS rules
          this.visualCssRules = [];

          // Clear selected template
          this.selectedVisualTemplate = null;

          // Clear selected rule set
          this.selectedRuleSetName = null;

          // Clear all saved rule sets
          this.customRuleSets = {};

          // Clear from localStorage
          localStorage.removeItem('visualCssRules');
          localStorage.removeItem('selectedVisualTemplate');
          localStorage.removeItem('customRuleSets');

          // Clear the applied CSS
          this.applyCustomCss('');

          // Save the empty state
          this.saveVisualCss();

          // Show success message
          this.showToast(this.getTranslation('css.visual.clearedAll') || 'Alle CSS-Einstellungen wurden gelscht', 'success');
        },

        clearRuleProperties(rule) {
          // Clear all properties
          rule.properties = {};

          // Clear custom CSS
          rule.customCss = '';

          // Clear important flags
          rule.important = {};

          // Save the changes
          this.saveVisualCss();

          // Show success message
          this.showToast(this.getTranslation('css.visual.propertiesCleared') || 'Eigenschaften gelscht', 'success');
        },

        updateRuleSelector(rule) {
          // Reset group and link when selector changes
          const selectorInfo = this.visualCssAvailableSelectors.find(s => s.value === rule.selector);
          if (selectorInfo) {
            if (!selectorInfo.supportsGroup) {
              rule.groupId = null;
              rule.linkId = null;
            }
            if (!selectorInfo.supportsLink) {
              rule.linkId = null;
            }
          }
        },

        updateRuleGroup(rule) {
          // Reset link when group changes
          rule.linkId = null;
        },

        

        removePropertyFromRule(rule, property) {
          this.$delete(rule.properties, property);
        },

        selectorUsesHoverState(selectorObj) {
          if (!selectorObj || typeof selectorObj !== 'object') return false;
          if (!selectorObj.hover) return false;
          const base = String(selectorObj.base || '').trim();
          if (!base) return false;
          // `link-hover` already has :hover in its mapping.
          if (base === 'link-hover') return false;
          return true;
        },

        selectorUsesDragOverState(selectorObj) {
          if (!selectorObj || typeof selectorObj !== 'object') return false;
          if (!selectorObj.dragOver) return false;
          const base = String(selectorObj.base || '').trim();
          if (!base) return false;
          return true;
        },

        appendHoverToSelector(selectorText) {
          const text = String(selectorText || '').trim();
          if (!text) return text;

          return text
            .split(',')
            .map((rawPart) => {
              const part = String(rawPart || '').trim();
              if (!part) return '';
              if (/:hover\b/i.test(part)) return part;

              // Keep pseudo-elements at the end: `.x::before` -> `.x:hover::before`
              const pseudoElementMatch = part.match(/(::[a-z0-9_-]+)\s*$/i);
              if (pseudoElementMatch) {
                const pseudoElement = pseudoElementMatch[1];
                const withoutPseudoElement = part.slice(0, -pseudoElement.length).trim();
                return `${withoutPseudoElement}:hover${pseudoElement}`;
              }

              return `${part}:hover`;
            })
            .filter(Boolean)
            .join(', ');
        },

        appendDragOverToSelector(selectorText) {
          const text = String(selectorText || '').trim();
          if (!text) return text;

          return text
            .split(',')
            .map((rawPart) => {
              const part = String(rawPart || '').trim();
              if (!part) return '';
              if (part.includes('.drag-over-active')) return part;

              // Keep pseudo-elements at the end: `.x::before` -> `.x.drag-over-active::before`
              const pseudoElementMatch = part.match(/(::[a-z0-9_-]+)\s*$/i);
              if (pseudoElementMatch) {
                const pseudoElement = pseudoElementMatch[1];
                const withoutPseudoElement = part.slice(0, -pseudoElement.length).trim();
                return `${withoutPseudoElement}.drag-over-active${pseudoElement}`;
              }

              return `${part}.drag-over-active`;
            })
            .filter(Boolean)
            .join(', ');
        },

        generateCssSelector(rule) {
          // Ensure selector is an object
          const selectorObj = this.getRuleSelector(rule);

          debugLog('log', 'generateCssSelector - rule:', JSON.stringify(rule));
          debugLog('log', 'generateCssSelector - selectorObj:', JSON.stringify(selectorObj));
          debugLog('log', 'generateCssSelector - groupId type:', typeof selectorObj.groupId, 'value:', selectorObj.groupId);

          // Map base selector to actual CSS selector
          const baseSelectorMap = {
            'app': '.mb-app',
            'header': '.mb-titlebar',
            'toolbar': '.mb-toolbar',
            'footer': '.mb-footer',
            'groups-links-container': '.mb-groups-links-container',
            'surface-panel': '.mb-surface-panel',
            'muted-text': '.text-muted',
            'modal': '.modal-content',
            'modal-header': '.modal-header',
            'modal-body': '.modal-body',
            'modal-footer': '.modal-footer',
            'css-sidebar': '.css-sidebar',
            'feature-sidebar': '.feature-sidebar',
            'sidebar-header': '.sidebar-header',
            'sidebar-top-section': '.sidebar-top-section',
            'sidebar-bottom-section': '.sidebar-bottom-section',
            'sidebar-divider': '.sidebar-divider',
            'card': '.card',
            'card-header': '.card-header',
            'list-group-item': '.list-group-item',
            'table': '.table',
            'table-header': '.table thead th',
            'table-cell': '.table tbody td',
            'form-control': '.form-control',
            'form-select': '.form-select',
            'input-group-text': '.input-group-text',
            'form-check-input': '.form-check-input',
            'dropdown-menu': '.dropdown-menu',
            'dropdown-item': '.dropdown-item',
            'context-menu': '.mb-context-menu',
            'context-menu-item': '.mb-context-menu-list > li',
            'alert-info': '.alert-info',
            'alert-warning': '.alert-warning',
            'groups': '.mb-group',
            'group-header': '.mb-group__header',
            'group-title': '.mb-group__title',
            'group-body': '.mb-group__body',  // Group content area
            'vertical-dropzone': '.verticalDropZone',
            'group-horizontal-dropzone': '.groupContainerDragAndDrop.group-drop-zone',
            'links': '.mb-link',
            'separators': '.mb-link-separator',
            'notes': '.mb-link-note',
            'link-hover': '.mb-link:hover',
            'link-anchor': '.mb-link__anchor',
            'link-url': '.link-url-preview',
            'link-icon': '.mb-link__icon',
            'link-vertical-dropzone': '.linkVerticalDropZone',
            'link-horizontal-dropzone': '.linkContainerDragAndDrop.link-drop-zone',
            'link-popover': '.link-detail-popover',
            'link-popover-title': '.link-detail-popover__title',
            'link-popover-url': '.link-detail-popover__url',
            'link-popover-meta': '.link-detail-popover__meta',
            'link-popover-row': '.link-detail-popover__row',
            'link-popover-label': '.link-detail-popover__label',
            'link-popover-value': '.link-detail-popover__value',
            'link-popover-value-muted': '.link-detail-popover__value--muted',
            'link-popover-keywords': '.link-detail-popover__keywords',
            'link-popover-badge': '.link-detail-popover__badge',
            'link-popover-favicon': '.link-detail-popover__favicon',
            // Keyword selectors
            'keywords': '.mb-keyword',  // Keywords in keyword bar
            'keywords-selected': '.mb-keywords-cloud .mb-keyword.mb-keyword-active',
            'keyword-selected-text': '.mb-keywords-cloud .mb-keyword.mb-keyword-active .mb-keyword-text',
            'keyword-by-name': '.mb-keyword',
            'keywords-hierarchical': '.keyword-badge',  // All keyword badges (common class)
            'keyword-suggestions': '.mb-keyword-suggestions, .mb-keyword-suggestions--overlay',
            'keyword-suggestion-item': '.mb-keyword-suggestion',
            'body': 'body'
          };

          let baseSelector = baseSelectorMap[selectorObj.base] || selectorObj.base || '*';
          let fullSelector = baseSelector;
          const hasScopedGroup = selectorObj.groupId !== null
            && selectorObj.groupId !== undefined
            && selectorObj.groupId !== ''
            && selectorObj.groupId !== 'null';
          const hasScopedLink = selectorObj.linkId !== null
            && selectorObj.linkId !== undefined
            && selectorObj.linkId !== ''
            && selectorObj.linkId !== 'null';
          const groups = Array.isArray(this.data?.groups) ? this.data.groups : [];
          const scopedGroup = hasScopedGroup
            ? groups.find(g =>
              g.id === selectorObj.groupId ||
              g.uuid === selectorObj.groupId ||
              g.id === parseInt(selectorObj.groupId))
            : null;

          // Guard against missing target entities: never fallback to global selectors.
          if (hasScopedGroup && !scopedGroup) {
            return '';
          }
          if (hasScopedLink) {
            if (!scopedGroup) return '';
            const scopedLinks = Array.isArray(scopedGroup.links) ? scopedGroup.links : [];
            const scopedLink = scopedLinks.find(l =>
              l.id === selectorObj.linkId ||
              l.uuid === selectorObj.linkId ||
              l.id === parseInt(selectorObj.linkId));
            if (!scopedLink) return '';
          }

          // Handle different selector types
          if (selectorObj.base === 'keyword-by-name') {
            if (selectorObj.keywordSlug) {
              // Use the slug directly since it's already stored
              const slug = selectorObj.keywordSlug;
              // Use the mb-keyword-kw-{slug} class that's already added to keywords
              fullSelector = `.mb-keyword-kw-${slug}`;
            } else {
              fullSelector = baseSelector;
            }
          } else if (selectorObj.base && selectorObj.base.startsWith('badges-')) {
            // Special handling for badge selectors
            if (selectorObj.groupId) {
              const group = this.data.groups.find(g =>
                g.id === selectorObj.groupId ||
                g.uuid === selectorObj.groupId ||
                g.id === parseInt(selectorObj.groupId)
              );
              if (group) {
                // For badge selectors, scope to specific group
                fullSelector = `.mb-group[data-uuid="${group.uuid}"] ${baseSelector}`;

                // If link-specific badge and link is selected
                if ((selectorObj.base === 'badges-link' || selectorObj.base === 'badges-link-keywords') && selectorObj.linkId) {
                  const link = group.links.find(l =>
                    l.id === selectorObj.linkId ||
                    l.uuid === selectorObj.linkId ||
                    l.id === parseInt(selectorObj.linkId)
                  );
                  if (link) {
                    const linkUuid = link.uuid || link.id;
                    fullSelector = `.mb-group[data-uuid="${group.uuid}"] .mb-link[data-uuid="${linkUuid}"] ${baseSelector}`;
                  }
                }
              }
            }
          } else if (selectorObj.base === 'keywords-hierarchical') {
            // Hierarchical keyword selector - scopes based on group/link selection
            if (selectorObj.keywordSlug) {
              // Specific keyword selected
              fullSelector = `.mb-keyword-kw-${selectorObj.keywordSlug}`;
            } else {
              // All keywords
              fullSelector = baseSelector;
            }

            // Apply hierarchical scoping
            if (selectorObj.groupId && selectorObj.linkId) {
              // Scope to specific link
              const group = this.data.groups.find(g =>
                g.id === selectorObj.groupId ||
                g.uuid === selectorObj.groupId ||
                g.id === parseInt(selectorObj.groupId)
              );
              if (group) {
                const link = group.links.find(l =>
                  l.id === selectorObj.linkId ||
                  l.uuid === selectorObj.linkId ||
                  l.id === parseInt(selectorObj.linkId)
                );
                if (link) {
                  const linkUuid = link.uuid || link.id;
                  fullSelector = `.mb-group[data-uuid="${group.uuid}"] .mb-link[data-uuid="${linkUuid}"] ${fullSelector}`;
                }
              }
            } else if (selectorObj.groupId) {
              // Scope to specific group
              const group = this.data.groups.find(g =>
                g.id === selectorObj.groupId ||
                g.uuid === selectorObj.groupId ||
                g.id === parseInt(selectorObj.groupId)
              );
              if (group) {
                fullSelector = `.mb-group[data-uuid="${group.uuid}"] ${fullSelector}`;
              }
            }
          } else if (selectorObj.base === 'keywords-in-group') {
            // Keywords within a specific group
            if (selectorObj.keywordSlug) {
              // Specific keyword in group
              fullSelector = `.mb-keyword-kw-${selectorObj.keywordSlug}`;
              if (selectorObj.groupId) {
                const group = this.data.groups.find(g =>
                  g.id === selectorObj.groupId ||
                  g.uuid === selectorObj.groupId ||
                  g.id === parseInt(selectorObj.groupId)
                );
                if (group) {
                  fullSelector = `.mb-group[data-uuid="${group.uuid}"] ${fullSelector}`;
                }
              }
            } else if (selectorObj.groupId) {
              // All keywords in group
              const group = this.data.groups.find(g =>
                g.id === selectorObj.groupId ||
                g.uuid === selectorObj.groupId ||
                g.id === parseInt(selectorObj.groupId)
              );
              if (group) {
                fullSelector = `.mb-group[data-uuid="${group.uuid}"] ${baseSelector}`;
              }
            } else {
              // All keywords in all groups
              fullSelector = baseSelector;
            }
          } else if (selectorObj.base === 'keywords-in-link') {
            // Keywords within a specific link
            if (selectorObj.keywordSlug) {
              // Specific keyword in link
              fullSelector = `.mb-keyword-kw-${selectorObj.keywordSlug}`;
              if (selectorObj.groupId && selectorObj.linkId) {
                const group = this.data.groups.find(g =>
                  g.id === selectorObj.groupId ||
                  g.uuid === selectorObj.groupId ||
                  g.id === parseInt(selectorObj.groupId)
                );
                if (group) {
                  const link = group.links.find(l =>
                    l.id === selectorObj.linkId ||
                    l.uuid === selectorObj.linkId ||
                    l.id === parseInt(selectorObj.linkId)
                  );
                  if (link) {
                    const linkUuid = link.uuid || link.id;
                    fullSelector = `.mb-group[data-uuid="${group.uuid}"] .mb-link[data-uuid="${linkUuid}"] ${fullSelector}`;
                  }
                }
              }
            } else if (selectorObj.groupId && selectorObj.linkId) {
              // All keywords in specific link
              const group = this.data.groups.find(g =>
                g.id === selectorObj.groupId ||
                g.uuid === selectorObj.groupId ||
                g.id === parseInt(selectorObj.groupId)
              );
              if (group) {
                const link = group.links.find(l =>
                  l.id === selectorObj.linkId ||
                  l.uuid === selectorObj.linkId ||
                  l.id === parseInt(selectorObj.linkId)
                );
                if (link) {
                  const linkUuid = link.uuid || link.id;
                  fullSelector = `.mb-group[data-uuid="${group.uuid}"] .mb-link[data-uuid="${linkUuid}"] ${baseSelector}`;
                }
              }
            }
          } else if (selectorObj.groupId && selectorObj.groupId !== null && selectorObj.groupId !== 'null') {
            // Regular group-specific selector
            const group = this.data.groups.find(g =>
              g.id === selectorObj.groupId ||
              g.uuid === selectorObj.groupId ||
              g.id === parseInt(selectorObj.groupId)
            );

            if (group) {
              const groupUuid = group.uuid;

              // If this rule targets the group element itself, don't append a descendant
              if (baseSelector === '.mb-group') {
                fullSelector = `.mb-group[data-uuid="${groupUuid}"]`;
              } else {
                fullSelector = `.mb-group[data-uuid="${groupUuid}"] ${baseSelector}`;
              }

              // Link-specific targeting
              if (selectorObj.linkId && selectorObj.linkId !== null && selectorObj.linkId !== 'null') {
                const link = group.links.find(l =>
                  l.id === selectorObj.linkId ||
                  l.uuid === selectorObj.linkId ||
                  l.id === parseInt(selectorObj.linkId)
                );
                if (link) {
                  const linkUuid = link.uuid || link.id;
                  const linkBase = `.mb-group[data-uuid="${groupUuid}"] .mb-link[data-uuid="${linkUuid}"]`;
                  if (baseSelector === '.mb-link') {
                    // Target the link element itself
                    fullSelector = linkBase;
                  } else if (baseSelector === '.mb-link:hover') {
                    // Hover state of the link element itself
                    fullSelector = `${linkBase}:hover`;
                  } else {
                    // Target child within the link (anchor/url/icon/etc.)
                    fullSelector = `${linkBase} ${baseSelector}`;
                  }
                }
              }
            }
          }

          if (this.selectorUsesDragOverState(selectorObj)) {
            fullSelector = this.appendDragOverToSelector(fullSelector);
          }
          if (this.selectorUsesHoverState(selectorObj)) {
            fullSelector = this.appendHoverToSelector(fullSelector);
          }

          return fullSelector;
        },

        generateFullCss() {
          let css = '';
          const declarationPattern = /^\s*([a-zA-Z_-][a-zA-Z0-9_-]*)\s*:\s*(.+?)\s*;?\s*$/;
          const splitImportant = (rawValue) => {
            const valueText = String(rawValue ?? '').trim();
            const hasInlineImportant = /\s*!important\s*$/i.test(valueText);
            const cleanValue = valueText.replace(/\s*!important\s*$/i, '').trim();
            return { cleanValue, hasInlineImportant };
          };
          const appendDeclaration = (target, rawProperty, rawValue, options = {}) => {
            const propertyName = String(rawProperty ?? '').trim();
            if (!propertyName) return;
            const { cleanValue, hasInlineImportant } = splitImportant(rawValue);
            if (!cleanValue) return;
            const useImportant = !!(options.forceImportant || options.explicitImportant || hasInlineImportant);
            target.push(`  ${propertyName}: ${cleanValue}${useImportant ? ' !important' : ''};`);
          };
          const appendDeclarationLine = (target, line, options = {}) => {
            const match = String(line || '').match(declarationPattern);
            if (!match) return;
            appendDeclaration(target, match[1], match[2], options);
          };
          const forceUserRuleImportant = !!this.selectedVisualTemplate;

          // Inject design tokens as CSS variables on :root
          if (this.designTokens && this.designTokens.length > 0) {
            css += ':root{\n';
            for (const t of this.designTokens) {
              if (!t || !t.name) continue;
              const name = this.normalizeTokenName(String(t.name));
              const value = (t.value ?? '').toString().trim();
              if (!name || !value) continue;
              css += `  --${name}: ${value};\n`;
            }
            css += '}\n\n';
          }

          // First, generate CSS from the selected template (base layer)
          if (this.selectedVisualTemplate) {
            const templateRules = this.getCurrentTemplate();
            css += '/* Template: ' + this.selectedVisualTemplate + ' */\n';

            for (const rule of templateRules) {
              if (!rule.enabled || !rule.selector) continue;

              const selector = this.generateCssSelector(rule);
              if (!selector || !String(selector).trim()) continue;
              const properties = [];

              for (const [prop, value] of Object.entries(rule.properties)) {
                appendDeclaration(properties, prop, value);
              }

              if (properties.length > 0) {
                css += `${selector} {\n${properties.join('\n')}\n}\n`;
              }
            }
          }

          // Then, generate CSS from user rules (override layer)
          if (this.visualCssRules.length > 0) {
            css += '\n/* User Rules (Override Template) */\n';

            for (const rule of this.visualCssRules) {
              if (!rule.enabled || !rule.selector) continue;
              const selObj = this.getRuleSelector(rule);
              // Skip rules without a selected element ("-- Element whlen --")
              if (!selObj.base) continue;

              const selector = this.generateCssSelector(rule);
              if (!selector || !String(selector).trim()) continue;
              const properties = [];
              let mirrorLinkAnchorColor = null;
              let hasBackgroundColorOverride = false;
              let hasExplicitBackgroundImage = false;
              const trackBackgroundIntent = (rawProperty, rawValue) => {
                const normalizedProperty = this.normalizeCssPropertyName(rawProperty);
                if (!normalizedProperty) return;
                const { cleanValue } = splitImportant(rawValue);
                if (!cleanValue) return;
                if (normalizedProperty === 'background-color') {
                  hasBackgroundColorOverride = true;
                } else if (normalizedProperty === 'background-image') {
                  hasExplicitBackgroundImage = true;
                }
              };

              for (const [prop, value] of Object.entries(rule.properties)) {
                if (!value) continue;
                const normalizedProp = this.normalizeCssPropertyName(prop);
                if (rule.disabled && (rule.disabled[prop] || (normalizedProp && rule.disabled[normalizedProp]))) continue;
                if (prop === 'custom') {
                  // Treat as inline properties inside this selector (one per line)
                  const customLines = String(value).split('\n').filter(line => line.trim());
                  for (const line of customLines) {
                    const customMatch = String(line || '').match(declarationPattern);
                    if (customMatch) {
                      trackBackgroundIntent(customMatch[1], customMatch[2]);
                    }
                    appendDeclarationLine(properties, line, { forceImportant: forceUserRuleImportant });
                  }
                } else {
                  trackBackgroundIntent(normalizedProp || prop, value);
                  const explicitImportant = !!(rule.important && (rule.important[prop] || (normalizedProp && rule.important[normalizedProp])));
                  appendDeclaration(properties, prop, value, {
                    forceImportant: forceUserRuleImportant,
                    explicitImportant
                  });
                  if (normalizedProp === 'color') {
                    mirrorLinkAnchorColor = {
                      value,
                      explicitImportant
                    };
                  }
                }
              }

              // Add custom CSS properties if present (legacy support)
              if (rule.customCss) {
                const customLines = rule.customCss.split('\n').filter(line => line.trim());
                for (const line of customLines) {
                  const customMatch = String(line || '').match(declarationPattern);
                  if (customMatch) {
                    trackBackgroundIntent(customMatch[1], customMatch[2]);
                  }
                  appendDeclarationLine(properties, line, { forceImportant: forceUserRuleImportant });
                }
              }

              // Dark template commonly sets gradient backgrounds via `background`.
              // If user sets only background-color, clear inherited background images so color is visible.
              if (this.selectedVisualTemplate && hasBackgroundColorOverride && !hasExplicitBackgroundImage) {
                appendDeclaration(properties, 'background-image', 'none', { forceImportant: forceUserRuleImportant });
              }

              if (properties.length > 0) {
                css += `${selector} {\n${properties.join('\n')}\n}\n`;
              }
              if ((selObj.base === 'links' || selObj.base === 'link-hover') && mirrorLinkAnchorColor) {
                const anchorProperties = [];
                appendDeclaration(anchorProperties, 'color', mirrorLinkAnchorColor.value, {
                  forceImportant: forceUserRuleImportant,
                  explicitImportant: mirrorLinkAnchorColor.explicitImportant
                });
                if (anchorProperties.length > 0) {
                  css += `${selector} .mb-link__anchor {\n${anchorProperties.join('\n')}\n}\n`;
                }
              }
            }
          }

          return css;
        },

        saveVisualCss() {
          this.normalizeAllVisualRules();
          debugLog('log', 'Saving Visual CSS Rules:', JSON.stringify(this.visualCssRules));
          debugLog('log', 'Selected Template:', this.selectedVisualTemplate);

          // Keep localStorage and exportable options in sync
          this.syncVisualCssStateToOptions(false);
          this.syncVisualCssStateToLocalStorage();

          // Generate and apply CSS live
          this.applyVisualCss();
        },

        applyVisualCss() {
          const css = this.generateFullCss();
          this.applyCustomCss(css);

          // Also save to data.options for persistence
          if (!this.data.options) {
            this.data.options = {};
          }
          this.syncVisualCssStateToOptions(false);
          this.data.options.visualCssRules = this.visualCssRules;
          this.data.options.customCss = css; // Keep for backwards compatibility
          this.syncVisualCssStateToLocalStorage();
          this.saveData();
        },

        // Persist/restore Design Tokens collapsed state
        toggleDesignTokensCollapse() {
          this.designTokensCollapsed = !this.designTokensCollapsed;
          this.saveDesignTokensCollapsed();
        },
        saveDesignTokensCollapsed() {
          this.syncVisualCssStateToOptions(true);
          try { localStorage.setItem('designTokensCollapsed', this.designTokensCollapsed ? '1' : '0'); } catch {}
        },
        loadDesignTokensCollapsed() {
          const visualCssOptions = this.ensureVisualCssOptions();
          const optionStateVersion = parseInt(visualCssOptions.stateVersion, 10);
          const hasPersistedVisualCssState = Number.isFinite(optionStateVersion) && optionStateVersion >= 1;

          if (hasPersistedVisualCssState) {
            this.designTokensCollapsed = !!visualCssOptions.designTokensCollapsed;
          } else {
            try {
              const v = localStorage.getItem('designTokensCollapsed');
              this.designTokensCollapsed = v === '1';
            } catch {
              this.designTokensCollapsed = false;
            }
          }
          this.syncVisualCssStateToOptions(this.dataLoaded === true);
          this.syncVisualCssStateToLocalStorage();
        },

        // Persist/restore collapsed state of rule cards
        saveCollapsedRules() {
          this.syncVisualCssStateToOptions(true);
          try {
            localStorage.setItem('visualCssCollapsedRules', JSON.stringify(this.collapsedRules || []));
          } catch (e) { /* ignore */ }
        },
        loadCollapsedRules() {
          const visualCssOptions = this.ensureVisualCssOptions();
          const optionStateVersion = parseInt(visualCssOptions.stateVersion, 10);
          const hasPersistedVisualCssState = Number.isFinite(optionStateVersion) && optionStateVersion >= 1;

          if (hasPersistedVisualCssState && Array.isArray(visualCssOptions.collapsedRules)) {
            this.collapsedRules = JSON.parse(JSON.stringify(visualCssOptions.collapsedRules));
          } else {
            try {
              const stored = localStorage.getItem('visualCssCollapsedRules');
              const arr = stored ? JSON.parse(stored) : [];
              if (Array.isArray(arr)) this.collapsedRules = arr;
            } catch (e) {
              this.collapsedRules = [];
            }
          }
          this.syncVisualCssStateToOptions(this.dataLoaded === true);
          this.syncVisualCssStateToLocalStorage();
        },

        copyCssToClipboard() {
          const css = this.generateFullCss();
          navigator.clipboard.writeText(css).then(() => {
            alert('CSS wurde in die Zwischenablage kopiert!');
          }).catch(err => {
            debugLog('error', 'Failed to copy CSS:', err);
            alert('Fehler beim Kopieren des CSS');
          });
        },

        // Element Picker
        startElementPicker(rule) {
          if (this.elementPickerActive && this.currentPickerRule && this.currentPickerRule.id === rule.id) {
            return this.stopElementPicker();
          }
          this.currentPickerRule = rule;
          this.elementPickerActive = true;
          document.addEventListener('mouseover', this.onPickerMouseOver, true);
          document.addEventListener('mouseout', this.onPickerMouseOut, true);
          document.addEventListener('click', this.onPickerClick, true);
          this.showToast(this.getTranslation('css.visual.pickerActive') || 'Element-Picker aktiv: Klicke ein Element im Inhalt (Shift+Klick = Link Hover)', 'info');
        },
        stopElementPicker() {
          this.elementPickerActive = false;
          this.currentPickerRule = null;
          document.removeEventListener('mouseover', this.onPickerMouseOver, true);
          document.removeEventListener('mouseout', this.onPickerMouseOut, true);
          document.removeEventListener('click', this.onPickerClick, true);
          this.clearPickerHighlight();
        },
        onPickerMouseOver(e) {
          if (!this.elementPickerActive) return;
          const t = e.target;
          if (t.closest('.mb-css-sidebar')) return; // ignore sidebar
          this.highlightElement(t);
        },
        onPickerMouseOut(e) {
          if (!this.elementPickerActive) return;
          // optional: keep highlight on current element
        },
        onPickerClick(e) {
          if (!this.elementPickerActive) return;
          const t = e.target;
          if (t.closest('.mb-css-sidebar')) return;
          e.preventDefault();
          e.stopPropagation();
          try {
            const base = this.detectBaseForElement(t, e);
            const pickedRule = this.currentPickerRule;
            if (base && pickedRule) {
              // Update base
              // Pass a flag to avoid auto-adding template properties when picking
              const evt = { target: { value: base }, fromPicker: true };
              this.updateRuleBase(pickedRule, evt);
              // Ensure dropdown reflects pick
              this.$nextTick(() => {
                if (!pickedRule) return;
                const refKey = 'baseSelector-' + pickedRule.id;
                const el = this.$refs[refKey];
                if (el) {
                  if (Array.isArray(el) && el[0]) el[0].value = base;
                  else el.value = base;
                }
              });
              // Optionally detect group/link IDs
              const groupEl = t.closest('.mb-group');
              if (groupEl && groupEl.dataset && groupEl.dataset.uuid) {
                const gevt = { target: { value: groupEl.dataset.uuid } };
                this.updateRuleGroupId(pickedRule, gevt);
              }
              const linkEl = t.closest('.mb-link');
              if (linkEl && linkEl.dataset && linkEl.dataset.uuid) {
                const levt = { target: { value: linkEl.dataset.uuid } };
                this.updateRuleLinkId(pickedRule, levt);
              }
              // Auto-fill keyword slug when picking keyword-specific selectors
              if (base === 'keyword-by-name' || base === 'keywords-hierarchical') {
                const slug = this.detectKeywordSlugForElement(t);
                if (slug) {
                  const kevt = { target: { value: slug } };
                  this.updateRuleKeywordSlug(pickedRule, kevt);
                }
              }
              this.showToast((this.getTranslation('css.visual.picked') || 'Ausgewhlt') + ': ' + base, 'success');
            }
          } finally {
            this.stopElementPicker();
          }
        },
        highlightElement(el) {
          this.clearPickerHighlight();
          this.lastHighlightedEl = el;
          this.lastHighlightedOutline = el.style.outline;
          el.style.outline = '2px solid #0d6efd';
          el.style.outlineOffset = '2px';
        },
        clearPickerHighlight() {
          if (this.lastHighlightedEl) {
            this.lastHighlightedEl.style.outline = this.lastHighlightedOutline || '';
            this.lastHighlightedEl.style.outlineOffset = '';
            this.lastHighlightedEl = null;
            this.lastHighlightedOutline = null;
          }
        },
        detectKeywordSlugForElement(el) {
          if (!el || typeof el.closest !== 'function') return '';
          const keywordEl = el.closest('[data-keyword], [class*="mb-keyword-kw-"]');
          if (!keywordEl) return '';

          const datasetKeyword = String(keywordEl?.dataset?.keyword || '').trim();
          if (datasetKeyword) return this.keywordSlug(datasetKeyword);

          const className = String(keywordEl.className || '');
          const classMatch = className.match(/\bmb-keyword-kw-([a-z0-9_-]+)\b/i);
          if (classMatch && classMatch[1]) return this.keywordSlug(classMatch[1]);

          const labelEl = keywordEl.querySelector('.mb-keyword-text');
          const textFallback = String((labelEl && labelEl.textContent) || keywordEl.textContent || '').trim();
          if (!textFallback) return '';
          return this.keywordSlug(textFallback);
        },
        detectBaseForElement(el, event = null) {
          if (event && event.shiftKey && el.closest('.mb-link')) {
            return 'link-hover';
          }
          // Check most specific targets first; body last
          const candidates = [
            { base: 'link-popover-favicon', sel: '.link-detail-popover__favicon' },
            { base: 'link-popover-badge', sel: '.link-detail-popover__badge' },
            { base: 'link-popover-keywords', sel: '.link-detail-popover__keywords' },
            { base: 'link-popover-value-muted', sel: '.link-detail-popover__value--muted' },
            { base: 'link-popover-value', sel: '.link-detail-popover__value' },
            { base: 'link-popover-label', sel: '.link-detail-popover__label' },
            { base: 'link-popover-row', sel: '.link-detail-popover__row' },
            { base: 'link-popover-meta', sel: '.link-detail-popover__meta' },
            { base: 'link-popover-url', sel: '.link-detail-popover__url' },
            { base: 'link-popover-title', sel: '.link-detail-popover__title' },
            { base: 'link-popover', sel: '.link-detail-popover' },
            { base: 'link-vertical-dropzone', sel: '.linkVerticalDropZone' },
            { base: 'link-horizontal-dropzone', sel: '.linkContainerDragAndDrop, .link-drop-zone' },
            { base: 'vertical-dropzone', sel: '.verticalDropZone' },
            { base: 'group-horizontal-dropzone', sel: '.groupContainerDragAndDrop, .group-drop-zone' },
            { base: 'keyword-selected-text', sel: '.mb-keywords-cloud .mb-keyword.mb-keyword-active .mb-keyword-text' },
            { base: 'keywords-selected', sel: '.mb-keywords-cloud .mb-keyword.mb-keyword-active' },
            { base: 'keyword-by-name', sel: '.mb-keywords-cloud .mb-keyword[class*="mb-keyword-kw-"]' },
            { base: 'keyword-suggestion-item', sel: '.mb-keyword-suggestion' },
            { base: 'keyword-suggestions', sel: '.mb-keyword-suggestions, .mb-keyword-suggestions--overlay' },
            { base: 'keywords-hierarchical', sel: '.keyword-badge' },
            { base: 'context-menu-item', sel: '.mb-context-menu-list > li' },
            { base: 'context-menu', sel: '.mb-context-menu' },
            { base: 'dropdown-item', sel: '.dropdown-item' },
            { base: 'dropdown-menu', sel: '.dropdown-menu' },
            { base: 'form-check-input', sel: '.form-check-input' },
            { base: 'input-group-text', sel: '.input-group-text' },
            { base: 'form-select', sel: '.form-select' },
            { base: 'form-control', sel: '.form-control' },
            { base: 'table-header', sel: '.table thead th' },
            { base: 'table-cell', sel: '.table tbody td' },
            { base: 'table', sel: '.table' },
            { base: 'list-group-item', sel: '.list-group-item' },
            { base: 'card-header', sel: '.card-header' },
            { base: 'card', sel: '.card' },
            { base: 'alert-warning', sel: '.alert-warning' },
            { base: 'alert-info', sel: '.alert-info' },
            { base: 'surface-panel', sel: '.mb-surface-panel' },
            { base: 'muted-text', sel: '.text-muted' },
            { base: 'sidebar-divider', sel: '.sidebar-divider' },
            { base: 'sidebar-bottom-section', sel: '.sidebar-bottom-section' },
            { base: 'sidebar-top-section', sel: '.sidebar-top-section' },
            { base: 'sidebar-header', sel: '.sidebar-header' },
            { base: 'feature-sidebar', sel: '.feature-sidebar' },
            { base: 'css-sidebar', sel: '.css-sidebar' },
            { base: 'modal-header', sel: '.modal-header' },
            { base: 'modal-body', sel: '.modal-body' },
            { base: 'modal-footer', sel: '.modal-footer' },
            { base: 'modal', sel: '.modal-content' },
            { base: 'link-anchor', sel: '.mb-link__anchor' },
            { base: 'link-url', sel: '.link-url-preview, .mb-link__url' },
            { base: 'link-icon', sel: '.mb-link__icon' },
            { base: 'separators', sel: '.mb-link-separator, .mb-link-separator-row' },
            { base: 'notes', sel: '.mb-link-note, .mb-link-note-row' },
            { base: 'links', sel: '.mb-link' },
            { base: 'group-title', sel: '.mb-group__title' },
            { base: 'group-header', sel: '.mb-group__header' },
            { base: 'group-body', sel: '.mb-group__body' },
            { base: 'groups', sel: '.mb-group' },
            { base: 'groups-links-container', sel: '.mb-groups-links-container, .mainContainer' },
            { base: 'toolbar', sel: '.mb-toolbar' },
            { base: 'header', sel: '.mb-titlebar' },
            { base: 'footer', sel: '.mb-footer' },
            { base: 'app', sel: '#app, .mb-app' },
            { base: 'keywords', sel: '.mb-keyword' },
            { base: 'body', sel: 'body' }
          ];
          for (const c of candidates) {
            if (el.closest(c.sel)) return c.base;
          }
          return '';
        },

        

        exportVisualCssRules() {
          const dataStr = JSON.stringify(this.visualCssRules, null, 2);
          const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);

          const exportName = 'visual-css-rules-' + new Date().toISOString().slice(0, 10) + '.json';

          const linkElement = document.createElement('a');
          linkElement.setAttribute('href', dataUri);
          linkElement.setAttribute('download', exportName);
          linkElement.click();
        },

        importVisualCssRules(event) {
          const file = event.target.files[0];
          if (!file) return;

          const reader = new FileReader();
          reader.onload = (e) => {
            try {
              const rules = JSON.parse(e.target.result);
              if (Array.isArray(rules)) {
                this.visualCssRules = rules.map((rule) => this.normalizeVisualRule(JSON.parse(JSON.stringify(rule))));
                this.saveVisualCss();
                alert('CSS rules imported successfully!');
              } else {
                alert('Invalid rules file format');
              }
            } catch (err) {
              alert('Failed to import rules: ' + err.message);
            }
          };
          reader.readAsText(file);
        },

        // Helper methods for Visual CSS Editor
        canSelectGroup(rule) {
          // Get the selector object
          const selector = this.getRuleSelector(rule);

          // Can select group if base selector supports groups
          const groupSupportingSelectors = [
            'groups', 'group-header', 'group-title', 'group-body',
            'links', 'separators', 'notes', 'link-hover', 'link-anchor', 'link-url', 'link-icon',
            'link-vertical-dropzone', 'link-horizontal-dropzone',
            'link-popover', 'link-popover-title', 'link-popover-url', 'link-popover-meta',
            'link-popover-row', 'link-popover-label', 'link-popover-value', 'link-popover-value-muted',
            'link-popover-keywords', 'link-popover-badge', 'link-popover-favicon',
            'badges-group', 'badges-group-linkcount', 'badges-group-keywords',
            'badges-link', 'badges-link-keywords',
            'keywords-hierarchical'  // New hierarchical keyword selector
            // keyword-by-name removed - no group selection needed
          ];

          // Don't show group selector for global selectors
          const canSelect = groupSupportingSelectors.includes(selector.base);

          debugLog('log', 'canSelectGroup:', {
            base: selector.base,
            canSelect: canSelect,
            supportingSelectors: groupSupportingSelectors
          });

          return canSelect;
        },

        canSelectLink(rule) {
          // Get the selector object
          const selector = this.getRuleSelector(rule);

          // Can select link if:
          // 1. A group is selected AND the base selector supports link selection
          const linkSupportingSelectors = [
            'links', 'separators', 'notes', 'link-hover', 'link-anchor', 'link-url', 'link-icon',
            'link-popover', 'link-popover-title', 'link-popover-url', 'link-popover-meta',
            'link-popover-row', 'link-popover-label', 'link-popover-value', 'link-popover-value-muted',
            'link-popover-keywords', 'link-popover-badge', 'link-popover-favicon',
            'badges-link', 'badges-link-keywords',
            'keywords-hierarchical'  // Can optionally select link for more specific targeting
          ];

          return selector.groupId && linkSupportingSelectors.includes(selector.base);
        },

        getLinksForRule(rule) {
          const selector = this.getRuleSelector(rule);
          if (!selector.groupId) return [];

          // Find group by id or uuid
          const group = this.data.groups.find(g =>
            g.id === selector.groupId ||
            g.uuid === selector.groupId
          );

          const links = group ? group.links.filter(l => !l.deleted) : [];
          if (selector.base === 'separators') {
            return links.filter((link) => this.isSeparatorLink(link));
          }
          if (selector.base === 'notes') {
            return links.filter((link) => this.isNoteLink(link));
          }
          if (selector.base === 'links') {
            return links.filter((link) => !this.isSeparatorLink(link) && !this.isNoteLink(link));
          }
          return links;
        },
        getCssRuleLinkLabel(link) {
          if (!link || typeof link !== 'object') return '';
          const isSeparator = !!(this.isSeparatorLink && this.isSeparatorLink(link));
          const isNote = !!(this.isNoteLink && this.isNoteLink(link));
          const text = String(link.text || '').trim();
          if (isSeparator) {
            const idLabel = String(link.uuid || link.id || '').trim();
            const baseLabel = text || idLabel || (this.getTranslation('link.separator.defaultLabel') || 'Separator');
            return baseLabel;
          }
          if (isNote) {
            const idLabel = String(link.uuid || link.id || '').trim();
            const baseLabel = text || idLabel || (this.getTranslation('link.note.defaultLabel') || 'Note');
            return baseLabel;
          }
          const effectiveText = (typeof this.getEffectiveLinkText === 'function')
            ? String(this.getEffectiveLinkText(link) || '').trim()
            : '';
          if (effectiveText) return effectiveText;
          if (text) return text;
          const effectiveUrl = (typeof this.getEffectiveLinkUrl === 'function')
            ? String(this.getEffectiveLinkUrl(link) || '').trim()
            : '';
          if (effectiveUrl) return effectiveUrl;
          const url = String(link.url || '').trim();
          if (url) return url;
          return String(link.uuid || link.id || '').trim();
        },

        getSelectorInfo(selectorValue) {
          return this.visualCssAvailableSelectors.find(s => s.value === selectorValue) || {};
        },

        normalizeCssPropertyName(property) {
          if (property === undefined || property === null) return '';
          let normalized = String(property).trim();
          if (!normalized) return '';
          if (normalized.toLowerCase() === 'custom') return 'custom';
          normalized = normalized.replace(/\s*!important\s*$/i, '').trim();
          // Preserve CSS variables as-is (lowercased for consistency)
          if (normalized.startsWith('--')) {
            normalized = normalized.toLowerCase().replace(/[:;]+$/g, '');
            normalized = normalized.replace(/[^a-z0-9_-]/g, '');
            return normalized;
          }
          normalized = normalized.replace(/[:;]+$/g, '');
          // Convert camelCase and spaced keys to kebab-case
          normalized = normalized
            .replace(/([a-z0-9])([A-Z])/g, '$1-$2')
            .replace(/[_\s]+/g, '-')
            .replace(/-+/g, '-')
            .replace(/^-|-$/g, '')
            .toLowerCase();
          normalized = normalized.replace(/[^a-z0-9-]/g, '');
          normalized = normalized.replace(/-+/g, '-').replace(/^-|-$/g, '');
          return normalized;
        },

        normalizeCssPropertyAlias(property) {
          const normalized = this.normalizeCssPropertyName(property);
          if (!normalized) return '';
          if (normalized.startsWith('--')) return normalized;
          return normalized.replace(/-/g, '');
        },

        findEquivalentPropertyKey(properties, property) {
          if (!properties || typeof properties !== 'object') return '';
          const target = this.normalizeCssPropertyName(property);
          if (!target) return '';
          const targetAlias = this.normalizeCssPropertyAlias(target);
          for (const key of Object.keys(properties)) {
            const normalizedKey = this.normalizeCssPropertyName(key);
            if (normalizedKey === target) return key;
            const aliasKey = this.normalizeCssPropertyAlias(normalizedKey);
            if (targetAlias && aliasKey && aliasKey === targetAlias) return key;
          }
          return '';
        },

        areObjectsShallowEqual(a, b) {
          const objA = (a && typeof a === 'object') ? a : {};
          const objB = (b && typeof b === 'object') ? b : {};
          const keysA = Object.keys(objA);
          const keysB = Object.keys(objB);
          if (keysA.length !== keysB.length) return false;
          for (const key of keysA) {
            if (!Object.prototype.hasOwnProperty.call(objB, key)) return false;
            if (objA[key] !== objB[key]) return false;
          }
          return true;
        },

        normalizeRuleProperties(rule) {
          if (!rule || typeof rule !== 'object') return;

          const srcProps = (rule.properties && typeof rule.properties === 'object' && !Array.isArray(rule.properties))
            ? rule.properties
            : {};
          const srcImportant = (rule.important && typeof rule.important === 'object' && !Array.isArray(rule.important))
            ? rule.important
            : {};
          const srcDisabled = (rule.disabled && typeof rule.disabled === 'object' && !Array.isArray(rule.disabled))
            ? rule.disabled
            : {};

          const nextProps = {};
          const nextImportant = {};
          const nextDisabled = {};
          const aliasToCanonical = {};

          for (const rawKey of Object.keys(srcProps)) {
            const normalizedKey = this.normalizeCssPropertyName(rawKey);
            if (!normalizedKey) continue;
            const aliasKey = this.normalizeCssPropertyAlias(normalizedKey) || normalizedKey;
            const value = srcProps[rawKey];
            let canonicalKey = aliasToCanonical[aliasKey];

            if (!canonicalKey) {
              canonicalKey = normalizedKey;
              aliasToCanonical[aliasKey] = canonicalKey;
            } else if (canonicalKey !== normalizedKey) {
              const canonicalHasHyphen = canonicalKey.includes('-');
              const candidateHasHyphen = normalizedKey.includes('-');
              if (!canonicalHasHyphen && candidateHasHyphen) {
                const previousCanonical = canonicalKey;
                canonicalKey = normalizedKey;
                aliasToCanonical[aliasKey] = canonicalKey;
                if (Object.prototype.hasOwnProperty.call(nextProps, previousCanonical)
                    && !Object.prototype.hasOwnProperty.call(nextProps, canonicalKey)) {
                  nextProps[canonicalKey] = nextProps[previousCanonical];
                }
                delete nextProps[previousCanonical];
              }
            }

            if (!Object.prototype.hasOwnProperty.call(nextProps, canonicalKey)) {
              nextProps[canonicalKey] = value;
            } else {
              const currentValue = nextProps[canonicalKey];
              const currentEmpty = currentValue === '' || currentValue === null || currentValue === undefined;
              const newEmpty = value === '' || value === null || value === undefined;
              if (currentEmpty && !newEmpty) nextProps[canonicalKey] = value;
            }
          }

          for (const rawKey of Object.keys(srcImportant)) {
            const normalizedKey = this.normalizeCssPropertyName(rawKey);
            const aliasKey = this.normalizeCssPropertyAlias(normalizedKey) || normalizedKey;
            const canonicalKey = aliasToCanonical[aliasKey] || normalizedKey;
            if (!normalizedKey || !Object.prototype.hasOwnProperty.call(nextProps, canonicalKey)) continue;
            const boolVal = !!srcImportant[rawKey];
            if (!Object.prototype.hasOwnProperty.call(nextImportant, canonicalKey)) {
              nextImportant[canonicalKey] = boolVal;
            } else {
              nextImportant[canonicalKey] = nextImportant[canonicalKey] || boolVal;
            }
          }

          for (const rawKey of Object.keys(srcDisabled)) {
            const normalizedKey = this.normalizeCssPropertyName(rawKey);
            const aliasKey = this.normalizeCssPropertyAlias(normalizedKey) || normalizedKey;
            const canonicalKey = aliasToCanonical[aliasKey] || normalizedKey;
            if (!normalizedKey || !Object.prototype.hasOwnProperty.call(nextProps, canonicalKey)) continue;
            const boolVal = !!srcDisabled[rawKey];
            if (!Object.prototype.hasOwnProperty.call(nextDisabled, canonicalKey)) {
              nextDisabled[canonicalKey] = boolVal;
            } else {
              nextDisabled[canonicalKey] = nextDisabled[canonicalKey] || boolVal;
            }
          }

          const propsChanged = !this.areObjectsShallowEqual(srcProps, nextProps);
          const importantChanged = !this.areObjectsShallowEqual(srcImportant, nextImportant);
          const disabledChanged = !this.areObjectsShallowEqual(srcDisabled, nextDisabled);

          if (!propsChanged && !importantChanged && !disabledChanged) {
            return false;
          }

          if (this.$set) {
            this.$set(rule, 'properties', nextProps);
            this.$set(rule, 'important', nextImportant);
            this.$set(rule, 'disabled', nextDisabled);
          } else {
            rule.properties = nextProps;
            rule.important = nextImportant;
            rule.disabled = nextDisabled;
          }
          return true;
        },

        normalizeVisualRule(rule) {
          if (!rule || typeof rule !== 'object') return rule;

          if (typeof rule.selector === 'string') {
            rule.selector = {
              base: rule.selector,
              groupId: rule.groupId || null,
              linkId: rule.linkId || null,
              keywordSlug: null,
              hover: false,
              dragOver: false
            };
          }
          if (!rule.selector || typeof rule.selector !== 'object') {
            rule.selector = {
              base: '',
              groupId: null,
              linkId: null,
              keywordSlug: null,
              hover: false,
              dragOver: false
            };
          }
          if (!Object.prototype.hasOwnProperty.call(rule.selector, 'keywordSlug')) {
            rule.selector.keywordSlug = null;
          }
          if (!Object.prototype.hasOwnProperty.call(rule.selector, 'hover')) {
            rule.selector.hover = false;
          }
          if (!Object.prototype.hasOwnProperty.call(rule.selector, 'dragOver')) {
            rule.selector.dragOver = false;
          }
          if (rule.selector.base === 'link-hover' && rule.selector.hover) {
            rule.selector.hover = false;
          }

          this.normalizeRuleProperties(rule);
          return rule;
        },

        normalizeAllVisualRules() {
          if (!Array.isArray(this.visualCssRules)) return;
          const seenRuleIds = new Set();
          this.visualCssRules.forEach((rule) => {
            this.normalizeVisualRule(rule);
            if (!rule || typeof rule !== 'object') return;

            let ruleId = rule.id;
            if (ruleId === undefined || ruleId === null || ruleId === '') {
              rule.id = this.nextVisualRuleId();
              ruleId = rule.id;
            }

            while (seenRuleIds.has(String(ruleId))) {
              rule.id = this.nextVisualRuleId();
              ruleId = rule.id;
            }
            seenRuleIds.add(String(ruleId));
          });
        },

        formatPropertyName(property) {
          // Convert CSS property names to readable format
          const normalizedProperty = this.normalizeCssPropertyName(property);
          const propertyMap = {
            'custom': 'Custom CSS',
            'background': 'Background',
            'background-color': 'Background Color',
            'backgroundcolor': 'Background Color',
            'color': 'Text Color',
            'font-family': 'Font Family',
            'font-size': 'Font Size',
            'font-weight': 'Font Weight',
            'border': 'Border',
            'border-color': 'Border Color',
            'bordercolor': 'Border Color',
            'border-radius': 'Border Radius',
            'outline-color': 'Outline Color',
            'outlinecolor': 'Outline Color',
            'padding': 'Padding',
            'margin': 'Margin',
            'display': 'Display',
            'opacity': 'Opacity',
            'text-decoration': 'Text Decoration',
            'text-transform': 'Text Transform',
            'box-shadow': 'Box Shadow',
            'width': 'Width',
            'height': 'Height'
          };
          if (propertyMap[normalizedProperty]) return propertyMap[normalizedProperty];
          if (normalizedProperty.startsWith('--')) return normalizedProperty;
          return normalizedProperty.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
        },

        getCssEnumOptions(enumType) {
          const map = {
            'border-style': ['none', 'solid', 'dashed', 'dotted', 'double', 'groove', 'ridge', 'inset', 'outset'],
            'outline-style': ['none', 'solid', 'dashed', 'dotted', 'double', 'groove', 'ridge', 'inset', 'outset'],
            'text-align': ['left', 'center', 'right', 'justify', 'start', 'end'],
            'text-decoration': ['none', 'underline', 'overline', 'line-through', 'underline overline'],
            'font-weight': ['100', '200', '300', '400', '500', '600', '700', '800', '900', 'normal', 'bold', 'bolder', 'lighter'],
            'display': ['block', 'inline', 'inline-block', 'flex', 'inline-flex', 'grid', 'inline-grid', 'none']
          };
          return map[enumType] || [];
        },

        getCssPropertySchema(property) {
          const normalized = this.normalizeCssPropertyName(property);
          if (!normalized || normalized === 'custom' || normalized.startsWith('--')) {
            return { kind: 'raw' };
          }

          if (normalized === 'font-family') {
            return { kind: 'font-family' };
          }

          if (normalized === 'font-weight') {
            return { kind: 'enum', options: this.getCssEnumOptions('font-weight') };
          }

          if (normalized === 'text-align') {
            return { kind: 'enum', options: this.getCssEnumOptions('text-align') };
          }

          if (normalized === 'text-decoration') {
            return { kind: 'enum', options: this.getCssEnumOptions('text-decoration') };
          }

          if (normalized === 'display') {
            return { kind: 'enum', options: this.getCssEnumOptions('display') };
          }

          if (normalized === 'opacity') {
            return { kind: 'number', min: 0, max: 1, step: 0.01 };
          }

          if (normalized === 'box-shadow') {
            return { kind: 'shadow' };
          }

          if (normalized === 'padding' || normalized === 'margin') {
            return {
              kind: 'spacing',
              units: normalized === 'margin'
                ? ['px', 'rem', 'em', '%', 'auto']
                : ['px', 'rem', 'em', '%']
            };
          }

          if (
            normalized === 'border'
            || normalized === 'outline'
            || /^border-(top|right|bottom|left)$/.test(normalized)
          ) {
            return { kind: 'border' };
          }

          if (
            normalized === 'font-size'
            || normalized === 'width'
            || normalized === 'height'
            || normalized === 'outline-width'
            || normalized === 'outline-offset'
            || normalized === 'border-width'
            || /^border-(top|right|bottom|left)-width$/.test(normalized)
            || normalized === 'border-radius'
            || /^border-(top|right|bottom|left)-(left|right)-radius$/.test(normalized)
          ) {
            const keywords = [];
            let units = ['px', 'rem', 'em'];
            if (normalized === 'width' || normalized === 'height') {
              keywords.push('auto', 'fit-content', 'min-content', 'max-content');
              units = ['px', 'rem', 'em', '%', 'vw', 'vh'];
            } else if (normalized === 'font-size') {
              units = ['px', 'rem', 'em', '%'];
            } else if (normalized.includes('radius')) {
              units = ['px', 'rem', 'em', '%'];
            }
            if (normalized.includes('width') && normalized.startsWith('border')) {
              keywords.push('thin', 'medium', 'thick');
            }
            return {
              kind: 'length',
              units,
              keywords
            };
          }

          if (
            normalized === 'border-style'
            || normalized === 'outline-style'
            || /^border-(top|right|bottom|left)-style$/.test(normalized)
          ) {
            return { kind: 'enum', options: this.getCssEnumOptions('border-style') };
          }

          if (this.isColorProperty(normalized) || normalized === 'background') {
            return { kind: 'color' };
          }

          return { kind: 'raw' };
        },

        isCssPropertyEditorTarget(rule, property) {
          if (!rule || !property) return false;
          const editorRuleId = this.cssPropertyEditor?.ruleId;
          const editorProperty = this.normalizeCssPropertyName(this.cssPropertyEditor?.property || '');
          if (!editorRuleId || !editorProperty) return false;
          return String(rule.id) === String(editorRuleId)
            && this.normalizeCssPropertyName(property) === editorProperty;
        },

        isCssPropertyEditorSectionExpanded(sectionKey) {
          return this.cssPropertyEditorExpandedSections[sectionKey] !== false;
        },

        toggleCssPropertyEditorSection(sectionKey) {
          this.$set(this.cssPropertyEditorExpandedSections, sectionKey, !this.isCssPropertyEditorSectionExpanded(sectionKey));
        },

        clearCssPropertyEditorSelection() {
          this.cssPropertyEditor = {
            ruleId: null,
            property: '',
            rawValue: '',
            useRawValue: false,
            important: false,
            model: {}
          };
        },

        openCssPropertyEditor(rule, property) {
          if (!rule || !property) return;
          const normalizedProperty = this.normalizeCssPropertyName(property);
          if (!normalizedProperty || normalizedProperty === 'custom') return;
          this.$set(this.cssPropertyEditor, 'ruleId', rule.id);
          this.$set(this.cssPropertyEditor, 'property', normalizedProperty);
          this.cssPropertyEditorExpandedSections = { basic: true, value: true, advanced: true };
          this.ensureCssPropertyEditorFonts();
          this.resetCssPropertyEditorDraft();
        },

        resetCssPropertyEditorDraft() {
          const rule = this.cssPropertyEditorRule;
          const property = this.normalizeCssPropertyName(this.cssPropertyEditor?.property || '');
          if (!rule || !property) return;
          const key = this.findEquivalentPropertyKey(rule.properties, property) || property;
          const rawValue = String(rule?.properties?.[key] ?? '');
          const schema = this.getCssPropertySchema(property);
          const parsed = this.parseCssPropertyEditorDraft(schema, rawValue);

          this.$set(this.cssPropertyEditor, 'rawValue', rawValue);
          this.$set(this.cssPropertyEditor, 'important', this.getPropertyImportant(rule, property));
          this.$set(this.cssPropertyEditor, 'model', parsed.model);
          this.$set(this.cssPropertyEditor, 'useRawValue', schema.kind === 'raw' || !parsed.success);
        },

        createDefaultCssPropertyEditorModel(schema) {
          const kind = schema?.kind || 'raw';
          if (kind === 'color') {
            return { color: '#000000', alpha: 1, tokenName: '' };
          }
          if (kind === 'font-family') {
            return { fontFamily: '', fontFamilyCustom: '' };
          }
          if (kind === 'enum') {
            return { enumValue: (schema.options || [])[0] || '' };
          }
          if (kind === 'number') {
            return { numberValue: Number.isFinite(schema.min) ? schema.min : 0 };
          }
          if (kind === 'length') {
            return { lengthValue: 0, lengthUnit: (schema.units || ['px'])[0], lengthKeyword: '' };
          }
          if (kind === 'spacing') {
            const unit = (schema.units || ['px'])[0];
            return {
              spacingLinked: true,
              spacing: {
                top: { value: 0, unit },
                right: { value: 0, unit },
                bottom: { value: 0, unit },
                left: { value: 0, unit }
              }
            };
          }
          if (kind === 'border') {
            return { border: { width: 1, unit: 'px', style: 'solid', color: '#000000', alpha: 1 } };
          }
          if (kind === 'shadow') {
            return {
              shadow: {
                offsetX: 0,
                offsetY: 2,
                blur: 8,
                spread: 0,
                color: '#000000',
                alpha: 0.25,
                inset: false
              }
            };
          }
          return {};
        },

        parseCssPropertyEditorDraft(schema, rawValue) {
          const kind = schema?.kind || 'raw';
          const raw = String(rawValue || '').trim();
          const model = this.createDefaultCssPropertyEditorModel(schema);
          if (!raw) return { success: true, model };

          if (kind === 'color') {
            const varMatch = raw.match(/^var\(\s*--([a-z0-9_-]+)\s*\)$/i);
            if (varMatch) {
              model.tokenName = this.normalizeTokenName(varMatch[1]);
              return { success: true, model };
            }
            const hex = this.getValidHexColor(raw);
            if (/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(raw)) {
              model.color = hex;
              model.alpha = 1;
              model.tokenName = '';
              return { success: true, model };
            }
            const rgbaMatch = raw.match(/^rgba?\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)(?:\s*,\s*([0-9.]+))?\s*\)$/i);
            if (rgbaMatch) {
              const r = Math.max(0, Math.min(255, parseFloat(rgbaMatch[1]) || 0));
              const g = Math.max(0, Math.min(255, parseFloat(rgbaMatch[2]) || 0));
              const b = Math.max(0, Math.min(255, parseFloat(rgbaMatch[3]) || 0));
              const a = rgbaMatch[4] !== undefined ? Math.max(0, Math.min(1, parseFloat(rgbaMatch[4]) || 0)) : 1;
              model.color = '#' + [r, g, b].map((n) => Math.round(n).toString(16).padStart(2, '0')).join('');
              model.alpha = a;
              model.tokenName = '';
              return { success: true, model };
            }
            return { success: false, model };
          }

          if (kind === 'font-family') {
            model.fontFamilyCustom = raw;
            model.fontFamily = raw;
            return { success: true, model };
          }

          if (kind === 'enum') {
            if ((schema.options || []).includes(raw)) {
              model.enumValue = raw;
              return { success: true, model };
            }
            return { success: false, model };
          }

          if (kind === 'number') {
            const parsed = parseFloat(raw);
            if (!Number.isFinite(parsed)) return { success: false, model };
            model.numberValue = parsed;
            return { success: true, model };
          }

          if (kind === 'length') {
            if ((schema.keywords || []).includes(raw)) {
              model.lengthKeyword = raw;
              return { success: true, model };
            }
            const m = raw.match(/^(-?\d*\.?\d+)([a-z%]+)?$/i);
            if (!m) return { success: false, model };
            model.lengthValue = parseFloat(m[1]);
            model.lengthUnit = m[2] || model.lengthUnit || 'px';
            model.lengthKeyword = '';
            return { success: true, model };
          }

          if (kind === 'spacing') {
            const tokens = raw.split(/\s+/).filter(Boolean);
            if (!tokens.length || tokens.length > 4) return { success: false, model };
            const expanded = [];
            if (tokens.length === 1) expanded.push(tokens[0], tokens[0], tokens[0], tokens[0]);
            if (tokens.length === 2) expanded.push(tokens[0], tokens[1], tokens[0], tokens[1]);
            if (tokens.length === 3) expanded.push(tokens[0], tokens[1], tokens[2], tokens[1]);
            if (tokens.length === 4) expanded.push(tokens[0], tokens[1], tokens[2], tokens[3]);
            const sides = ['top', 'right', 'bottom', 'left'];
            for (let i = 0; i < sides.length; i += 1) {
              const side = sides[i];
              const token = expanded[i];
              if (token === 'auto') {
                model.spacing[side] = { value: 0, unit: 'auto' };
                continue;
              }
              const parsed = token.match(/^(-?\d*\.?\d+)([a-z%]+)?$/i);
              if (!parsed) return { success: false, model };
              model.spacing[side] = {
                value: parseFloat(parsed[1]),
                unit: parsed[2] || model.spacing[side].unit || 'px'
              };
            }
            model.spacingLinked = sides.every((side) =>
              model.spacing[side].value === model.spacing.top.value && model.spacing[side].unit === model.spacing.top.unit
            );
            return { success: true, model };
          }

          if (kind === 'border') {
            const tokens = raw.split(/\s+/).filter(Boolean);
            if (!tokens.length) return { success: false, model };
            const styles = this.getCssEnumOptions('border-style');
            let widthToken = '';
            let styleToken = '';
            let colorToken = '';
            tokens.forEach((token) => {
              if (!styleToken && styles.includes(token)) {
                styleToken = token;
                return;
              }
              if (!widthToken && /^(-?\d*\.?\d+)([a-z%]+)?$/i.test(token)) {
                widthToken = token;
                return;
              }
              if (!widthToken && ['thin', 'medium', 'thick'].includes(token)) {
                widthToken = token;
                return;
              }
              colorToken += (colorToken ? ' ' : '') + token;
            });
            if (widthToken) {
              if (['thin', 'medium', 'thick'].includes(widthToken)) {
                const map = { thin: 1, medium: 3, thick: 5 };
                model.border.width = map[widthToken] || 1;
                model.border.unit = 'px';
              } else {
                const wm = widthToken.match(/^(-?\d*\.?\d+)([a-z%]+)?$/i);
                if (wm) {
                  model.border.width = parseFloat(wm[1]);
                  model.border.unit = wm[2] || 'px';
                }
              }
            }
            if (styleToken) model.border.style = styleToken;
            if (colorToken) {
              const hex = this.getValidHexColor(colorToken);
              const rgbaMatch = colorToken.match(/^rgba?\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)(?:\s*,\s*([0-9.]+))?\s*\)$/i);
              if (rgbaMatch) {
                const r = Math.max(0, Math.min(255, parseFloat(rgbaMatch[1]) || 0));
                const g = Math.max(0, Math.min(255, parseFloat(rgbaMatch[2]) || 0));
                const b = Math.max(0, Math.min(255, parseFloat(rgbaMatch[3]) || 0));
                model.border.color = '#' + [r, g, b].map((n) => Math.round(n).toString(16).padStart(2, '0')).join('');
                model.border.alpha = rgbaMatch[4] !== undefined ? Math.max(0, Math.min(1, parseFloat(rgbaMatch[4]) || 0)) : 1;
              } else if (/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(colorToken)) {
                model.border.color = hex;
                model.border.alpha = 1;
              } else {
                return { success: false, model };
              }
            }
            return { success: true, model };
          }

          if (kind === 'shadow') {
            const rawNoInset = raw.replace(/\binset\b/g, '').trim();
            const colorMatch = rawNoInset.match(/(rgba?\([^)]*\)|#[0-9a-fA-F]{3,8})\s*$/);
            let core = rawNoInset;
            if (colorMatch) {
              core = rawNoInset.slice(0, colorMatch.index).trim();
              const colorRaw = colorMatch[1];
              if (/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(colorRaw)) {
                model.shadow.color = this.getValidHexColor(colorRaw);
                model.shadow.alpha = 1;
              } else {
                const rgbaMatch = colorRaw.match(/^rgba?\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)(?:\s*,\s*([0-9.]+))?\s*\)$/i);
                if (rgbaMatch) {
                  const r = Math.max(0, Math.min(255, parseFloat(rgbaMatch[1]) || 0));
                  const g = Math.max(0, Math.min(255, parseFloat(rgbaMatch[2]) || 0));
                  const b = Math.max(0, Math.min(255, parseFloat(rgbaMatch[3]) || 0));
                  model.shadow.color = '#' + [r, g, b].map((n) => Math.round(n).toString(16).padStart(2, '0')).join('');
                  model.shadow.alpha = rgbaMatch[4] !== undefined ? Math.max(0, Math.min(1, parseFloat(rgbaMatch[4]) || 0)) : 1;
                }
              }
            }
            const parts = core.split(/\s+/).filter(Boolean);
            if (parts.length < 2) return { success: false, model };
            const num = (value) => {
              const m = String(value || '').match(/^(-?\d*\.?\d+)([a-z%]+)?$/i);
              return m ? parseFloat(m[1]) : null;
            };
            const x = num(parts[0]);
            const y = num(parts[1]);
            const blur = parts[2] !== undefined ? num(parts[2]) : 0;
            const spread = parts[3] !== undefined ? num(parts[3]) : 0;
            if (x === null || y === null || blur === null || spread === null) return { success: false, model };
            model.shadow.offsetX = x;
            model.shadow.offsetY = y;
            model.shadow.blur = blur;
            model.shadow.spread = spread;
            model.shadow.inset = /\binset\b/.test(raw);
            return { success: true, model };
          }

          return { success: false, model };
        },

        onCssPropertyEditorModelChange() {
          const nextValue = this.getCssPropertyEditorPreviewValue();
          this.$set(this.cssPropertyEditor, 'rawValue', nextValue);
          this.applyCssPropertyEditorDraft();
        },

        onCssPropertyEditorRawInput() {
          if (!this.cssPropertyEditor.useRawValue) this.cssPropertyEditor.useRawValue = true;
          this.applyCssPropertyEditorDraft();
        },

        onCssPropertyEditorRawModeToggle() {
          if (!this.cssPropertyEditor.useRawValue) {
            const property = this.normalizeCssPropertyName(this.cssPropertyEditor?.property || '');
            if (property) {
              const schema = this.getCssPropertySchema(property);
              const parsed = this.parseCssPropertyEditorDraft(schema, this.cssPropertyEditor.rawValue);
              if (parsed.success) {
                this.$set(this.cssPropertyEditor, 'model', parsed.model);
              } else {
                this.$set(this.cssPropertyEditor, 'useRawValue', true);
                this.showToast(this.getTranslation('css.visual.invalidCssValue') || 'Invalid CSS value', 'warning');
                return;
              }
            }
            this.onCssPropertyEditorModelChange();
            return;
          }
          this.applyCssPropertyEditorDraft();
        },

        onCssPropertyEditorImportantToggle() {
          this.applyCssPropertyEditorDraft();
        },

        onCssPropertyEditorColorInput(colorHex) {
          this.cssPropertyEditor.model.tokenName = '';
          this.cssPropertyEditor.model.color = colorHex;
          this.onCssPropertyEditorModelChange();
        },

        onCssPropertyEditorTokenChange() {
          if (this.cssPropertyEditor.model.tokenName) {
            this.cssPropertyEditor.model.alpha = 1;
          }
          this.onCssPropertyEditorModelChange();
        },

        onCssPropertyEditorBorderColorInput(colorHex) {
          this.cssPropertyEditor.model.border.color = colorHex;
          this.onCssPropertyEditorModelChange();
        },

        onCssPropertyEditorShadowColorInput(colorHex) {
          this.cssPropertyEditor.model.shadow.color = colorHex;
          this.onCssPropertyEditorModelChange();
        },

        onCssPropertyEditorSpacingLinked() {
          if (this.cssPropertyEditor.model.spacingLinked) {
            ['right', 'bottom', 'left'].forEach((side) => {
              this.cssPropertyEditor.model.spacing[side].value = this.cssPropertyEditor.model.spacing.top.value;
              this.cssPropertyEditor.model.spacing[side].unit = this.cssPropertyEditor.model.spacing.top.unit;
            });
          }
          this.onCssPropertyEditorModelChange();
        },

        onCssPropertyEditorSpacingInput(side) {
          if (this.cssPropertyEditor.model.spacingLinked && side === 'top') {
            ['right', 'bottom', 'left'].forEach((otherSide) => {
              this.cssPropertyEditor.model.spacing[otherSide].value = this.cssPropertyEditor.model.spacing.top.value;
              this.cssPropertyEditor.model.spacing[otherSide].unit = this.cssPropertyEditor.model.spacing.top.unit;
            });
          }
          this.onCssPropertyEditorModelChange();
        },

        getCssPropertyEditorPreviewValue() {
          const property = this.normalizeCssPropertyName(this.cssPropertyEditor?.property || '');
          if (!property) return '';
          if (this.cssPropertyEditor.useRawValue) return String(this.cssPropertyEditor.rawValue || '').trim();

          const schema = this.getCssPropertySchema(property);
          const model = this.cssPropertyEditor.model || {};
          if (schema.kind === 'color') {
            if (model.tokenName) return `var(--${this.normalizeTokenName(model.tokenName)})`;
            const hex = this.getValidHexColor(model.color || '#000000');
            const alpha = Number.isFinite(model.alpha) ? Math.max(0, Math.min(1, model.alpha)) : 1;
            if (alpha >= 0.999) return hex;
            const rgb = hex.replace('#', '');
            const r = parseInt(rgb.substring(0, 2), 16);
            const g = parseInt(rgb.substring(2, 4), 16);
            const b = parseInt(rgb.substring(4, 6), 16);
            return `rgba(${r}, ${g}, ${b}, ${alpha.toFixed(2).replace(/0+$/, '').replace(/\.$/, '')})`;
          }
          if (schema.kind === 'font-family') {
            const custom = String(model.fontFamilyCustom || '').trim();
            const selected = String(model.fontFamily || '').trim();
            const source = custom || selected;
            if (!source) return '';
            if (source.startsWith('var(') || source.includes(',')) return source;
            if (/\s/.test(source) && !/^["'].*["']$/.test(source)) return `"${source}"`;
            return source;
          }
          if (schema.kind === 'enum') {
            return String(model.enumValue || '').trim();
          }
          if (schema.kind === 'number') {
            if (!Number.isFinite(model.numberValue)) return '';
            const v = Number(model.numberValue);
            return String(v);
          }
          if (schema.kind === 'length') {
            const keyword = String(model.lengthKeyword || '').trim();
            if (keyword) return keyword;
            if (!Number.isFinite(model.lengthValue)) return '';
            const unit = String(model.lengthUnit || 'px').trim() || 'px';
            return `${Number(model.lengthValue)}${unit}`;
          }
          if (schema.kind === 'spacing') {
            const fmt = (sideObj) => {
              if (!sideObj) return '0px';
              if (String(sideObj.unit) === 'auto') return 'auto';
              const value = Number(sideObj.value);
              if (!Number.isFinite(value)) return '0px';
              return `${value}${sideObj.unit || 'px'}`;
            };
            if (model.spacingLinked) {
              return fmt(model.spacing?.top);
            }
            return [
              fmt(model.spacing?.top),
              fmt(model.spacing?.right),
              fmt(model.spacing?.bottom),
              fmt(model.spacing?.left)
            ].join(' ');
          }
          if (schema.kind === 'border') {
            const width = Number(model.border?.width);
            const widthPart = Number.isFinite(width) ? `${width}${model.border?.unit || 'px'}` : '';
            const stylePart = String(model.border?.style || '').trim();
            const colorHex = this.getValidHexColor(model.border?.color || '#000000');
            const alpha = Number.isFinite(model.border?.alpha) ? Math.max(0, Math.min(1, model.border.alpha)) : 1;
            let colorPart = colorHex;
            if (alpha < 0.999) {
              const rgb = colorHex.replace('#', '');
              const r = parseInt(rgb.substring(0, 2), 16);
              const g = parseInt(rgb.substring(2, 4), 16);
              const b = parseInt(rgb.substring(4, 6), 16);
              colorPart = `rgba(${r}, ${g}, ${b}, ${alpha.toFixed(2).replace(/0+$/, '').replace(/\.$/, '')})`;
            }
            return [widthPart, stylePart, colorPart].filter(Boolean).join(' ').trim();
          }
          if (schema.kind === 'shadow') {
            const shadow = model.shadow || {};
            const x = Number.isFinite(shadow.offsetX) ? shadow.offsetX : 0;
            const y = Number.isFinite(shadow.offsetY) ? shadow.offsetY : 0;
            const blur = Number.isFinite(shadow.blur) ? shadow.blur : 0;
            const spread = Number.isFinite(shadow.spread) ? shadow.spread : 0;
            const colorHex = this.getValidHexColor(shadow.color || '#000000');
            const alpha = Number.isFinite(shadow.alpha) ? Math.max(0, Math.min(1, shadow.alpha)) : 1;
            let colorPart = colorHex;
            if (alpha < 0.999) {
              const rgb = colorHex.replace('#', '');
              const r = parseInt(rgb.substring(0, 2), 16);
              const g = parseInt(rgb.substring(2, 4), 16);
              const b = parseInt(rgb.substring(4, 6), 16);
              colorPart = `rgba(${r}, ${g}, ${b}, ${alpha.toFixed(2).replace(/0+$/, '').replace(/\.$/, '')})`;
            }
            return `${shadow.inset ? 'inset ' : ''}${x}px ${y}px ${blur}px ${spread}px ${colorPart}`.trim();
          }
          return String(this.cssPropertyEditor.rawValue || '').trim();
        },

        isCssPropertyEditorDraftValid() {
          const property = this.normalizeCssPropertyName(this.cssPropertyEditor?.property || '');
          if (!property) return false;
          const value = this.getCssPropertyEditorPreviewValue();
          if (!value) return true;
          const stripped = this.stripImportant(value);
          if (this.hasVarFunction(stripped)) {
            const vars = this.extractVarNames(stripped);
            if (vars.length && !vars.every((n) => this.tokenExists(n))) return false;
          }
          return this.cssSupports(property, stripped);
        },

        getCssPropertyEditorValidationHint() {
          const value = this.getCssPropertyEditorPreviewValue();
          if (this.hasVarFunction(value)) {
            const vars = this.extractVarNames(value);
            const missing = vars.filter((n) => !this.tokenExists(n));
            if (missing.length) {
              return (this.getTranslation('css.visual.missingTokens') || 'Missing tokens') + ': ' + missing.join(', ');
            }
          }
          return this.getTranslation('css.visual.invalidCssValue') || 'Invalid CSS value';
        },

        applyCssPropertyEditorDraft() {
          const rule = this.cssPropertyEditorRule;
          const property = this.normalizeCssPropertyName(this.cssPropertyEditor?.property || '');
          if (!rule || !property) return;
          const value = this.getCssPropertyEditorPreviewValue();

          const key = this.findEquivalentPropertyKey(rule.properties, property) || property;
          this.$set(rule.properties, key, value);

          if (!rule.important || typeof rule.important !== 'object' || Array.isArray(rule.important)) {
            this.$set(rule, 'important', {});
          }
          this.$set(rule.important, key, !!this.cssPropertyEditor.important);
          this.saveVisualCss();
        },

        async ensureCssPropertyEditorFonts() {
          if (this.cssPropertyEditorFontsLoaded) return;
          const defaults = [
            { label: 'System UI', value: 'system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif' },
            { label: 'Arial', value: 'Arial, sans-serif' },
            { label: 'Helvetica', value: '"Helvetica Neue", Helvetica, Arial, sans-serif' },
            { label: 'Verdana', value: 'Verdana, Geneva, sans-serif' },
            { label: 'Tahoma', value: 'Tahoma, Geneva, sans-serif' },
            { label: 'Trebuchet MS', value: '"Trebuchet MS", Helvetica, sans-serif' },
            { label: 'Times New Roman', value: '"Times New Roman", Times, serif' },
            { label: 'Georgia', value: 'Georgia, serif' },
            { label: 'Garamond', value: 'Garamond, serif' },
            { label: 'Courier New', value: '"Courier New", Courier, monospace' },
            { label: 'Monaco', value: 'Monaco, "Lucida Console", monospace' },
            { label: 'Inter', value: 'Inter, "Segoe UI", Arial, sans-serif' },
            { label: 'Roboto', value: 'Roboto, "Segoe UI", Arial, sans-serif' },
            { label: 'Open Sans', value: '"Open Sans", "Segoe UI", Arial, sans-serif' },
            { label: 'Lato', value: 'Lato, "Segoe UI", Arial, sans-serif' },
            { label: 'Poppins', value: 'Poppins, "Segoe UI", Arial, sans-serif' }
          ];

          const merged = new Map(defaults.map((font) => [font.value, font]));
          if (typeof window !== 'undefined' && typeof window.queryLocalFonts === 'function') {
            try {
              const localFonts = await window.queryLocalFonts();
              (localFonts || []).forEach((font) => {
                const family = String(font?.family || '').trim();
                if (!family) return;
                const value = /\s/.test(family) ? `"${family}"` : family;
                if (!merged.has(value)) merged.set(value, { label: family, value });
              });
            } catch (error) {
              debugLog('warn', 'Local font discovery skipped:', error);
            }
          }

          this.cssPropertyEditorFonts = Array.from(merged.values()).sort((a, b) => a.label.localeCompare(b.label));
          this.cssPropertyEditorFontsLoaded = true;
        },

        isColorProperty(property) {
          // Only treat explicit color properties as color inputs
          // Examples: color, background-color, border-top-color, outline-color
          const normalizedProperty = this.normalizeCssPropertyName(property);
          if (!normalizedProperty || normalizedProperty.startsWith('--')) return false;
          return normalizedProperty === 'color'
            || normalizedProperty.endsWith('-color')
            || (normalizedProperty !== 'color' && normalizedProperty.endsWith('color'));
        },

        validateProperty(rule, property) {
          // Validate CSS property value and persist
          const normalizedProperty = this.normalizeCssPropertyName(property);
          const key = this.findEquivalentPropertyKey(rule.properties, normalizedProperty) || normalizedProperty;
          const value = (rule?.properties?.[key] || '').toString();
          // Keep empty properties; removal is explicit via delete button to avoid surprising UI jumps.
          // Trigger re-render to apply is-invalid class; do not auto-remove invalid entries
          this.$forceUpdate();
          this.saveVisualCss();
        },

        // Tokens
        addDesignToken() {
          this.designTokens.push({ name: 'token', value: '#3b82f6' });
          this.saveDesignTokens();
        },
        removeDesignToken(idx) {
          this.designTokens.splice(idx, 1);
          this.saveDesignTokens();
        },
        saveDesignTokens() {
          // Normalize all tokens before saving (store without leading --)
          this.designTokens = (this.designTokens || []).map(t => {
            const name = this.normalizeTokenName(t?.name || '');
            const value = (t?.value ?? '').toString();
            return { name, value };
          });
          localStorage.setItem('designTokens', JSON.stringify(this.designTokens));
          // Apply immediately so token changes are reflected live
          this.applyVisualCss();
        },
        normalizeTokenName(raw) {
          const s = (raw || '').toString().trim().toLowerCase();
          // Remove any leading dashes users might paste
          const noPrefix = s.replace(/^[-]+/, '');
          // Allow only a-z, 0-9, '-', '_'
          const cleaned = noPrefix.replace(/[^a-z0-9_-]/g, '');
          if (!cleaned) return 'token';
          return cleaned;
        },
        onTokenNameInput(token, event) {
          const sanitized = this.normalizeTokenName(event.target.value);
          event.target.value = sanitized; // reflect immediately in input
          token.name = sanitized;
          this.saveDesignTokens();
        },
        onTokenValueInput(token, event) {
          token.value = (event.target.value || '').toString();
          this.saveDesignTokens();
        },
        applyTokenToProperty(rule, prop, tokenName) {
          if (!tokenName) return;
          const name = this.normalizeTokenName(tokenName);
          const normalizedProperty = this.normalizeCssPropertyName(prop);
          const key = this.findEquivalentPropertyKey(rule.properties, normalizedProperty) || normalizedProperty;
          this.$set(rule.properties, key, `var(--${name})`);
          if (this.isCssPropertyEditorTarget(rule, normalizedProperty)) {
            this.$set(this.cssPropertyEditor, 'rawValue', `var(--${name})`);
            this.resetCssPropertyEditorDraft();
          }
          this.saveVisualCss();
        },

        removeProperty(rule, property) {
          // Remove a CSS property from a rule
          const normalizedProperty = this.normalizeCssPropertyName(property);
          const key = this.findEquivalentPropertyKey(rule.properties, normalizedProperty) || normalizedProperty;
          delete rule.properties[key];
          // Also remove the important flag for this property
          if (rule.important && rule.important[key]) {
            delete rule.important[key];
          }
          // Also remove disabled state for this property
          if (rule.disabled && rule.disabled[key]) {
            delete rule.disabled[key];
          }
          if (this.isCssPropertyEditorTarget(rule, normalizedProperty)) {
            this.clearCssPropertyEditorSelection();
          }
          this.saveVisualCss();
        },

        // Presets
        applyPresetToRule(rule, event) {
          const pid = event.target.value;
          if (!pid) return;
          const preset = this.cssPresets.find(p => p.id === pid);
          if (!preset) return;
          if (!rule.properties) this.$set(rule, 'properties', {});
          Object.entries(preset.properties).forEach(([k, v]) => {
            const normalizedKey = this.normalizeCssPropertyName(k);
            if (!normalizedKey) return;
            this.$set(rule.properties, normalizedKey, v);
          });
          this.normalizeRuleProperties(rule);
          // reset select
          event.target.value = '';
          this.saveVisualCss();
          this.showToast((this.getTranslation('css.visual.presetApplied') || 'Preset angewendet') + ': ' + preset.name, 'success');
        },

        isPropertyInRule(rule, property) {
          if (!rule || !rule.properties) return false;
          return !!this.findEquivalentPropertyKey(rule.properties, property);
        },

        addPropertyToRule(rule, event) {
          // Add a new CSS property to a rule
          this.normalizeRuleProperties(rule);

          const selectEl = event?.target || null;
          const selectedValue = selectEl?.value || '';
          const resetSelect = () => {
            if (!selectEl) return;
            this.$nextTick(() => {
              // Keep selector on placeholder after add without re-triggering logic
              selectEl.selectedIndex = 0;
              selectEl.value = '';
            });
          };

          const property = this.normalizeCssPropertyName(selectedValue);
          if (!property) {
            resetSelect();
            return;
          }

          if (!rule.properties || typeof rule.properties !== 'object' || Array.isArray(rule.properties)) {
            this.$set(rule, 'properties', {});
          }

          // Guard against duplicate change events fired by browsers/UI re-renders.
          const ruleGuardKey = String(rule?.id || rule?.uuid || 'rule');
          const now = Date.now();
          if (!this._propertyAddRuleGuard) this._propertyAddRuleGuard = {};
          if (this._propertyAddRuleGuard[ruleGuardKey] && (now - this._propertyAddRuleGuard[ruleGuardKey]) < 250) {
            resetSelect();
            return;
          }
          this._propertyAddRuleGuard[ruleGuardKey] = now;

          // Re-normalize right before duplicate check to collapse legacy/equivalent keys
          this.normalizeRuleProperties(rule);

          const targetAlias = this.normalizeCssPropertyAlias(property) || property;
          const equivalentKeys = Object.keys(rule.properties || {}).filter((rawKey) => {
            const normalizedKey = this.normalizeCssPropertyName(rawKey);
            if (!normalizedKey) return false;
            if (normalizedKey === property) return true;
            const aliasKey = this.normalizeCssPropertyAlias(normalizedKey);
            return !!(aliasKey && targetAlias && aliasKey === targetAlias);
          });

          // Property already exists (or legacy alias exists): collapse to one canonical key.
          if (equivalentKeys.length > 0) {
            const firstNonEmptyValue = equivalentKeys
              .map((key) => rule.properties[key])
              .find((val) => !(val === '' || val === null || val === undefined));
            const mergedValue = firstNonEmptyValue !== undefined
              ? firstNonEmptyValue
              : (rule.properties[equivalentKeys[0]] ?? '');

            const hasImportant = !!(rule.important && equivalentKeys.some((key) => !!rule.important[key]));
            const hasDisabled = !!(rule.disabled && equivalentKeys.some((key) => !!rule.disabled[key]));

            if (!rule.important || typeof rule.important !== 'object' || Array.isArray(rule.important)) {
              this.$set(rule, 'important', {});
            }
            if (!rule.disabled || typeof rule.disabled !== 'object' || Array.isArray(rule.disabled)) {
              this.$set(rule, 'disabled', {});
            }

            this.$set(rule.properties, property, mergedValue);
            this.$set(rule.important, property, hasImportant);
            this.$set(rule.disabled, property, hasDisabled);

            equivalentKeys.forEach((rawKey) => {
              if (rawKey === property) return;
              this.$delete(rule.properties, rawKey);
              this.$delete(rule.important, rawKey);
              this.$delete(rule.disabled, rawKey);
            });

            this.normalizeRuleProperties(rule);
            this.showToast(this.getTranslation('css.visual.propertyAlreadyExists') || `Die Eigenschaft "${property}" existiert bereits in dieser Regel`, 'warning');
            this.saveVisualCss();
            resetSelect();
            return;
          }

          if (!rule.important || typeof rule.important !== 'object' || Array.isArray(rule.important)) {
            this.$set(rule, 'important', {});
          }
          if (!rule.disabled || typeof rule.disabled !== 'object' || Array.isArray(rule.disabled)) {
            this.$set(rule, 'disabled', {});
          }

          // Do not set default values; start empty for all properties
          this.$set(rule.properties, property, '');

          // Do not pre-set !important; user opts in manually
          this.normalizeRuleProperties(rule);
          this.saveVisualCss();
          resetSelect();
        },

        getValidHexColor(value) {
          // Return a safe hex color for the color picker without mutating rule state
          const v = (value || '').trim();
          const hex6 = /^#([0-9a-fA-F]{6})$/;
          if (hex6.test(v)) return v;
          // Accept 3-digit hex by expanding
          const hex3 = /^#([0-9a-fA-F]{3})$/;
          if (hex3.test(v)) {
            const m = v.substring(1);
            return '#' + m[0]+m[0] + m[1]+m[1] + m[2]+m[2];
          }
          // Fallback swatch color; does not change actual property value
          return '#000000';
        },

        onColorPickerChange(rule, property, event) {
          const val = event.target.value;
          const normalizedProperty = this.normalizeCssPropertyName(property);
          const key = this.findEquivalentPropertyKey(rule.properties, normalizedProperty) || normalizedProperty;
          this.$set(rule.properties, key, val);
          if (this.isCssPropertyEditorTarget(rule, normalizedProperty)) {
            this.$set(this.cssPropertyEditor, 'rawValue', val);
            this.resetCssPropertyEditorDraft();
          }
          this.saveVisualCss();
        },

        getPropertyImportant(rule, property) {
          // Check if a property is marked as important
          const normalizedProperty = this.normalizeCssPropertyName(property);
          const key = this.findEquivalentPropertyKey(rule.properties, normalizedProperty) || normalizedProperty;
          if (!rule.important) {
            rule.important = {};
          }
          return rule.important[key] || false;
        },

        togglePropertyImportant(rule, property) {
          // Toggle the important flag for a property
          const normalizedProperty = this.normalizeCssPropertyName(property);
          const key = this.findEquivalentPropertyKey(rule.properties, normalizedProperty) || normalizedProperty;
          if (!rule.important) {
            rule.important = {};
          }
          rule.important[key] = !rule.important[key];
          if (this.isCssPropertyEditorTarget(rule, normalizedProperty)) {
            this.$set(this.cssPropertyEditor, 'important', !!rule.important[key]);
          }
          this.saveVisualCss();
        },

        // ===== CSS Validation Helpers =====
        stripImportant(v) {
          return (v || '').toString().replace(/\s*!important\s*$/i, '').trim();
        },
        hasVarFunction(v) {
          return /var\(\s*--[a-z0-9_-]+\s*\)/i.test(v || '');
        },
        extractVarNames(v) {
          const out = []; const re = /var\(\s*(--[a-z0-9_-]+)\s*\)/ig; let m;
          const s = (v || '').toString();
          while ((m = re.exec(s)) !== null) out.push(m[1]);
          return out;
        },
        tokenExists(name) {
          const n = (name || '').replace(/^--+/, '').toLowerCase();
          return (this.designTokens || []).some(t => (t?.name || '').toLowerCase() === n);
        },
        cssSupports(prop, value) {
          try { if (window.CSS && CSS.supports) return CSS.supports(prop, value); } catch {}
          // Fallback test element
          try {
            const el = document.createElement('div');
            el.style[prop] = value;
            return !!el.style[prop];
          } catch { return false; }
        },
        isPropertyValid(rule, prop) {
          try {
            const normalizedProperty = this.normalizeCssPropertyName(prop);
            const key = this.findEquivalentPropertyKey(rule?.properties, normalizedProperty) || normalizedProperty;
            const raw = (rule?.properties?.[key] || '').toString();
            if (!raw.trim()) return true; // empty is handled elsewhere
            const v = this.stripImportant(raw);
            // If var() used, ensure referenced tokens exist (all of them)
            if (this.hasVarFunction(v)) {
              const vars = this.extractVarNames(v);
              if (vars.length && !vars.every(n => this.tokenExists(n))) return false;
            }
            return this.cssSupports(this.normalizeCssPropertyName(key), v);
          } catch { return true; }
        },
        isTokenValueValid(value) {
          const v = (value || '').toString().trim();
          if (!v) return false;
          // Accept common contexts: background (very permissive) or color
          if (this.cssSupports('background', v)) return true;
          if (this.cssSupports('color', v)) return true;
          // As a fallback, width can validate length/percentage values
          if (this.cssSupports('width', v)) return true;
          return false;
        },
        getPropertyValidationHint(rule, prop) {
          try {
            const normalizedProperty = this.normalizeCssPropertyName(prop);
            const key = this.findEquivalentPropertyKey(rule?.properties, normalizedProperty) || normalizedProperty;
            const raw = (rule?.properties?.[key] || '').toString();
            const v = this.stripImportant(raw);
            if (this.hasVarFunction(v)) {
              const vars = this.extractVarNames(v);
              const missing = (vars || []).filter(n => !this.tokenExists(n));
              if (missing.length) {
                const list = missing.join(', ');
                return (this.getTranslation('css.visual.missingTokens') || 'Fehlende Tokens') + ': ' + list;
              }
            }
            return this.getTranslation('css.visual.invalidCssValue') || 'Ungltiger CSS-Wert';
          } catch { return this.getTranslation('css.visual.invalidCssValue') || 'Ungltiger CSS-Wert'; }
        },
        getTokenValidationHint(value) {
          // Provide a helpful generic hint for token values
          return this.getTranslation('css.visual.invalidTokenValue') || 'Ungltiger Token-Wert (z. B. #rrggbb, rgb(), linear-gradient(), var(--name))';
        },

        // Rule search helper: match by name and any property key/value
        matchesRuleSearch(rule) {
          const q = (this.rulesFilterQuery || '').toString().trim().toLowerCase();
          if (!q) return true;
          // Name
          if ((rule.name || '').toString().toLowerCase().includes(q)) return true;
          // Properties (keys and values)
          try {
            const props = rule.properties || {};
            for (const [k, v] of Object.entries(props)) {
              if ((k || '').toString().toLowerCase().includes(q)) return true;
              if ((v || '').toString().toLowerCase().includes(q)) return true;
            }
          } catch {}
          // Custom CSS field (legacy)
          if ((rule.customCss || '').toString().toLowerCase().includes(q)) return true;
          return false;
        },

        isPropertyDisabled(rule, property) {
          const normalizedProperty = this.normalizeCssPropertyName(property);
          const key = this.findEquivalentPropertyKey(rule?.properties, normalizedProperty) || normalizedProperty;
          if (!rule.disabled) return false;
          return !!rule.disabled[key];
        },
        togglePropertyDisabled(rule, property) {
          const normalizedProperty = this.normalizeCssPropertyName(property);
          const key = this.findEquivalentPropertyKey(rule?.properties, normalizedProperty) || normalizedProperty;
          if (!rule.disabled) {
            // Use Vue.set to keep reactivity if available
            this.$set ? this.$set(rule, 'disabled', {}) : (rule.disabled = {});
          }
          const current = !!rule.disabled[key];
          this.$set ? this.$set(rule.disabled, key, !current) : (rule.disabled[key] = !current);
          this.saveVisualCss();
        },

        getRuleSelector(rule) {
          // Ensure rule.selector is always an object
          if (!rule.selector || typeof rule.selector === 'string') {
            // Create a new selector object for this rule
            rule.selector = {
              base: typeof rule.selector === 'string' ? rule.selector : '',
              groupId: rule.groupId || null,
              linkId: rule.linkId || null,
              keywordSlug: null,
              hover: false,
              dragOver: false
            };
          }
          // Ensure the selector has all required properties
          if (!rule.selector.hasOwnProperty('keywordSlug')) {
            rule.selector.keywordSlug = null;
          }
          if (!rule.selector.hasOwnProperty('hover')) {
            rule.selector.hover = false;
          }
          if (!rule.selector.hasOwnProperty('dragOver')) {
            rule.selector.dragOver = false;
          }
          return rule.selector;
        },

        updateRuleHover(rule, event) {
          const selector = this.getRuleSelector(rule);
          selector.hover = !!event.target.checked;

          // `link-hover` already encodes :hover in its base selector.
          if (selector.base === 'link-hover' && selector.hover) {
            selector.hover = false;
          }

          if (this.selectedVisualTemplate && selector.base) {
            this.loadTemplatePropertiesForRule(rule);
          }

          this.saveVisualCss();
        },

        updateRuleDragOver(rule, event) {
          const selector = this.getRuleSelector(rule);
          selector.dragOver = !!event.target.checked;

          if (this.selectedVisualTemplate && selector.base) {
            this.loadTemplatePropertiesForRule(rule);
          }

          this.saveVisualCss();
        },

        updateRuleBase(rule, event) {
          const baseValue = event.target.value;
          // Ensure selector is an object and create a new one to avoid shared references
          if (!rule.selector || typeof rule.selector === 'string') {
            rule.selector = {
              base: '',
              groupId: null,
              linkId: null,
              keywordSlug: null,
              hover: false,
              dragOver: false
            };
          }
          const oldBase = rule.selector.base;
          const previousGroupId = rule.selector.groupId;
          const previousLinkId = rule.selector.linkId;
          const previousKeywordSlug = rule.selector.keywordSlug;
          const previousHover = !!rule.selector.hover;
          const previousDragOver = !!rule.selector.dragOver;

          // Update the base value
          rule.selector.base = baseValue;

          // Decide whether to keep or reset dependent selections based on new base
          const groupSupportingSelectors = [
            'groups', 'group-header', 'group-title', 'group-body',
            'links', 'separators', 'notes', 'link-hover', 'link-anchor', 'link-url', 'link-icon',
            'link-vertical-dropzone', 'link-horizontal-dropzone',
            'link-popover', 'link-popover-title', 'link-popover-url', 'link-popover-meta',
            'link-popover-row', 'link-popover-label', 'link-popover-value', 'link-popover-value-muted',
            'link-popover-keywords', 'link-popover-badge', 'link-popover-favicon',
            'badges-group', 'badges-group-linkcount', 'badges-group-keywords',
            'badges-link', 'badges-link-keywords',
            'keywords-hierarchical'
          ];
          const linkSupportingSelectors = [
            'links', 'separators', 'notes', 'link-hover', 'link-anchor', 'link-url', 'link-icon',
            'link-popover', 'link-popover-title', 'link-popover-url', 'link-popover-meta',
            'link-popover-row', 'link-popover-label', 'link-popover-value', 'link-popover-value-muted',
            'link-popover-keywords', 'link-popover-badge', 'link-popover-favicon',
            'badges-link', 'badges-link-keywords',
            'keywords-hierarchical'
          ];
          const keywordSupportingSelectors = [
            'keyword-by-name', 'keywords-hierarchical'
          ];

          const keepGroup = groupSupportingSelectors.includes(baseValue);
          const keepLink = linkSupportingSelectors.includes(baseValue);
          const keepKeyword = keywordSupportingSelectors.includes(baseValue);

          // Apply keeping rules
          rule.selector.groupId = keepGroup ? previousGroupId : null;
          // Link only meaningful if base supports link AND we still have a group
          rule.selector.linkId = (keepLink && (keepGroup ? previousGroupId : null)) ? previousLinkId : null;
          rule.selector.keywordSlug = keepKeyword ? previousKeywordSlug : null;
          rule.selector.hover = (!baseValue || baseValue === 'link-hover') ? false : previousHover;
          rule.selector.dragOver = !!baseValue && previousDragOver;

          // Keep legacy fields in sync
          rule.groupId = rule.selector.groupId;
          rule.linkId = rule.selector.linkId;

          // Do NOT clear user properties on base change.
          // We keep user-entered properties and merge template defaults below if selected.
          if (this.selectedVisualTemplate && baseValue) {
            this.loadTemplatePropertiesForRule(rule);
          }

          // Do not auto-add any properties upon selector changes

          this.saveVisualCss();
        },

        onBaseSelectorChange(rule) {
          // Ensure selector is an object
          this.getRuleSelector(rule);

          // Reset dependent selections when base changes
          rule.selector.groupId = null;
          rule.selector.linkId = null;
          rule.groupId = null;
          rule.linkId = null;

          // Do not auto-add any properties upon selector changes

          this.saveVisualCss();
        },

        loadTemplatePropertiesForRule(rule) {
          // Get template rules
          const templateRules = this.getCurrentTemplate();
          const selector = this.getRuleSelector(rule);

          // Get the actual CSS selector for this base
          const baseSelectorMap = {
            'app': '.mb-app',
            'header': '.mb-titlebar',
            'toolbar': '.mb-toolbar',
            'footer': '.mb-footer',
            'groups-links-container': '.mb-groups-links-container',
            'surface-panel': '.mb-surface-panel',
            'muted-text': '.text-muted',
            'modal': '.modal-content',
            'modal-header': '.modal-header',
            'modal-body': '.modal-body',
            'modal-footer': '.modal-footer',
            'css-sidebar': '.css-sidebar',
            'feature-sidebar': '.feature-sidebar',
            'sidebar-header': '.sidebar-header',
            'sidebar-top-section': '.sidebar-top-section',
            'sidebar-bottom-section': '.sidebar-bottom-section',
            'sidebar-divider': '.sidebar-divider',
            'card': '.card',
            'card-header': '.card-header',
            'list-group-item': '.list-group-item',
            'table': '.table',
            'table-header': '.table thead th',
            'table-cell': '.table tbody td',
            'form-control': '.form-control',
            'form-select': '.form-select',
            'input-group-text': '.input-group-text',
            'form-check-input': '.form-check-input',
            'dropdown-menu': '.dropdown-menu',
            'dropdown-item': '.dropdown-item',
            'context-menu': '.mb-context-menu',
            'context-menu-item': '.mb-context-menu-list > li',
            'alert-info': '.alert-info',
            'alert-warning': '.alert-warning',
            'groups': '.mb-group',
            'group-header': '.mb-group__header',
            'group-title': '.mb-group__title',
            'group-body': '.mb-group__body',
            'vertical-dropzone': '.verticalDropZone',
            'group-horizontal-dropzone': '.groupContainerDragAndDrop.group-drop-zone',
            'links': '.mb-link',
            'separators': '.mb-link-separator',
            'notes': '.mb-link-note',
            'link-hover': '.mb-link:hover',
            'link-anchor': '.mb-link__anchor',
            'link-url': '.link-url-preview',
            'link-icon': '.mb-link__icon',
            'link-vertical-dropzone': '.linkVerticalDropZone',
            'link-horizontal-dropzone': '.linkContainerDragAndDrop.link-drop-zone',
            'link-popover': '.link-detail-popover',
            'link-popover-title': '.link-detail-popover__title',
            'link-popover-url': '.link-detail-popover__url',
            'link-popover-meta': '.link-detail-popover__meta',
            'link-popover-row': '.link-detail-popover__row',
            'link-popover-label': '.link-detail-popover__label',
            'link-popover-value': '.link-detail-popover__value',
            'link-popover-value-muted': '.link-detail-popover__value--muted',
            'link-popover-keywords': '.link-detail-popover__keywords',
            'link-popover-badge': '.link-detail-popover__badge',
            'link-popover-favicon': '.link-detail-popover__favicon',
            'keywords': '.mb-keyword',
            'keywords-selected': '.mb-keywords-cloud .mb-keyword.mb-keyword-active',
            'keyword-selected-text': '.mb-keywords-cloud .mb-keyword.mb-keyword-active .mb-keyword-text',
            'keywords-hierarchical': '.keyword-badge',
            'keyword-suggestions': '.mb-keyword-suggestions, .mb-keyword-suggestions--overlay',
            'keyword-suggestion-item': '.mb-keyword-suggestion',
            'keyword-by-name': '.mb-keyword',
            'body': 'body',
            // Additional mappings for better template matching
            'titlebar': '.mb-titlebar',
            'titlebar-title': '.mb-titlebar__title',
            'btn': '.btn',
            'btn-primary': '.btn-primary',
            'btn-secondary': '.btn-secondary',
            'btn-success': '.btn-success',
            'btn-danger': '.btn-danger'
          };

          const baseTargetSelector = baseSelectorMap[selector.base] || selector.base;
          let targetSelector = baseTargetSelector;
          if (this.selectorUsesDragOverState(selector)) {
            targetSelector = this.appendDragOverToSelector(targetSelector);
          }
          if (this.selectorUsesHoverState(selector)) {
            targetSelector = this.appendHoverToSelector(targetSelector);
          }

          // Collect all matching CSS properties from template
          const aggregatedProperties = {};

          // Search through all template rules for matching selectors
          for (const tRule of templateRules) {
            let matches = false;

            // Check if template rule selector matches our target
            if (tRule.selector === targetSelector) {
              matches = true;
            } else if (tRule.selector === baseTargetSelector) {
              matches = true;
            } else if (tRule.selector === selector.base) {
              matches = true;
            } else if (tRule.selector === `.${selector.base}`) {
              matches = true;
            } else if (targetSelector && tRule.selector) {
              // Check various matching patterns
              const normalizeSelectorForMatch = (value) => String(value || '').replace(/[#.]/g, '').trim();
              const normalizedTarget = normalizeSelectorForMatch(targetSelector);
              const normalizedBaseTarget = normalizeSelectorForMatch(baseTargetSelector);
              const normalizedTemplate = normalizeSelectorForMatch(tRule.selector);

              // Direct match after normalization
              if ((normalizedTarget && normalizedTemplate === normalizedTarget)
                || (normalizedBaseTarget && normalizedTemplate === normalizedBaseTarget)) {
                matches = true;
              }
              // Check if template selector contains our target (for nested selectors)
              else if (tRule.selector.includes(targetSelector)) {
                matches = true;
              } else if (baseTargetSelector && tRule.selector.includes(baseTargetSelector)) {
                matches = true;
              }
              // Check for class/id variations
              else if ((normalizedTarget && (tRule.selector === `.${normalizedTarget}` || tRule.selector === `#${normalizedTarget}`))
                       || (normalizedBaseTarget && (tRule.selector === `.${normalizedBaseTarget}` || tRule.selector === `#${normalizedBaseTarget}`))) {
                matches = true;
              }
            }

            // Special case for hierarchical selectors
            if (!matches && targetSelector) {
              // Check if this is a parent/child relationship
              // E.g., .mb-group should also get properties from body if it's a child
              if (tRule.selector === 'body' || tRule.selector === '#app') {
                // These are parent containers, inherit some properties
                const inheritableProps = ['font-family', 'font-size', 'color', 'line-height'];
                for (const prop of inheritableProps) {
                  if (tRule.properties && tRule.properties[prop]) {
                    aggregatedProperties[prop] = tRule.properties[prop];
                  }
                }
              }
            }

            if (matches && tRule.properties) {
              // Aggregate all properties from matching rules
              // Later rules override earlier ones
              for (const [prop, value] of Object.entries(tRule.properties)) {
                const normalizedProp = this.normalizeCssPropertyName(prop);
                if (!normalizedProp) continue;
                aggregatedProperties[normalizedProp] = value;
              }
            }
          }

          // Merge aggregated template properties into the rule
          // If the rule already has user properties, keep them and only add missing ones
          if (Object.keys(aggregatedProperties).length > 0) {
            debugLog('log', 'Loading template properties for', selector.base, ':', aggregatedProperties);

            if (!rule.properties || Object.keys(rule.properties).length === 0) {
              // No user props yet: take the template defaults fully
              rule.properties = {};
              for (const [prop, value] of Object.entries(aggregatedProperties)) {
                const normalizedProp = this.normalizeCssPropertyName(prop);
                if (!normalizedProp) continue;
                rule.properties[normalizedProp] = value;
              }
            } else {
              // Already has user props: only add missing keys from template
              for (const [prop, value] of Object.entries(aggregatedProperties)) {
                const normalizedProp = this.normalizeCssPropertyName(prop);
                if (!normalizedProp) continue;
                if (!(normalizedProp in rule.properties)) {
                  rule.properties[normalizedProp] = value;
                }
              }
            }
            this.normalizeRuleProperties(rule);
          }
        },

        updateRuleGroupId(rule, event) {
          const rawValue = event.target.value;
          let groupId = null;

          if (rawValue && rawValue !== 'null' && rawValue !== '') {
            // Check if it's a UUID (contains dashes) or a numeric ID
            if (rawValue.includes('-')) {
              // It's a UUID, keep as string
              groupId = rawValue;
            } else if (!isNaN(rawValue)) {
              // It's a numeric ID
              groupId = parseInt(rawValue);
            } else {
              // Keep as is
              groupId = rawValue;
            }
          }

          debugLog('log', 'updateRuleGroupId - Raw value:', rawValue, 'Type:', typeof rawValue, 'Parsed groupId:', groupId, 'Type after parse:', typeof groupId);

          // Ensure selector is an object
          const selector = this.getRuleSelector(rule);

          // Update the selector
          selector.groupId = groupId;
          selector.linkId = null; // Reset link when group changes

          // Also update root level for backward compatibility
          rule.groupId = groupId;
          rule.linkId = null;

          debugLog('log', 'Group updated:', {
            ruleId: rule.id,
            groupId: groupId,
            selector: selector,
            fullRule: JSON.stringify(rule)
          });

          this.saveVisualCss();
        },

        updateRuleLinkId(rule, event) {
          const rawValue = event.target.value;
          let linkId = null;

          if (rawValue && rawValue !== 'null' && rawValue !== '') {
            // Check if it's a UUID (contains dashes) or a numeric ID
            if (rawValue.includes('-')) {
              // It's a UUID, keep as string
              linkId = rawValue;
            } else if (!isNaN(rawValue)) {
              // It's a numeric ID
              linkId = parseInt(rawValue);
            } else {
              // Keep as is
              linkId = rawValue;
            }
          }

          // Ensure selector is an object
          const selector = this.getRuleSelector(rule);

          // Update the selector
          selector.linkId = linkId;

          // Also update root level for backward compatibility
          rule.linkId = linkId;

          this.saveVisualCss();
        },

        updateRuleKeywordSlug(rule, event) {
          const keywordSlug = event.target.value;

          // Ensure selector is an object
          const selector = this.getRuleSelector(rule);

          // Update the selector with keyword slug
          selector.keywordSlug = keywordSlug;

          this.saveVisualCss();
        },

        getAllUniqueKeywords() {
          // Get all unique keywords from groups and links
          const set = new Set();
          (this.data.groups || []).forEach(g => {
            if (g.deleted) return;

            // Add group keywords
            if (g.keywords) {
              this.parseKeywords(g.keywords).forEach(k => set.add(k));
            }

            // Add link keywords
            (g.links || []).forEach(l => {
              if (!l.deleted && l.keywords) {
                this.parseKeywords(l.keywords).forEach(k => set.add(k));
              }
            });
          });

          // Return sorted array
          return Array.from(set).sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));
        },

        getKeywordsForRule(rule) {
          const selector = this.getRuleSelector(rule);

          debugLog('log', 'getKeywordsForRule - selector:', JSON.stringify(selector));

          // For keyword-by-name, return all keywords
          if (selector.base === 'keyword-by-name') {
            return this.getAllUniqueKeywords();
          }

          // For hierarchical keywords, filter based on selected group/link
          if (selector.base === 'keywords-hierarchical') {
            // If a specific link is selected, return only that link's keywords
            if (selector.groupId && selector.linkId) {
              const group = this.data.groups.find(g =>
                !g.deleted && (
                  g.id === selector.groupId ||
                  g.uuid === selector.groupId ||
                  g.id === parseInt(selector.groupId)
                )
              );

              if (group) {
                const link = group.links.find(l =>
                  !l.deleted && (
                    l.id === selector.linkId ||
                    l.uuid === selector.linkId ||
                    l.id === parseInt(selector.linkId)
                  )
                );

                if (link && link.keywords) {
                  debugLog('log', 'getKeywordsForRule - Returning keywords for specific link:', link.text);
                  return this.parseKeywords(link.keywords).sort((a, b) =>
                    a.toLowerCase().localeCompare(b.toLowerCase())
                  );
                }
              }
              return [];
            }

            // If only a group is selected, return all keywords from group AND its links
            if (selector.groupId) {
              const group = this.data.groups.find(g =>
                !g.deleted && (
                  g.id === selector.groupId ||
                  g.uuid === selector.groupId ||
                  g.id === parseInt(selector.groupId)
                )
              );

              if (group) {
                const set = new Set();

                // Add group's own keywords
                if (group.keywords) {
                  debugLog('log', 'getKeywordsForRule - Adding group keywords:', group.keywords);
                  this.parseKeywords(group.keywords).forEach(k => set.add(k));
                }

                // Add keywords from all links in this group
                (group.links || []).forEach(l => {
                  if (!l.deleted && l.keywords) {
                    debugLog('log', 'getKeywordsForRule - Adding link keywords:', l.text, l.keywords);
                    this.parseKeywords(l.keywords).forEach(k => set.add(k));
                  }
                });

                const result = Array.from(set).sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));
                debugLog('log', 'getKeywordsForRule - Total keywords for group:', result);
                return result;
              }
              return [];
            }

            // No group or link selected - return all keywords
            return this.getAllUniqueKeywords();
          }

          // For keywords-in-group, return keywords that appear in group badges
          if (selector.base === 'keywords-in-group') {
            if (selector.groupId) {
              const group = this.data.groups.find(g =>
                !g.deleted && (
                  g.id === selector.groupId ||
                  g.uuid === selector.groupId ||
                  g.id === parseInt(selector.groupId)
                )
              );

              if (group) {
                // For a specific group, return both group keywords AND all link keywords
                // because both appear as badges in the group header
                const set = new Set();

                // Add group's own keywords
                if (group.keywords) {
                  this.parseKeywords(group.keywords).forEach(k => set.add(k));
                }

                // Also add keywords from all links in this group
                // because they also appear as badges in the group
                (group.links || []).forEach(l => {
                  if (!l.deleted && l.keywords) {
                    this.parseKeywords(l.keywords).forEach(k => set.add(k));
                  }
                });

                return Array.from(set).sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));
              }
              return []; // No keywords in this group
            }
            // No group selected - return all group keywords (not link keywords)
            const set = new Set();
            (this.data.groups || []).forEach(g => {
              if (!g.deleted && g.keywords) {
                this.parseKeywords(g.keywords).forEach(k => set.add(k));
              }
            });
            return Array.from(set).sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));
          }

          // For keywords-in-link, return keywords from links
          if (selector.base === 'keywords-in-link') {
            if (selector.groupId && selector.linkId) {
              // Specific link selected - return only that link's keywords
              const group = this.data.groups.find(g =>
                !g.deleted && (
                  g.id === selector.groupId ||
                  g.uuid === selector.groupId ||
                  g.id === parseInt(selector.groupId)
                )
              );

              if (group) {
                const link = group.links.find(l =>
                  !l.deleted && (
                    l.id === selector.linkId ||
                    l.uuid === selector.linkId ||
                    l.id === parseInt(selector.linkId)
                  )
                );

                if (link && link.keywords) {
                  // Return ONLY this link's keywords
                  return this.parseKeywords(link.keywords).sort((a, b) =>
                    a.toLowerCase().localeCompare(b.toLowerCase())
                  );
                }
              }
              return []; // No keywords in this link
            } else if (selector.groupId) {
              // Group selected but no link - return all keywords from all links in this group
              const group = this.data.groups.find(g =>
                !g.deleted && (
                  g.id === selector.groupId ||
                  g.uuid === selector.groupId ||
                  g.id === parseInt(selector.groupId)
                )
              );

              debugLog('log', 'getKeywordsForRule - Looking for group:', selector.groupId);
              debugLog('log', 'getKeywordsForRule - Found group:', group ? group.name : 'NOT FOUND');

              if (group) {
                debugLog('log', 'getKeywordsForRule - Group has keywords:', group.keywords);
                debugLog('log', 'getKeywordsForRule - Group has', (group.links || []).length, 'links');

                const set = new Set();
                (group.links || []).forEach(l => {
                  debugLog('log', 'getKeywordsForRule - Checking link:', l.text, 'deleted:', l.deleted, 'keywords:', l.keywords);
                  if (!l.deleted && l.keywords) {
                    const keywords = this.parseKeywords(l.keywords);
                    debugLog('log', 'getKeywordsForRule - Parsed link keywords:', l.text, keywords);
                    keywords.forEach(k => set.add(k));
                  }
                });
                const result = Array.from(set).sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));
                debugLog('log', 'getKeywordsForRule - Final keywords for links in group:', result);
                return result;
              }
              return [];
            }

            // No group or link selected - return all link keywords from all groups
            const set = new Set();
            (this.data.groups || []).forEach(g => {
              if (!g.deleted) {
                (g.links || []).forEach(l => {
                  if (!l.deleted && l.keywords) {
                    this.parseKeywords(l.keywords).forEach(k => set.add(k));
                  }
                });
              }
            });
            return Array.from(set).sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));
          }

          // Default: return empty array
          return [];
        },

        onGroupChange(rule) {
          // Deprecated - use updateRuleGroupId instead
          this.updateRuleGroupId(rule, { target: { value: rule.selector.groupId } });
        },

        getCurrentTemplate() {
          // Get the currently selected template definition
          const templates = {
            'dark-mode': [
              // ===== WICHTIGER HINWEIS =====
              // Dieses Template enthlt ALLE CSS-Regeln aus dem alten Dark Mode Template
              // Viele Selektoren sind nicht im Dropdown verfgbar, funktionieren aber trotzdem

              // Body & Main Container
              {
                id: Date.now() + 1,
                enabled: true,
                selector: 'body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1a1a1a',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 2,
                enabled: true,
                selector: '.mb-app',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1a1a1a'
                }
              },
              // Title Bar
              {
                id: Date.now() + 3,
                enabled: true,
                selector: '.mb-titlebar',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #2c2c2c 0%, #1f1f1f 100%)',
                  'border-bottom': '1px solid #444'
                }
              },
              {
                id: Date.now() + 4,
                enabled: true,
                selector: '.mb-titlebar__title',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#f0f0f0',
                  'text-shadow': '2px 2px 4px rgba(0, 0, 0, 0.5)'
                }
              },
              // Toolbar
              {
                id: Date.now() + 5,
                enabled: true,
                selector: '.mb-toolbar',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-bottom': '1px solid #333'
                }
              },
              {
                id: Date.now() + 5_1,
                enabled: true,
                selector: '.mb-toolbar .btn',
                groupId: null,
                linkId: null,
                properties: {
                  'padding': '4px 8px',
                  'font-size': '13px'
                }
              },
              // Groups
              {
                id: Date.now() + 6,
                enabled: true,
                selector: '.mb-group',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'margin-bottom': '8px',
                  'border-radius': '8px'
                }
              },
              {
                id: Date.now() + 6_1,
                enabled: true,
                selector: '.mb-group__body',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-left-radius': '0',
                  'border-top-right-radius': '0',
                  'border-bottom-left-radius': '8px',
                  'border-bottom-right-radius': '8px'
                }
              },
              {
                id: Date.now() + 7,
                enabled: true,
                selector: '.mb-group__header',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #2f2f2f 0%, #252525 100%)',
                  'border-bottom': '1px solid #3a3a3a'
                }
              },
              {
                id: Date.now() + 8,
                enabled: true,
                selector: '.mb-group__title',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#f0f0f0'
                }
              },
              // Links
              {
                id: Date.now() + 9,
                enabled: true,
                selector: '.mb-link',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': 'transparent'
                }
              },
              {
                id: Date.now() + 10,
                enabled: true,
                selector: '.mb-link__url',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#6cb2ff'
                }
              },
              {
                id: Date.now() + 10_1,
                enabled: true,
                selector: '.link-detail-popover',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(15, 23, 42, 0.94)',
                  'color': '#e2e8f0',
                  'border': '1px solid rgba(148, 163, 184, 0.25)',
                  'box-shadow': '0 24px 60px rgba(15, 23, 42, 0.45)',
                  'backdrop-filter': 'blur(12px)'
                }
              },
              {
                id: Date.now() + 10_2,
                enabled: true,
                selector: '.link-detail-popover__badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(59, 130, 246, 0.25)',
                  'color': '#bfdbfe'
                }
              },
              {
                id: Date.now() + 10_3,
                enabled: true,
                selector: '.link-detail-popover__favicon',
                groupId: null,
                linkId: null,
                properties: {
                  'box-shadow': '0 3px 8px rgba(15, 23, 42, 0.45)'
                }
              },
              // Keywords
              {
                id: Date.now() + 11,
                enabled: true,
                selector: '.keyword-badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a5f7d',
                  'color': '#e0e0e0',
                  'border': '1px solid #4a7f9d'
                }
              },
              {
                id: Date.now() + 11_1,
                enabled: true,
                selector: '.mb-keyword-suggestions, .mb-keyword-suggestions--overlay',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252b33',
                  'border': '1px solid #4a5565',
                  'color': '#e6e8eb',
                  'box-shadow': '0 12px 24px rgba(0, 0, 0, 0.45)'
                }
              },
              {
                id: Date.now() + 11_2,
                enabled: true,
                selector: '.mb-keyword-suggestion',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': 'transparent',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 11_21,
                enabled: true,
                selector: '.mb-keyword-suggestion + .mb-keyword-suggestion',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top': '1px solid #465063'
                }
              },
              {
                id: Date.now() + 11_3,
                enabled: true,
                selector: '.mb-keyword-suggestion:hover, .mb-keyword-suggestion:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a424f',
                  'color': '#ffffff'
                }
              },
              // Buttons
              {
                id: Date.now() + 12,
                enabled: true,
                selector: '.btn-primary',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#4a9eff',
                  'border-color': '#3a8eef',
                  'color': '#fff'
                }
              },
              {
                id: Date.now() + 13,
                enabled: true,
                selector: '.btn-secondary',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#555',
                  'border-color': '#444',
                  'color': '#e0e0e0'
                }
              },
              // Forms
              {
                id: Date.now() + 14,
                enabled: true,
                selector: '.form-control',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'color': '#e0e0e0',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 15,
                enabled: true,
                selector: '.form-select',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'color': '#e0e0e0',
                  'border-color': '#444'
                }
              },
              // Modals
              {
                id: Date.now() + 16,
                enabled: true,
                selector: '.modal-content',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'color': '#e0e0e0',
                  'border': '1px solid #444'
                }
              },
              {
                id: Date.now() + 17,
                enabled: true,
                selector: '.modal-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-bottom': '1px solid #444'
                }
              },
              {
                id: Date.now() + 18,
                enabled: true,
                selector: '.modal-footer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-top': '1px solid #444'
                }
              },
              // Duplicates dialog (ensure consistent dark styling)
              {
                id: Date.now() + 18_1,
                enabled: true,
                selector: '#duplicatesModal .card',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 18_2,
                enabled: true,
                selector: '#duplicatesModal .card-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'border-bottom': '1px solid #3a3a3a'
                }
              },
              {
                id: Date.now() + 18_3,
                enabled: true,
                selector: '#duplicatesModal .list-group-item',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'color': '#e0e0e0',
                  'border-color': '#333'
                }
              },
              {
                id: Date.now() + 18_4,
                enabled: true,
                selector: '#duplicatesModal .badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a',
                  'color': '#e0e0e0',
                  'border': '1px solid #444'
                }
              },
              // Zustzliche wichtige Dark Mode Regeln
              {
                id: Date.now() + 19,
                enabled: true,
                selector: '.groupContainer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'margin-bottom': '8px',
                  'border-radius': '8px'
                }
              },
              {
                id: Date.now() + 20,
                enabled: true,
                selector: '.groupContainerHeader',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #2f2f2f 0%, #252525 100%)',
                  'border-bottom': '1px solid #3a3a3a'
                }
              },
              {
                id: Date.now() + 21,
                enabled: true,
                selector: '.linkContainer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': 'transparent',
                  'border-bottom': '1px solid #333'
                }
              },
              {
                id: Date.now() + 22,
                enabled: true,
                selector: '.linkContainer:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#333'
                }
              },
              {
                id: Date.now() + 23,
                enabled: true,
                selector: '.linkText a',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#6cb2ff'
                }
              },
              {
                id: Date.now() + 24,
                enabled: true,
                selector: '.linkText a:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#9cc9ff',
                  'text-decoration': 'none'
                }
              },
              {
                id: Date.now() + 25,
                enabled: true,
                selector: '.mb-css-sidebar',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-left': '1px solid #444'
                }
              },
              {
                id: Date.now() + 26,
                enabled: true,
                selector: '.alert-info',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e3a5f',
                  'color': '#9cc9ff',
                  'border-color': '#2e4a6f'
                }
              },
              {
                id: Date.now() + 27,
                enabled: true,
                selector: '::-webkit-scrollbar',
                groupId: null,
                linkId: null,
                properties: {
                  'width': '12px',
                  'height': '12px'
                }
              },
              {
                id: Date.now() + 28,
                enabled: true,
                selector: '::-webkit-scrollbar-track',
                groupId: null,
                linkId: null,
                properties: {
                  'background': '#1a1a1a'
                }
              },
              {
                id: Date.now() + 29,
                enabled: true,
                selector: '::-webkit-scrollbar-thumb',
                groupId: null,
                linkId: null,
                properties: {
                  'background': '#444',
                  'border-radius': '6px'
                }
              },
              {
                id: Date.now() + 30,
                enabled: true,
                selector: '::-webkit-scrollbar-thumb:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background': '#555'
                }
              },
              // Groe CSS-Blcke als Custom CSS
              {
                id: Date.now() + 31,
                enabled: true,
                selector: '.mb-group-info-section',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#232323',
                  'border': '1px solid #3a3a3a',
                  'border-radius': '4px'
                },
                customCss: `/* Weitere Dark Mode Styles fr Info-Bereich */
.mb-group-info-header {
  background-color: #2a2a2a;
  color: #e0e0e0;
}
.mb-group-info-header:hover {
  background-color: #333;
}
.mb-group-info-label,
.group-info-section .text-info {
  color: #6cb2ff;
}
.mb-group-info-content {
  background-color: #1f1f1f;
  color: #e0e0e0;
  border: 1px solid #3a3a3a;
}`
              },
              // Kontextmens und Submens - mit !important fr hhere Spezifitt
              {
                id: Date.now() + 32,
                enabled: true,
                selector: '.context-menu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': '1px solid #444 !important',
                  'box-shadow': '0 4px 12px rgba(0, 0, 0, 0.5) !important'
                }
              },
              {
                id: Date.now() + 321,
                enabled: true,
                selector: '.mb-context-menu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': '1px solid #444 !important',
                  'box-shadow': '0 4px 12px rgba(0, 0, 0, 0.5) !important'
                }
              },
              {
                id: Date.now() + 3211,
                enabled: true,
                selector: '.context-menu ul',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': 'none !important'
                }
              },
              {
                id: Date.now() + 3212,
                enabled: true,
                selector: '.mb-context-menu ul',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': 'none !important'
                }
              },
              {
                id: Date.now() + 322,
                enabled: true,
                selector: '.context-menu ul li',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important',
                  'background-color': 'transparent !important'
                }
              },
              {
                id: Date.now() + 323,
                enabled: true,
                selector: '.mb-context-menu li',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important',
                  'background-color': 'transparent !important'
                }
              },
              {
                id: Date.now() + 324,
                enabled: true,
                selector: '.context-menu ul li:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important',
                  'color': '#ffffff !important'
                }
              },
              {
                id: Date.now() + 325,
                enabled: true,
                selector: '.mb-context-menu li:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important',
                  'color': '#ffffff !important'
                }
              },
              {
                id: Date.now() + 3251,
                enabled: true,
                selector: '.context-menu li.disabled',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#666666 !important',
                  'opacity': '0.5 !important'
                }
              },
              {
                id: Date.now() + 3252,
                enabled: true,
                selector: '.mb-context-menu li.disabled',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#666666 !important',
                  'opacity': '0.5 !important'
                }
              },
              {
                id: Date.now() + 326,
                enabled: true,
                selector: '.context-menu .separator',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-color': '#444 !important'
                }
              },
              {
                id: Date.now() + 3261,
                enabled: true,
                selector: '.mb-context-menu-separator',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top': '1px solid #444 !important'
                }
              },
              {
                id: Date.now() + 327,
                enabled: true,
                selector: '.context-submenu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': '1px solid #444 !important',
                  'box-shadow': '0 2px 8px rgba(0, 0, 0, 0.4) !important'
                }
              },
              {
                id: Date.now() + 328,
                enabled: true,
                selector: '.mb-context-submenu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': '1px solid #444 !important',
                  'box-shadow': '0 2px 8px rgba(0, 0, 0, 0.4) !important'
                }
              },
              {
                id: Date.now() + 329,
                enabled: true,
                selector: '.context-submenu li:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important',
                  'color': '#ffffff !important'
                }
              },
              {
                id: Date.now() + 330,
                enabled: true,
                selector: '.mb-context-submenu li:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important',
                  'color': '#ffffff !important'
                }
              },
              {
                id: Date.now() + 3301,
                enabled: true,
                selector: '.context-menu.context-menu-visible',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important'
                }
              },
              {
                id: Date.now() + 3302,
                enabled: true,
                selector: '.mb-context-menu.context-menu-visible',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important'
                }
              },
              {
                id: Date.now() + 3303,
                enabled: true,
                selector: '.context-menu .submenu',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important',
                  'background-color': 'transparent !important'
                }
              },
              {
                id: Date.now() + 3304,
                enabled: true,
                selector: '.context-menu .submenu:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important',
                  'color': '#ffffff !important'
                }
              },
              // Toolbar Buttons
              {
                id: Date.now() + 33,
                enabled: true,
                selector: '.mb-toolbar .btn',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#333',
                  'color': '#e0e0e0',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 331,
                enabled: true,
                selector: '.mb-toolbar .btn:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#444 !important',
                  'color': '#ffffff !important',
                  'border-color': '#555 !important',
                  'box-shadow': 'none !important'
                }
              },
              {
                id: Date.now() + 332,
                enabled: true,
                selector: '.mb-toolbar .btn:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important',
                  'color': '#ffffff !important',
                  'border-color': '#555 !important',
                  'box-shadow': '0 0 0 0.2rem rgba(255, 255, 255, 0.1) !important'
                }
              },
              {
                id: Date.now() + 333,
                enabled: true,
                selector: '.mb-toolbar .btn:active',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'color': '#ffffff !important',
                  'border-color': '#444 !important'
                }
              },
              {
                id: Date.now() + 334,
                enabled: true,
                selector: '.btn-toolbar .btn:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#444 !important',
                  'color': '#ffffff !important',
                  'border-color': '#555 !important',
                  'box-shadow': 'none !important'
                }
              },
              {
                id: Date.now() + 335,
                enabled: true,
                selector: '.mb-tools .btn:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#444 !important',
                  'color': '#ffffff !important',
                  'border-color': '#555 !important',
                  'box-shadow': 'none !important'
                }
              },
              {
                id: Date.now() + 336,
                enabled: true,
                selector: '.mb-toolbar .btn-outline-secondary:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#444 !important',
                  'color': '#ffffff !important',
                  'border-color': '#555 !important'
                }
              },
              {
                id: Date.now() + 337,
                enabled: true,
                selector: '.mb-toolbar .btn-outline-primary:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a5f7d !important',
                  'color': '#ffffff !important',
                  'border-color': '#4a7f9d !important'
                }
              },
              {
                id: Date.now() + 338,
                enabled: true,
                selector: '.mb-toolbar .btn-success:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2d5a2d !important',
                  'color': '#ffffff !important',
                  'border-color': '#3d6a3d !important',
                  'box-shadow': 'none !important'
                }
              },
              {
                id: Date.now() + 339,
                enabled: true,
                selector: '.mb-toolbar .btn-danger:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#5a2d2d !important',
                  'color': '#ffffff !important',
                  'border-color': '#6a3d3d !important',
                  'box-shadow': 'none !important',
                  'opacity': '1 !important'
                }
              },
              // Keywords Bar
              {
                id: Date.now() + 34,
                enabled: true,
                selector: '.mb-keyword-bar',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-top': '1px solid #333',
                  'border-bottom': '1px solid #333',
                  'padding': '8px 12px'
                }
              },
              {
                id: Date.now() + 341,
                enabled: true,
                selector: '.mb-keyword-label',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'color': '#e0e0e0',
                  'border': '1px solid #3a3a3a',
                  'border-right': 'none',
                  'padding': '6px 12px',
                  'font-weight': '600',
                  'font-size': '12px',
                  'letter-spacing': '0.5px'
                }
              },
              {
                id: Date.now() + 342,
                enabled: true,
                selector: '.mb-keyword-label:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#333',
                  'border-color': '#4a9eff',
                  'border-right': 'none'
                }
              },
              {
                id: Date.now() + 343,
                enabled: true,
                selector: '.mb-keywords-cloud',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'padding': '12px',
                  'border-radius': '8px',
                  'margin': '8px 0'
                }
              },
              {
                id: Date.now() + 344,
                enabled: true,
                selector: '.keyword-container',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'border': '1px solid #3a3a3a',
                  'border-left': 'none',
                  'border-radius': '0 8px 8px 0'
                }
              },
              {
                id: Date.now() + 345,
                enabled: true,
                selector: '.mb-keyword-bar .keyword-badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a5f7d',
                  'color': '#e0e0e0',
                  'border': '1px solid #4a7f9d',
                  'margin': '2px'
                }
              },
              {
                id: Date.now() + 346,
                enabled: true,
                selector: '.mb-keyword-bar .keyword-badge:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#4a7f9d',
                  'transform': 'scale(1.05)'
                }
              },
              // Footer
              {
                id: Date.now() + 35,
                enabled: true,
                selector: 'footer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1f1f1f',
                  'color': '#e0e0e0',
                  'border-top': '1px solid #444'
                },
                customCss: `footer a {
  color: #6cb2ff !important;
}
footer a:hover {
  color: #9cc9ff !important;
}`
              },
              // Global Options Dialog
              {
                id: Date.now() + 36,
                enabled: true,
                selector: '#optionsModal .modal-content',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 361,
                enabled: true,
                selector: '#optionsModal .modal-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-bottom': '1px solid #444'
                }
              },
              {
                id: Date.now() + 362,
                enabled: true,
                selector: '#optionsModal .modal-footer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-top': '1px solid #444'
                }
              },
              {
                id: Date.now() + 363,
                enabled: true,
                selector: '#optionsModal .nav-tabs',
                groupId: null,
                linkId: null,
                properties: {
                  'border-bottom': '1px solid #444'
                }
              },
              {
                id: Date.now() + 364,
                enabled: true,
                selector: '#optionsModal .nav-link',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#9ca3af',
                  'background-color': 'transparent',
                  'border-color': 'transparent'
                }
              },
              {
                id: Date.now() + 365,
                enabled: true,
                selector: '#optionsModal .nav-link:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 366,
                enabled: true,
                selector: '#optionsModal .nav-link.active',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0',
                  'background-color': '#333',
                  'border-color': '#444 #444 #333'
                }
              },
              {
                id: Date.now() + 367,
                enabled: true,
                selector: '#optionsModal .form-control',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'color': '#e0e0e0',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 368,
                enabled: true,
                selector: '#optionsModal .form-select',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'color': '#e0e0e0',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 369,
                enabled: true,
                selector: '#optionsModal .form-check-input',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 370,
                enabled: true,
                selector: '#optionsModal .form-check-input:checked',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#4a9eff',
                  'border-color': '#4a9eff'
                }
              },
              {
                id: Date.now() + 371,
                enabled: true,
                selector: '#optionsModal .list-group-item',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'color': '#e0e0e0',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 372,
                enabled: true,
                selector: '#optionsModal .card',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 373,
                enabled: true,
                selector: '#optionsModal .card-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'border-bottom': '1px solid #444'
                }
              },
              // Edit Dialogs (Group & Link)
              {
                id: Date.now() + 37,
                enabled: true,
                selector: '.mb-edit-modal-body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 371,
                enabled: true,
                selector: '.mb-edit-modal-title',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#f0f0f0',
                  'font-size': '1.25rem'
                }
              },
              {
                id: Date.now() + 372,
                enabled: true,
                selector: '.mb-edit-modal-footer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-top': '1px solid #444',
                  'padding': '1rem'
                }
              },
              {
                id: Date.now() + 373,
                enabled: true,
                selector: '.mb-edit-filter-container',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#232323',
                  'padding': '0.75rem',
                  'border-radius': '0.25rem',
                  'margin-bottom': '1rem'
                }
              },
              {
                id: Date.now() + 374,
                enabled: true,
                selector: '.mb-edit-filter-input',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border-color': '#444',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 375,
                enabled: true,
                selector: '.mb-edit-filter-input:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'border-color': '#4a9eff',
                  'box-shadow': '0 0 0 0.2rem rgba(74, 158, 255, 0.25)'
                }
              },
              {
                id: Date.now() + 376,
                enabled: true,
                selector: '.mb-edit-section',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border': '1px solid #3a3a3a',
                  'border-radius': '0.25rem',
                  'margin-bottom': '1rem'
                }
              },
              {
                id: Date.now() + 377,
                enabled: true,
                selector: '.mb-edit-section-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'color': '#f0f0f0',
                  'padding': '0.5rem 0.75rem',
                  'border-bottom': '1px solid #3a3a3a',
                  'font-weight': '500'
                }
              },
              {
                id: Date.now() + 378,
                enabled: true,
                selector: '.mb-edit-section-body',
                groupId: null,
                linkId: null,
                properties: {
                  'padding': '0.75rem',
                  'background-color': '#1f1f1f',
                  'border-radius': '0 0 0.25rem 0.25rem'
                }
              },
              {
                id: Date.now() + 379,
                enabled: true,
                selector: '.mb-edit-text-input',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border-color': '#444',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 380,
                enabled: true,
                selector: '.mb-edit-url-input',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border-color': '#444',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 381,
                enabled: true,
                selector: '.mb-edit-number-input',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border-color': '#444',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 382,
                enabled: true,
                selector: '.mb-edit-select',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border-color': '#444',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 383,
                enabled: true,
                selector: '.mb-edit-checkbox',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 384,
                enabled: true,
                selector: '.mb-edit-checkbox:checked',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#4a9eff',
                  'border-color': '#4a9eff'
                }
              },
              {
                id: Date.now() + 385,
                enabled: true,
                selector: '.mb-edit-save-btn',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#4a9eff',
                  'border-color': '#3a8eef',
                  'color': '#fff'
                }
              },
              {
                id: Date.now() + 386,
                enabled: true,
                selector: '.mb-edit-save-btn:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a8eef',
                  'border-color': '#2a7edf'
                }
              },
              {
                id: Date.now() + 387,
                enabled: true,
                selector: '.mb-edit-cancel-btn',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#555',
                  'border-color': '#444',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 388,
                enabled: true,
                selector: '.mb-edit-cancel-btn:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#666',
                  'border-color': '#555'
                }
              },
              {
                id: Date.now() + 389,
                enabled: true,
                selector: '.mb-edit-reset-btn',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': 'transparent',
                  'border-color': '#666',
                  'color': '#aaa'
                }
              },
              {
                id: Date.now() + 390,
                enabled: true,
                selector: '.mb-edit-reset-btn:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#333',
                  'border-color': '#777',
                  'color': '#e0e0e0'
                }
              },
              // Search Bar Container
              {
                id: Date.now() + 391,
                enabled: true,
                selector: '.mb-toolbar__search',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a',
                  'border-radius': '6px',
                  'padding': '4px'
                }
              },
              {
                id: Date.now() + 392,
                enabled: true,
                selector: '.mb-toolbar__search .form-control',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border-color': '#444',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 393,
                enabled: true,
                selector: '.mb-toolbar__search .form-control:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-color': '#4a9eff',
                  'box-shadow': '0 0 0 0.2rem rgba(74, 158, 255, 0.25)',
                  'color': '#f0f0f0'
                }
              },
              {
                id: Date.now() + 394,
                enabled: true,
                selector: '.mb-toolbar__search .input-group-text',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#333',
                  'border-color': '#444',
                  'color': '#9ca3af'
                }
              },
              // Group Title Header Container Hover
              {
                id: Date.now() + 395,
                enabled: true,
                selector: '.groupContainerHeader:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #333b47 0%, #2d3440 100%)',
                  'transition': 'background 0.2s ease'
                }
              },
              {
                id: Date.now() + 396,
                enabled: true,
                selector: '.mb-group__header:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #333b47 0%, #2d3440 100%)',
                  'transition': 'background 0.2s ease'
                }
              },
              {
                id: Date.now() + 3961,
                enabled: true,
                selector: '.groupContainer.mb-group:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2c333d !important'
                }
              },
              {
                id: Date.now() + 3962,
                enabled: true,
                selector: '.groupContainer.mb-group:hover .mb-group__header',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #333b47 0%, #2d3440 100%) !important'
                }
              },
              {
                id: Date.now() + 3963,
                enabled: true,
                selector: '.groupContainer.mb-group:hover .mb-group__body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b3139 !important'
                }
              },
              {
                id: Date.now() + 3964,
                enabled: true,
                selector: '.groupContainer.mb-group:hover .mb-group-resize-handle',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'transparent !important',
                  'border-top-color': 'transparent !important'
                }
              },
              {
                id: Date.now() + 3965,
                enabled: true,
                selector: '.groupContainer.mb-group:hover .mb-group-resize-handle::before',
                groupId: null,
                linkId: null,
                properties: {
                  'opacity': '0 !important'
                }
              },
              // Custom CSS Sidebar Containers
              {
                id: Date.now() + 397,
                enabled: true,
                selector: '.generated-css-section',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border-color': '#444',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 398,
                enabled: true,
                selector: '.generated-css-section h6',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#f0f0f0',
                  'border-bottom': '1px solid #333',
                  'padding-bottom': '8px',
                  'margin-bottom': '12px'
                }
              },
              {
                id: Date.now() + 399,
                enabled: true,
                selector: '.generated-css-section .css-output',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#0d0d0d',
                  'color': '#6cb2ff',
                  'border': '1px solid #333',
                  'padding': '12px',
                  'border-radius': '4px',
                  'font-family': 'Monaco, Menlo, Consolas, monospace'
                }
              },
              {
                id: Date.now() + 400,
                enabled: true,
                selector: '.selector-preview',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e',
                  'border': '1px solid #444',
                  'color': '#e0e0e0'
                }
              },
              {
                id: Date.now() + 401,
                enabled: true,
                selector: '.selector-preview code',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#6cb2ff',
                  'background-color': '#0d0d0d',
                  'padding': '4px 8px',
                  'border-radius': '3px',
                  'font-size': '13px'
                }
              },
              {
                id: Date.now() + 402,
                enabled: true,
                selector: '.selector-preview small',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#9ca3af'
                }
              },
              // Force dark mode for Bootstrap bg-light classes
              {
                id: Date.now() + 403,
                enabled: true,
                selector: '.generated-css-section.bg-light',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e !important',
                  'color': '#e0e0e0 !important'
                }
              },
              {
                id: Date.now() + 404,
                enabled: true,
                selector: '.selector-preview.bg-light',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e !important',
                  'color': '#e0e0e0 !important'
                }
              },
              {
                id: Date.now() + 405,
                enabled: true,
                selector: '.selector-preview .text-muted',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#9ca3af !important'
                }
              },
              // Keywords Bar and Cloud - More specific selectors
              {
                id: Date.now() + 406,
                enabled: true,
                selector: '.mb-keywords-cloud',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525 !important',
                  'padding': '12px',
                  'border-radius': '8px',
                  'margin': '8px 0'
                }
              },
              {
                id: Date.now() + 407,
                enabled: true,
                selector: '.mb-keywords-cloud .keyword-container',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': '1px solid #3a3a3a',
                  'border-radius': '0 8px 8px 0',
                  'padding': '4px 8px'
                }
              },
              {
                id: Date.now() + 408,
                enabled: true,
                selector: '.mb-keywords-cloud .mb-keyword-label',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#333 !important',
                  'color': '#e0e0e0 !important',
                  'border': '1px solid #444',
                  'border-right': 'none'
                }
              },
              {
                id: Date.now() + 409,
                enabled: true,
                selector: '.mb-keywords-cloud .keyword-badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a5f7d !important',
                  'color': '#e0e0e0 !important',
                  'border': '1px solid #4a7f9d'
                }
              },
              {
                id: Date.now() + 410,
                enabled: true,
                selector: '.mb-keywords-cloud .keyword-badge:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#4a7f9d !important',
                  'color': '#fff !important',
                  'transform': 'scale(1.05)'
                }
              },
              // CSS Sidebar itself
              {
                id: Date.now() + 411,
                enabled: true,
                selector: '.mb-css-sidebar',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1a1a1a !important',
                  'color': '#e0e0e0',
                  'border-left': '2px solid #444'
                }
              },
              {
                id: Date.now() + 412,
                enabled: true,
                selector: '.mb-css-sidebar .css-rule-card',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252525',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 413,
                enabled: true,
                selector: '.mb-css-sidebar .form-control',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e !important',
                  'color': '#e0e0e0 !important',
                  'border-color': '#444 !important'
                }
              },
              {
                id: Date.now() + 414,
                enabled: true,
                selector: '.mb-css-sidebar .form-select',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1e1e1e !important',
                  'color': '#e0e0e0 !important',
                  'border-color': '#444 !important'
                }
              },
              {
                id: Date.now() + 415,
                enabled: true,
                selector: '.mb-css-sidebar .btn-outline-secondary',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#9ca3af',
                  'border-color': '#444'
                }
              },
              {
                id: Date.now() + 416,
                enabled: true,
                selector: '.mb-css-sidebar .btn-outline-secondary:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#333',
                  'color': '#e0e0e0',
                  'border-color': '#555'
                }
              },
              // Action Buttons - Make them white/light
              {
                id: Date.now() + 417,
                enabled: true,
                selector: '.mb-css-sidebar-close',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important',
                  'background-color': 'transparent !important',
                  'opacity': '0.8'
                }
              },
              {
                id: Date.now() + 418,
                enabled: true,
                selector: '.mb-css-sidebar-close:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#ffffff !important',
                  'opacity': '1',
                  'transform': 'scale(1.1)'
                }
              },
              {
                id: Date.now() + 419,
                enabled: true,
                selector: '.mb-group-menu-btn',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important',
                  'fill': '#e0e0e0 !important',
                  'opacity': '0.7'
                }
              },
              {
                id: Date.now() + 420,
                enabled: true,
                selector: '.mb-group-menu-btn:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#ffffff !important',
                  'fill': '#ffffff !important',
                  'opacity': '1',
                  'transform': 'scale(1.1)'
                }
              },
              {
                id: Date.now() + 421,
                enabled: true,
                selector: '.mb-link-menu-btn',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important',
                  'fill': '#e0e0e0 !important',
                  'opacity': '0.7'
                }
              },
              {
                id: Date.now() + 422,
                enabled: true,
                selector: '.mb-link-menu-btn:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#ffffff !important',
                  'fill': '#ffffff !important',
                  'opacity': '1',
                  'transform': 'scale(1.1)'
                }
              },
              {
                id: Date.now() + 423,
                enabled: true,
                selector: '.mb-group-add-link-btn',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important',
                  'fill': '#e0e0e0 !important',
                  'opacity': '0.7'
                }
              },
              {
                id: Date.now() + 424,
                enabled: true,
                selector: '.mb-group-add-link-btn:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#4a9eff !important',
                  'fill': '#4a9eff !important',
                  'opacity': '1',
                  'transform': 'scale(1.1)'
                }
              },
              // Other action icons
              {
                id: Date.now() + 425,
                enabled: true,
                selector: '.actionIcon',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#d0d0d0 !important',
                  'fill': '#d0d0d0 !important'
                }
              },
              {
                id: Date.now() + 426,
                enabled: true,
                selector: '.actionIcon:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#ffffff !important',
                  'fill': '#ffffff !important'
                }
              },
              {
                id: Date.now() + 427,
                enabled: true,
                selector: '.actionIconLink',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#c0c0c0 !important',
                  'fill': '#c0c0c0 !important'
                }
              },
              {
                id: Date.now() + 428,
                enabled: true,
                selector: '.actionIconLink:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#ffffff !important',
                  'fill': '#ffffff !important'
                }
              },
              // Close button (X) in modals
              {
                id: Date.now() + 429,
                enabled: true,
                selector: '.btn-close',
                groupId: null,
                linkId: null,
                properties: {
                  'filter': 'invert(1) grayscale(100%) brightness(200%)',
                  'opacity': '0.8'
                }
              },
              {
                id: Date.now() + 430,
                enabled: true,
                selector: '.btn-close:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'opacity': '1'
                }
              },
              // Dropdown Menus and Submenus (Bootstrap overrides)
              {
                id: Date.now() + 431,
                enabled: true,
                selector: '.dropdown-menu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': '1px solid #444 !important',
                  'box-shadow': '0 4px 12px rgba(0, 0, 0, 0.5) !important'
                }
              },
              {
                id: Date.now() + 432,
                enabled: true,
                selector: '.dropdown-item',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important',
                  'background-color': 'transparent !important'
                }
              },
              {
                id: Date.now() + 433,
                enabled: true,
                selector: '.dropdown-item:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important',
                  'color': '#ffffff !important'
                }
              },
              {
                id: Date.now() + 434,
                enabled: true,
                selector: '.dropdown-item:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important',
                  'color': '#ffffff !important',
                  'outline': 'none !important'
                }
              },
              {
                id: Date.now() + 435,
                enabled: true,
                selector: '.dropdown-item:active',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#4a4a4a !important',
                  'color': '#ffffff !important'
                }
              },
              {
                id: Date.now() + 436,
                enabled: true,
                selector: '.dropdown-divider',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-color': '#444 !important'
                }
              },
              {
                id: Date.now() + 437,
                enabled: true,
                selector: '.dropdown-submenu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': '1px solid #444 !important'
                }
              },
              {
                id: Date.now() + 438,
                enabled: true,
                selector: '.dropdown-submenu .dropdown-item',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important'
                }
              },
              {
                id: Date.now() + 439,
                enabled: true,
                selector: '.dropdown-submenu .dropdown-item:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important',
                  'color': '#ffffff !important'
                }
              },
              // Snapshots dropdown specific
              {
                id: Date.now() + 440,
                enabled: true,
                selector: '.mb-snapshots-menu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a2a2a !important',
                  'border': '1px solid #444 !important'
                }
              },
              {
                id: Date.now() + 441,
                enabled: true,
                selector: '.mb-snapshots-menu .dropdown-item',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important'
                }
              },
              {
                id: Date.now() + 442,
                enabled: true,
                selector: '.mb-snapshots-menu .dropdown-item:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a3a3a !important'
                }
              },
              // Context menu submenu arrows
              {
                id: Date.now() + 443,
                enabled: true,
                selector: '.context-menu .submenu::after',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#9ca3af !important'
                }
              },
              {
                id: Date.now() + 444,
                enabled: true,
                selector: '.context-menu .submenu:hover::after',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#ffffff !important'
                }
              },
              // Bootstrap dropdown toggle
              {
                id: Date.now() + 445,
                enabled: true,
                selector: '.dropdown-toggle',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e0e0e0 !important'
                }
              },
              {
                id: Date.now() + 446,
                enabled: true,
                selector: '.dropdown-toggle:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#ffffff !important'
                }
              },
              {
                id: Date.now() + 447,
                enabled: true,
                selector: '.dropdown-toggle::after',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-color': '#e0e0e0 !important'
                }
              },
              // Harmonized dark foundation (shared selector set with minimal)
              {
                id: Date.now() + 500,
                enabled: true,
                selector: 'body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1f2329',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 501,
                enabled: true,
                selector: '.mb-app',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': 'transparent',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 502,
                enabled: true,
                selector: '.mb-titlebar',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #2b3139 0%, #252b33 100%)',
                  'border-bottom': '1px solid #3f4754'
                }
              },
              {
                id: Date.now() + 503,
                enabled: true,
                selector: '.mb-titlebar__title',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#f3f4f6',
                  'text-shadow': 'none'
                }
              },
              {
                id: Date.now() + 504,
                enabled: true,
                selector: '.mb-toolbar',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038',
                  'border-bottom': '1px solid #3f4754'
                }
              },
              {
                id: Date.now() + 505,
                enabled: true,
                selector: '.mb-group',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2c333d',
                  'border': '1px solid #454f5e',
                  'border-radius': '10px'
                }
              },
              {
                id: Date.now() + 506,
                enabled: true,
                selector: '.mb-group__header',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #333b47 0%, #2d3440 100%)',
                  'border-bottom': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 507,
                enabled: true,
                selector: '.mb-group__body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b3139'
                }
              },
              {
                id: Date.now() + 508,
                enabled: true,
                selector: '.mb-link',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 509,
                enabled: true,
                selector: '.mb-link:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#353d49'
                }
              },
              {
                id: Date.now() + 510,
                enabled: true,
                selector: '.mb-link__url',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#8fb8ff'
                }
              },
              {
                id: Date.now() + 511,
                enabled: true,
                selector: '.mb-modal',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038',
                  'color': '#e6e8eb',
                  'border': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 512,
                enabled: true,
                selector: '.modal-content',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038',
                  'color': '#e6e8eb',
                  'border': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 513,
                enabled: true,
                selector: '.modal-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#323a45',
                  'border-bottom': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 514,
                enabled: true,
                selector: '.modal-footer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#323a45',
                  'border-top': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 515,
                enabled: true,
                selector: '.modal-body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 515_1,
                enabled: true,
                selector: '#shortcutManagerModal .mb-shortcut-manager-section',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b323c',
                  'border-color': '#4a5565',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 515_2,
                enabled: true,
                selector: '#shortcutManagerModal .mb-shortcut-global-card',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#242a32',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 515_3,
                enabled: true,
                selector: '#shortcutManagerModal .mb-shortcut-target-tree',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#242a32',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 515_4,
                enabled: true,
                selector: '#shortcutManagerModal .mb-shortcut-target-group',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 515_5,
                enabled: true,
                selector: '#shortcutManagerModal .mb-shortcut-manager-section .border-top',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-color': '#4a5565 !important'
                }
              },
              {
                id: Date.now() + 516,
                enabled: true,
                selector: '.form-control',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#242a32',
                  'color': '#eef2f7',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 517,
                enabled: true,
                selector: '.form-control:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#282f38',
                  'color': '#f5f7fa',
                  'border-color': '#78a6ff',
                  'box-shadow': '0 0 0 0.2rem rgba(120, 166, 255, 0.25)'
                }
              },
              {
                id: Date.now() + 518,
                enabled: true,
                selector: '.form-select',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#242a32',
                  'color': '#eef2f7',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 519,
                enabled: true,
                selector: '.form-select:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#282f38',
                  'color': '#f5f7fa',
                  'border-color': '#78a6ff',
                  'box-shadow': '0 0 0 0.2rem rgba(120, 166, 255, 0.25)'
                }
              },
              {
                id: Date.now() + 520,
                enabled: true,
                selector: '.input-group-text',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#313844',
                  'color': '#c3c9d3',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 521,
                enabled: true,
                selector: '.form-check-input',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#242a32',
                  'border-color': '#5a6577'
                }
              },
              {
                id: Date.now() + 522,
                enabled: true,
                selector: '.form-check-input:checked',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#78a6ff',
                  'border-color': '#78a6ff'
                }
              },
              {
                id: Date.now() + 523,
                enabled: true,
                selector: '.table',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e5e7eb',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 524,
                enabled: true,
                selector: '.table th',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#323a45',
                  'color': '#d7dde7',
                  'border-bottom': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 525,
                enabled: true,
                selector: '.table td',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top': '1px solid #434d5d'
                }
              },
              {
                id: Date.now() + 5251,
                enabled: true,
                selector: '.mb-placeholder-table',
                groupId: null,
                linkId: null,
                properties: {
                  '--bs-table-bg': '#2a3038',
                  '--bs-table-color': '#e6e8eb',
                  '--bs-table-border-color': '#4a5565',
                  '--bs-table-striped-bg': '#2f3742',
                  '--bs-table-hover-bg': '#353d49',
                  '--bs-table-hover-color': '#f3f4f6'
                }
              },
              {
                id: Date.now() + 5252,
                enabled: true,
                selector: '.mb-placeholder-table > :not(caption) > * > *',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038',
                  'color': '#e6e8eb',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 5253,
                enabled: true,
                selector: '.mb-placeholder-table thead th',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#323a45',
                  'color': '#d7dde7',
                  'border-bottom': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 5254,
                enabled: true,
                selector: '.mb-placeholder-table .form-check-label',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#d7dde7'
                }
              },
              {
                id: Date.now() + 5255,
                enabled: true,
                selector: '.mb-placeholder-table code',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#b9d3ff',
                  'background-color': '#242a32',
                  'padding': '0.1rem 0.35rem',
                  'border-radius': '0.2rem'
                }
              },
              {
                id: Date.now() + 5256,
                enabled: true,
                selector: '.mb-placeholder-table .btn-link',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#9ec5ff'
                }
              },
              {
                id: Date.now() + 5257,
                enabled: true,
                selector: '.mb-placeholder-table .btn-link:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#c8e0ff'
                }
              },
              {
                id: Date.now() + 526,
                enabled: true,
                selector: '.table-hover tbody tr:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#353d49'
                }
              },
              {
                id: Date.now() + 527,
                enabled: true,
                selector: '.card',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b323c',
                  'border-color': '#4a5565',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 528,
                enabled: true,
                selector: '.card-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#333b47',
                  'border-bottom': '1px solid #4a5565',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 529,
                enabled: true,
                selector: '.list-group-item',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038',
                  'color': '#e6e8eb',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 530,
                enabled: true,
                selector: '.dropdown-menu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b323c !important',
                  'border': '1px solid #4a5565 !important'
                }
              },
              {
                id: Date.now() + 531,
                enabled: true,
                selector: '.dropdown-item',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e5e7eb !important'
                }
              },
              {
                id: Date.now() + 532,
                enabled: true,
                selector: '.dropdown-item:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a424f !important',
                  'color': '#ffffff !important'
                }
              },
              {
                id: Date.now() + 533,
                enabled: true,
                selector: '.dropdown-divider',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-color': '#4a5565 !important'
                }
              },
              {
                id: Date.now() + 534,
                enabled: true,
                selector: '.mb-context-menu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b323c !important',
                  'border': '1px solid #4a5565 !important',
                  'color': '#e6e8eb !important'
                }
              },
              {
                id: Date.now() + 535,
                enabled: true,
                selector: '.mb-context-menu-list > li',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 536,
                enabled: true,
                selector: '.mb-context-menu-list > li:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a424f'
                }
              },
              {
                id: Date.now() + 537,
                enabled: true,
                selector: '.mb-context-submenu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b323c !important',
                  'border': '1px solid #4a5565 !important'
                }
              },
              {
                id: Date.now() + 538,
                enabled: true,
                selector: '.mb-context-submenu > li:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a424f'
                }
              },
              {
                id: Date.now() + 539,
                enabled: true,
                selector: '.mb-context-menu-separator',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 540,
                enabled: true,
                selector: '.alert-info',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#233547',
                  'color': '#c5d9f8',
                  'border-color': '#3f5d82'
                }
              },
              {
                id: Date.now() + 541,
                enabled: true,
                selector: '.alert-warning',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#4a3e26',
                  'color': '#f9e7b0',
                  'border-color': '#7b6741'
                }
              },
              {
                id: Date.now() + 542,
                enabled: true,
                selector: '.bg-light',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#313844 !important',
                  'color': '#e6e8eb !important'
                }
              },
              {
                id: Date.now() + 543,
                enabled: true,
                selector: '.bg-white',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038 !important',
                  'color': '#e6e8eb !important'
                }
              },
              {
                id: Date.now() + 544,
                enabled: true,
                selector: '.text-muted',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#a8b0bb !important'
                }
              },
              {
                id: Date.now() + 5441,
                enabled: true,
                selector: '.modal .form-text:not(.text-warning):not(.text-danger):not(.text-success):not(.text-info)',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#a8b0bb !important'
                }
              },
              {
                id: Date.now() + 5442,
                enabled: true,
                selector: '.modal .mb-edit-field-help:not(.text-warning):not(.text-danger):not(.text-success):not(.text-info)',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#a8b0bb !important'
                }
              },
              {
                id: Date.now() + 545,
                enabled: true,
                selector: '.mb-surface-panel',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2f3641',
                  'border-color': '#4a5565',
                  'color': '#e5e7eb'
                }
              },
              {
                id: Date.now() + 546,
                enabled: true,
                selector: '.mb-import-keyword-badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a4352 !important',
                  'color': '#e5e7eb !important',
                  'border': '1px solid #5a6577'
                }
              },
              {
                id: Date.now() + 547,
                enabled: true,
                selector: '.mb-bookmarklet-prefix',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#313844',
                  'color': '#c3c9d3',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 548,
                enabled: true,
                selector: '.mb-css-sidebar .css-rule-card',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b323c',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 549,
                enabled: true,
                selector: 'footer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#252b33',
                  'color': '#c2c9d4',
                  'border-top': '1px solid #454f5e'
                }
              },
              // Additional dark coverage for bright legacy UI elements
              {
                id: Date.now() + 550,
                enabled: true,
                selector: '.btn-outline-secondary',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2f3641 !important',
                  'color': '#d7dde7 !important',
                  'border-color': '#505b6b !important'
                }
              },
              {
                id: Date.now() + 551,
                enabled: true,
                selector: '.btn-outline-secondary:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3b4452 !important',
                  'color': '#f5f7fa !important',
                  'border-color': '#657284 !important'
                }
              },
              {
                id: Date.now() + 552,
                enabled: true,
                selector: '.btn-outline-secondary:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'box-shadow': '0 0 0 0.2rem rgba(120, 166, 255, 0.25) !important',
                  'border-color': '#78a6ff !important'
                }
              },
              {
                id: Date.now() + 553,
                enabled: true,
                selector: '.input-group-sm .form-control',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#242a32 !important',
                  'color': '#eef2f7 !important',
                  'border-color': '#4a5565 !important'
                }
              },
              {
                id: Date.now() + 554,
                enabled: true,
                selector: '.input-group-sm .form-control:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#282f38 !important',
                  'color': '#f5f7fa !important',
                  'border-color': '#78a6ff !important',
                  'box-shadow': '0 0 0 0.2rem rgba(120, 166, 255, 0.25) !important'
                }
              },
              {
                id: Date.now() + 555,
                enabled: true,
                selector: '.input-group-sm .form-select',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#242a32 !important',
                  'color': '#eef2f7 !important',
                  'border-color': '#4a5565 !important'
                }
              },
              {
                id: Date.now() + 556,
                enabled: true,
                selector: '.input-group-sm .form-select:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#282f38 !important',
                  'color': '#f5f7fa !important',
                  'border-color': '#78a6ff !important',
                  'box-shadow': '0 0 0 0.2rem rgba(120, 166, 255, 0.25) !important'
                }
              },
              {
                id: Date.now() + 557,
                enabled: true,
                selector: '.input-group-sm .btn-outline-secondary',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#313844 !important',
                  'color': '#d7dde7 !important',
                  'border-color': '#505b6b !important'
                }
              },
              {
                id: Date.now() + 558,
                enabled: true,
                selector: '.input-group-sm .btn-outline-secondary:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3c4553 !important',
                  'color': '#ffffff !important',
                  'border-color': '#657284 !important'
                }
              },
              {
                id: Date.now() + 559,
                enabled: true,
                selector: '.addLinkContainer .form-control',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#242a32 !important',
                  'color': '#eef2f7 !important',
                  'border-color': '#4a5565 !important'
                }
              },
              {
                id: Date.now() + 560,
                enabled: true,
                selector: '.addLinkContainer .form-control:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#282f38 !important',
                  'color': '#f5f7fa !important',
                  'border-color': '#78a6ff !important',
                  'box-shadow': '0 0 0 0.2rem rgba(120, 166, 255, 0.25) !important'
                }
              },
              {
                id: Date.now() + 561,
                enabled: true,
                selector: '.css-sidebar',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1f242c !important',
                  'border-left': '1px solid #454f5e',
                  'box-shadow': '-4px 0 14px rgba(0, 0, 0, 0.45)'
                }
              },
              {
                id: Date.now() + 562,
                enabled: true,
                selector: '.css-sidebar .sidebar-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2c333d !important',
                  'border-bottom': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 563,
                enabled: true,
                selector: '.css-sidebar .sidebar-top-section',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b323c !important',
                  'border': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 564,
                enabled: true,
                selector: '.css-sidebar .sidebar-divider',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3a424f !important'
                }
              },
              {
                id: Date.now() + 565,
                enabled: true,
                selector: '.css-sidebar .sidebar-divider::before',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#69778b !important'
                }
              },
              {
                id: Date.now() + 566,
                enabled: true,
                selector: '.css-sidebar .sidebar-divider:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#465061 !important'
                }
              },
              {
                id: Date.now() + 567,
                enabled: true,
                selector: '.css-sidebar .sidebar-bottom-section',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038 !important',
                  'border': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 568,
                enabled: true,
                selector: '.css-sidebar .editor-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#323a45 !important',
                  'border-bottom': '1px solid #4a5565',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 569,
                enabled: true,
                selector: '.css-sidebar .editor-content',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 570,
                enabled: true,
                selector: '.css-sidebar .sidebar-content',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 571,
                enabled: true,
                selector: '.css-sidebar-resize-handle::before',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#6f7c90 !important'
                }
              },
              {
                id: Date.now() + 572,
                enabled: true,
                selector: '.css-sidebar-resize-handle:hover::before',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#8ea4c4 !important'
                }
              },
              {
                id: Date.now() + 573,
                enabled: true,
                selector: '.feature-sidebar',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#1f242c !important',
                  'border-left': '1px solid #454f5e',
                  'box-shadow': '-4px 0 14px rgba(0, 0, 0, 0.45)'
                }
              },
              {
                id: Date.now() + 574,
                enabled: true,
                selector: '.feature-sidebar .sidebar-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2c333d !important',
                  'border-bottom': '1px solid #4a5565',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 575,
                enabled: true,
                selector: '.feature-sidebar .sidebar-content',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038 !important',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 576,
                enabled: true,
                selector: '.feature-section-title',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#f3f4f6'
                }
              },
              {
                id: Date.now() + 577,
                enabled: true,
                selector: '.feature-list li strong',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 578,
                enabled: true,
                selector: '.options-section',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b323c',
                  'border-color': '#4a5565'
                }
              },
              {
                id: Date.now() + 579,
                enabled: true,
                selector: '.options-section-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#333b47',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 580,
                enabled: true,
                selector: '.options-section-header:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3b4452'
                }
              },
              {
                id: Date.now() + 581,
                enabled: true,
                selector: '.options-section-body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2a3038',
                  'color': '#e6e8eb'
                }
              },
              {
                id: Date.now() + 582,
                enabled: true,
                selector: '.info-popup',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2b323c',
                  'color': '#e6e8eb',
                  'border': '1px solid #4a5565'
                }
              },
              {
                id: Date.now() + 583,
                enabled: true,
                selector: '.link-edit-favicon-placeholder',
                groupId: null,
                linkId: null,
                properties: {
                  'background': '#353d49 !important',
                  'border': '1px dashed #6b778a !important'
                }
              },
              {
                id: Date.now() + 584,
                enabled: true,
                selector: '.border',
                groupId: null,
                linkId: null,
                properties: {
                  'border-color': '#4a5565 !important'
                }
              },
              {
                id: Date.now() + 585,
                enabled: true,
                selector: '.toast-notification',
                groupId: null,
                linkId: null,
                properties: {
                  'background': '#2d3748',
                  'border': '1px solid #4a5565',
                  'box-shadow': '0 6px 18px rgba(0, 0, 0, 0.45)'
                }
              },
              {
                id: Date.now() + 586,
                enabled: true,
                selector: '.toast-title',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#f3f4f6'
                }
              },
              {
                id: Date.now() + 587,
                enabled: true,
                selector: '.toast-body',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#d1d7e0'
                }
              },
              {
                id: Date.now() + 588,
                enabled: true,
                selector: '.toast-close',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#c7cfdb'
                }
              },
              {
                id: Date.now() + 589,
                enabled: true,
                selector: '.toast-progress',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(255, 255, 255, 0.15)'
                }
              },
              {
                id: Date.now() + 590,
                enabled: true,
                selector: '.linkContainerListItem a',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#b9d3ff !important'
                }
              },
              {
                id: Date.now() + 591,
                enabled: true,
                selector: '.linkContainerListItem:hover a',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#d7e7ff !important'
                }
              },
              {
                id: Date.now() + 592,
                enabled: true,
                selector: '.mb-link__anchor',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#b9d3ff !important'
                }
              },
              {
                id: Date.now() + 593,
                enabled: true,
                selector: '.mb-link__anchor:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#d7e7ff !important'
                }
              },
              {
                id: Date.now() + 594,
                enabled: true,
                selector: '.link-url-preview',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#aeb8c6 !important'
                }
              },
              {
                id: Date.now() + 595,
                enabled: true,
                selector: '.addLinkContainer',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, rgba(43, 50, 60, 0.95) 0%, rgba(38, 45, 54, 0.98) 100%) !important',
                  'border-top': '1px solid #4a5565 !important'
                }
              },
              {
                id: Date.now() + 596,
                enabled: true,
                selector: '.addLinkContainer:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, rgba(49, 57, 68, 0.98) 0%, rgba(43, 50, 60, 1) 100%) !important'
                }
              },
              {
                id: Date.now() + 597,
                enabled: true,
                selector: '.addLinkContainer::before',
                groupId: null,
                linkId: null,
                properties: {
                  'opacity': '0.55',
                  'background': 'linear-gradient(90deg, transparent 0%, rgba(142, 164, 196, 0.55) 50%, transparent 100%) !important'
                }
              },
              {
                id: Date.now() + 598,
                enabled: true,
                selector: '.addLinkContainer .btn-success',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#3b82f6',
                  'border-color': '#3b82f6',
                  'color': '#ffffff'
                }
              },
              {
                id: Date.now() + 599,
                enabled: true,
                selector: '.addLinkContainer .btn-success:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2f6fd3',
                  'border-color': '#2f6fd3'
                }
              },
              {
                id: Date.now() + 600,
                enabled: true,
                selector: '.groupContainer::after',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.01) 100%)'
                }
              }
            ],
            'minimal': [
              // Groups kompakt
              {
                id: Date.now() + 1,
                enabled: true,
                selector: '.mb-group',
                groupId: null,
                linkId: null,
                properties: {
                  'margin-bottom': '4px',
                  'border-radius': '8px',
                  'border': '1px solid #e0e0e0'
                }
              },
              {
                id: Date.now() + 1_1,
                enabled: true,
                selector: '.mb-group__body',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-left-radius': '0',
                  'border-top-right-radius': '0',
                  'border-bottom-left-radius': '8px',
                  'border-bottom-right-radius': '8px'
                }
              },
              {
                id: Date.now() + 2,
                enabled: true,
                selector: '.mb-group__header',
                groupId: null,
                linkId: null,
                properties: {
                  'padding': '6px 10px',
                  'background': '#f8f9fa'
                }
              },
              // Links kompakt
              {
                id: Date.now() + 3,
                enabled: true,
                selector: '.mb-link',
                groupId: null,
                linkId: null,
                properties: {
                  'padding': '4px 10px'
                }
              },
              {
                id: Date.now() + 3_1,
                enabled: true,
                selector: '.link-detail-popover',
                groupId: null,
                linkId: null,
                properties: {
                  'background': '#ffffff',
                  'color': '#212529',
                  'border': '1px solid #dee2e6',
                  'box-shadow': '0 18px 40px rgba(33, 37, 41, 0.08)'
                }
              },
              {
                id: Date.now() + 3_2,
                enabled: true,
                selector: '.link-detail-popover__badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background': '#e9ecef',
                  'color': '#495057'
                }
              },
              {
                id: Date.now() + 3_3,
                enabled: true,
                selector: '.link-detail-popover__favicon',
                groupId: null,
                linkId: null,
                properties: {
                  'box-shadow': '0 2px 6px rgba(0, 0, 0, 0.08)'
                }
              },
              // Toolbar kompakt
              {
                id: Date.now() + 4,
                enabled: true,
                selector: '.mb-toolbar',
                groupId: null,
                linkId: null,
                properties: {
                  'padding': '8px'
                }
              },
              {
                id: Date.now() + 5,
                enabled: true,
                selector: '.mb-toolbar .btn',
                groupId: null,
                linkId: null,
                properties: {
                  'padding': '4px 8px',
                  'font-size': '13px'
                }
              },
              // Keywords klein
              {
                id: Date.now() + 6,
                enabled: true,
                selector: '.keyword-badge',
                groupId: null,
                linkId: null,
                properties: {
                  'padding': '4px 8px',
                  'font-size': '12px',
                  'background-color': '#e9ecef',
                  'color': '#212529',
                  'border': '1px solid #dee2e6'
                }
              },
              {
                id: Date.now() + 6_1,
                enabled: true,
                selector: '.mb-keyword-suggestions, .mb-keyword-suggestions--overlay',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'border': '1px solid #d9dee6',
                  'color': '#1f2933',
                  'box-shadow': '0 10px 20px rgba(31, 41, 51, 0.12)'
                }
              },
              {
                id: Date.now() + 6_2,
                enabled: true,
                selector: '.mb-keyword-suggestion',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': 'transparent',
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 6_21,
                enabled: true,
                selector: '.mb-keyword-suggestion + .mb-keyword-suggestion',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 6_3,
                enabled: true,
                selector: '.mb-keyword-suggestion:hover, .mb-keyword-suggestion:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#eef3fa',
                  'color': '#111827'
                }
              },
              // Footer kompakt
              {
                id: Date.now() + 7,
                enabled: true,
                selector: 'footer',
                groupId: null,
                linkId: null,
                properties: {
                  'padding': '8px',
                  'font-size': '12px'
                }
              },
              // Duplicates dialog (ensure readable light styling)
              {
                id: Date.now() + 8,
                enabled: true,
                selector: '#duplicatesModal .card',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'border': '1px solid #e0e0e0'
                }
              },
              {
                id: Date.now() + 9,
                enabled: true,
                selector: '#duplicatesModal .card-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f8f9fa',
                  'border-bottom': '1px solid #e9ecef'
                }
              },
              {
                id: Date.now() + 10,
                enabled: true,
                selector: '#duplicatesModal .list-group-item',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'color': '#212529',
                  'border-color': '#e9ecef'
                }
              },
              {
                id: Date.now() + 11,
                enabled: true,
                selector: '#duplicatesModal .badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#e9ecef',
                  'color': '#212529',
                  'border': '1px solid #dee2e6'
                }
              },
              // Harmonized minimal foundation (shared selector set with dark)
              {
                id: Date.now() + 100,
                enabled: true,
                selector: 'body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f4f6f8',
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 101,
                enabled: true,
                selector: '.mb-app',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': 'transparent',
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 102,
                enabled: true,
                selector: '.mb-titlebar',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #ffffff 0%, #f2f4f7 100%)',
                  'border-bottom': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 103,
                enabled: true,
                selector: '.mb-titlebar__title',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#1f2933',
                  'text-shadow': 'none'
                }
              },
              {
                id: Date.now() + 104,
                enabled: true,
                selector: '.mb-toolbar',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#fdfdfd',
                  'border-bottom': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 105,
                enabled: true,
                selector: '.mb-group',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'border': '1px solid #dce2ea',
                  'border-radius': '10px'
                }
              },
              {
                id: Date.now() + 106,
                enabled: true,
                selector: '.mb-group__header',
                groupId: null,
                linkId: null,
                properties: {
                  'background': '#f7f9fc',
                  'border-bottom': '1px solid #dce2ea'
                }
              },
              {
                id: Date.now() + 107,
                enabled: true,
                selector: '.mb-group__body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff'
                }
              },
              {
                id: Date.now() + 108,
                enabled: true,
                selector: '.mb-link',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 109,
                enabled: true,
                selector: '.mb-link:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f3f6fb'
                }
              },
              {
                id: Date.now() + 110,
                enabled: true,
                selector: '.mb-link__url',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#1d4ed8'
                }
              },
              {
                id: Date.now() + 111,
                enabled: true,
                selector: '.mb-modal',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'color': '#1f2933',
                  'border': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 112,
                enabled: true,
                selector: '.modal-content',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'color': '#1f2933',
                  'border': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 113,
                enabled: true,
                selector: '.modal-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f7f9fc',
                  'border-bottom': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 114,
                enabled: true,
                selector: '.modal-footer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f7f9fc',
                  'border-top': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 115,
                enabled: true,
                selector: '.modal-body',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 116,
                enabled: true,
                selector: '.form-control',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'color': '#1f2933',
                  'border-color': '#c9d1dc'
                }
              },
              {
                id: Date.now() + 117,
                enabled: true,
                selector: '.form-control:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'color': '#111827',
                  'border-color': '#7aa2f7',
                  'box-shadow': '0 0 0 0.2rem rgba(122, 162, 247, 0.2)'
                }
              },
              {
                id: Date.now() + 118,
                enabled: true,
                selector: '.form-select',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'color': '#1f2933',
                  'border-color': '#c9d1dc'
                }
              },
              {
                id: Date.now() + 119,
                enabled: true,
                selector: '.form-select:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'color': '#111827',
                  'border-color': '#7aa2f7',
                  'box-shadow': '0 0 0 0.2rem rgba(122, 162, 247, 0.2)'
                }
              },
              {
                id: Date.now() + 120,
                enabled: true,
                selector: '.input-group-text',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f3f6fb',
                  'color': '#4b5563',
                  'border-color': '#c9d1dc'
                }
              },
              {
                id: Date.now() + 121,
                enabled: true,
                selector: '.form-check-input',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'border-color': '#9aa6b7'
                }
              },
              {
                id: Date.now() + 122,
                enabled: true,
                selector: '.form-check-input:checked',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#2563eb',
                  'border-color': '#2563eb'
                }
              },
              {
                id: Date.now() + 123,
                enabled: true,
                selector: '.table',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#1f2933',
                  'border-color': '#d9dee6'
                }
              },
              {
                id: Date.now() + 124,
                enabled: true,
                selector: '.table th',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f5f7fb',
                  'color': '#374151',
                  'border-bottom': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 125,
                enabled: true,
                selector: '.table td',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top': '1px solid #e4e9f0'
                }
              },
              {
                id: Date.now() + 126,
                enabled: true,
                selector: '.table-hover tbody tr:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#eef3fa'
                }
              },
              {
                id: Date.now() + 127,
                enabled: true,
                selector: '.card',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'border-color': '#d9dee6',
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 128,
                enabled: true,
                selector: '.card-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f7f9fc',
                  'border-bottom': '1px solid #d9dee6',
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 129,
                enabled: true,
                selector: '.list-group-item',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'color': '#1f2933',
                  'border-color': '#d9dee6'
                }
              },
              {
                id: Date.now() + 130,
                enabled: true,
                selector: '.dropdown-menu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'border': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 131,
                enabled: true,
                selector: '.dropdown-item',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 132,
                enabled: true,
                selector: '.dropdown-item:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#eef3fa',
                  'color': '#111827'
                }
              },
              {
                id: Date.now() + 133,
                enabled: true,
                selector: '.dropdown-divider',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-color': '#d9dee6'
                }
              },
              {
                id: Date.now() + 134,
                enabled: true,
                selector: '.mb-context-menu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'border': '1px solid #d9dee6',
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 135,
                enabled: true,
                selector: '.mb-context-menu-list > li',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 136,
                enabled: true,
                selector: '.mb-context-menu-list > li:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#eef3fa'
                }
              },
              {
                id: Date.now() + 137,
                enabled: true,
                selector: '.mb-context-submenu',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'border': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 138,
                enabled: true,
                selector: '.mb-context-submenu > li:hover',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#eef3fa'
                }
              },
              {
                id: Date.now() + 139,
                enabled: true,
                selector: '.mb-context-menu-separator',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top': '1px solid #d9dee6'
                }
              },
              {
                id: Date.now() + 140,
                enabled: true,
                selector: '.alert-info',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#e8f1ff',
                  'color': '#1e3a8a',
                  'border-color': '#bfd3ff'
                }
              },
              {
                id: Date.now() + 141,
                enabled: true,
                selector: '.alert-warning',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#fff8e6',
                  'color': '#8a5300',
                  'border-color': '#f1ddb0'
                }
              },
              {
                id: Date.now() + 142,
                enabled: true,
                selector: '.bg-light',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f5f7fa !important',
                  'color': '#1f2933 !important'
                }
              },
              {
                id: Date.now() + 143,
                enabled: true,
                selector: '.bg-white',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff !important',
                  'color': '#1f2933 !important'
                }
              },
              {
                id: Date.now() + 144,
                enabled: true,
                selector: '.text-muted',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#6b7280 !important'
                }
              },
              {
                id: Date.now() + 145,
                enabled: true,
                selector: '.mb-surface-panel',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f7f9fc',
                  'border-color': '#d9dee6',
                  'color': '#1f2933'
                }
              },
              {
                id: Date.now() + 146,
                enabled: true,
                selector: '.mb-import-keyword-badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#e5eaf2 !important',
                  'color': '#1f2933 !important',
                  'border': '1px solid #d1d8e3'
                }
              },
              {
                id: Date.now() + 147,
                enabled: true,
                selector: '.mb-bookmarklet-prefix',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f3f6fb',
                  'color': '#4b5563',
                  'border-color': '#c9d1dc'
                }
              },
              {
                id: Date.now() + 148,
                enabled: true,
                selector: '.mb-css-sidebar .css-rule-card',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#ffffff',
                  'border-color': '#d9dee6'
                }
              },
              {
                id: Date.now() + 149,
                enabled: true,
                selector: 'footer',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': '#f7f9fc',
                  'color': '#4b5563',
                  'border-top': '1px solid #d9dee6'
                }
              }
            ],
            'colorful': [
              // Body mit Gradient Background
              {
                id: Date.now() + 1,
                enabled: true,
                selector: 'body',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%)',
                  'min-height': '100vh',
                  'position': 'relative'
                }
              },
              {
                id: Date.now() + 2,
                enabled: true,
                selector: '.mb-app',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'transparent'
                }
              },
              // Title Bar mit Glaseffekt
              {
                id: Date.now() + 3,
                enabled: true,
                selector: '.mb-titlebar',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)',
                  'backdrop-filter': 'blur(20px) saturate(180%)',
                  'border-bottom': 'none',
                  'box-shadow': '0 8px 32px rgba(31, 38, 135, 0.15)'
                }
              },
              {
                id: Date.now() + 4,
                enabled: true,
                selector: '.mb-titlebar__title',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f64f59 100%)',
                  '-webkit-background-clip': 'text',
                  '-webkit-text-fill-color': 'transparent',
                  'background-clip': 'text',
                  'font-weight': '700',
                  'letter-spacing': '-0.5px'
                }
              },
              // Groups mit Glaseffekt
              {
                id: Date.now() + 5,
                enabled: true,
                selector: '.mb-group',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(255, 255, 255, 0.9)',
                  'backdrop-filter': 'blur(10px) saturate(150%)',
                  'border': '1px solid rgba(255, 255, 255, 0.8)',
                  'box-shadow': '0 4px 24px rgba(31, 38, 135, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08)',
                  'margin-bottom': '16px',
                  'border-radius': '16px',
                  'overflow': 'hidden',
                  'transition': 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)'
                }
              },
              {
                id: Date.now() + 5_1,
                enabled: true,
                selector: '.mb-group__body',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top-left-radius': '0',
                  'border-top-right-radius': '0',
                  'border-bottom-left-radius': '16px',
                  'border-bottom-right-radius': '16px'
                }
              },
              {
                id: Date.now() + 6,
                enabled: true,
                selector: '.mb-group__header',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, rgba(161, 196, 253, 0.2) 0%, rgba(194, 233, 251, 0.2) 100%)',
                  'border-bottom': '1px solid rgba(255, 255, 255, 0.6)',
                  'padding': '12px 16px'
                }
              },
              {
                id: Date.now() + 7,
                enabled: true,
                selector: '.mb-group__title',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#2d3561',
                  'font-weight': '600',
                  'font-size': '16px'
                }
              },
              // Links
              {
                id: Date.now() + 8,
                enabled: true,
                selector: '.mb-link',
                groupId: null,
                linkId: null,
                properties: {
                  'transition': 'all 0.2s ease',
                  'padding': '8px 16px'
                }
              },
              {
                id: Date.now() + 9,
                enabled: true,
                selector: '.mb-link__url',
                groupId: null,
                linkId: null,
                properties: {
                  'color': '#5e72e4',
                  'font-weight': '500',
                  'text-decoration': 'none',
                  'transition': 'all 0.2s ease'
                }
              },
              {
                id: Date.now() + 9_1,
                enabled: true,
                selector: '.link-detail-popover',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(255, 255, 255, 0.95)',
                  'color': '#1f2933',
                  'border': '1px solid rgba(255, 255, 255, 0.6)',
                  'box-shadow': '0 28px 60px rgba(58, 66, 125, 0.25)',
                  'backdrop-filter': 'blur(16px) saturate(160%)'
                }
              },
              {
                id: Date.now() + 9_2,
                enabled: true,
                selector: '.link-detail-popover__badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(102, 126, 234, 0.25)',
                  'color': '#3d3a7a'
                }
              },
              {
                id: Date.now() + 9_3,
                enabled: true,
                selector: '.link-detail-popover__favicon',
                groupId: null,
                linkId: null,
                properties: {
                  'box-shadow': '0 4px 12px rgba(95, 111, 255, 0.35)'
                }
              },
              // Keywords mit Gradient
              {
                id: Date.now() + 10,
                enabled: true,
                selector: '.keyword-badge',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                  'color': 'white',
                  'border': 'none',
                  'padding': '4px 10px',
                  'border-radius': '20px',
                  'font-size': '11px',
                  'font-weight': '600',
                  'letter-spacing': '0.3px',
                  'transition': 'all 0.2s ease'
                }
              },
              {
                id: Date.now() + 10_1,
                enabled: true,
                selector: '.mb-keyword-suggestions, .mb-keyword-suggestions--overlay',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(255, 255, 255, 0.96)',
                  'border': '1px solid rgba(102, 126, 234, 0.25)',
                  'color': '#2d3561',
                  'box-shadow': '0 14px 30px rgba(95, 111, 255, 0.22)',
                  'backdrop-filter': 'blur(10px) saturate(140%)'
                }
              },
              {
                id: Date.now() + 10_2,
                enabled: true,
                selector: '.mb-keyword-suggestion',
                groupId: null,
                linkId: null,
                properties: {
                  'background-color': 'transparent',
                  'color': '#2d3561'
                }
              },
              {
                id: Date.now() + 10_21,
                enabled: true,
                selector: '.mb-keyword-suggestion + .mb-keyword-suggestion',
                groupId: null,
                linkId: null,
                properties: {
                  'border-top': '1px solid rgba(102, 126, 234, 0.22)'
                }
              },
              {
                id: Date.now() + 10_3,
                enabled: true,
                selector: '.mb-keyword-suggestion:hover, .mb-keyword-suggestion:focus',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, rgba(102, 126, 234, 0.16) 0%, rgba(118, 75, 162, 0.16) 100%)',
                  'color': '#1f244a'
                }
              },
              // Buttons mit Gradient
              {
                id: Date.now() + 11,
                enabled: true,
                selector: '.btn',
                groupId: null,
                linkId: null,
                properties: {
                  'border-radius': '8px',
                  'font-weight': '500',
                  'transition': 'all 0.2s ease',
                  'text-transform': 'none',
                  'letter-spacing': '0.2px'
                }
              },
              {
                id: Date.now() + 12,
                enabled: true,
                selector: '.btn-primary',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                  'border': 'none',
                  'color': 'white',
                  'box-shadow': '0 4px 12px rgba(102, 126, 234, 0.25)'
                }
              },
              {
                id: Date.now() + 13,
                enabled: true,
                selector: '.btn-success',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)',
                  'border': 'none',
                  'color': 'white'
                }
              },
              {
                id: Date.now() + 14,
                enabled: true,
                selector: '.btn-danger',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, #eb3349 0%, #f45c43 100%)',
                  'border': 'none',
                  'color': 'white'
                }
              },
              // Toolbar
              {
                id: Date.now() + 15,
                enabled: true,
                selector: '.mb-toolbar',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)',
                  'backdrop-filter': 'blur(20px) saturate(150%)',
                  'border-bottom': '1px solid rgba(255, 255, 255, 0.8)',
                  'box-shadow': '0 2px 8px rgba(0, 0, 0, 0.04)',
                  'padding': '12px'
                }
              },
              // Forms
              {
                id: Date.now() + 16,
                enabled: true,
                selector: '.form-control',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(255, 255, 255, 0.9)',
                  'border': '1px solid rgba(102, 126, 234, 0.2)',
                  'border-radius': '8px',
                  'color': '#2d3561',
                  'transition': 'all 0.2s ease'
                }
              },
              {
                id: Date.now() + 17,
                enabled: true,
                selector: '.form-select',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(255, 255, 255, 0.9)',
                  'border': '1px solid rgba(102, 126, 234, 0.2)',
                  'border-radius': '8px',
                  'color': '#2d3561',
                  'transition': 'all 0.2s ease'
                }
              },
              // Modals
              {
                id: Date.now() + 18,
                enabled: true,
                selector: '.modal-content',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(255, 255, 255, 0.98)',
                  'backdrop-filter': 'blur(20px)',
                  'border': 'none',
                  'border-radius': '16px',
                  'box-shadow': '0 20px 60px rgba(0, 0, 0, 0.15)'
                }
              },
              {
                id: Date.now() + 19,
                enabled: true,
                selector: '.modal-header',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)',
                  'border-bottom': '1px solid rgba(102, 126, 234, 0.1)',
                  'border-radius': '16px 16px 0 0'
                }
              },
              {
                id: Date.now() + 20,
                enabled: true,
                selector: '.modal-footer',
                groupId: null,
                linkId: null,
                properties: {
                  'background': 'rgba(0, 0, 0, 0.02)',
                  'border-top': '1px solid rgba(102, 126, 234, 0.1)',
                  'border-radius': '0 0 16px 16px'
                }
              }
            ],
          };

          return templates[this.selectedVisualTemplate] || [];
        },

        loadVisualTemplate() {
          // Just change the template, don't modify any rules
          // Template serves as base layer, user rules stay intact
          this.syncVisualCssStateToOptions(false);
          this.syncVisualCssStateToLocalStorage();
          // Apply CSS with new template as base layer
          this.applyVisualCss();
        },

	        // Toast Notification Helper
	        showToast(message, type = 'success') {
	          if (typeof toastManager !== 'undefined' && toastManager && typeof toastManager.showMessage === 'function') {
	            toastManager.showMessage(message, type, 3000);
	          } else if (window.showAppToast) {
	            window.showAppToast(message, type, 3000);
	          }
	        },

        // Rule Set Management Methods
        saveRuleSet() {
          const name = prompt(this.getTranslation('css.visual.ruleSetName') || 'Name fr Regel-Satz:');
          if (!name) return;
          this.normalizeAllVisualRules();

          // Save current rules to custom sets (without template)
          this.customRuleSets[name] = {
            name: name,
            rules: JSON.parse(JSON.stringify(this.visualCssRules)),
            createdAt: Date.now()
          };

          // Save to localStorage
          localStorage.setItem('customRuleSets', JSON.stringify(this.customRuleSets));

          // Reset selection to the saved set
          this.selectedRuleSetName = name;
          this.syncVisualCssStateToOptions(true);
          this.syncVisualCssStateToLocalStorage();

          this.showToast(this.getTranslation('css.visual.ruleSetSaved') || 'Regel-Satz gespeichert!', 'success');
        },

        loadRuleSet(name) {
          if (!this.customRuleSets[name]) return;

          const ruleSet = this.customRuleSets[name];

          // Load the rules (template stays as it was)
          this.visualCssRules = JSON.parse(JSON.stringify(ruleSet.rules || []))
            .map((rule) => this.normalizeVisualRule(rule));

          // Save and apply
          this.saveVisualCss();

          this.showToast(this.getTranslation('css.visual.ruleSetLoaded') || 'Regel-Satz geladen', 'success');
        },

        deleteRuleSet(name) {
          if (!this.customRuleSets[name]) return;

          if (!confirm(this.getTranslation('css.visual.deleteRuleSetConfirm') || 'Mchten Sie den Regel-Satz "' + name + '" wirklich lschen?')) {
            return;
          }

          delete this.customRuleSets[name];

          // Clear selection
          if (this.selectedRuleSetName === name) {
            this.selectedRuleSetName = null;
          }

          // Save to localStorage
          localStorage.setItem('customRuleSets', JSON.stringify(this.customRuleSets));
          this.syncVisualCssStateToOptions(true);
          this.syncVisualCssStateToLocalStorage();

          this.showToast(this.getTranslation('css.visual.ruleSetDeleted') || 'Regel-Satz gelscht', 'success');
        },

        loadCustomRuleSets() {
          const visualCssOptions = this.ensureVisualCssOptions();
          const optionStateVersion = parseInt(visualCssOptions.stateVersion, 10);
          const hasPersistedVisualCssState = Number.isFinite(optionStateVersion) && optionStateVersion >= 1;

          if (hasPersistedVisualCssState) {
            const optionRuleSets = (visualCssOptions.customRuleSets && typeof visualCssOptions.customRuleSets === 'object' && !Array.isArray(visualCssOptions.customRuleSets))
              ? visualCssOptions.customRuleSets
              : {};
            this.customRuleSets = JSON.parse(JSON.stringify(optionRuleSets));
          } else {
            // Load saved rule sets from localStorage (legacy)
            const saved = localStorage.getItem('customRuleSets');
            if (saved) {
              try {
                this.customRuleSets = JSON.parse(saved);
              } catch (e) {
                debugLog('error', 'Failed to load custom rule sets:', e);
                this.customRuleSets = {};
              }
            } else {
              this.customRuleSets = {};
            }
          }
          this.syncVisualCssStateToOptions(this.dataLoaded === true);
          this.syncVisualCssStateToLocalStorage();
        },

        openFeatureSidebar() {
          this.featureSidebarVisible = true;
        },
        
        saveCssTemplate() {
          if (!this.newTemplateName.trim()) return;
          
          // Initialize templates array if needed
          if (!this.data.options) this.$set(this.data, 'options', {});
          if (!this.data.options.cssTemplates) this.$set(this.data.options, 'cssTemplates', []);
          
          // Generate unique ID
          const templateId = 'tpl_' + Date.now();
          
          // Create new template
          const newTemplate = {
            id: templateId,
            name: this.newTemplateName.trim(),
            css: this.customCssDraft || '',
            createdAt: new Date().toISOString()
          };
          
          // Check if template with same name exists
          const existingIndex = this.data.options.cssTemplates.findIndex(t => t.name === newTemplate.name);
          if (existingIndex >= 0) {
            // Replace existing template
            const confirmMsg = this.getTranslation('css.templates.overwriteConfirm', [newTemplate.name])
              .replace('{0}', newTemplate.name);
            if (confirm(confirmMsg)) {
              this.$set(this.data.options.cssTemplates, existingIndex, newTemplate);
            } else {
              return;
            }
          } else {
            // Add new template
            this.data.options.cssTemplates.push(newTemplate);
          }
          
          // Update local list
          this.cssTemplates = [...this.data.options.cssTemplates];
          
          // Save to storage
          this.saveData();
          
          // Reset dialog
          this.showSaveTemplateDialog = false;
          this.newTemplateName = '';
          
          // Select the new template
          this.selectedTemplateId = templateId;
          
          // Show success notification
          // Template saved
          debugLog('log', 'CSS Template saved:', newTemplate.name);
        },
        
        loadCssTemplate() {
          if (!this.selectedTemplateId) {
            // Clear selection
            this.customCssDraft = '';
            this.applyCustomCss('');
            return;
          }
          
          // Find selected template
          const template = this.cssTemplates.find(t => t.id === this.selectedTemplateId);
          if (template) {
            this.customCssDraft = template.css;
            this.applyCustomCss(template.css);
            
            // Log template loading
            debugLog('log', 'CSS Template loaded:', template.name);
          }
        },
        
        // CSS Sidebar resize methods
        getCssSidebarContainerHeight() {
          const container = this.$refs?.cssSidebarSplitContainer;
          if (container && Number.isFinite(container.clientHeight) && container.clientHeight > 0) {
            return container.clientHeight;
          }
          return Math.max(420, window.innerHeight - 100);
        },
        clampCssSidebarTopHeight() {
          const containerHeight = this.getCssSidebarContainerHeight();
          const minTop = 180;
          const minBottom = 180;
          const maxTop = Math.max(minTop, containerHeight - minBottom - 8);
          const next = Number.isFinite(this.cssSidebarTopHeight) ? this.cssSidebarTopHeight : Math.round(containerHeight * (2 / 3));
          this.cssSidebarTopHeight = Math.min(Math.max(next, minTop), maxTop);
        },
        startCssSidebarResize(event) {
          this.isCssSidebarResizing = true;
          this.clampCssSidebarTopHeight();
          this.cssSidebarStartY = event.clientY;
          this.cssSidebarStartHeight = this.cssSidebarTopHeight;
          
          // Add event listeners
          document.addEventListener('mousemove', this.handleCssSidebarResize);
          document.addEventListener('mouseup', this.endCssSidebarResize);
          
          // Prevent text selection during resize
          event.preventDefault();
        },
        
        handleCssSidebarResize(event) {
          if (!this.isCssSidebarResizing) return;
          
          const deltaY = event.clientY - this.cssSidebarStartY;
          const newHeight = this.cssSidebarStartHeight + deltaY;
          this.cssSidebarTopHeight = newHeight;
          this.clampCssSidebarTopHeight();
        },
        
        endCssSidebarResize() {
          this.isCssSidebarResizing = false;
          this.clampCssSidebarTopHeight();
          
          // Remove event listeners
          document.removeEventListener('mousemove', this.handleCssSidebarResize);
          document.removeEventListener('mouseup', this.endCssSidebarResize);
          
          // Save the height to localStorage
          localStorage.setItem('cssSidebarTopHeight', this.cssSidebarTopHeight.toString());
          this.syncVisualCssStateToOptions(true);
          this.syncVisualCssStateToLocalStorage();
        },
        
        // CSS Sidebar Width Resize Methods
        startCssSidebarWidthResize(event) {
          this.isCssSidebarWidthResizing = true;
          this.cssSidebarStartX = event.clientX;
          this.cssSidebarStartWidth = this.cssSidebarWidth;
          
          // Add event listeners
          document.addEventListener('mousemove', this.handleCssSidebarWidthResize);
          document.addEventListener('mouseup', this.endCssSidebarWidthResize);
          
          // Prevent text selection during resize
          event.preventDefault();
        },
        
        handleCssSidebarWidthResize(event) {
          if (!this.isCssSidebarWidthResizing) return;

          const deltaX = this.cssSidebarStartX - event.clientX; // Negative because we're resizing from the left edge
          const newWidth = this.cssSidebarStartWidth + deltaX;

          // Constrain width between 300px and 80% of window width
          const minWidth = 300;
          const maxWidth = window.innerWidth * 0.8;

          this.cssSidebarWidth = Math.min(Math.max(newWidth, minWidth), maxWidth);

          // Update body margin when resizing
          if (document.body.classList.contains('css-sidebar-open')) {
            document.body.style.marginRight = this.cssSidebarWidth + 'px';
          }
        },
        
        endCssSidebarWidthResize() {
          this.isCssSidebarWidthResizing = false;
          
          // Remove event listeners
          document.removeEventListener('mousemove', this.handleCssSidebarWidthResize);
          document.removeEventListener('mouseup', this.endCssSidebarWidthResize);
          
          // Save the width to localStorage
          localStorage.setItem('cssSidebarWidth', this.cssSidebarWidth.toString());
          this.syncVisualCssStateToOptions(true);
          this.syncVisualCssStateToLocalStorage();
        },
        applyCustomCssFromTextarea(reset) {
          if (reset) {
            this.customCssDraft = '';
          }
          this.applyCustomCss(this.customCssDraft || '');
          // Force re-render of keywords to apply new gradient colors
          this.$forceUpdate();
        },
        saveCustomCss() {
          if (!this.data.options) this.$set(this.data, 'options', {});
          this.$set(this.data.options, 'customCss', this.customCssDraft || '');
          this.saveData();
          // Don't close sidebar - user may want to continue editing
        },
        revertCustomCss() {
          this.customCssDraft = this.data.options?.customCss || '';
          this.applyCustomCss(this.customCssDraft);
          // Don't close sidebar - user may want to continue editing
        },
        appendHook(sel) {
          try {
            const snippet = `${sel} {\n  \n}\n`;
            this.customCssDraft = (this.customCssDraft && this.customCssDraft.trim().length)
              ? (this.customCssDraft.replace(/\s*$/, '') + "\n\n" + snippet)
              : snippet;
            this.applyCustomCssFromTextarea(false);
          } catch (e) { debugLog('warn', 'appendHook failed', e); }
        },

        // Insert CSS Hooks for quick styling
        insertCssHooks(hookType) {
          let hooks = '';
          let selectors = [];

          switch(hookType) {
            case 'sidebar':
              selectors = [
                '.mb-css-sidebar',
                '.css-sidebar-resize-handle',
                '.mb-css-sidebar-header',
                '.mb-css-sidebar-title',
                '.sidebar-split-container',
                '.sidebar-top-section',
                '.mb-css-sidebar-help-content',
                '.sidebar-divider',
                '.sidebar-bottom-section',
                '.editor-header',
                '.mb-css-editor'
              ];
              hooks = `/* CSS Sidebar Styling */\n`;
              break;
            case 'groups':
              selectors = [
                '.groupContainer',
                '.groupContainerHeader',
                '.groupTitle',
                '.groupLinkCount',
                '.mb-group-info-section'
              ];
              hooks = `/* Group Styling */\n`;
              break;
            case 'links':
              selectors = [
                '.linkContainer',
                '.linkContainerListItem',
                '.linkText',
                '.linkText a',
                '.link-favicon'
              ];
              hooks = `/* Link Styling */\n`;
              break;
            case 'toolbar':
              selectors = [
                '.mb-toolbar',
                '.btn-toolbar',
                '.mb-toolbar__search',
                '.mb-toolbar__search input'
              ];
              hooks = `/* Toolbar Styling */\n`;
              break;
            case 'menus':
              selectors = [
                '.mb-context-menu',
                '.mb-context-menu ul',
                '.mb-context-menu ul li',
                '.mb-context-menu-separator',
                '.mb-context-submenu',
                '.mb-context-submenu-item',
                '.mb-context-submenu::after'
              ];
              hooks = `/* Context Menus Styling */\n`;
              break;
            case 'feature-sidebar':
              selectors = [
                '.mb-feature-sidebar',
                '.mb-feature-sidebar-header',
                '.mb-feature-sidebar-title',
                '.mb-feature-sidebar-content',
                '.feature-section',
                '.feature-card'
              ];
              hooks = `/* Feature Sidebar Styling */\n`;
              break;
            case 'all':
              return this.insertCssHooks('sidebar') + '\n' +
                     this.insertCssHooks('groups') + '\n' +
                     this.insertCssHooks('links') + '\n' +
                     this.insertCssHooks('toolbar') + '\n' +
                     this.insertCssHooks('menus') + '\n' +
                     this.insertCssHooks('feature-sidebar');
          }

          // Generate CSS rules with placeholders
          selectors.forEach(sel => {
            hooks += `${sel} {\n  /* Add your styles here */\n}\n\n`;
          });

          return hooks;
        },

        // Quick insert CSS hooks via button
        quickInsertCssHooks(hookType) {
          const hooks = this.insertCssHooks(hookType);
          if (hooks) {
            // Insert at cursor or append to end
            const textarea = this.$refs.cssTextarea;
            if (textarea) {
              const start = textarea.selectionStart;
              const end = textarea.selectionEnd;
              const text = this.customCssDraft || '';

              // Insert hooks at cursor position
              this.customCssDraft = text.substring(0, start) + hooks + text.substring(end);

              // Apply the CSS
              this.applyCustomCssFromTextarea(false);

              // Restore cursor position after Vue updates the textarea
              this.$nextTick(() => {
                textarea.focus();
                const newPosition = start + hooks.length;
                textarea.setSelectionRange(newPosition, newPosition);
              });
            } else {
              // Fallback: append to end
              this.customCssDraft = (this.customCssDraft || '') + '\n\n' + hooks;
              this.applyCustomCssFromTextarea(false);
            }
          }
        },
        
        insertCssSelector(event) {
          const selector = event.target.value;
          if (!selector) return;
          
          // Clean up selector for placeholders
          let cleanSelector = selector;
          if (selector.includes('...')) {
            // Replace placeholders with example values or prompt user
            if (selector.includes('uuid-...')) {
              cleanSelector = selector.replace('...', 'YOUR-UUID-HERE');
            } else if (selector.includes("data-keyword='...'")) {
              cleanSelector = selector.replace('...', 'your-keyword');
            } else if (selector.includes("data-group-uuid='...'")) {
              cleanSelector = selector.replace('...', 'YOUR-GROUP-UUID');
            } else if (selector.includes("data-link-uuid='...'")) {
              cleanSelector = selector.replace('...', 'YOUR-LINK-UUID');
            } else if (selector.includes("data-link-count='5'")) {
              // This one is already specific, no change needed
            } else if (selector.includes('mb-keyword-kw-...')) {
              cleanSelector = selector.replace('...', 'your-keyword');
            }
          }
          
          // Check if selector already exists in the CSS
          const currentCss = this.customCssDraft || '';
          const textarea = this.$refs.cssTextarea;
          
          // Create regex to find the selector (escape special characters)
          const escapedSelector = cleanSelector.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
          const selectorRegex = new RegExp(`^\\s*${escapedSelector}\\s*\\{`, 'gm');
          const existingMatch = selectorRegex.exec(currentCss);
          
          if (existingMatch) {
            // Selector already exists - jump to it
            if (textarea) {
              // Find the line number and position
              const position = existingMatch.index;
              
              // Set cursor position to the existing selector
              textarea.selectionStart = position;
              textarea.selectionEnd = position + existingMatch[0].length;
              textarea.focus();
              
              // Scroll to make it visible
              const lineHeight = parseInt(window.getComputedStyle(textarea).lineHeight);
              const lines = currentCss.substring(0, position).split('\n').length - 1;
              textarea.scrollTop = lines * lineHeight - (textarea.clientHeight / 2);
              
              // Sync the highlighted container
              this.syncScroll();
              
              // Selector already exists
              debugLog('log', this.getTranslation('css.selectorExists') || 'CSS selector already exists! Jumped to line.');
            }
            
            // Reset dropdown
            event.target.value = '';
            return;
          }
          
          // Always add comments for complex selectors
          let snippet;
          const parts = cleanSelector.match(/(\.[a-zA-Z-]+|\[[^\]]+\])/g);
          
          // Always add comments for better readability
          if (parts && parts.length >= 1) {
            // Create a commented version for readability
            let comments = '/* ';
            const commentParts = [];
            
            parts.forEach((part, i) => {
              if (part.includes('data-group-uuid')) {
                // Extract UUID and find group name
                const uuidMatch = part.match(/data-group-uuid=['"]([^'"]+)['"]/);
                if (uuidMatch) {
                  const uuid = uuidMatch[1];
                  const group = this.data.groups?.find(g => g.uuid === uuid);
                  const groupName = group ? group.name : 'Unknown';
                  commentParts.push(`Group: ${groupName}`);
                }
              } else if (part.includes('data-link-uuid')) {
                // Extract UUID and find link name
                const uuidMatch = part.match(/data-link-uuid=['"]([^'"]+)['"]/);
                if (uuidMatch) {
                  const uuid = uuidMatch[1];
                  let linkName = 'Unknown';
                  // Search through all groups for the link
                  if (this.data.groups) {
                    for (const group of this.data.groups) {
                      const link = group.links?.find(l => l.uuid === uuid);
                      if (link) {
                        linkName = link.text || link.url;
                        break;
                      }
                    }
                  }
                  commentParts.push(`Link: ${linkName.substring(0, 25)}${linkName.length > 25 ? '...' : ''}`);
                }
              } else if (part.includes('data-keyword')) {
                const keywordMatch = part.match(/data-keyword=['"]([^'"]+)['"]/);
                if (keywordMatch) {
                  commentParts.push(`Keyword: ${keywordMatch[1]}`);
                }
              } else if (part.includes('data-link-count')) {
                const countMatch = part.match(/data-link-count=['"]([^'"]+)['"]/);
                if (countMatch) {
                  commentParts.push(`Count: ${countMatch[1]}`);
                }
              }
            });
            
            if (commentParts.length > 0) {
              comments += commentParts.join('  ') + ' */\n';
              snippet = `${comments}${cleanSelector} {\n  \n}\n`;
            } else {
              snippet = `${cleanSelector} {\n  \n}\n`;
            }
          } else {
            snippet = `${cleanSelector} {\n  \n}\n`;
          }
          
          // Add to CSS draft
          if (this.$refs.cssTextarea) {
            const textarea = this.$refs.cssTextarea;
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const text = this.customCssDraft || '';
            
            // If cursor is at a position, insert there
            if (start !== undefined && end !== undefined) {
              this.customCssDraft = text.substring(0, start) + snippet + text.substring(end);
              // Set cursor position inside the new rule
              this.$nextTick(() => {
                const newPos = start + cleanSelector.length + 3; // Position after " {\n  "
                textarea.selectionStart = newPos;
                textarea.selectionEnd = newPos;
                textarea.focus();
              });
            } else {
              // Otherwise append at the end
              this.customCssDraft = (text && text.trim().length)
                ? (text.replace(/\s*$/, '') + "\n\n" + snippet)
                : snippet;
            }
          } else {
            // Fallback if textarea ref not available
            this.customCssDraft = (this.customCssDraft && this.customCssDraft.trim().length)
              ? (this.customCssDraft.replace(/\s*$/, '') + "\n\n" + snippet)
              : snippet;
          }
          
          // Apply the CSS
          this.applyCustomCssFromTextarea(false);
          
          // Reset dropdown
          event.target.value = '';
        },
        
        // Insert selected color at cursor position in CSS editor
        insertColorAtCursor() {
          try {
            const textarea = this.$refs.cssTextarea;
            if (!textarea || !this.selectedColor) return;
            
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const text = this.customCssDraft || '';
            
            // Insert color at cursor position or replace selection
            const before = text.substring(0, start);
            const after = text.substring(end);
            
            // Format the color value
            const colorValue = this.selectedColor;
            
            // Update the text
            this.customCssDraft = before + colorValue + after;
            
            // Apply the CSS
            this.applyCustomCssFromTextarea(false);
            
            // Restore cursor position after Vue updates the textarea
            this.$nextTick(() => {
              textarea.focus();
              const newPosition = start + colorValue.length;
              textarea.setSelectionRange(newPosition, newPosition);
            });
          } catch (e) {
            debugLog('warn', 'Error inserting color:', e);
          }
        },
        
        // Handle CSS input and trigger highlighting
        onCssInput() {
          this.applyCustomCssFromTextarea(false);
          // Force Vue to update the highlighted display
          this.$forceUpdate();
        },
        
        // Sync scroll position between textarea and highlighted display
        syncScroll() {
          try {
            const textarea = this.$refs.cssTextarea;
            const highlightedContainer = this.$refs.highlightedContainer;
            if (textarea && highlightedContainer) {
              // Move the pre element inside the container using transform
              const pre = highlightedContainer.querySelector('.mb-css-highlighted-pre');
              if (pre) {
                pre.style.transform = `translate(${-textarea.scrollLeft}px, ${-textarea.scrollTop}px)`;
              }
            }
          } catch (e) {
            // Ignore scroll sync errors
          }
        },
        // Reuse share dialog for owner transfer
        openOwnerTransferDialog(group) {
          const g = group || this.contextGroup;
          if (!g || !this.isOwnerOfGroup(g)) { alert(this.getTranslation('error.onlyOwner')); return; }
          // Prepare share dialog in a special mode 'owner-transfer'
          this.shareDialog = {
            visible: true,
            mode: 'owner-transfer',
            group: g,
            selectedContacts: {},
          };
          // Refresh online status for all contacts so availability is accurate in dialog
          this.checkAllContactsStatus && this.checkAllContactsStatus();
          // Show modal
          const el = document.getElementById('shareModal');
          if (el) bootstrap.Modal.getOrCreateInstance(el).show();
        },
        
        async broadcastIdentityMigration(oldUuid, newUuid) {
          try {
            if (!oldUuid || !newUuid) return;
            const from = { oldUuid, newUuid, name: this.data.identity?.name||'' };
            const env = { v:1, type:'identity-migrate', ts:Date.now(), from, msgId:(Math.random().toString(36).slice(2)+Date.now()) };
            // To contacts (pairwise)
            for (const c of (this.data.contacts||[])) {
              try { await sharing.sendToContact(c.uuid, env); } catch {}
            }
            // To groups
            for (const g of (this.data.groups||[])) {
              if (g.shared && g.groupTopic && g.groupKey) {
                try { await sharing.sendToGroup(g, Object.assign({ groupId: g.groupId }, env)); } catch {}
              }
            }
          } catch(e) { try { debugLog('warn', 'identity migrate broadcast failed', e); } catch {} }
        },
        
        async transferOwnership(group, newOwnerUuid) {
          try {
            if (!this.isOwnerOfGroup(group)) { alert(this.getTranslation('error.onlyOwner')); return; }
            const from = { uuid: this.data.identity?.uuid, name:this.data.identity?.name||'' };
            const env = { v:1, type:'owner-transfer', ts:Date.now(), from, groupId: group.groupId, newOwnerUuid, msgId:(Math.random().toString(36).slice(2)+Date.now()) };
            await sharing.sendToGroup(group, env);
            // NOTE: Do not apply locally yet; wait for new owner's acceptance and roster broadcast
          } catch(e) { try { debugLog('warn', 'owner transfer failed', e); } catch {} }
        },
        // --- Conflict Resolution UI Methods ---
        showConflictResolutionNotification(message, duration = 5000) {
          this.conflictNotificationText = message;
          this.showConflictNotification = true;
          
          // Clear any existing timeout
          if (this.conflictNotificationTimeout) {
            clearTimeout(this.conflictNotificationTimeout);
          }
          
          // Auto-hide after duration
          this.conflictNotificationTimeout = setTimeout(() => {
            this.showConflictNotification = false;
            this.conflictNotificationText = '';
          }, duration);
        },
        
        // Role-based access helpers for sync settings
        isOwnerOfAnyGroup() {
          // Check if user is owner of at least one shared group
          return (this.data.groups || []).some(g => 
            g.shared && this.isOwnerOfGroup(g)
          );
        },
        
        isMemberOfAnyGroup() {
          // Check if user is member (not owner) of at least one shared group
          return (this.data.groups || []).some(g => 
            g.shared && !this.isOwnerOfGroup(g)
          );
        },
        
        isFieldAccessible(field) {
          // Check if field should be accessible based on role scope
          if (!field.roleScope || field.roleScope === 'all') {
            return true;
          }
          
          if (field.roleScope === 'owner') {
            return this.isOwnerOfAnyGroup();
          }
          
          if (field.roleScope === 'member') {
            return this.isMemberOfAnyGroup();
          }
          
          return true;
        },
        
        getRoleScopeBadgeText(roleScope) {
          switch(roleScope) {
            case 'all':
              return this.getTranslation('sync.role.all') || 'All';
            case 'owner':
              return this.getTranslation('sync.role.owner') || 'Owner';
            case 'member':
              return this.getTranslation('sync.role.member') || 'Member';
            default:
              return '';
          }
        },
        
        checkAndShowConflictNotifications() {
          // Check notification level setting
          const notificationLevel = this.data.options?.sync?.conflictNotificationLevel || 'minimal';
          
          // Don't show any notifications if set to silent
          if (notificationLevel === 'silent') {
            return;
          }
          
          // Check all groups for recent conflict resolutions
          for (const group of this.data.groups || []) {
            if (group.conflictNotifications?.length > 0) {
              const recentConflicts = group.conflictNotifications.filter(
                n => n.timestamp > Date.now() - 10000 // Last 10 seconds
              );
              
              if (recentConflicts.length > 0) {
                const latestConflict = recentConflicts[recentConflicts.length - 1];
                
                // For 'minimal' level, only show important conflicts
                if (notificationLevel === 'minimal') {
                  // Skip minor conflicts
                  if (latestConflict.operation === 'link-edit' && latestConflict.winner === 'local') {
                    continue; // User's own edits winning is not important
                  }
                }
                
                let message = '';
                
                switch (latestConflict.operation) {
                  case 'link-edit':
                    message = this.getTranslation('sync.conflict.linkEdit') || 
                             `Link edit conflict resolved (${latestConflict.winner} version kept)`;
                    break;
                  case 'link-add':
                    message = this.getTranslation('sync.conflict.linkAdd') || 
                             `Duplicate link prevented`;
                    break;
                  case 'link-delete':
                    message = this.getTranslation('sync.conflict.linkDelete') || 
                             `Link deletion conflict resolved`;
                    break;
                  default:
                    message = this.getTranslation('sync.conflict.generic') || 
                             `Sync conflict automatically resolved`;
                }
                
                this.showConflictResolutionNotification(message);
                
                // Mark as shown
                latestConflict.shown = true;
              }
            }
          }
        },
        
        // --- Event-Log Migration Helpers (Prepared for Future) ---
        migrateGroupToEventLog(group) {
          // Skip if already migrated
          if (group.eventLog) {
            debugLog('log', '[MIGRATION] Group already has event log', group.groupId);
            return false;
          }
          
          // Ensure group has a groupId (needed for event-log)
          if (!group.groupId) {
            // Use existing UUID or generate a new one
            group.groupId = group.uuid || this.generateUUID();
            if (!group.uuid) {
              group.uuid = group.groupId;
            }
          }
          
          // Ensure we have an identity UUID for event-log
          if (!this.data.identity?.uuid) {
            if (!this.data.identity) {
              this.$set(this.data, 'identity', { 
                uuid: this.generateUUID(),
                name: '', 
                pubKey: '', 
                privKey: '' 
              });
            } else {
              this.$set(this.data.identity, 'uuid', this.generateUUID());
            }
          }
          
          const author = this.data.identity.uuid;
          
          // Create initial snapshot event
          const migrationEvent = {
            eventId: 'migration-' + (group.uuid || this.generateUUID()),
            parentId: null,
            timestamp: Date.now(),
            author: author,
            vectorClock: { [author]: 1 },
            operation: {
              type: 'snapshot',
              data: {
                links: JSON.parse(JSON.stringify(group.links || [])),
                members: JSON.parse(JSON.stringify(group.members || [])),
                version: group.version || 0,
                name: group.name || '',
                color: group.color || '',
                keywords: group.keywords || '',
                urlPlaceholders: this.normalizePlaceholderList(group.urlPlaceholders || []),
                linkedCollapseGroupUuids: this.normalizeLinkedCollapseGroupUuidList(group.linkedCollapseGroupUuids || [], group.uuid || ''),
                linkedCollapseOnCloseGroupUuids: this.normalizeLinkedCollapseGroupUuidList(group.linkedCollapseOnCloseGroupUuids || [], group.uuid || ''),
                emoji: group.emoji || '',
                favicon: group.favicon || '',
                faviconSource: group.faviconSource || null,
                faviconRuleId: group.faviconRuleId || null,
                infoHtml: group.infoHtml || ''
              }
            }
          };
          
          // Initialize event log with migration event
          this.$set(group, 'eventLog', [migrationEvent]);
          this.$set(group, 'headEventId', migrationEvent.eventId);
          this.$set(group, 'vectorClock', { [author]: 1 });
          this.$set(group, 'snapshot', migrationEvent.operation.data);

          debugLog('log', '[MIGRATION] Migrated group to event-log system', {
            groupId: group.groupId,
            eventId: migrationEvent.eventId
          });
          
          return true;
        },
        
        // Enable event-log sync for a group (opt-in, owner only)
        enableEventLogSync(group) {
          if (!group.shared) {
            debugLog('warn', '[EVENT-LOG] Cannot enable event-log sync for non-shared group');
            return false;
          }
          
          // Only owner can enable event-log
          if (!this.isOwnerOfGroup(group)) {
            debugLog('warn', '[EVENT-LOG] Only owner can enable event-log sync');
            alert(this.getTranslation('error.eventlog.ownerOnly') || 'Only the owner can enable event-log for this group');
            return false;
          }
          
          // Migrate if needed
          if (!group.eventLog) {
            this.migrateGroupToEventLog(group);
          }
          
          // Mark as event-log enabled
          this.$set(group, 'useEventLog', true);
          
          debugLog('log', '[EVENT-LOG] Enabled event-log sync for group', group.groupId);
          this.saveData();
          
          // IMPORTANT: Notify all members about event-log activation
          if (sharing && group.shared && group.groupTopic) {
            try {
              const activationMessage = {
                v: 1,
                type: 'event-log-activation',
                ts: Date.now(),
                from: { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' },
                groupId: group.groupId,
                useEventLog: true,
                // Send complete event-log data
                eventLog: group.eventLog || [],
                snapshot: group.snapshot || null,
                headEventId: group.headEventId || null,
                vectorClock: group.vectorClock || {},
                migrationSnapshot: {
                  eventId: group.eventLog[0].eventId,
                  timestamp: group.eventLog[0].timestamp,
                  data: group.eventLog[0].operation.data
                },
                msgId: (Math.random().toString(36).slice(2) + Date.now())
              };
              
              debugLog('log', '[EVENT-LOG] Notifying members about event-log activation');
              sharing.sendToGroup(group, activationMessage);
            } catch (e) {
              debugLog('error', '[EVENT-LOG] Failed to notify members:', e);
            }
          }
          
          return true;
        },
        
        // Create event for operations (prepared for future use)
        createSyncEvent(group, operation) {
          if (!group.useEventLog) return null;
          
          const vectorClock = group.vectorClock || {};
          const myId = this.data.identity?.uuid || 'unknown';
          vectorClock[myId] = (vectorClock[myId] || 0) + 1;
          
          const event = {
            eventId: this.generateUUID(),
            parentId: group.headEventId || null,
            timestamp: Date.now(),
            author: myId,
            vectorClock: { ...vectorClock },
            operation: operation
          };
          
          return event;
        },
        
        // Helper method to send sync event to group members
        async sendSyncEventToMembers(group, event) {
          // Don't check useEventLog here - that's already done in createAndApplyEvent
          if (!group.groupTopic || !group.groupKey) {
            debugLog('warn', '[SYNC] Missing groupTopic or groupKey, cannot send sync');
            return;
          }
          if (typeof sharing === 'undefined' || !sharing) {
            debugLog('error', '[SYNC] Sharing module not available');
            return;
          }
          
          const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' };
          const syncEvent = {
            v: 1,
            type: 'sync-event',
            ts: Date.now(),
            from,
            groupId: group.groupId,
            event: event,
            // Don't include full eventLog and snapshot in every sync - too large
            // These are sent separately in group-update messages
            msgId: (Math.random().toString(36).slice(2) + Date.now())
          };
          
          debugLog('log', '[SYNC] Sending sync event to group members:', {
            groupId: group.groupId,
            eventType: event.operation?.type,
            eventId: event.eventId,
            hasGroupTopic: !!group.groupTopic,
            hasGroupKey: !!group.groupKey
          });
          
          try {
            await sharing.sendToGroup(group, syncEvent);
            debugLog('log', '[SYNC] Successfully sent sync event');
          } catch (error) {
            debugLog('error', '[SYNC] Error sending sync event:', error);
          }
        },
        
        // Helper method to create and apply event with sync
        createAndApplyEvent(group, operation, skipSync = false) {
          debugLog('log', '[EVENT-LOG] createAndApplyEvent called:', {
            groupName: group.name,
            groupId: group.groupId,
            useEventLog: group.useEventLog,
            hasEventLogManager: !!this.eventLogManager,
            operationType: operation.type,
            isShared: group.shared
          });
          
          if (!group.useEventLog || !this.eventLogManager) {
            debugLog('warn', '[EVENT-LOG] Cannot create event:', {
              useEventLog: group.useEventLog,
              hasEventLogManager: !!this.eventLogManager
            });
            return null;
          }
          
          const event = this.createSyncEvent(group, operation);
          if (!event) {
            debugLog('warn', '[EVENT-LOG] createSyncEvent returned null');
            return null;
          }
          
          debugLog('log', '[EVENT-LOG] Event created:', event);
          
          // Apply locally
          const added = this.eventLogManager.addEvent(event, group);
          if (!added) {
            debugLog('warn', '[EVENT-LOG] Failed to add event:', event);
            return null;
          }
          
          debugLog('log', '[EVENT-LOG] Created and applied event:', {
            type: operation.type,
            eventId: event.eventId,
            eventCount: group.eventLog?.length || 0,
            groupId: group.groupId,
            isShared: group.shared
          });
          
          // Send to members if group is shared
          if (!skipSync && group.shared && group.groupTopic) {
            this.sendSyncEventToMembers(group, event);
          }
          
          return event;
        },
        
        // --- Dark Mode ---
        toggleDarkMode() {
          this.isDarkMode = !this.isDarkMode;
          this.applyDarkMode();
          localStorage.setItem('darkMode', this.isDarkMode ? 'true' : 'false');
        },
        
        applyDarkMode() {
          if (this.isDarkMode) {
            document.documentElement.setAttribute('data-theme', 'dark');
          } else {
            document.documentElement.removeAttribute('data-theme');
          }
        },
        
        initDarkMode() {
          const savedDarkMode = localStorage.getItem('darkMode');
          if (savedDarkMode === 'true') {
            this.isDarkMode = true;
            this.applyDarkMode();
          }
        },
        
        // --- Color Customization ---
        initCustomColors() {
          // Apply colors from data.options.colors if available
          if (this.data.options?.colors) {
            this.applyCustomColors();
          } 
          // Fallback to old customColors for backward compatibility
          else if (this.data.options?.customColors) {
            this.customColors = Object.assign({}, this.data.options.customColors);
            this.applyCustomColors();
          } 
          // Fallback to localStorage for backward compatibility
          else {
            const savedColors = localStorage.getItem('customColors');
            if (savedColors) {
              try {
                this.customColors = JSON.parse(savedColors);
                this.applyCustomColors();
              } catch (e) {
                debugLog('error', 'Failed to load custom colors:', e);
              }
            }
          }
        },
        
        applyCustomColors() {
          debugLog('log', 'applyCustomColors called');
          const root = document.documentElement;
          
          // Generic approach: iterate through optionsDesign to find all color fields with cssVar
          Object.keys(this.optionsDesign).forEach(sectionKey => {
            const section = this.optionsDesign[sectionKey];
            if (section.fields) {
              Object.keys(section.fields).forEach(fieldKey => {
                const field = section.fields[fieldKey];
                
                // Check if this field has a CSS variable mapping
                if (field.cssVar && field.optionPath) {
                  // Get the value from data.options using the optionPath
                  const pathParts = field.optionPath.split('.');
                  let value = this.data.options;
                  for (const part of pathParts) {
                    value = value?.[part];
                  }
                  
                  // Parse JSON and generate full CSS if needed
                  let cssProperties = {};
                  
                  if (value && typeof value === 'string') {
                    try {
                      const jsonData = JSON.parse(value);
                      
                      // Generate CSS properties from JSON
                      if (jsonData.backgroundColor) {
                        cssProperties['background-color'] = jsonData.backgroundColor;
                      }
                      if (jsonData.color) {
                        cssProperties['color'] = jsonData.color;
                      }
                      if (jsonData.opacity && jsonData.opacity < 100) {
                        cssProperties['opacity'] = (jsonData.opacity / 100).toFixed(2);
                      }
                      if (jsonData.fontFamily) {
                        cssProperties['font-family'] = jsonData.fontFamily;
                      }
                      if (jsonData.fontSize && jsonData.fontSize !== '') {
                        cssProperties['font-size'] = jsonData.fontSize + (jsonData.fontSizeUnit || 'px');
                      }
                      if (jsonData.fontWeight) {
                        cssProperties['font-weight'] = jsonData.fontWeight;
                      }
                      if (jsonData.borderStyle && jsonData.borderStyle !== 'none') {
                        cssProperties['border-style'] = jsonData.borderStyle;
                        if (jsonData.borderWidth) {
                          cssProperties['border-width'] = jsonData.borderWidth + 'px';
                        }
                        if (jsonData.borderColor) {
                          cssProperties['border-color'] = jsonData.borderColor;
                        }
                      }
                      if (jsonData.borderRadius) {
                        cssProperties['border-radius'] = jsonData.borderRadius + 'px';
                      }
                      if (jsonData.padding) {
                        cssProperties['padding'] = jsonData.padding + 'px';
                      }
                      if (jsonData.margin) {
                        cssProperties['margin'] = jsonData.margin + 'px';
                      }
                      
                      // Store all properties as CSS variables with a prefix
                      const varPrefix = field.cssVar || `--custom-${fieldKey}`;
                      
                      // Set individual CSS variables for each property
                      Object.keys(cssProperties).forEach(prop => {
                        const varName = `${varPrefix}-${prop.replace(/-/g, '_')}`;
                        root.style.setProperty(varName, cssProperties[prop]);
                        debugLog('log', `Setting CSS var ${varName} to ${cssProperties[prop]}`);
                      });
                      
                      // Also set the main variable with the primary color for backward compatibility
                      if (field.cssVar && jsonData.backgroundColor) {
                        root.style.setProperty(field.cssVar, jsonData.backgroundColor);
                        debugLog('log', `Setting main CSS var ${field.cssVar} to ${jsonData.backgroundColor}`);
                      }
                      
                    } catch (e) {
                      // Not JSON, use as simple value
                      if (value && value.trim() !== '') {
                        root.style.setProperty(field.cssVar, value);
                        debugLog('log', `Setting CSS var ${field.cssVar} to ${value}`);
                      }
                    }
                  } else if (field.default) {
                    // Use default value if no custom value is set
                    root.style.setProperty(field.cssVar, field.default);
                  } else {
                    // Remove the CSS variable if no value and no default
                    root.style.removeProperty(field.cssVar);
                  }
                }
              });
            }
          });
          
          // Also check group and link designs for CSS variables
          if (this.groupDesign) {
            this.applyDesignColors(this.groupDesign, 'groups');
          }
          if (this.linkDesign) {
            this.applyDesignColors(this.linkDesign, 'links');
          }
        },
        
        applyDesignColors(design, optionPrefix) {
          const root = document.documentElement;
          Object.keys(design).forEach(sectionKey => {
            const section = design[sectionKey];
            if (section.fields) {
              Object.keys(section.fields).forEach(fieldKey => {
                const field = section.fields[fieldKey];
                if (field.cssVar && field.optionPath) {
                  const pathParts = field.optionPath.split('.');
                  let value = this.data.options;
                  for (const part of pathParts) {
                    value = value?.[part];
                  }
                  if (value && value.trim() !== '') {
                    root.style.setProperty(field.cssVar, value);
                  } else if (field.default) {
                    root.style.setProperty(field.cssVar, field.default);
                  } else {
                    root.style.removeProperty(field.cssVar);
                  }
                }
              });
            }
          });
        },
        
        resetColor(colorType) {
          const defaults = {
            background: '#fafbfc',
            toolbar: '#ffffff',
            titleBar: '#f8f9fa',
            titleText: '#1a1a1a',
            keywordContainer: '#f0f0f0'
          };
          
          if (defaults[colorType]) {
            // Reset to default value (website colors always have defaults)
            this.customColors[colorType] = defaults[colorType];
            this.applyCustomColors();
          } else {
            // Remove the color entirely (for group/link colors without defaults)
            this.customColors[colorType] = '';
            this.applyCustomColors();
          }
        },
        
        resetAllColors() {
          this.customColors = {
            background: '#fafbfc',
            toolbar: '#ffffff',
            titleBar: '#f8f9fa',
            titleText: '#1a1a1a',
            keywordContainer: '#f0f0f0'
          };
          this.applyCustomColors();
        },
        
        // --- Ownership helper ---
        isOwnerOfGroup(group) {
          try {
            if (!group) return false;
            const my = this.data?.identity?.uuid;
            if (!my) return false;
            if (group.ownerUuid && group.ownerUuid === my) return true;
            const members = Array.isArray(group.members) ? group.members : [];
            return members.some(m => m.role === 'owner' && m.uuid === my);
          } catch { return false; }
        },
        // Check if NTFY URL is configured
        hasNtfyUrl() {
          return this.data.options?.sharing?.ntfyServerUrl && this.data.options.sharing.ntfyServerUrl.trim();
        },
        hasConnectedContacts() {
          return Array.isArray(this.data?.contacts) && this.data.contacts.some(c => String(c?.uuid || '').trim());
        },
        shouldShowGroupSharingSection(group) {
          if (!this.hasNtfyUrl()) return false;
          if (this.hasConnectedContacts()) return true;
          return !!(group?.shared && this.isOwnerOfGroup(group));
        },
        // --- Permission helpers ---
        normalizeUrl(u) {
          try {
            if (!u) return '';
            const url = new URL(u, 'http://example.invalid');
            if (!url.protocol || (url.protocol !== 'http:' && url.protocol !== 'https:')) return (u||'').trim();
            let host = (url.hostname || '').toLowerCase();
            let proto = url.protocol.toLowerCase();
            let port = url.port;
            if ((proto === 'http:' && port === '80') || (proto === 'https:' && port === '443')) port = '';
            // drop tracking params
            try {
              ['utm_source','utm_medium','utm_campaign','utm_term','utm_content'].forEach(k=>url.searchParams.delete(k));
            } catch {}
            let path = url.pathname || '/';
            // remove trailing slash except root
            if (path.length > 1 && path.endsWith('/')) path = path.slice(0, -1);
            const qs = url.search || '';
            // ignore hash for normalization
            return `${proto}//${host}${port?(':'+port):''}${path}${qs}`;
          } catch { return (u||'').trim(); }
        },
        urlsEqual(a, b) { return this.normalizeUrl(a) === this.normalizeUrl(b); },
        getMyMemberEntry(group) {
          try {
            const my = this.data?.identity?.uuid; if (!my) return null;
            const members = Array.isArray(group?.members) ? group.members : [];
            return members.find(m => m.uuid === my) || null;
          } catch { return null; }
        },
        canAdd(group) {
          if (!group?.shared) return true; // local groups unrestricted
          if (this.isOwnerOfGroup(group)) return true;
          const me = this.getMyMemberEntry(group);
          // Safer default: deny unless explicitly granted by owner
          return !!(me && me.canAdd === true);
        },
        canEdit(group) {
          if (!group?.shared) return true;
          if (this.isOwnerOfGroup(group)) return true;
          const me = this.getMyMemberEntry(group);
          return !!(me && me.canEdit === true);
        },
        canDelete(group) {
          if (!group?.shared) return true;
          if (this.isOwnerOfGroup(group)) return true;
          const me = this.getMyMemberEntry(group);
          return !!(me && me.canDelete === true);
        },
        toggleMemberPerm(m, field) {
          const g = this.editGroup; if (!g) return;
          if (!this.isOwnerOfGroup(g)) return;
          if (!['canAdd','canEdit','canDelete'].includes(field)) return;
          const cur = !!m[field];
          this.$set(m, field, !cur);
          this.saveData();
          // Propagate roster immediately
          try {
            if (g.shared && g.groupTopic && g.groupKey) {
              const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
              sharing.sendToGroup(g, { v:1, type:'group-roster', ts:Date.now(), from, groupId: g.groupId, members: g.members||[] });
            }
          } catch {}
        },
        // --- Sharing: identity & contacts ---
        async generateIdentity() { await sharing.ensureIdentity(); alert('Identity ready'); },
        showMyContactQr() {
          try {
            const card = sharing.getContactCard();
            const url = 'data:application/json,' + encodeURIComponent(JSON.stringify(card));
            this.qrCodeUrl = JSON.stringify(card);
            const qrCodeDiv = document.getElementById('qrCodeDiv');
            if (qrCodeDiv) { qrCodeDiv.innerHTML = ''; new QRCode(qrCodeDiv, { text: JSON.stringify(card), width: 256, height: 256 }); }
            const modalElement = document.getElementById('qrCodeModal');
            if (modalElement) bootstrap.Modal.getOrCreateInstance(modalElement).show();
          } catch (e) { alert('QR error'); }
        },
        async addContactFromCardPaste() {
          const txt = prompt('Paste contact card JSON');
          if (!txt) return;
          try { const card = JSON.parse(txt); await sharing.addContactFromCard(card); alert('Contact added'); } catch { alert('Invalid contact card'); }
        },
        openQuickConnectDialog() {
          this.contactsDialog.visible = true;
          this.contactsDialog.tab = 'quickconnect';
          this.qcDialog.mode = 'receive';  // Default to receive mode
          this.qcDialog.status = [];
          this.qcDialog.progress = 'idle';
          this.qcDialog.code = '';
          // Hook status updates
          sharing.setStatusHandler((evt) => {
            if (!this.qcDialog.visible) return;
            if (evt.phase === 'waiting') { this.qcAddStatus(`Waiting for offer on topic ${evt.topic}`); this.qcDialog.progress = 'waiting'; this.qcDialog.code = sharing.qcCode; }
            if (evt.phase === 'offer_sent') { this.qcAddStatus(`Offer sent on topic ${evt.topic}`); this.qcDialog.progress = 'exchanging'; }
            if (evt.phase === 'offer_received') { this.qcAddStatus('Offer received'); this.qcDialog.progress = 'exchanging'; }
            if (evt.phase === 'answer_sent') { this.qcAddStatus('Answer sent'); }
            if (evt.phase === 'final_sent') { this.qcAddStatus('Final sent (your card)'); this.qcDialog.progress = 'done'; this.qcAutoClose(); }
            if (evt.phase === 'final_received') { this.qcAddStatus('Final received (peer card)'); this.qcDialog.progress = 'done'; this.qcAutoClose(); }
            if (evt.phase === 'stopped') { this.qcAddStatus('Stopped'); this.qcDialog.progress = 'idle'; }
          });
        },
        qcAutoClose() { 
          setTimeout(()=>{ 
            try { 
              const modalElement=document.getElementById('contactsModal'); 
              if (modalElement) bootstrap.Modal.getOrCreateInstance(modalElement).hide(); 
            } catch{} 
            this.contactsDialog.visible=false; 
          }, 800); 
        },
        openContactsDialog() {
          this.contactsDialog.visible = true;
          this.contactsDialog.tab = 'contacts';  // Default to contacts tab
          
          // Check online status for all contacts when dialog opens
          this.checkAllContactsStatus();
          
          const modalElement = document.getElementById('contactsModal');
          if (modalElement) bootstrap.Modal.getOrCreateInstance(modalElement).show();
        },
        closeContactsDialog() {
          this.contactsDialog.visible = false;
          // Stop and reset Quick-Connect completely
          if (this.qcDialog.code || this.qcDialog.active) {
            this.qcCancel();
          }
          // Ensure complete reset
          this.qcDialog.code = '';
          this.qcDialog.active = false;
          this.qcDialog.progress = 'idle';
        },
        confirmRemoveContact(c) {
          if (!c) return;
          
          const warnings = [];
          
          // Check if contact is owner of shared groups
          const ownerGroups = (this.data.groups || []).filter(g => 
            g.shared && g.ownerUuid === c.uuid
          );
          if (ownerGroups.length > 0) {
            warnings.push(`${this.getTranslation('dialog.contacts.removeWarningOwner') || 'This contact owns'} ${ownerGroups.length} ${this.getTranslation('dialog.contacts.removeWarningGroups') || 'shared group(s) that will be deleted'}`);
          }
          
          // Check if contact is member of our shared groups
          const memberGroups = (this.data.groups || []).filter(g => 
            g.shared && g.ownerUuid === this.data.identity?.uuid && 
            g.members?.some(m => m.uuid === c.uuid)
          );
          if (memberGroups.length > 0) {
            warnings.push(`${this.getTranslation('dialog.contacts.removeWarningMember') || 'This contact is member of'} ${memberGroups.length} ${this.getTranslation('dialog.contacts.removeWarningYourGroups') || 'of your shared group(s)'}`);
          }
          
          let message = `${this.getTranslation('dialog.contacts.removeConfirm') || 'Remove contact'} "${c.name || c.uuid}"?`;
          if (warnings.length > 0) {
            message += '\n\n ' + warnings.join('\n ');
          }
          message += `\n\n${this.getTranslation('dialog.contacts.removeNote') || 'This contact will no longer be able to send you messages.'}`;
          
          if (confirm(message)) {
            this.removeContact(c);
          }
        },
        
        async removeContact(c) {
          if (!c) return;
          
          // 1. Remove member from all shared groups where we are owner
          const ownedGroups = (this.data.groups || []).filter(g => 
            g.shared && g.ownerUuid === this.data.identity?.uuid && 
            g.members?.some(m => m.uuid === c.uuid)
          );
          
          for (const group of ownedGroups) {
            debugLog('log', '[CONTACT] Removing member from owned group:', group.name);
            await this.removeMemberFromGroup(group, { uuid: c.uuid });
          }
          
          // 2. Remove shared groups where contact is owner
          const groupsToRemove = (this.data.groups || []).filter(g => 
            g.shared && g.ownerUuid === c.uuid
          );
          
          for (const group of groupsToRemove) {
            debugLog('log', '[CONTACT] Removing group where contact is owner:', group.name);
            // Unsubscribe from group topic
            try { 
              if (group.groupTopic) {
                sharing.ntfy.unsubscribe(group.groupTopic);
              }
            } catch {}
            // Remove group from local data
            const gIdx = this.data.groups.findIndex(g => g.uuid === group.uuid);
            if (gIdx >= 0) {
              this.removeGroupFromLinkedCollapseAssignments(String(group.uuid || '').trim(), Date.now());
              this.data.groups.splice(gIdx, 1);
            }
          }
          
          // 3. Remove contact from list
          const idx = (this.data.contacts || []).findIndex(x => x.uuid === c.uuid);
          if (idx >= 0) this.data.contacts.splice(idx, 1);
          
          // 4. Unsubscribe from pairwise channel
          try { sharing.unsubscribePairwise && sharing.unsubscribePairwise(c); } catch {}
          
          // 5. Add to blocked list to prevent future messages
          if (!this.data.blockedContacts) this.$set(this.data, 'blockedContacts', []);
          if (!this.data.blockedContacts.includes(c.uuid)) {
            this.data.blockedContacts.push(c.uuid);
          }
          
          this.saveData();
          this.$forceUpdate();
        },
        openMembersModal(group) {
          if (!group.prefs) this.$set(group, 'prefs', { inbound: { perMember: {} } });
          if (!group.prefs.inbound) this.$set(group.prefs, 'inbound', { perMember: {} });
          if (!group.prefs.inbound.perMember) this.$set(group.prefs.inbound, 'perMember', {});
          this.editGroup = group;
          const modalElement = document.getElementById('membersModal');
          if (modalElement) bootstrap.Modal.getOrCreateInstance(modalElement).show();
          this.hideMenus();
        },
        confirmRemoveMember(member) {
          const memberName = member.name || member.uuid;
          if (confirm(`Are you sure you want to remove "${memberName}" from this group?`)) {
            this.removeMemberFromGroup(member);
          }
        },
        
        // Show notification when member was removed while offline
        showRemovedFromGroupNotification(groupName, ownerName, groupId, removedAt) {
          this.removedGroupInfo = {
            groupName: groupName || 'Unknown Group',
            ownerName: ownerName || 'Unknown Owner',
            removedAt: removedAt || new Date(),
            groupId: groupId
          };
          
          // Show the modal
          const modalElement = document.getElementById('removedFromGroupModal');
          if (modalElement) bootstrap.Modal.getOrCreateInstance(modalElement).show();
        },
        
        // Handle acknowledgment of removal
        acknowledgeGroupRemoval() {
          const groupId = this.removedGroupInfo.groupId;
          if (groupId) {
            // Remove the group from local storage
            const groupIndex = this.data.groups.findIndex(g => g.uuid === groupId);
            if (groupIndex !== -1) {
              this.removeGroupFromLinkedCollapseAssignments(String(groupId || '').trim(), Date.now());
              this.data.groups.splice(groupIndex, 1);
              this.saveData();
              debugLog('log', '[SYNC] Removed group after member removal notification:', groupId);
            }
          }
          
          // Clear the info
          this.removedGroupInfo = {
            groupName: '',
            ownerName: '',
            removedAt: null,
            groupId: null
          };
        },
        toggleMemberInbound(m) {
          if (!this.editGroup?.prefs?.inbound?.perMember) return;
          const cur = this.editGroup.prefs.inbound.perMember[m.uuid] || 'unset';
          const next = cur==='allow' ? 'deny' : 'allow';
          this.$set(this.editGroup.prefs.inbound.perMember, m.uuid, next);
          this.saveData();
        },
        async removeMemberFromGroup(groupOrMember, memberParam) {
          // Handle two different call signatures:
          // 1. From members dialog: removeMemberFromGroup(member) - uses this.editGroup
          // 2. From removeContact: removeMemberFromGroup(group, member)
          let g, m;
          if (memberParam) {
            // Called with (group, member)
            g = groupOrMember;
            m = memberParam;
          } else {
            // Called with (member) - use editGroup
            g = this.editGroup;
            m = groupOrMember;
          }
          
          if (!g) return;
          if (!this.isOwnerOfGroup(g)) { 
            // Only show alert if called from UI (no memberParam)
            if (!memberParam) alert('Only the owner can remove members.'); 
            return; 
          }
          
          // Update local roster
          g.members = (g.members||[]).filter(x=>x.uuid!==m.uuid);
          
          // Check if group should no longer be shared
          // Unshare if: no members left, only owner remains, or no members with role 'member'
          const noMembers = !g.members || g.members.length === 0;
          const onlyOwnerRemains = g.members.length === 1 && g.members[0].role === 'owner';
          const noRegularMembers = g.members.length > 0 && !g.members.some(x => x.role === 'member');
          
          if (noMembers || onlyOwnerRemains || noRegularMembers) {
            debugLog('log', '[SHARE] Group no longer shared:', g.name, 
              noMembers ? '(no members)' : onlyOwnerRemains ? '(only owner remains)' : '(no regular members)');
            // Unshare the group
            g.shared = false;
            // Optionally clear sharing-related properties
            // Keep groupId, groupKey, groupTopic for potential re-sharing
            // But unsubscribe from the topic
            try {
              if (g.groupTopic && window.sharing) {
                window.sharing.ntfy.unsubscribe(g.groupTopic);
              }
            } catch (e) {
              debugLog('warn', '[SHARE] Failed to unsubscribe from topic:', e);
            }
          }
          
          this.saveData();
          
          try {
            // Notify removed member 1:1
            // For shared groups, we must use groupId (never fallback to local id)
            if (!g.groupId) {
              debugLog('error', '[REMOVE_MEMBER] No groupId for shared group:', g.name);
              return;
            }
            const env = { v:1, type:'group-member-removed', ts:Date.now(), from:{ uuid:this.data.identity?.uuid, name:this.data.identity?.name||'' }, groupId: g.groupId };
            await sharing.sendToContact(m.uuid, env);
          } catch (e) {
            debugLog('error', '[REMOVE_MEMBER] Failed to notify member:', e);
          }
          
          try {
            // Broadcast updated roster to remaining group
            await sharing.sendToGroup(g, { v:1, type:'group-roster', ts:Date.now(), from:{ uuid:this.data.identity?.uuid, name:this.data.identity?.name||'' }, groupId: g.groupId, members: g.members||[] });
          } catch {}
        },
        // Contact online status methods
        async checkContactOnlineStatus(contactUuid) {
          // Check if contact is online by attempting a ping
          try {
            // Store checking status
            this.$set(this.contactOnlineStatus, contactUuid, {
              online: false,
              checking: true,
              lastCheck: Date.now()
            });
            
            // Try to ping the contact
            const pingSuccess = await this.pingContact(contactUuid);
            
            // Update status
            this.$set(this.contactOnlineStatus, contactUuid, {
              online: pingSuccess,
              checking: false,
              lastCheck: Date.now()
            });
            
            return pingSuccess;
          } catch (e) {
            this.$set(this.contactOnlineStatus, contactUuid, {
              online: false,
              checking: false,
              lastCheck: Date.now()
            });
            return false;
          }
        },
        
        async pingContact(contactUuid) {
          // Proper ping/pong mechanism to check if contact is truly online
          try {
            const contact = (this.data.contacts || []).find(c => c.uuid === contactUuid);
            if (!contact) return false;
            
            // Check if contact has valid channel info
            if (!contact.kChannelB64 || !contact.topic) {
              return false;
            }
            
            // Generate unique ping ID
            const pingId = Math.random().toString(36).slice(2) + Date.now();
            
            // Create ping message
            const pingMessage = {
              type: 'ping',
              pingId: pingId,
              from: this.data.identity?.uuid,
              timestamp: Date.now()
            };
            
            // Create promise that will be resolved when pong is received
            const pongPromise = new Promise((resolve, reject) => {
              // Store resolver for the pong handler to use
              this.pendingPings[pingId] = { resolve, reject };
              
              // Set timeout for pong response
              const timeoutId = setTimeout(() => {
                if (this.pendingPings[pingId]) {
                  delete this.pendingPings[pingId];
                  resolve(false); // Timeout = offline
                }
              }, 3000); // 3 second timeout
              
              this.pendingPings[pingId].timeout = timeoutId;
            });
            
            // Send ping message
            try {
              await sharing.sendToContact(contactUuid, pingMessage);
              debugLog('log', '[PING/PONG] Sent ping to:', contactUuid, 'with ID:', pingId);
            } catch (e) {
              // Failed to send ping
              if (this.pendingPings[pingId]) {
                clearTimeout(this.pendingPings[pingId].timeout);
                delete this.pendingPings[pingId];
              }
              return false;
            }
            
            // Wait for pong response
            const result = await pongPromise;
            
            // Clean up timeout if still exists
            if (this.pendingPings[pingId]) {
              clearTimeout(this.pendingPings[pingId].timeout);
              delete this.pendingPings[pingId];
            }
            
            return result === true;
          } catch (e) {
            debugLog('error', '[PING/PONG] Failed to ping contact:', e);
            return false;
          }
        },
        
        isContactOnline(contactUuid) {
          const status = this.contactOnlineStatus[contactUuid];
          if (!status) {
            // Check status if not cached
            this.checkContactOnlineStatus(contactUuid);
            return false; // Assume offline until checked
          }
          
          // Re-check if status is older than the configured timeout
          const timeoutMs = (this.data.options?.sharing?.contactOnlineTimeoutSeconds || CONSTS.CONTACT_ONLINE_TIMEOUT_SEC) * 1000;
          if (Date.now() - status.lastCheck > timeoutMs) {
            this.checkContactOnlineStatus(contactUuid);
          }
          
          return status.online;
        },
        
        // Check online status for all contacts
        async checkAllContactsStatus() {
          if (!this.data.contacts || this.data.contacts.length === 0) return;
          
          // Check all contacts in parallel
          const checkPromises = this.data.contacts.map(contact => 
            this.checkContactOnlineStatus(contact.uuid)
          );
          
          try {
            await Promise.all(checkPromises);
            debugLog('log', 'Checked status for all contacts');
          } catch (e) {
            debugLog('error', 'Failed to check some contact statuses:', e);
          }
        },
        
        getContactStatusClass(contactUuid) {
          const status = this.contactOnlineStatus[contactUuid];
          if (!status) return 'online-indicator checking';
          if (status.checking) return 'online-indicator checking';
          return status.online ? 'online-indicator online' : 'online-indicator offline';
        },
        
        getContactStatusText(contactUuid) {
          const status = this.contactOnlineStatus[contactUuid];
          if (!status || status.checking) return this.getTranslation('dialog.contacts.checking') || 'checking...';
          // Now shows true online status via ping/pong mechanism
          return status.online ? 
            (this.getTranslation('dialog.contacts.online') || 'online') : 
            (this.getTranslation('dialog.contacts.offline') || 'offline');
        },
        
        getContactStatusTextClass(contactUuid) {
          const status = this.contactOnlineStatus[contactUuid];
          if (!status || status.checking) return 'contact-status-text';
          return status.online ? 'contact-status-text online' : 'contact-status-text offline';
        },
        
        // Format date for display using moment.js
        formatDate(dateValue) {
          if (!dateValue) return '';
          
          try {
            // Create moment object and validate
            const m = moment(dateValue);
            if (!m.isValid()) {
              return '';
            }
            
            // Use localized format (LLL = Month name, day, year, time)
            // In German: "15. Januar 2024 14:30"
            return m.format('LLL');
          } catch (e) {
            debugLog('error', 'Error formatting date:', e);
            return '';
          }
        },
        
        // Format time for messages using moment.js
        formatMessageTime(timeValue) {
          if (!timeValue) return '';
          
          try {
            const m = moment(timeValue);
            if (!m.isValid()) {
              return '';
            }
            
            // Use time format (HH:mm:ss)
            return m.format('LTS');
          } catch (e) {
            debugLog('error', 'Error formatting message time:', e);
            return '';
          }
        },
        
        async sendTestToContact(c) {
          // Check if contact is online first
          if (!this.isContactOnline(c.uuid)) {
            alert(this.getTranslation('dialog.contacts.cannotSendOffline') || 'Cannot send to offline contact');
            return;
          }
          
          try {
            const env = { v:1, type:'share', from:{ uuid:this.data.identity?.uuid, name:this.data.identity?.name||'' }, ts:Date.now(), note: this.getTranslation('quick.test.note'), selection:{ groups:[], links:[] }, mode:'merge', schemaVersion:1 };
            await sharing.sendToContact(c.uuid, env);
            // Removed alert - success already visible in UI
          } catch (e) { alert(this.getTranslation('quick.test.failed')); }
        },
        qcAddStatus(msg) { (this.qcDialog.status || (this.qcDialog.status=[])).push({ t: Date.now(), m: msg }); this.$nextTick(() => {
          const box = document.getElementById('qcStatusBox'); if (box) box.scrollTop = box.scrollHeight; });
        },
        async qcStartReceive() {
          // Setup status handler first
          this.setupQcStatusHandler();
          const ttl = this.data.options?.sharing?.quickCodeTtlSec || CONSTS.QUICK_CODE_TTL_SEC;
          const alphabet = 'abcdefghijklmnopqrstuvwxyz0123456789';
          let code = '';
          for (let i = 0; i < 6; i++) code += alphabet[Math.floor(Math.random() * alphabet.length)];
          this.qcDialog.code = code;
          this.qcAddStatus(`Code: ${code} (valid ~${ttl}s)`);
          try { await sharing.quickCodeReceiveStart(code); } catch (e) { this.qcAddStatus('Error starting receive'); }
        },
        async qcStartSend() {
          // Setup status handler first
          this.setupQcStatusHandler();
          const code = (this.qcDialog.code || '').trim().toLowerCase();
          if (!code || code.length !== 6) { alert('Enter a 6-character code'); return; }
          try { await sharing.quickCodeSendOffer(code); this.qcAddStatus('Offer sent; waiting for answer'); }
          catch { this.qcAddStatus('Quick-Connect failed'); }
        },
        setupQcStatusHandler() {
          sharing.setStatusHandler((evt) => {
            if (evt.phase === 'waiting') { this.qcAddStatus(`Waiting for offer on topic ${evt.topic}`); this.qcDialog.progress = 'waiting'; this.qcDialog.code = sharing.qcCode; }
            if (evt.phase === 'offer_sent') { this.qcAddStatus(`Offer sent on topic ${evt.topic}`); this.qcDialog.progress = 'exchanging'; }
            if (evt.phase === 'offer_received') { this.qcAddStatus('Offer received from peer; generating answer'); this.qcDialog.progress = 'exchanging'; }
            if (evt.phase === 'answer_sent') { this.qcAddStatus('Answer sent; generating contact'); this.qcDialog.progress = 'exchanging'; }
            if (evt.phase === 'answer_received') { this.qcAddStatus('Answer received; generating contact'); this.qcDialog.progress = 'exchanging'; }
            if (evt.phase === 'final_sent') { this.qcAddStatus('Final sent (contact card)'); this.qcDialog.progress = 'done'; this.qcAutoClose(); }
            if (evt.phase === 'final_received') { this.qcAddStatus('Final received (peer card)'); this.qcDialog.progress = 'done'; this.qcAutoClose(); }
            if (evt.phase === 'stopped') { this.qcAddStatus('Stopped'); this.qcDialog.progress = 'idle'; }
          });
        },
        qcCancel() { 
          try { sharing.quickCodeStop(); } catch {} 
          this.qcAddStatus('Canceled'); 
          this.qcDialog.progress = 'idle'; 
          this.qcDialog.code = ''; // Reset the code input field
          this.qcDialog.active = false; // Reset active state
        },
        // --- Invitation Dialog ---
        showInvitationDialog(type, env) {
          this.invitationDialog.type = type;
          this.invitationDialog.env = env;
          this.invitationDialog.fromName = env.from?.name || env.from?.uuid || 'Unknown';
          
          if (type === 'group') {
            this.invitationDialog.groupName = env.groupName || 'Shared Group';
            this.invitationDialog.linkCount = (env.selection?.links || []).length;
            this.invitationDialog.preview = [];
          } else if (type === 'link') {
            // Check if it's a group share or just links
            if (env.selection?.groups?.length > 0) {
              // It's actually a group share via Share Group button
              const group = env.selection.groups[0];
              this.invitationDialog.groupName = group.name || 'Shared Group';
              this.invitationDialog.linkCount = (group.links || []).length;
              this.invitationDialog.preview = (group.links || []).slice(0, 10).map(l => ({
                text: l.text || l.url,
                url: l.url
              }));
            } else {
              // It's just shared links
              this.invitationDialog.groupName = '';
              this.invitationDialog.linkCount = 0;
              this.invitationDialog.preview = (env.selection?.links || []).slice(0, 10).map(l => ({
                text: l.text || l.url,
                url: l.url
              }));
            }
          }
          
          this.invitationDialog.visible = true;
          this.$nextTick(() => {
            const el = document.getElementById('invitationModal');
            if (el) bootstrap.Modal.getOrCreateInstance(el).show();
          });
        },
        
        async acceptInvitation() {
          try {
            const env = this.invitationDialog.env;
            debugLog('log', '[INVITE] Accepting invitation, type:', this.invitationDialog.type, 'env:', env);
            if (!env) {
              debugLog('log', '[INVITE] No envelope found');
              return;
            }
            
            if (this.invitationDialog.type === 'group') {
              // Mark as processed to prevent duplicates
              if (env.msgId && this.processedMsgIds) this.processedMsgIds.add(env.msgId);
              
              // Accept group invite: create or update shared group and subscribe
              debugLog('log', '[INVITE] Processing invitation with event-log data:', {
                hasEventLog: !!env.eventLog,
                eventLogCount: env.eventLog?.length || 0,
                hasSnapshot: !!env.snapshot,
                useEventLog: env.useEventLog
              });
              let g = (this.data.groups||[]).find(x=>x.groupId===env.groupId);
              if (!g) {
                // Create a completely new group object with deep copy to avoid reference issues
                g = JSON.parse(JSON.stringify({ 
                  uuid: this.generateUUID(),
                  name: env.groupName||'Shared Group', 
                  color:'', 
                  opacity:100, 
                  keywords:'', 
                  urlPlaceholders: this.normalizePlaceholderList(env.urlPlaceholders || []),
                  linkedCollapseGroupUuids: this.normalizeLinkedCollapseGroupUuidList(env.linkedCollapseGroupUuids || [], env.groupId || ''),
                  linkedCollapseOnCloseGroupUuids: this.normalizeLinkedCollapseGroupUuidList(env.linkedCollapseOnCloseGroupUuids || [], env.groupId || ''),
                  column: Math.max(0, ...(this.getGroupColumns()||[0])), 
                  index:(this.data.groups||[]).length, 
                  collapsed:false, 
                  shared:true, 
                  groupId: env.groupId, 
                  groupTopic: env.groupTopic, 
                  groupKey: env.groupKey,
                  // Include event-log data from invitation
                  useEventLog: env.useEventLog || false,
                  eventLog: env.eventLog || [],
                  snapshot: env.snapshot || null,
                  headEventId: env.headEventId || null,
                  vectorClock: env.vectorClock || {}
                }));
                // Ensure links is a new array
                g.links = [];
                if (!Array.isArray(this.data.groups)) this.$set(this.data, 'groups', []);
                // Use Vue's reactive method to add the group
                const newIndex = this.data.groups.length;
                this.$set(this.data.groups, newIndex, g);
              } else {
                // Group already exists (possibly re-adding after removal)
                this.$set(g, 'shared', true); 
                this.$set(g,'groupId', env.groupId); 
                this.$set(g,'groupTopic', env.groupTopic); 
                this.$set(g,'groupKey', env.groupKey);
                // Update event-log data from invitation if provided
                if (env.useEventLog) {
                  this.$set(g, 'useEventLog', true);
                  this.$set(g, 'eventLog', env.eventLog || []);
                  this.$set(g, 'snapshot', env.snapshot || null);
                  this.$set(g, 'headEventId', env.headEventId || null);
                  this.$set(g, 'vectorClock', env.vectorClock || {});
                }
                // Ensure links array is reactive
                if (!Array.isArray(g.links)) {
                  this.$set(g, 'links', []);
                }
              }
              
              // Enable event-log for shared groups if not already provided in invitation
              if (!g.eventLog && !env.useEventLog) {
                debugLog('log', '[EVENT-LOG] Enabling event-log for newly shared group:', g.name);
                this.migrateGroupToEventLog(g);
                this.$set(g, 'useEventLog', true);
              }
              
              // Apply roster if provided
              if (Array.isArray(env.members)) {
                const contacts = Array.isArray(this.data.contacts) ? this.data.contacts : [];
                const mapped = env.members.map(m=>{
                  const mm = Object.assign({}, m);
                  if (!mm.name || mm.name===mm.uuid) {
                    if (env.groupOwnerUuid && mm.uuid===env.groupOwnerUuid && env.from?.name) mm.name = env.from.name;
                    if ((!mm.name || mm.name===mm.uuid)) {
                      const c = contacts.find(x=>x.uuid===mm.uuid);
                      if (c && c.name) mm.name = c.name;
                    }
                  }
                  // Preserve permissions
                  mm.canAdd = m.canAdd;
                  mm.canEdit = m.canEdit;
                  mm.canDelete = m.canDelete;
                  return mm;
                });
                this.$set(g, 'members', mapped);
              }
              
              // Apply color and opacity
              if (typeof env.groupColor === 'string') this.$set(g, 'color', env.groupColor);
              if (typeof env.groupOpacity === 'number') this.$set(g, 'opacity', Math.max(0, Math.min(100, env.groupOpacity)));
              if (typeof env.groupOwnerUuid === 'string' && env.groupOwnerUuid) this.$set(g, 'ownerUuid', env.groupOwnerUuid);
              this.$set(g, 'urlPlaceholders', this.normalizePlaceholderList(env.urlPlaceholders || g.urlPlaceholders || []));
              const normalizedLinkedCollapseGroupUuids = this.normalizeLinkedCollapseGroupUuidList(
                env.linkedCollapseGroupUuids || g.linkedCollapseGroupUuids || [],
                g.uuid || ''
              );
              const normalizedLinkedCollapseOnCloseGroupUuids = this.normalizeLinkedCollapseGroupUuidList(
                env.linkedCollapseOnCloseGroupUuids || g.linkedCollapseOnCloseGroupUuids || [],
                g.uuid || ''
              );
              this.$set(g, 'linkedCollapseGroupUuids', normalizedLinkedCollapseGroupUuids);
              this.$set(g, 'linkedCollapseOnCloseGroupUuids', normalizedLinkedCollapseOnCloseGroupUuids);
              this.applyLinkedCollapseAssignmentsForGroup(
                g,
                normalizedLinkedCollapseGroupUuids,
                normalizedLinkedCollapseOnCloseGroupUuids,
                Date.now()
              );
              
              // Import initial links with reactive properties
              if (!Array.isArray(g.links)) {
                this.$set(g, 'links', []);
              }
              g.links = []; // Clear existing links
              if (env.selection && Array.isArray(env.selection.links)) {
                const linkUuidMap = new Map();
                env.selection.links.forEach((l) => {
                  const originalUuid = l?.uuid || '';
                  const nextUuid = originalUuid || this.generateUUID();
                  if (originalUuid) linkUuidMap.set(originalUuid, nextUuid);
                });
                env.selection.links.forEach((l,i)=>{
                  const col = (typeof l.column==='number') ? l.column : 0;
                  const idx = (typeof l.index === 'number') ? l.index : i;
                  const newLink = { 
                    uuid: (l?.uuid && linkUuidMap.get(l.uuid)) ? linkUuidMap.get(l.uuid) : this.generateUUID(),
                    text: l.text || l.url, 
                    url: l.url, 
                    rawUrlInput: l.rawUrlInput || '',
                    urlPlaceholders: this.normalizePlaceholderList(l.urlPlaceholders || []),
                    keywords: l.keywords || '', 
                    infoHtml: this.sanitizeHtml(String(l.infoHtml || '')),
                    color: l.color || '',
                    refTargetUuid: (l?.refTargetUuid && linkUuidMap.has(l.refTargetUuid)) ? linkUuidMap.get(l.refTargetUuid) : (l.refTargetUuid || ''),
                    inheritSourceKeywords: l.inheritSourceKeywords !== false,
                    emoji: l.emoji || '',
                    shortcut: l.shortcut || '',
                    column: col, 
                    index: idx, 
                    editing: false, 
                    isMouseOver: false 
                  };
                  // Ensure reactive properties
                  this.$set(newLink, 'editing', false);
                  this.$set(newLink, 'isMouseOver', false);
                  g.links.push(newLink);
                });
              }
              
              // Ensure reactive UI properties
              if (g.isMouseOver===undefined) this.$set(g,'isMouseOver',false);
              if (g.editing===undefined) this.$set(g,'editing',false);
              
              // Default inbound prefs
              if (!g.prefs) this.$set(g,'prefs',{ inbound: { perMember: {} } });
              if (!g.prefs.inbound) this.$set(g.prefs,'inbound',{ perMember: {} });
              if (!g.prefs.inbound.perMember) this.$set(g.prefs.inbound,'perMember',{});
              
              this.saveData();
              
              // Subscribe to group - skip initial update request since we already have the data from the invite
              debugLog('log', '[INVITE] Accepted group invitation:', g.name, g.groupId);
              
              // If group was previously removed and re-added, we need to force re-subscription
              if (sharing.groupSubs && sharing.groupSubs.has(g.groupTopic)) {
                debugLog('log', '[INVITE] Group was already subscribed, forcing re-subscription');
                // Remove old subscription from map
                sharing.groupSubs.delete(g.groupTopic);
                // Unsubscribe from NTFY (in case subscription still exists)
                try {
                  sharing.ntfy.unsubscribe(g.groupTopic);
                } catch (e) {
                  debugLog('log', '[INVITE] Could not unsubscribe old subscription:', e);
                }
              }
              
              // Subscribe and request update immediately so owner sends full state
              sharing.applyConfig();
              sharing.subscribeGroup(g, false); // false = send update request automatically
              
              // Force update UI
              try { this.$forceUpdate(); } catch {}
              
              // After subscription is established, request an update to sync with latest state
              // This ensures we get any changes that happened while the invitation was pending
              setTimeout(() => {
                try {
                  const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' };
                  debugLog('log', '[INVITE] Sending delayed update request after invitation acceptance');
                  sharing.sendToGroup(g, { 
                    v: 1, 
                    type: 'group-update-request', 
                    ts: Date.now(), 
                    from, 
                    groupId: g.groupId, 
                    msgId: (Math.random().toString(36).slice(2) + Date.now()) 
                  });
                } catch(e) {
                  debugLog('warn', '[INVITE] Failed to send update request after invitation acceptance', e);
                }
              }, 500); // Shorter delay; subscribeGroup already requested update
              
            } else if (this.invitationDialog.type === 'link') {
              // Accept shared links or groups
              debugLog('log', '[INVITE] Processing shared links/groups');
              
              // Debug: Check state before applying share envelope
              debugLog('log', '[INVITE] Groups before applyShareEnvelope:', this.data.groups.map(g => ({
                name: g.name,
                uuid: g.uuid,
                linksCount: g.links?.length,
                firstLink: g.links?.[0]?.text
              })));
              
              await this.applyShareEnvelope(env);
              
              // Debug: Check state after applying share envelope
              debugLog('log', '[INVITE] Groups after applyShareEnvelope:', this.data.groups.map(g => ({
                name: g.name,
                uuid: g.uuid,
                linksCount: g.links?.length,
                firstLink: g.links?.[0]?.text
              })));
              
              // Extra debug: Check if links arrays are actually different objects
              if (this.data.groups.length >= 2) {
                const group1 = this.data.groups[0];
                const group2 = this.data.groups[1];
                debugLog('log', '[DEBUG] Group 1 links === Group 2 links?', group1.links === group2.links);
                debugLog('log', '[DEBUG] Group 1:', { name: group1.name, uuid: group1.uuid, links: group1.links });
                debugLog('log', '[DEBUG] Group 2:', { name: group2.name, uuid: group2.uuid, links: group2.links });
                
                // Check actual link content
                debugLog('log', '[DEBUG] Group 1 first link text:', group1.links[0]?.text);
                debugLog('log', '[DEBUG] Group 2 first link text:', group2.links[0]?.text);
                
                // Force check after a delay to see if something changes
                setTimeout(() => {
                  debugLog('log', '[DEBUG DELAYED] After 2 seconds:');
                  debugLog('log', '[DEBUG DELAYED] Group 1:', { 
                    name: this.data.groups[0].name, 
                    linksCount: this.data.groups[0].links.length,
                    firstLink: this.data.groups[0].links[0]?.text 
                  });
                  debugLog('log', '[DEBUG DELAYED] Group 2:', { 
                    name: this.data.groups[1].name, 
                    linksCount: this.data.groups[1].links.length,
                    firstLink: this.data.groups[1].links[0]?.text 
                  });
                }, 2000);
              }
            }
            
            // Close the dialog
            this.closeInvitationDialog();
            debugLog('log', '[INVITE] Invitation accepted successfully');
            
          } catch (e) { 
            debugLog('error', 'Failed to accept invitation:', e);
            alert('Failed to accept invitation');
          }
        },
        
        rejectInvitation() {
          debugLog('log', '[INVITE] Rejected invitation');
          // Mark as processed to prevent showing dialog again
          const env = this.invitationDialog.env;
          if (env && env.msgId && this.processedMsgIds) {
            this.processedMsgIds.add(env.msgId);
          }
          this.closeInvitationDialog();
        },
        
        closeInvitationDialog() {
          this.invitationDialog.visible = false;
          this.invitationDialog.env = null;
          const el = document.getElementById('invitationModal');
          if (el) {
            const modal = bootstrap.Modal.getInstance(el);
            if (modal) modal.hide();
          }
        },
        
        // Apply shared envelope (for link and group sharing)
        async applyShareEnvelope(env) {
          debugLog('log', '[SHARE] Applying share envelope:', env);
          const sel = env.selection || {};
          if (env.msgId && this.processedMsgIds && this.processedMsgIds.has(env.msgId)) {
            debugLog('log', '[SHARE] Skipping duplicate msgId:', env.msgId);
            return;
          }
          if (env.msgId && this.processedMsgIds) this.processedMsgIds.add(env.msgId);
          
          // Handle shared groups
          if (Array.isArray(sel.groups) && sel.groups.length) {
            debugLog('log', '[SHARE] Processing shared groups:', sel.groups.length);
            sel.groups.forEach(sharedGroup => {
              // IMPORTANT: For sent groups (not shared), always generate a new UUID
              // to prevent collision with existing groups
              // Only shared groups (with groupId) should maintain the same UUID across members
              const isSharedGroup = sharedGroup.shared && sharedGroup.groupId;
              debugLog('log', '[SHARE] Processing group:', sharedGroup.name, 'isShared:', isSharedGroup, 'originalUUID:', sharedGroup.uuid);
              let newGroupUUID = isSharedGroup ? (sharedGroup.uuid || this.generateUUID()) : this.generateUUID();
              debugLog('log', '[SHARE] New group UUID:', newGroupUUID, 'for group:', sharedGroup.name);
              
              // Check if a group with this UUID already exists
              const existingGroup = this.data.groups?.find(g => g.uuid === newGroupUUID);
              if (existingGroup) {
                debugLog('error', '[SHARE] CRITICAL: Group with UUID already exists!', newGroupUUID, existingGroup.name);
                // Force generate a new UUID if collision detected
                newGroupUUID = this.generateUUID();
                debugLog('log', '[SHARE] Generated new UUID to avoid collision:', newGroupUUID);
              }
              
              // Debug: Log all existing groups before adding
              debugLog('log', '[SHARE] Existing groups before add:', this.data.groups?.map(g => ({ 
                name: g.name, 
                uuid: g.uuid,
                column: g.column,
                index: g.index
              })));
              // Create a completely new group object to avoid any reference issues
              const g = JSON.parse(JSON.stringify({
                uuid: newGroupUUID,
                name: sharedGroup.name || `Shared from ${env.from?.name || env.from?.uuid || 'unknown'}`,
                color: sharedGroup.color || '',
                opacity: typeof sharedGroup.opacity === 'number' ? sharedGroup.opacity : 100,
                keywords: sharedGroup.keywords || '',
                urlPlaceholders: this.normalizePlaceholderList(sharedGroup.urlPlaceholders || []),
                linkedCollapseGroupUuids: isSharedGroup
                  ? this.normalizeLinkedCollapseGroupUuidList(sharedGroup.linkedCollapseGroupUuids || [], newGroupUUID)
                  : [],
                linkedCollapseOnCloseGroupUuids: isSharedGroup
                  ? this.normalizeLinkedCollapseGroupUuidList(sharedGroup.linkedCollapseOnCloseGroupUuids || [], newGroupUUID)
                  : [],
                column: Math.max(0, ...(this.getGroupColumns() || [0])),
                index: (this.data.groups || []).length,
                collapsed: false,
                links: [],
                // Include event-log data if available
                useEventLog: sharedGroup.useEventLog || false,
                eventLog: sharedGroup.eventLog || [],
                snapshot: sharedGroup.snapshot || null,
                headEventId: sharedGroup.headEventId || null,
                vectorClock: sharedGroup.vectorClock || {}
              }));
              
              // Add links from the shared group
              if (Array.isArray(sharedGroup.links)) {
                const linkUuidMap = new Map();
                sharedGroup.links.forEach((l) => {
                  const originalUuid = l?.uuid || '';
                  const nextUuid = isSharedGroup ? (originalUuid || this.generateUUID()) : this.generateUUID();
                  if (originalUuid) linkUuidMap.set(originalUuid, nextUuid);
                });
                sharedGroup.links.forEach((l, i) => {
                  // For sent groups, generate new UUIDs for links too
                  // Only shared groups should maintain the same link UUIDs
                  // Create a completely new object to avoid any reference issues
                  const sourceUuid = l?.uuid || '';
                  const mappedUuid = sourceUuid
                    ? (linkUuidMap.get(sourceUuid) || sourceUuid)
                    : this.generateUUID();
                  const mappedRefTargetUuid = (l?.refTargetUuid && linkUuidMap.has(l.refTargetUuid))
                    ? linkUuidMap.get(l.refTargetUuid)
                    : (l?.refTargetUuid || '');
                  const newLink = JSON.parse(JSON.stringify({
                    uuid: mappedUuid,
                    text: l.text || l.url,
                    url: l.url,
                    rawUrlInput: l.rawUrlInput || '',
                    urlPlaceholders: this.normalizePlaceholderList(l.urlPlaceholders || []),
                    keywords: l.keywords || '',
                    infoHtml: this.sanitizeHtml(String(l.infoHtml || '')),
                    color: l.color || '',
                    refTargetUuid: mappedRefTargetUuid,
                    inheritSourceKeywords: l.inheritSourceKeywords !== false,
                    shortcut: l.shortcut || '',
                    emoji: l.emoji || '',
                    column: typeof l.column === 'number' ? l.column : 0,
                    index: typeof l.index === 'number' ? l.index : i,
                    editing: false,
                    isMouseOver: false
                  }));
                  g.links.push(newLink);
                });
              }
              
              // Ensure reactive UI properties for group
              g.isMouseOver = false;
              g.editing = false;
              
              debugLog('log', '[SHARE] Adding group:', g.name, 'with', g.links.length, 'links', 'UUID:', g.uuid);
              if (!Array.isArray(this.data.groups)) this.$set(this.data, 'groups', []);
              // Use Vue's reactive method to add the group
              const newIndex = this.data.groups.length;
              this.$set(this.data.groups, newIndex, g);
              this.applyLinkedCollapseAssignmentsForGroup(
                g,
                g.linkedCollapseGroupUuids || [],
                g.linkedCollapseOnCloseGroupUuids || [],
                Date.now()
              );
              
              // Debug: Log all groups after adding
              debugLog('log', '[SHARE] Groups after add:', this.data.groups.map(grp => ({ 
                name: grp.name, 
                uuid: grp.uuid, 
                column: grp.column,
                index: grp.index,
                linksCount: grp.links?.length,
                firstLink: grp.links?.[0]?.text 
              })));
            });
          }
          
          // Handle shared links (create new group for them)
          else if (Array.isArray(sel.links) && sel.links.length) {
            debugLog('log', '[SHARE] Processing shared links:', sel.links.length);
            const name = `Shared from ${env.from?.name || env.from?.uuid || 'unknown'} ${moment(env.ts || Date.now()).format('LLL')}`;
            const g = { 
              uuid: this.generateUUID(),
              name, 
              color: '', 
              opacity: 100, 
              keywords: '', 
              urlPlaceholders: [],
              linkedCollapseGroupUuids: [],
              linkedCollapseOnCloseGroupUuids: [],
              column: Math.max(0, ...(this.getGroupColumns() || [0])), 
              index: (this.data.groups || []).length, 
              collapsed: false, 
              links: [],
              isMouseOver: false,
              editing: false
            };
            const linkUuidMap = new Map();
            sel.links.forEach((l) => {
              const originalUuid = l?.uuid || '';
              const nextUuid = this.generateUUID();
              if (originalUuid) linkUuidMap.set(originalUuid, nextUuid);
            });
            sel.links.forEach((l, i) => g.links.push({ 
              uuid: (l?.uuid && linkUuidMap.get(l.uuid)) ? linkUuidMap.get(l.uuid) : this.generateUUID(),
              text: l.text || l.url, 
              url: l.url, 
              rawUrlInput: l.rawUrlInput || '',
              urlPlaceholders: this.normalizePlaceholderList(l.urlPlaceholders || []),
              keywords: l.keywords || '', 
              infoHtml: this.sanitizeHtml(String(l.infoHtml || '')),
              color: l.color || '',
              refTargetUuid: (l?.refTargetUuid && linkUuidMap.has(l.refTargetUuid)) ? linkUuidMap.get(l.refTargetUuid) : (l.refTargetUuid || ''),
              inheritSourceKeywords: l.inheritSourceKeywords !== false,
              shortcut: l.shortcut || '',
              emoji: l.emoji || '',
              column: 0, 
              index: i,
              editing: false,
              isMouseOver: false
            }));
            debugLog('log', '[SHARE] Adding group:', g.name, 'with', g.links.length, 'links', 'UUID:', g.uuid);
            if (!Array.isArray(this.data.groups)) this.$set(this.data, 'groups', []);
            // Use Vue's reactive method to add the group
            const newIndex = this.data.groups.length;
            this.$set(this.data.groups, newIndex, g);
          } else {
            debugLog('log', '[SHARE] No groups or links to process');
          }
          
          // Final debug: Check if groups are still correct after everything
          debugLog('log', '[SHARE] Final check - all groups:', this.data.groups.map(grp => ({ 
            name: grp.name, 
            uuid: grp.uuid, 
            groupId: grp.groupId,
            shared: grp.shared,
            linksCount: grp.links?.length,
            firstLink: grp.links?.[0]?.text 
          })));
          
          // Debug before saveData
          debugLog('log', '[SHARE] Before saveData - groups:', this.data.groups.map(g => ({
            name: g.name,
            uuid: g.uuid,
            linksCount: g.links?.length,
            firstLink: g.links?.[0]?.text
          })));
          
          this.saveData();
          
          // Debug after saveData
          debugLog('log', '[SHARE] After saveData - groups:', this.data.groups.map(g => ({
            name: g.name,
            uuid: g.uuid,
            linksCount: g.links?.length,
            firstLink: g.links?.[0]?.text
          })));
          
          // Debug before forceUpdate
          debugLog('log', '[SHARE] Before $forceUpdate - groups:', this.data.groups.length);
          
          // CRITICAL FIX: Force Vue to completely re-render by replacing the array
          // This ensures no cached computed properties or stale references persist
          const newGroupsArray = JSON.parse(JSON.stringify(this.data.groups));
          this.$set(this.data, 'groups', newGroupsArray);
          
          // Also force update all Vue internals
          this.$nextTick(() => {
            try { 
              this.$forceUpdate(); 
              
              // Debug after forceUpdate
              debugLog('log', '[SHARE] After $forceUpdate - groups:', this.data.groups.map(grp => ({ 
                name: grp.name, 
                uuid: grp.uuid,
                linksCount: grp.links?.length
              })));
              
              // Final verification after Vue's next tick
              this.$nextTick(() => {
                debugLog('log', '[SHARE] Final verification after next tick:');
                this.data.groups.forEach((g, idx) => {
                  debugLog('log', `  Group ${idx}: ${g.name} (UUID: ${g.uuid}) - Links: ${g.links?.length}, First: ${g.links?.[0]?.text}`);
                });
              });
            } catch(e) {
              debugLog('error', '[SHARE] $forceUpdate failed:', e);
            }
          });
        },
        // ---------- History / Undo-Redo ----------
        undo() {
          if (!this.historyPast.length) return;
          const current = this.getSavableData();
          const snapshot = this.historyPast.pop();
          this.historyFuture.push(current);
          this._applySnapshot(snapshot);
        },
        redo() {
          if (!this.historyFuture.length) return;
          const current = this.getSavableData();
          const snapshot = this.historyFuture.pop();
          this.historyPast.push(current);
          this._applySnapshot(snapshot);
        },
        async _applySnapshot(snap) {
          if (!snap) return;
          this.historyLock = true;
          try {
            const merged = Object.assign({}, JSON.parse(JSON.stringify(initialData)), snap);
            this.data.options = merged.options || this.data.options;
            this.data.groups = Array.isArray(merged.groups) ? merged.groups : [];
            this.fixOptions();
            (this.data.groups || []).forEach(g => {
              if (g.column === undefined || g.column === null) this.$set(g, 'column', 0);
              this.$set(g, 'urlPlaceholders', this.normalizePlaceholderList(g.urlPlaceholders || []));
              this.normalizeGroupLinkedCollapseFields(g);
              this.$set(g, 'editing', false);
              this.$set(g, 'isMouseOver', false);
              if (g.collapsed === undefined) this.$set(g, 'collapsed', false);
              this.$set(g, 'searchCollapsed', true);
              this.$set(g, 'newLinkText', '');
              this.$set(g, 'newLinkUrl', '');
              if (!Array.isArray(g.links)) this.$set(g, 'links', []);
              (g.links || []).forEach(l => {
                if (l.column === undefined || l.column === null) this.$set(l, 'column', 0);
                this.$set(l, 'urlPlaceholders', this.normalizePlaceholderList(l.urlPlaceholders || []));
                if (this.isReferenceLink(l) && l.inheritSourceKeywords === undefined) this.$set(l, 'inheritSourceKeywords', true);
                this.$set(l, 'editing', false);
                this.$set(l, 'isMouseOver', false);
              });
              this.getLinkColumns(g.links).forEach(col => this.reindexArr(g.links.filter(l => l.column === col)));
            });
            this.repairLinkedCollapseGroupAssignments();
            this.getGroupColumns().forEach(col => this.reindexArr(this.data.groups.filter(g => g.column === col)));
            if (typeof this.saveDataImmediate === 'function') await this.saveDataImmediate(); else this.saveData();
          } finally {
            this.historyLock = false;
          }
        },

        // ---------- Bookmarklet ----------
        handleBookmarkletAdd() {
          const p = new URLSearchParams(location.search);
          const url = p.get('add');
          if (!url) return;
          const title = p.get('title') || url;
          const g = (this.data.groups && this.data.groups[0]) || null;
          if (!g) return;
          this.openAddLinkDialog(g);
          this.$nextTick(() => {
            if (this.editLink) {
              this.editLink.url = url;
              this.editLink.text = title;
            }
          });
        },
        showBookmarkletHelp() {
          const hrefNoQuery = (location.href || '').replace(/[?#].*$/, '');
          let base = '';
          if (location.protocol === 'file:') {
            // Use file:/// path when opened from file
            base = hrefNoQuery;
          } else if (location.origin && location.origin !== 'null') {
            base = (location.origin + location.pathname).replace(/[?#].*$/, '');
          } else {
            // Fallback: use full href without query/hash
            base = hrefNoQuery;
          }
          base = base.replace(/[?#].*$/, '');
          // Clipboard-based bookmarklet: copy URL+title to clipboard (fallback prompt on failure)
          const js = "javascript:(async()=>{try{const d={url:location.href,title:document.title};await navigator.clipboard.writeText(JSON.stringify(d));alert('Copied URL + title to clipboard');}catch(e){prompt('Copy URL manually:',location.href)}})()";
          this.bookmarkletHref = js;
          const modalElement = document.getElementById('bookmarkletModal');
          if (!modalElement) return;
          const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
          modalInstance && modalInstance.show();
        },
        openPasteModal() {
          this.pasteContent = '';
          this.pasteHint = '';
          this.parsedLinks = null;
          this.detectedFormat = '';
          this.importGroupTitle = '';
          this.isFullExport = false;
          this.fullExportData = null;
          this.importCollapsedGroups = {}; // Reset collapsed state
          this.importDialogExpandedSections = { file: true, url: true, clipboard: true };
          const modalElement = document.getElementById('pasteClipboardModal');
          if (!modalElement) return;
          const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
          modalInstance && modalInstance.show();
        },
        async readFromClipboard() {
          try {
            const txt = (await navigator.clipboard.readText()) || '';
            if (!txt.trim()) { this.pasteHint = this.getTranslation('clipboard.empty'); return; }
            this.pasteContent = txt.trim();
            this.pasteHint = this.getTranslation('clipboard.readOk');
            this.parsePastedContent();
          } catch (e) {
            debugLog('warn', 'Clipboard read failed', e);
            this.pasteHint = this.getTranslation('clipboard.noPermission');
          }
        },
        
        handleFileUpload(event) {
          const file = event.target.files[0];
          if (!file) return;
          
          const reader = new FileReader();
          reader.onload = (e) => {
            this.pasteContent = e.target.result;
            this.parsePastedContent();
          };
          reader.readAsText(file);
        },
        
        async fetchBrowserBookmarks() {
          this.fetchingBrowserBookmarks = true;
          this.browserBookmarksInfo = '';

          try {
            const bookmarksData = await MB.Extension.getBookmarks();
            debugLog('log', 'Received browser bookmarks:', bookmarksData);

            // Handle the response structure
            let bookmarksRoot;
            if (bookmarksData.success && bookmarksData.bookmarks) {
              bookmarksRoot = bookmarksData.bookmarks;
              // Show stats if available
              if (bookmarksData.stats) {
                debugLog('log', `Extension reports: ${bookmarksData.stats.links} links in ${bookmarksData.stats.folders} folders`);
              }
            } else if (bookmarksData) {
              bookmarksRoot = bookmarksData;
            } else {
              throw new Error('No bookmarks data received from extension');
            }

            debugLog('log', 'Processing bookmark structure:', bookmarksRoot);

            // Convert bookmarks to our format for the textarea
            const links = [];
            let folderCount = 0;
            let linkCount = 0;

            const extractLinks = (node, path = '') => {
              if (!node) return;

              // Handle the flattened structure where groups have both links AND children

              // First, process any links directly in this node
              if (node.links && Array.isArray(node.links) && node.links.length > 0) {
                // Use the node's path if available, otherwise use the title
                const groupPath = node.path || node.title || 'Folder';

                node.links.forEach(link => {
                  if (link.url) {
                    links.push({
                      text: link.text || link.title || link.url,
                      url: link.url,
                      path: groupPath  // Use the full path from the node
                    });
                    linkCount++;
                  }
                });
              }

              // Then process children (which are groups in the flattened structure)
              if (node.children && Array.isArray(node.children)) {
                node.children.forEach(child => {
                  folderCount++;
                  // Recursively process each child group
                  extractLinks(child, '');
                });
              }

              // Handle single link node (backwards compatibility)
              if (node.url && !node.links && !node.children) {
                links.push({
                  text: node.text || node.title || node.url,
                  url: node.url,
                  path: path
                });
                linkCount++;
              }
            };

            // Extract all links
            if (Array.isArray(bookmarksRoot)) {
              bookmarksRoot.forEach(node => extractLinks(node));
            } else {
              extractLinks(bookmarksRoot);
            }

            // Format as tab-separated for the textarea
            if (links.length > 0) {
              const formattedLinks = links.map(link => {
                // Include path info as comment if available
                const prefix = link.path ? `[${link.path}] ` : '';
                return `${prefix}${link.text}\t${link.url}`;
              }).join('\n');

              this.pasteContent = formattedLinks;
              this.parsePastedContent();

              // Show info about what was found
              this.browserBookmarksInfo = `Found ${linkCount} bookmarks in ${folderCount} folders`;
            } else {
              this.browserBookmarksInfo = 'No bookmarks found in browser';
            }

          } catch (error) {
            debugLog('error', 'Failed to fetch browser bookmarks:', error);
            this.browserBookmarksInfo = `Error: ${error.message}`;
          } finally {
            this.fetchingBrowserBookmarks = false;
          }
        },

        async fetchFromUrl() {
          if (!this.importUrl) return;

          this.fetchingUrl = true;
          this.urlFetchError = '';

          try {
            // Check if extension is available for secure fetching
            if (this.extensionAvailable) {
              debugLog('log', 'Using extension to fetch URL for import:', this.importUrl);

              // Request full HTML content and extracted links
              const metadata = await MB.Extension.fetchMetadata(this.importUrl, {
                includeHtml: true
              });

              // Check if this is a JSON endpoint or HTML page
              if (this.importUrl.endsWith('.json')) {
                // Try to parse the HTML as JSON (some servers return JSON with HTML content-type)
                try {
                  const jsonData = JSON.parse(metadata.html);
                  this.pasteContent = JSON.stringify(jsonData, null, 2);
                } catch {
                  // Not valid JSON, put the full HTML in the textarea for parsing
                  this.pasteContent = metadata.html;
                }
              } else {
                // HTML page - put the FULL HTML CONTENT in the textarea
                // The parsePastedContent function will extract links from it
                if (metadata.html) {
                  debugLog('log', `Got HTML content (${metadata.html.length} chars), letting parsePastedContent extract links`);
                  this.pasteContent = metadata.html;
                } else if (metadata.links && metadata.links.length > 0) {
                  // Fallback if no HTML but we have extracted links
                  debugLog('log', `No HTML but found ${metadata.links.length} pre-extracted links`);
                  const linkList = metadata.links.map(link => `${link.text || link.url}\t${link.url}`).join('\n');
                  this.pasteContent = linkList;
                } else {
                  // No content at all, create single link to the page
                  debugLog('warn', 'No HTML content or links found, creating single link');
                  this.pasteContent = `${metadata.title || this.importUrl}\t${this.importUrl}`;
                }
              }
              this.parsePastedContent();
            } else {
              // Extension not available - try direct fetch (will likely fail due to CORS)
              const response = await fetch(this.importUrl);

              if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
              }

              const contentType = response.headers.get('content-type');
              let content = '';

              if (contentType && contentType.includes('application/json')) {
                const data = await response.json();
                content = JSON.stringify(data, null, 2);
              } else {
                content = await response.text();
              }

              this.pasteContent = content;
              this.parsePastedContent();
            }

          } catch (error) {
            debugLog('error', 'Failed to fetch from URL:', error);

            // Provide helpful error messages
            if (!this.extensionAvailable) {
              this.urlFetchError = this.getTranslation('import.extensionRequired') ||
                'Browser extension required for fetching URLs. Please install the MyBookmarks extension or use file upload.';
            } else if (error.message.includes('Extension needs enhancement')) {
              this.urlFetchError = error.message;
            } else if (error.message === 'Failed to fetch' || error.name === 'TypeError') {
              this.urlFetchError = this.getTranslation('import.corsError') ||
                'Cannot fetch due to CORS policy. Try using the browser extension or download the file locally.';
            } else {
              this.urlFetchError = this.getTranslation('import.fetchError') ||
                `Failed to fetch: ${error.message}`;
            }
          } finally {
            this.fetchingUrl = false;
          }
        },
        
        parsePastedContent() {
          const txt = (this.pasteContent || '').trim();
          if (!txt) {
            this.parsedLinks = null;
            this.detectedFormat = '';
            this.isFullExport = false;
            return;
          }

          // Try to detect and parse format
          let links = [];
          this.isFullExport = false;
          this.parsedGroups = null; // Reset parsed groups

          // 1. First check if it's HTML content (most flexible parser)
          const hasHtmlTags = /<[a-z][\s\S]*>/i.test(txt);
          const hasLinks = /<a\s+[^>]*href[\s]*=/i.test(txt);
          const isLikelyHtml = hasHtmlTags || txt.includes('<!DOCTYPE') || txt.includes('<html');

          if (isLikelyHtml && hasLinks) {
            try {
              const htmlParser = new HTMLBookmarkParser({
                minLinksForGroup: 2,
                extractMetadata: true,
                extractKeywords: true,
                inferGroupNames: true
              });

              const parsedGroups = htmlParser.parse(txt);

              if (parsedGroups && parsedGroups.length > 0) {
                // Successfully parsed with groups
                let totalLinks = 0;
                parsedGroups.forEach(group => {
                  if (group.links && group.links.length > 0) {
                    totalLinks += group.links.length;
                    group.links.forEach(link => {
                      links.push({
                        text: link.text || link.url || 'Link',
                        url: link.url,
                        keywords: link.keywords || '',
                        groupName: group.name || 'Imported',
                        selected: true
                      });
                    });
                  }
                });

                if (totalLinks > 0) {
                  // Found links with groups
                  this.detectedFormat = parsedGroups.length > 1 ?
                    `HTML (${parsedGroups.length} groups, ${totalLinks} links)` :
                    `HTML (${totalLinks} links)`;
                  this.parsedGroups = parsedGroups;
                  debugLog('log', `[Import] HTMLBookmarkParser found ${parsedGroups.length} groups with ${totalLinks} links`);
                }
              }
            } catch (e) {
              debugLog('error', '[Import] HTMLBookmarkParser failed:', e);
              // Will fall through to other parsers
            }
          }

          // 2. If no HTML links found, try JSON (more structured)
          if (links.length === 0) {
            try {
            const data = JSON.parse(txt);
            if (Array.isArray(data)) {
              // JSON Array
              this.detectedFormat = 'JSON Array';
              links = data.map(item => ({
                url: item.url || item.href || item.link || '',
                text: item.text || item.title || item.name || '',
                keywords: item.keywords || item.tags || '',
                selected: true
              })).filter(l => l.url);
            } else if (data && typeof data === 'object') {
              // Single JSON Object
              this.detectedFormat = 'JSON Object';
              if (data.url || data.href || data.link) {
                links = [{
                  url: data.url || data.href || data.link,
                  text: data.text || data.title || data.name || '',
                  keywords: data.keywords || data.tags || '',
                  selected: true
                }];
              } else if (data.groups && Array.isArray(data.groups)) {
                // Check if it's a full export with settings
                if (data.options || data.identity || data.contacts || data.snapshots) {
                  this.detectedFormat = 'Full Bookmarks Export (with Settings)';
                  this.isFullExport = true;
                  this.fullExportData = data;
                } else {
                  this.detectedFormat = 'Bookmarks Export (Groups only)';
                }
                
                data.groups.forEach(group => {
                  if (group.links && Array.isArray(group.links)) {
                    group.links.forEach(link => {
                      if (!link.deleted) {
                        links.push({
                          url: link.url || '',
                          text: link.text || '',
                          keywords: link.keywords || '',
                          groupName: group.name,
                          selected: true
                        });
                      }
                    });
                  }
                });
              }
            }
          } catch (e) {
            // Not JSON, try other formats
          }
          
          // Try CSV if no JSON found (supports auto/manual separator and quoted fields)
          if (links.length === 0) {
            const csvResult = this.parseCsvLinks(txt);
            if (csvResult && csvResult.links.length > 0) {
              const delimiterLabel = csvResult.delimiter === '\t' ? '\\t' : csvResult.delimiter;
              this.detectedFormat = `CSV (${delimiterLabel})`;
              links = csvResult.links;
            }
          }
          }
          
          // Try tab-separated format (text\turl per line)
          if (links.length === 0) {
            const lines = txt.split('\n').filter(line => line.trim());
            const tabSeparatedLinks = [];

            for (const line of lines) {
              if (line.includes('\t')) {
                const parts = line.split('\t');
                if (parts.length >= 2) {
                  const url = parts[parts.length - 1].trim(); // Last part is URL
                  let text = parts.slice(0, -1).join('\t').trim(); // Everything else is text

                  // Extract folder path from text if present [Folder / Subfolder] Title or [Folder > Subfolder] Title
                  let groupName = '';
                  const pathMatch = text.match(/^\[([^\]]+)\]\s*(.*)$/);
                  if (pathMatch) {
                    const path = pathMatch[1];
                    text = pathMatch[2] || text;
                    // Use the full path as group name for hierarchical display
                    // Support both ' / ' and ' > ' as separators
                    groupName = path.trim();
                  }

                  // Validate URL
                  if (url && (url.startsWith('http://') || url.startsWith('https://') || url.includes('.'))) {
                    tabSeparatedLinks.push({
                      url: MB.Utils.ensureProtocol(url),
                      text: text || url,
                      keywords: '',
                      groupName: groupName,
                      selected: true
                    });
                  }
                }
              }
            }

            if (tabSeparatedLinks.length > 0) {
              this.detectedFormat = 'Tab-separated (text  URL)';
              links = tabSeparatedLinks;
              debugLog('log', `Parsed ${links.length} links from tab-separated format`);
            }
          }

          // Try plain URLs as last resort
          if (links.length === 0) {
            const urlRegex = /https?:\/\/[^\s]+/gi;
            const matches = txt.match(urlRegex);
            if (matches && matches.length > 0) {
              this.detectedFormat = 'Plain URLs';
              links = matches.map(url => ({
                url: url,
                text: '',
                keywords: '',
                selected: true
              }));
            }
          }
          
          this.parsedLinks = links.length > 0 ? links : null;
          if (!this.parsedLinks) {
            this.detectedFormat = '';
            this.pasteHint = this.getTranslation('clipboard.noLinksFound') || 'No valid links found';
          } else {
            this.pasteHint = '';
          }
        },

        getCsvSeparatorCharacter() {
          const raw = (this.importCsvSeparator || '').trim();
          if (!raw) return '';
          const normalized = raw.toLowerCase();
          if (normalized === '\\t' || normalized === 'tab') return '\t';
          return raw[0];
        },

        countDelimiterOutsideQuotes(line, delimiter) {
          if (!line || !delimiter) return 0;
          let inQuotes = false;
          let count = 0;
          for (let i = 0; i < line.length; i++) {
            const ch = line[i];
            if (ch === '"') {
              if (inQuotes && line[i + 1] === '"') {
                i++;
                continue;
              }
              inQuotes = !inQuotes;
              continue;
            }
            if (!inQuotes && ch === delimiter) {
              count++;
            }
          }
          return count;
        },

        detectCsvDelimiter(text) {
          const manual = this.getCsvSeparatorCharacter();
          if (manual) return manual;

          const lines = (text || '')
            .replace(/\r\n/g, '\n')
            .split('\n')
            .filter(line => line.trim())
            .slice(0, 25);
          if (lines.length === 0) return '';

          const candidates = [';', ',', '|'];
          let bestDelimiter = '';
          let bestScore = -1;

          candidates.forEach(delimiter => {
            let totalSeparators = 0;
            let linesWithSeparators = 0;
            lines.forEach(line => {
              const count = this.countDelimiterOutsideQuotes(line, delimiter);
              totalSeparators += count;
              if (count > 0) linesWithSeparators++;
            });
            const score = (linesWithSeparators * 10) + totalSeparators;
            if (score > bestScore) {
              bestScore = score;
              bestDelimiter = delimiter;
            }
          });

          return bestScore > 0 ? bestDelimiter : '';
        },

        parseCsvRows(text, delimiter) {
          if (!text || !delimiter) return [];
          const normalizedText = String(text).replace(/\r\n/g, '\n').replace(/\r/g, '\n');
          const rows = [];
          let row = [];
          let field = '';
          let inQuotes = false;

          for (let i = 0; i < normalizedText.length; i++) {
            const ch = normalizedText[i];

            if (ch === '"') {
              if (inQuotes && normalizedText[i + 1] === '"') {
                field += '"';
                i++;
              } else {
                inQuotes = !inQuotes;
              }
              continue;
            }

            if (!inQuotes && ch === delimiter) {
              row.push(field.trim());
              field = '';
              continue;
            }

            if (!inQuotes && ch === '\n') {
              row.push(field.trim());
              if (row.some(cell => cell !== '')) {
                rows.push(row);
              }
              row = [];
              field = '';
              continue;
            }

            field += ch;
          }

          row.push(field.trim());
          if (row.some(cell => cell !== '')) {
            rows.push(row);
          }

          return rows;
        },

        isProbablyUrl(value) {
          const v = String(value || '').trim();
          if (!v) return false;
          if (/^javascript:/i.test(v)) return false;
          if (/^(https?:\/\/|ftp:\/\/|mailto:|www\.)/i.test(v)) return true;
          return /^[a-z0-9][a-z0-9-]*\.[a-z]{2,}(\/|$)/i.test(v) && !/\s/.test(v);
        },

        normalizeImportedUrl(value) {
          const raw = String(value || '').trim().replace(/^["']|["']$/g, '');
          if (!raw || /^javascript:/i.test(raw)) return '';

          let normalized = raw;
          if (!/^[a-z][a-z0-9+.-]*:/i.test(normalized)) {
            normalized = MB.Utils.ensureProtocol(normalized);
          }

          if (!/^(https?:\/\/|ftp:\/\/|mailto:)/i.test(normalized)) return '';

          try {
            new URL(normalized);
            return normalized;
          } catch (e) {
            return '';
          }
        },

        parseCsvLinks(text) {
          const delimiter = this.detectCsvDelimiter(text);
          if (!delimiter) return null;

          const rows = this.parseCsvRows(text, delimiter);
          if (!rows.length) return null;

          const maxColumns = Math.max(...rows.map(row => row.length));
          if (!maxColumns) return null;

          const normalizeHeader = (value) => String(value || '')
            .replace(/^\ufeff/, '')
            .toLowerCase()
            .trim()
            .replace(/[\s._-]+/g, '');
          const urlHeaderTokens = ['url', 'link', 'href', 'uri', 'website', 'webseite', 'adresse'];
          const titleHeaderTokens = ['title', 'titel', 'name', 'text', 'label', 'bezeichnung', 'beschreibung'];
          const keywordHeaderTokens = ['keywords', 'keyword', 'tags', 'tag', 'schlagwoerter', 'schlagworte', 'schlagwrter'];

          const headerRow = rows[0] || [];
          const findHeaderColumn = (tokens) => {
            for (let i = 0; i < maxColumns; i++) {
              const normalized = normalizeHeader(headerRow[i] || '');
              if (!normalized) continue;
              if (tokens.some(token => normalized === token || normalized.includes(token))) {
                return i;
              }
            }
            return -1;
          };

          let urlColumn = findHeaderColumn(urlHeaderTokens);
          let titleColumn = findHeaderColumn(titleHeaderTokens);
          const keywordsColumn = findHeaderColumn(keywordHeaderTokens);
          const hasKnownHeader = urlColumn >= 0 || titleColumn >= 0 || keywordsColumn >= 0;
          let startRow = hasKnownHeader ? 1 : 0;

          const findBestUrlColumn = (fromRow) => {
            let bestColumn = -1;
            let bestScore = -1;
            const maxRow = Math.min(rows.length, fromRow + 50);
            for (let col = 0; col < maxColumns; col++) {
              let score = 0;
              for (let i = fromRow; i < maxRow; i++) {
                const cell = String((rows[i] && rows[i][col]) || '').trim();
                if (!cell) continue;
                if (this.isProbablyUrl(cell)) {
                  score += 2;
                } else if (/^[a-z0-9.-]+\.[a-z]{2,}(\/|$)/i.test(cell) && !/\s/.test(cell)) {
                  score += 1;
                }
              }
              if (score > bestScore) {
                bestScore = score;
                bestColumn = col;
              }
            }
            return { bestColumn, bestScore };
          };

          if (urlColumn < 0) {
            const scanFromCurrentStart = findBestUrlColumn(startRow);
            const scanFromSecondRow = (!hasKnownHeader && rows.length > 1) ? findBestUrlColumn(1) : scanFromCurrentStart;
            const firstRowHasUrl = (rows[0] || []).some(cell => this.isProbablyUrl(cell));

            if (!hasKnownHeader && !firstRowHasUrl && scanFromSecondRow.bestScore > scanFromCurrentStart.bestScore) {
              startRow = 1;
            }

            const scan = startRow === 1 ? scanFromSecondRow : scanFromCurrentStart;
            if (scan.bestScore <= 0) return null;
            urlColumn = scan.bestColumn;
          }

          if (titleColumn < 0) {
            let bestTitleColumn = -1;
            let bestTitleScore = -1;
            const maxRow = Math.min(rows.length, startRow + 50);
            for (let col = 0; col < maxColumns; col++) {
              if (col === urlColumn) continue;
              let score = 0;
              for (let i = startRow; i < maxRow; i++) {
                const cell = String((rows[i] && rows[i][col]) || '').trim();
                if (!cell) continue;
                if (this.isProbablyUrl(cell)) {
                  score -= 2;
                } else {
                  score += 1;
                }
              }
              if (score > bestTitleScore) {
                bestTitleScore = score;
                bestTitleColumn = col;
              }
            }
            if (bestTitleScore > 0) {
              titleColumn = bestTitleColumn;
            }
          }

          const parsedLinks = [];
          for (let i = startRow; i < rows.length; i++) {
            const row = rows[i] || [];
            let rawUrl = String(row[urlColumn] || '').trim();

            if (!this.isProbablyUrl(rawUrl)) {
              const fallbackUrl = row.find(cell => this.isProbablyUrl(cell));
              if (fallbackUrl) rawUrl = String(fallbackUrl).trim();
            }

            const normalizedUrl = this.normalizeImportedUrl(rawUrl);
            if (!normalizedUrl) continue;

            let title = '';
            if (titleColumn >= 0 && titleColumn !== urlColumn) {
              title = String(row[titleColumn] || '').trim();
            }
            if (!title) {
              const fallbackTitle = row.find((cell, colIdx) =>
                colIdx !== urlColumn && cell && !this.isProbablyUrl(cell)
              );
              title = String(fallbackTitle || '').trim();
            }

            let keywords = '';
            if (keywordsColumn >= 0 && keywordsColumn !== urlColumn) {
              keywords = String(row[keywordsColumn] || '').trim();
            }

            parsedLinks.push({
              url: normalizedUrl,
              text: title,
              keywords,
              selected: true
            });
          }

          if (!parsedLinks.length) return null;

          return {
            links: parsedLinks,
            delimiter,
            urlColumn,
            titleColumn,
            startRow
          };
        },
        
        selectAllLinks() {
          if (this.parsedLinks) {
            this.parsedLinks.forEach(link => { link.selected = true; });
          }
        },
        
        deselectAllLinks() {
          if (this.parsedLinks) {
            this.parsedLinks.forEach(link => { link.selected = false; });
          }
        },
        
        getImportGroups() {
          if (!this.parsedLinks) return [];
          const groups = new Set();
          this.parsedLinks.forEach(link => {
            if (link.groupName) {
              groups.add(link.groupName);
            }
          });
          return Array.from(groups).sort();
        },

        getUniqueGroupNames() {
          if (!this.parsedLinks) return [];
          const groups = new Set();
          // Add empty string first for ungrouped links
          groups.add('');
          this.parsedLinks.forEach(link => {
            if (link.groupName) {
              groups.add(link.groupName);
            }
          });
          // Sort with empty string first, then alphabetically
          return Array.from(groups).sort((a, b) => {
            if (a === '') return -1;
            if (b === '') return 1;
            return a.localeCompare(b);
          });
        },

        getLinksForGroup(groupName) {
          if (!this.parsedLinks) return [];
          return this.parsedLinks.filter(link => (link.groupName || '') === groupName);
        },

        isImportDialogSectionExpanded(sectionKey) {
          if (this.importDialogExpandedSections[sectionKey] === undefined) {
            this.$set(this.importDialogExpandedSections, sectionKey, true);
          }
          return this.importDialogExpandedSections[sectionKey];
        },

        toggleImportDialogSection(sectionKey) {
          this.$set(this.importDialogExpandedSections, sectionKey, !this.isImportDialogSectionExpanded(sectionKey));
        },

        resetImportDialog() {
          // Clear all import-related data to free up memory
          // This is especially important for large link collections
          this.pasteContent = '';
          this.parsedLinks = null;
          this.parsedGroups = null;
          this.detectedFormat = '';
          this.isFullExport = false;
          this.fullExportData = null;
          this.pasteHint = '';
          this.importUrl = '';
          this.fetchingUrl = false;
          this.fetchMessage = '';
          this.browserBookmarks = null;
          this.selectedBookmarkFolders = [];
          this.importGroupTitle = '';
          this.importCollapsedGroups = {};
          this.importDialogExpandedSections = { file: true, url: true, clipboard: true };

          // Clear file input if exists
          if (this.$refs.fileInput) {
            this.$refs.fileInput.value = '';
          }

          debugLog('log', '[Import] Dialog reset - memory cleared');
        },

        isGroupSelected(groupName) {
          const links = this.getLinksForGroup(groupName);
          if (links.length === 0) return false;
          return links.every(link => link.selected);
        },

        toggleGroupSelection(groupName) {
          const links = this.getLinksForGroup(groupName);
          if (links.length === 0) return;

          const allSelected = links.every(link => link.selected);
          links.forEach(link => {
            link.selected = !allSelected;
          });
        },

        isImportGroupCollapsed(groupName) {
          return this.importCollapsedGroups[groupName] || false;
        },

        toggleImportGroupCollapse(groupName) {
          this.$set(this.importCollapsedGroups, groupName, !this.importCollapsedGroups[groupName]);
        },

        getGroupDisplayName(groupName) {
          // For browser bookmarks, show only the last part of the path as the main title
          if (groupName && groupName.includes(' / ')) {
            const parts = groupName.split(' / ');
            return parts[parts.length - 1];
          }
          return groupName || 'Unsorted';
        },

        getGroupFullPath(groupName) {
          // Show the full path only if it's a multi-level path (from browser bookmarks)
          if (groupName && groupName.includes(' / ')) {
            return groupName;
          }
          return ''; // Don't show path for single-level groups
        },
        
        getDefaultImportGroupTitle() {
          const now = new Date();
          const dateStr = moment(now).format('L'); // Localized date format
          const timeStr = moment(now).format('LT'); // Localized time format
          return `${this.getTranslation('import.defaultGroupTitle') || 'Import'} ${dateStr} ${timeStr}`;
        },
        
	        confirmPasteAdd() {
	          // Handle full export with settings - treat as database restore
	          if (this.isFullExport && this.fullExportData) {
	            this.maybeShowBackupReminder('before-import');
	            const confirmMsg = this.getTranslation('import.fullExportConfirm') || 
	                             'This will REPLACE your entire database (groups, settings, contacts, etc.).\n\n' +
                             'This is a restore operation - all UUIDs will be preserved.\n\n' +
                             'Continue?';
            
            if (confirm(confirmMsg)) {
              // Full database restore - preserve all UUIDs
		              try {
		                // Create backup snapshot before restore
		                const backup = this.getSavableData();
		                const preRestoreSnapshot = {
		                  id: this.generateUUID(),
		                  name: 'Before Full Import Restore',
		                  createdAt: Date.now(),
		                  payload: backup
		                };
		                if (!this.data.snapshots) this.data.snapshots = [];
		                this.data.snapshots.unshift(preRestoreSnapshot);
		                if (this.data.snapshots.length > 20) this.data.snapshots.length = 20;
			                this.recordBackupCreated('before-full-import-restore');
		                this.markSnapshotCreatedForAutomaticTracking(Date.now(), 'before-full-import-restore');
			                
			                // Complete database restore - preserve all UUIDs exactly as they are
                if (this.fullExportData.options) this.data.options = this.fullExportData.options;
                if (this.fullExportData.identity) this.data.identity = this.fullExportData.identity;
                if (this.fullExportData.contacts) this.data.contacts = this.fullExportData.contacts;
                if (this.fullExportData.snapshots) this.data.snapshots = this.fullExportData.snapshots;
	                if (!Array.isArray(this.data.snapshots)) this.data.snapshots = [];
	                this.data.snapshots.unshift(preRestoreSnapshot);
	                if (this.data.snapshots.length > 20) this.data.snapshots.length = 20;
                if (this.fullExportData.inbox) this.data.inbox = this.fullExportData.inbox;
                if (this.fullExportData.pendingNcDeletes) this.data.pendingNcDeletes = this.fullExportData.pendingNcDeletes;
                if (this.fullExportData.schemaVersion) this.data.schemaVersion = this.fullExportData.schemaVersion;
                
                // Restore groups with preserved UUIDs
                if (this.fullExportData.groups) {
                  this.data.groups = this.fullExportData.groups.map(g => ({
                    ...g,
                    // Preserve the UUID from the export - this is a restore operation
                    uuid: g.uuid, // Keep original UUID, don't generate new one
                    editing: false,
                    isMouseOver: false,
                    newLinkText: '',
                    newLinkUrl: '',
                    collapsed: this.data.options?.groups?.collapseGroupsOnStart || false,
                    searchCollapsed: true,
                    links: (g.links || []).map(l => ({
                      ...l,
                      // Preserve the UUID from the export - this is a restore operation
                      uuid: l.uuid, // Keep original UUID, don't generate new one
                      shortcut: l.shortcut || '',
                      editing: false,
                      isMouseOver: false
                    }))
                  }));
                }
                
                // Restore idSequence if present
                if (this.fullExportData.idSequence) {
                  this.data.idSequence = this.fullExportData.idSequence;
                }
                // Re-apply options defaults/migrations and restore Visual CSS editor state
                this.fixOptions();
                this.loadVisualCssRules();
                this.loadCustomRuleSets();
                this.loadCollapsedRules();
                this.loadDesignTokensCollapsed();
                this.applyVisualCssSidebarPreferences();

                this.saveData();
                this.updateSettings();
                
                // Close modal and refresh
                const modalElement = document.getElementById('pasteClipboardModal');
                const modalInstance = modalElement ? bootstrap.Modal.getInstance(modalElement) : null;
                modalInstance && modalInstance.hide();
                // Note: resetImportDialog() will be called automatically by the modal hidden event listener
                this.detectedFormat = '';
                this.isFullExport = false;
                this.fullExportData = null;
                return;
              } catch (error) {
                debugLog('error', 'Database restore failed:', error);
                alert(this.getTranslation('import.fullExportError') || 'Database restore failed. Check console for details.');
                return;
              }
            }
          }
          
          // Normal import - just add selected links
          if (!this.parsedLinks || this.parsedLinks.length === 0) {
            alert(this.getTranslation('clipboard.noLinksFound') || 'No links to import');
            return;
          }
          
          const selectedLinks = this.parsedLinks.filter(l => l.selected);
	          if (selectedLinks.length === 0) {
	            alert(this.getTranslation('clipboard.noSelection') || 'Please select at least one link');
	            return;
	          }
	          this.maybeShowBackupReminder('before-import');
	          
	          // Group links by their groupName if available
          const linksByGroup = {};
          const noGroupLinks = [];
          
          selectedLinks.forEach(link => {
            if (link.groupName) {
              if (!linksByGroup[link.groupName]) {
                linksByGroup[link.groupName] = [];
              }
              linksByGroup[link.groupName].push(link);
            } else {
              noGroupLinks.push(link);
            }
          });
          
          // Process links with groupName - create groups as needed
          Object.entries(linksByGroup).forEach(([groupName, links]) => {
            // Check if group already exists
            let group = this.data.groups.find(g => g.name === groupName);
            
            if (!group) {
              // Create new group
              group = this.getNewGroupTemplate(groupName);
              // Apply default colors from settings
              group.color = this.data.options?.groups?.defaultGroupFormatting || '';
              group.titleFormatting = this.data.options?.groups?.defaultGroupTitleFormatting || '';
              group.linkFormatting = this.data.options?.groups?.defaultGroupLinkFormatting || '';
              
              // Find the column with the fewest groups
              const columns = this.getGroupColumns();
              let targetColumn = 0;
              if (columns.length > 0) {
                const groupsPerColumn = {};
                columns.forEach(col => groupsPerColumn[col] = 0);
                this.data.groups.forEach(g => {
                  if (groupsPerColumn[g.column] !== undefined) {
                    groupsPerColumn[g.column]++;
                  }
                });
                targetColumn = Object.keys(groupsPerColumn).reduce((a, b) => 
                  groupsPerColumn[a] <= groupsPerColumn[b] ? a : b
                );
              }
              group.column = parseInt(targetColumn);
              group.index = this.data.groups.length;
              if (!this.data.groups) this.data.groups = [];
              this.data.groups.push(group);
            }
            
            // Add links to the group
            links.forEach(link => {
              const newLink = {
                uuid: this.generateUUID(),
                url: link.url || '',
                text: link.text || '',
                urlPlaceholders: [],
                keywords: link.keywords || '',
                shortcut: '',
                column: 0,
                index: group.links ? group.links.length : 0,
                editing: false,
                isMouseOver: false
              };
              if (!group.links) group.links = [];
              group.links.push(newLink);
            });
          });
          
          // Process links without groupName
          if (noGroupLinks.length > 0) {
            let g = null;
            
            // Use specified title or generate default with date
            const groupTitle = this.importGroupTitle && this.importGroupTitle.trim() 
              ? this.importGroupTitle.trim() 
              : this.getDefaultImportGroupTitle();
            
            // Create new group with title
            const newGroup = this.getNewGroupTemplate(groupTitle);
            // Apply default colors from settings
            newGroup.color = this.data.options?.groups?.defaultGroupFormatting || '';
            newGroup.titleFormatting = this.data.options?.groups?.defaultGroupTitleFormatting || '';
            newGroup.linkFormatting = this.data.options?.groups?.defaultGroupLinkFormatting || '';
            newGroup.badgeFormatting = this.data.options?.groups?.defaultGroupBadgeFormatting || '';
            newGroup.pillFormatting = this.data.options?.groups?.defaultGroupPillFormatting || '';
            newGroup.pillColor = '';
            // Find the column with the fewest groups
            const columns = this.getGroupColumns();
            let targetColumn = 0;
            if (columns.length > 0) {
              const groupsPerColumn = {};
              columns.forEach(col => groupsPerColumn[col] = 0);
              this.data.groups.forEach(group => {
                if (groupsPerColumn[group.column] !== undefined) {
                  groupsPerColumn[group.column]++;
                }
              });
              targetColumn = Object.keys(groupsPerColumn).reduce((a, b) => 
                groupsPerColumn[a] <= groupsPerColumn[b] ? a : b
              );
            }
            newGroup.column = parseInt(targetColumn);
            newGroup.index = this.data.groups.length;
            if (!this.data.groups) this.data.groups = [];
            this.data.groups.push(newGroup);
            g = newGroup;
            
            if (!g) { 
              alert('No group available'); 
              return; 
            }
            
            // Add all no-group links to the selected group
            noGroupLinks.forEach(link => {
              const newLink = {
                uuid: this.generateUUID(),
                url: link.url || '',
                text: link.text || '',
                urlPlaceholders: [],
                keywords: link.keywords || '',
                shortcut: '',
                column: 0,
                index: g.links ? g.links.length : 0,
                editing: false,
                isMouseOver: false
              };
              if (!g.links) g.links = [];
              g.links.push(newLink);
            });
          }
          
          this.saveData();
          
          // Close modal
          const modalElement = document.getElementById('pasteClipboardModal');
          const modalInstance = modalElement ? bootstrap.Modal.getInstance(modalElement) : null;
          modalInstance && modalInstance.hide();

          // Note: resetImportDialog() will be called automatically by the modal hidden event listener
        },

        // ---------- Smart Sync for Shared Groups ----------
        
        initSmartSync() {
          // Initialize smart sync for shared groups
          if (!this.data.syncState) {
            this.$set(this.data, 'syncState', {});
          }
          
          debugLog('log', '[SMART-SYNC] Initializing sync for shared groups');
          
          // Check for updates on startup for all shared groups
          // This ensures offline members get updates when they come online
          this.data.groups.forEach(group => {
            if (group.shared && group.groupId) {
              // Schedule sync for all shared groups (both owners and members)
              // Members need updates from when they were offline
              // Owners might need to provide updates to members coming online
              const delay = Math.random() * 10000; // Random delay up to 10 seconds
              debugLog('log', `[SMART-SYNC] Scheduling initial sync for ${group.name} in ${Math.round(delay/1000)}s`);
              this.scheduleGroupSync(group, delay);
            }
          });
        },
        
        scheduleGroupSync(group, delayMs = Math.random() * 5000) {
          // Stagger sync requests to avoid thundering herd
          setTimeout(() => {
            this.requestSmartSync(group);
          }, delayMs);
        },
        
        async requestSmartSync(group) {
          if (!group.shared || !group.groupId) {
            debugLog('log', '[SMART-SYNC] Skipping non-shared group');
            return;
          }
          
          // Ensure syncState exists
          if (!this.data.syncState) {
            this.$set(this.data, 'syncState', {});
          }
          
          const syncStateKey = group.groupId || group.id;
          const syncState = this.data.syncState[syncStateKey] || {};
          const now = Date.now();
          
          // Don't sync too frequently (max once per minute)
          if (syncState.lastSyncAttempt && (now - syncState.lastSyncAttempt) < CONSTS.MINUTE_MS) {
            const remaining = Math.ceil((CONSTS.MINUTE_MS - (now - syncState.lastSyncAttempt)) / 1000);
            debugLog('log', `[SMART-SYNC] Too soon to sync ${group.name}, wait ${remaining}s`);
            return;
          }
          
          // Update sync attempt time
          this.$set(this.data.syncState, syncStateKey, {
            ...syncState,
            lastSyncAttempt: now
          });
          
          // Calculate our version
          const myVersion = group.version || (group.links?.length || 0);
          
          debugLog('log', '[SMART-SYNC] Requesting sync for group', {
            name: group.name,
            groupId: group.groupId,
            myVersion,
            members: group.sharedWith?.length
          });
          
          // Phase 1: Send version check request (lightweight)
          const versionCheckRequest = {
            type: 'sync-version-check',
            groupId: group.groupId,
            myVersion: myVersion,
            requestId: this.generateUUID(),
            from: { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' },
            timestamp: now
          };
          
          // Store request for response matching
          this.pendingSyncRequests = this.pendingSyncRequests || {};
          this.pendingSyncRequests[versionCheckRequest.requestId] = {
            group: group,
            responses: [],
            timeout: setTimeout(() => {
              this.processSyncResponses(versionCheckRequest.requestId);
            }, 3000) // Wait 3 seconds for responses
          };
          
          // Send to all group members via group channel
          if (window.sharing) {
            await window.sharing.sendToGroup(group, versionCheckRequest);
          }
        },
        
        async handleSyncVersionCheck(message, fromMember) {
          // Find group by groupId (shared groups use groupId, not id)
          const group = this.data.groups.find(g => g.groupId === message.groupId);
          if (!group || !group.shared) {
            debugLog('log', '[SMART-SYNC] Group not found or not shared', message.groupId);
            return;
          }
          
          // Calculate version from links count/modification
          const version = group.version || (group.links?.length || 0);
          
          debugLog('log', '[SMART-SYNC] Responding to version check', { 
            groupId: group.groupId, 
            myVersion: version,
            fromMember 
          });
          
          // Respond with our version info
          const response = {
            type: 'sync-version-response',
            requestId: message.requestId,
            groupId: message.groupId,
            myVersion: version,
            memberCount: group.sharedWith?.length || 0,
            uuid: this.data.identity?.uuid,
            from: { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' },
            timestamp: Date.now()
          };
          
          // Send response via group channel (more reliable than direct member channel)
          if (window.sharing) {
            await window.sharing.sendToGroup(group, response);
          }
        },
        
        handleSyncVersionResponse(message) {
          const pending = this.pendingSyncRequests?.[message.requestId];
          if (!pending) return;
          
          pending.responses.push(message);
        },
        
        processSyncResponses(requestId) {
          const pending = this.pendingSyncRequests?.[requestId];
          if (!pending) return;
          
          clearTimeout(pending.timeout);
          delete this.pendingSyncRequests[requestId];
          
          const group = pending.group;
          const responses = pending.responses;
          
          if (responses.length === 0) {
            // No responses - we might be the only one online
            debugLog('log', '[SYNC] No responses for group', group.name);
            return;
          }
          
          // Find the newest version
          const newestVersion = Math.max(
            group.version || 0,
            ...responses.map(r => r.myVersion || 0)
          );
          
          if (newestVersion <= (group.version || 0)) {
            // We already have the newest version
            debugLog('log', '[SYNC] Already have newest version for group', group.name);
            return;
          }
          
          // We need an update - determine who should send it
          const updatedMembers = responses.filter(r => r.myVersion === newestVersion);
          
          // Leader election: Member with newest version and lowest UUID sends
          updatedMembers.sort((a, b) => (a.uuid || '').localeCompare(b.uuid || ''));
          const designatedSender = updatedMembers[0];
          
          // Prepare fallback members (next 2 members with newest version)
          const fallbackMembers = updatedMembers.slice(1, 3).map(m => m.uuid);
          
          // Request full update from designated sender with fallbacks
          this.requestFullUpdate(group, designatedSender.uuid, fallbackMembers);
        },
        
        async requestFullUpdate(group, fromMemberUuid, fallbackMembers = []) {
          const request = {
            type: 'sync-request-full',
            groupId: group.id,
            requestId: this.generateUUID(),
            toMember: fromMemberUuid
          };
          
          // Store fallback info for timeout handling
          this.pendingUpdateRequests = this.pendingUpdateRequests || {};
          this.pendingUpdateRequests[request.requestId] = {
            group: group,
            primaryMember: fromMemberUuid,
            fallbackMembers: fallbackMembers,
            attemptNumber: 1,
            timeout: setTimeout(() => {
              this.handleUpdateTimeout(request.requestId);
            }, 5000) // 5 second timeout for full update
          };
          
          // Send request only to designated sender
          await this.sendToMember(fromMemberUuid, request);
        },
        
        handleUpdateTimeout(requestId) {
          const pending = this.pendingUpdateRequests?.[requestId];
          if (!pending) return;
          
          clearTimeout(pending.timeout);
          
          debugLog('log', '[SYNC] Update timeout for attempt', pending.attemptNumber, 'from', pending.primaryMember);
          
          // Try next fallback member
          if (pending.fallbackMembers.length > 0 && pending.attemptNumber < 3) {
            const nextMember = pending.fallbackMembers.shift();
            debugLog('log', '[SYNC] Trying fallback member', nextMember);
            
            // Update pending request
            pending.primaryMember = nextMember;
            pending.attemptNumber++;
            pending.timeout = setTimeout(() => {
              this.handleUpdateTimeout(requestId);
            }, 5000);
            
            // Send request to next member
            const request = {
              type: 'sync-request-full',
              groupId: pending.group.id,
              requestId: requestId,
              toMember: nextMember
            };
            
            this.sendToMember(nextMember, request);
          } else {
            // All attempts failed - try broadcast as last resort
            debugLog('log', '[SYNC] All targeted attempts failed, trying broadcast');
            delete this.pendingUpdateRequests[requestId];
            
            this.requestBroadcastUpdate(pending.group);
          }
        },
        
        async requestBroadcastUpdate(group) {
          // Last resort: Ask everyone for update
          const request = {
            type: 'sync-request-any',
            groupId: group.id,
            requestId: this.generateUUID(),
            myVersion: group.version || 0,
            timestamp: Date.now()
          };
          
          // Limit responses with a random selection mechanism
          this.pendingBroadcastRequests = this.pendingBroadcastRequests || {};
          this.pendingBroadcastRequests[request.requestId] = {
            group: group,
            responded: false,
            timeout: setTimeout(() => {
              delete this.pendingBroadcastRequests[request.requestId];
            }, 10000) // 10 second timeout
          };
          
          await this.broadcastToGroup(group, request);
        },
        
        async handleSyncRequestAny(message, fromMember) {
          const group = this.data.groups.find(g => g.id === message.groupId);
          if (!group || !group.shared) return;
          
          // Check if the requesting member is still in the group
          const memberStillInGroup = group.members?.some(m => m.uuid === fromMember.uuid);
          if (!memberStillInGroup) {
            // Member was removed - send removal notification
            await this.sendMemberRemovalNotification(group, fromMember);
            return;
          }
          
          // Check if we have a newer version
          if ((group.version || 0) <= message.myVersion) return;
          
          // Implement random backoff to avoid everyone responding
          const responseDelay = Math.random() * 3000; // 0-3 seconds random delay
          
          setTimeout(async () => {
            // Check if request is still pending (not already handled)
            if (!this.pendingBroadcastRequests?.[message.requestId]) return;
            
            // Send update with probability to reduce responses
            const shouldRespond = Math.random() < 0.3; // Only 30% chance to respond
            if (!shouldRespond) return;
            
            const update = {
              type: 'sync-broadcast-update',
              requestId: message.requestId,
              groupId: group.id,
              groupData: {
                version: group.version || Date.now(),
                links: group.links || [],
                name: group.name
              },
              timestamp: Date.now()
            };
            
            await this.sendToMember(fromMember, update);
          }, responseDelay);
        },
        
        handleSyncBroadcastUpdate(message) {
          const pending = this.pendingBroadcastRequests?.[message.requestId];
          if (!pending || pending.responded) return;
          
          // Mark as responded to ignore further updates
          pending.responded = true;
          clearTimeout(pending.timeout);
          delete this.pendingBroadcastRequests[message.requestId];
          
          // Apply the update
          this.handleSyncFullUpdate(message);
        },
        
        async handleSyncRequestFull(message, fromMember) {
          const group = this.data.groups.find(g => g.id === message.groupId);
          if (!group || !group.shared) return;
          
          // Check if the requesting member is still in the group
          const memberStillInGroup = group.members?.some(m => m.uuid === fromMember.uuid);
          if (!memberStillInGroup) {
            // Member was removed - send removal notification
            await this.sendMemberRemovalNotification(group, fromMember);
            return;
          }
          
          // Check if we're the designated sender
          if (message.toMember !== this.data.identity?.uuid) return;
          
          // Send full group update
          const update = {
            type: 'sync-full-update',
            requestId: message.requestId,
            groupId: group.id,
            groupData: {
              version: group.version || Date.now(),
              links: group.links || [],
              name: group.name,
              // Include other group properties as needed
            },
            timestamp: Date.now()
          };
          
          await this.sendToMember(fromMember, update);
        },
        
        handleSyncFullUpdate(message) {
          const group = this.data.groups.find(g => g.id === message.groupId);
          if (!group || !group.shared) return;
          
          // Clear any pending update requests for this group
          if (message.requestId && this.pendingUpdateRequests?.[message.requestId]) {
            clearTimeout(this.pendingUpdateRequests[message.requestId].timeout);
            delete this.pendingUpdateRequests[message.requestId];
          }
          
          // Apply the update if it's newer
          if ((message.groupData.version || 0) > (group.version || 0)) {
            // Merge the update
            group.version = message.groupData.version;
            group.links = (Array.isArray(message.groupData.links) ? message.groupData.links : []).map((link) => {
              const normalizedType = this.normalizeLinkItemType(link);
              return this.normalizeLinkDataForItemType(Object.assign({}, link), normalizedType);
            });
            // Update other properties as needed
            
            this.saveData();
            debugLog('log', '[SYNC] Updated group', group.name, 'to version', group.version);
            
            // Update sync state
            this.$set(this.data.syncState, group.id, {
              lastSyncAttempt: Date.now(),
              lastSuccessfulSync: Date.now(),
              version: group.version
            });
          }
        },
        
        async broadcastToGroup(group, message) {
          // Send message to all group members
          if (!group.sharedWith) return;
          
          for (const memberUuid of group.sharedWith) {
            if (memberUuid !== this.data.identity?.uuid) {
              await this.sendToMember(memberUuid, message);
            }
          }
        },
        
        async handleSyncFullRequest(message) {
          const group = this.data.groups.find(g => g.groupId === message.groupId);
          if (!group || !group.shared) {
            debugLog('log', '[SMART-SYNC] Cannot send full update - group not found', message.groupId);
            return;
          }
          
          debugLog('log', '[SMART-SYNC] Sending full update to requester', {
            groupId: group.groupId,
            links: group.links?.length
          });
          
          // Send full group snapshot including event-log and snapshots
          const fullUpdate = {
            type: 'sync-full-update',
            requestId: message.requestId,
            groupId: group.groupId,
            version: group.version || (group.links?.length || 0),
            name: group.name,
            emoji: group.emoji || '',
            color: group.color || '',
            links: (group.links || []).map(l => ({
              uuid: l.uuid || this.generateUUID(),
              itemType: this.normalizeLinkItemType(l),
              text: l.text || '',
              url: l.url || '',
              rawUrlInput: l.rawUrlInput || '',
              keywords: l.keywords || '',
              emoji: l.emoji || '',
              shortcut: l.shortcut || '',
              refTargetUuid: l.refTargetUuid || '',
              inheritSourceKeywords: l.inheritSourceKeywords !== false,
              urlPlaceholders: this.normalizePlaceholderList(l.urlPlaceholders || []),
              column: l.column || 0,
              index: typeof l.index === 'number' ? l.index : 0
            })),
            // Include event-log data if available
            useEventLog: group.useEventLog || false,
            eventLog: group.eventLog || [],
            snapshot: group.snapshot || null,
            headEventId: group.headEventId || null,
            vectorClock: group.vectorClock || {},
            from: { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' },
            timestamp: Date.now()
          };
          
          // Send via group channel for reliability (chunked if large)
          if (window.sharing) {
            const raw = JSON.stringify(fullUpdate);
            if (raw.length > 100000) {
              await window.sharing.sendChunkedGroup(group, 'full-update', fullUpdate);
            } else {
              await window.sharing.sendToGroup(group, fullUpdate);
            }
          }
        },
        
        async handleSyncFullUpdate(message) {
          const group = this.data.groups.find(g => g.groupId === message.groupId);
          if (!group || !group.shared) {
            debugLog('log', '[SMART-SYNC] Cannot apply full update - group not found', message.groupId);
            return;
          }
          
          // Clear pending update request if this matches
          const pending = this.pendingUpdateRequests?.[message.requestId];
          if (pending) {
            clearTimeout(pending.timeout);
            delete this.pendingUpdateRequests[message.requestId];
          }
          
          debugLog('log', '[SMART-SYNC] Applying full update', {
            groupId: group.groupId,
            newVersion: message.version,
            oldVersion: group.version || 0,
            linksCount: message.links?.length
          });
          
          // Update group metadata
          group.version = message.version;
          if (message.name) group.name = message.name;
          if (message.emoji !== undefined) group.emoji = message.emoji || '';
          if (message.color !== undefined) group.color = message.color;
          
          // Apply links update - prevent duplicates
          if (Array.isArray(message.links)) {
            const isOwner = (group.members || []).some(m => m.role === 'owner' && m.uuid === this.data.identity?.uuid);
            
            if (!isOwner) {
              // Members accept the full update
              const existingUuids = new Set();
              const newLinks = [];
              
              for (const link of message.links) {
                // Ensure each link has a UUID
                const linkUuid = link.uuid || this.generateUUID();
                
                // Skip duplicates
                if (existingUuids.has(linkUuid)) {
                  debugLog('log', '[SMART-SYNC] Skipping duplicate link', linkUuid);
                  continue;
                }
                
                existingUuids.add(linkUuid);
                const normalizedType = this.normalizeLinkItemType(link);
                newLinks.push(this.normalizeLinkDataForItemType({
                  uuid: linkUuid,
                  itemType: normalizedType,
                  text: link.text || '',
                  url: link.url || '',
                  rawUrlInput: link.rawUrlInput || '',
                  keywords: link.keywords || '',
                  emoji: link.emoji || '',
                  shortcut: link.shortcut || '',
                  refTargetUuid: link.refTargetUuid || '',
                  inheritSourceKeywords: link.inheritSourceKeywords !== false,
                  urlPlaceholders: this.normalizePlaceholderList(link.urlPlaceholders || []),
                  column: link.column || 0,
                  index: typeof link.index === 'number' ? link.index : 0,
                  editing: false,
                  isMouseOver: false
                }, normalizedType));
              }
              
              // Replace links array completely to avoid duplicates
              this.$set(group, 'links', newLinks);
              debugLog('log', '[SMART-SYNC] Replaced links array', { count: newLinks.length });
            }
          }
          
          // Apply event-log data if available - BUT DON'T OVERWRITE OWNER'S DATA
          if (message.useEventLog && message.eventLog) {
            const isOwner = (group.members || []).some(m => m.role === 'owner' && m.uuid === this.data.identity?.uuid);
            
            if (isOwner && group.useEventLog && group.eventLog) {
              // OWNER: Merge events, don't overwrite
              debugLog('log', '[SMART-SYNC] Owner merging event-log from full update', {
                currentEventCount: group.eventLog?.length || 0,
                incomingEventCount: message.eventLog?.length || 0
              });
              
              // Find new events that we don't have yet
              const existingEventIds = new Set((group.eventLog || []).map(e => e.eventId));
              const newEvents = (message.eventLog || []).filter(e => !existingEventIds.has(e.eventId));
              
              if (newEvents.length > 0) {
                debugLog('log', '[SMART-SYNC] Owner merging new events', { count: newEvents.length });
                // Merge new events
                if (this.eventLogManager) {
                  newEvents.forEach(event => {
                    this.eventLogManager.applyRemoteEvent(group, event, 'owner-leads');
                  });
                }
              }
              
              // Merge vector clocks
              if (message.vectorClock) {
                const mergedVC = { ...(group.vectorClock || {}) };
                Object.keys(message.vectorClock).forEach(key => {
                  mergedVC[key] = Math.max(mergedVC[key] || 0, message.vectorClock[key] || 0);
                });
                this.$set(group, 'vectorClock', mergedVC);
              }
            } else {
              // MEMBER or OWNER without event-log yet: Accept full event-log
              debugLog('log', '[SMART-SYNC] Applying complete event-log data', {
                isOwner,
                eventLogCount: message.eventLog?.length || 0,
                hasSnapshot: !!message.snapshot
              });
              
              this.$set(group, 'useEventLog', true);
              this.$set(group, 'eventLog', message.eventLog || []);
              this.$set(group, 'snapshot', message.snapshot || null);
              this.$set(group, 'headEventId', message.headEventId || null);
              this.$set(group, 'vectorClock', message.vectorClock || {});
            }
            
            debugLog('log', '[SMART-SYNC] Event-log data processed successfully');
          }
          
          this.saveData();
        },
        
        async handleSyncBroadcastRequest(message) {
          const group = this.data.groups.find(g => g.groupId === message.groupId);
          if (!group || !group.shared) return;
          
          const myVersion = group.version || (group.links?.length || 0);
          
          // Only respond if we have a newer version
          if (myVersion <= message.myVersion) {
            debugLog('log', '[SMART-SYNC] Ignoring broadcast request - no newer version');
            return;
          }
          
          // Use random delay and probability to avoid thundering herd
          const delay = Math.random() * 2000;
          const probability = 1 / Math.max(2, group.sharedWith?.length || 2);
          
          if (Math.random() < probability) {
            setTimeout(async () => {
              debugLog('log', '[SMART-SYNC] Responding to broadcast request with full update');
              await this.handleSyncFullRequest(message);
            }, delay);
          }
        },
        
        async sendMemberRemovalNotification(group, removedMember) {
          // Find the owner of the group
          const owner = group.members?.find(m => m.role === 'owner');
          const ownerName = owner?.name || owner?.uuid || 'Unknown';
          
          const notification = {
            type: 'member-removed-notification',
            groupId: group.id || group.uuid,
            groupName: group.name,
            ownerName: ownerName,
            removedAt: Date.now(),
            message: 'You have been removed from this group'
          };
          
          debugLog('log', '[SYNC] Sending removal notification to:', removedMember.uuid);
          await this.sendToMember(removedMember.uuid, notification);
        },
        
        handleMemberRemovedNotification(message) {
          debugLog('log', '[SYNC] Received removal notification:', message);
          
          // Show the notification dialog
          this.showRemovedFromGroupNotification(
            message.groupName,
            message.ownerName,
            message.groupId,
            message.removedAt
          );
        },
        
        async sendToMember(memberUuid, message) {
          // Send message to a specific group member via their contact channel
          try {
            // Find the contact by UUID
            const contact = (this.data.contacts || []).find(c => c.uuid === memberUuid);
            if (!contact) {
              debugLog('warn', '[SYNC] Cannot send to member - contact not found:', memberUuid);
              return false;
            }
            
            // Use the sharing service to send via the contact's channel
            if (window.sharing && typeof window.sharing.sendToContact === 'function') {
              await window.sharing.sendToContact(memberUuid, message);
              debugLog('log', '[SYNC] Message sent to member', memberUuid, message.type);
              return true;
            } else {
              debugLog('warn', '[SYNC] Sharing service not available');
              return false;
            }
          } catch (error) {
            debugLog('error', '[SYNC] Failed to send to member:', memberUuid, error);
            return false;
          }
        },
        
        // ---------- Sync All Groups ----------
	        async syncAllGroups() {
          // Check cooldown
          const now = Date.now();
          if (this.lastSyncAllTime && (now - this.lastSyncAllTime) < CONSTS.MINUTE_MS) {
            const remainingSeconds = Math.ceil((CONSTS.MINUTE_MS - (now - this.lastSyncAllTime)) / 1000);
            alert(`Please wait ${remainingSeconds} seconds before syncing again.`);
            return;
          }
          
          // Start sync process
          this.isSyncingAll = true;
          this.lastSyncAllTime = now;
          
          // Start cooldown countdown
          this.syncAllCooldown = 60;
          const cooldownInterval = setInterval(() => {
            this.syncAllCooldown--;
            if (this.syncAllCooldown <= 0) {
              clearInterval(cooldownInterval);
            }
          }, 1000);
          
          try {
            // Find all shared groups - check for shared flag and groupId
            const sharedGroups = this.data.groups.filter(g => 
              g.shared && g.groupId && g.groupTopic
            );
            
            if (sharedGroups.length === 0) {
              debugLog('log', '[SYNC ALL] No shared groups found', {
                totalGroups: this.data.groups.length,
                groupsWithShared: this.data.groups.filter(g => g.shared).length,
                groupsWithGroupId: this.data.groups.filter(g => g.groupId).length
              });
              alert('No shared groups to sync.');
              this.isSyncingAll = false;
              return;
            }
            
            debugLog('log', `[SYNC ALL] Starting sync for ${sharedGroups.length} shared groups`);
            
            // Send sync requests for all shared groups with staggered timing
            for (let i = 0; i < sharedGroups.length; i++) {
              const group = sharedGroups[i];
              const delay = i * 200; // 200ms between each group to avoid overwhelming the network
              
              setTimeout(async () => {
                debugLog('log', `[SYNC ALL] Requesting sync for group: ${group.name}`);
                await this.requestSmartSync(group);
              }, delay);
            }
            
            // Show success message
            setTimeout(() => {
              this.isSyncingAll = false;
              debugLog('log', `[SYNC ALL] Sync requests sent for ${sharedGroups.length} groups`);
            }, sharedGroups.length * 200 + 1000);
            
          } catch (error) {
            debugLog('error', '[SYNC ALL] Error during sync:', error);
            this.isSyncingAll = false;
            alert('Error during sync. Please check the console for details.');
	          }
	        },

	        normalizeBackupReminderState(state = null) {
	          const source = (state && typeof state === 'object' && !Array.isArray(state))
	            ? state
	            : (this.backupReminderState || {});
	          const normalizeTs = (value) => {
	            const parsed = Number(value);
	            return Number.isFinite(parsed) && parsed > 0 ? Math.floor(parsed) : 0;
	          };
	          const normalizeCounter = (value) => {
	            const parsed = Number(value);
	            return Number.isFinite(parsed) ? Math.max(0, Math.floor(parsed)) : 0;
	          };
	          return {
	            lastBackupAt: normalizeTs(source.lastBackupAt),
	            lastReminderAt: normalizeTs(source.lastReminderAt),
	            changesSinceBackup: normalizeCounter(source.changesSinceBackup),
	            lastChangeAt: normalizeTs(source.lastChangeAt)
	          };
	        },
	        getBackupReminderOptions() {
	          const defaults = initialData.options?.backupReminder || {
	            enabled: true,
	            intervalDays: 14,
	            changeThreshold: 30,
	            startupCheck: true,
	            remindBeforeImport: true,
	            reminderCooldownHours: 24,
	            showUrgencyIndicator: true,
	            exportBlinkEnabled: true
	          };
	          const options = Object.assign({}, defaults, this.data?.options?.backupReminder || {});
	          const normalizeNumber = (value, fallback, min, max) => {
	            const parsed = Number(value);
	            if (!Number.isFinite(parsed)) return fallback;
	            return Math.max(min, Math.min(max, Math.round(parsed)));
	          };
	          return {
	            enabled: options.enabled !== false,
	            intervalDays: normalizeNumber(options.intervalDays, defaults.intervalDays, 1, 365),
	            changeThreshold: normalizeNumber(options.changeThreshold, defaults.changeThreshold, 1, 1000),
	            startupCheck: options.startupCheck !== false,
	            remindBeforeImport: options.remindBeforeImport !== false,
	            reminderCooldownHours: normalizeNumber(options.reminderCooldownHours, defaults.reminderCooldownHours, 1, 168),
	            showUrgencyIndicator: options.showUrgencyIndicator !== false,
	            exportBlinkEnabled: options.exportBlinkEnabled !== false
	          };
	        },
	        loadBackupReminderState() {
	          try {
	            const raw = localStorage.getItem(CONSTS.STORAGE_KEY_BACKUP_REMINDER_STATE);
	            const parsed = raw ? JSON.parse(raw) : null;
	            this.backupReminderState = this.normalizeBackupReminderState(parsed);
	          } catch (error) {
	            debugLog('warn', '[BACKUP REMINDER] Could not read state from localStorage', error);
	            this.backupReminderState = this.normalizeBackupReminderState();
	          }
	        },
	        persistBackupReminderState() {
	          try {
	            const normalized = this.normalizeBackupReminderState();
	            this.backupReminderState = normalized;
	            localStorage.setItem(CONSTS.STORAGE_KEY_BACKUP_REMINDER_STATE, JSON.stringify(normalized));
	          } catch (error) {
	            debugLog('warn', '[BACKUP REMINDER] Could not persist state', error);
	          }
	        },
	        countAllLinks() {
	          return (this.data.groups || []).reduce((sum, group) => sum + ((group.links || []).length || 0), 0);
	        },
	        describeBackupReminderReason(context = {}) {
	          const reasons = [];
	          if (!context.hasBackup) {
	            reasons.push(this.getTranslation('backup.reminder.reason.none') || 'no backup detected yet');
	          } else {
	            if (context.intervalDue) {
	              const template = this.getTranslation('backup.reminder.reason.interval') || 'last backup {days} day(s) ago';
	              reasons.push(template.replace('{days}', String(Math.max(0, Number(context.daysSinceBackup) || 0))));
	            }
	            if (context.changeDue) {
	              const template = this.getTranslation('backup.reminder.reason.changes') || '{count} changes since the last backup';
	              reasons.push(template.replace('{count}', String(Math.max(0, Number(context.changesSinceBackup) || 0))));
	            }
	          }
	          if (context.trigger === 'before-import') {
	            reasons.push(this.getTranslation('backup.reminder.reason.import') || 'before an import');
	          }
	          if (!reasons.length) {
	            reasons.push(this.getTranslation('backup.reminder.reason.generic') || 'regular reminder');
	          }
	          return reasons.join(', ');
	        },
	        maybeShowBackupReminder(trigger = 'manual') {
	          const options = this.getBackupReminderOptions();
	          if (!options.enabled) return false;
	          if (!this.dataLoaded || this.loadFailed || this.localSecurity?.locked) return false;
	          if (this.countAllLinks() <= 0) return false;

	          const now = Date.now();
	          const state = this.normalizeBackupReminderState();
	          const hasBackup = state.lastBackupAt > 0;
	          const daysSinceBackup = hasBackup ? Math.floor((now - state.lastBackupAt) / CONSTS.DAY_MS) : Number.POSITIVE_INFINITY;
	          const intervalDue = hasBackup && (daysSinceBackup >= options.intervalDays);
	          const changeDue = state.changesSinceBackup >= options.changeThreshold;
	          const noBackupDue = !hasBackup && (
	            trigger === 'startup'
	            || trigger === 'before-import'
	            || state.changesSinceBackup >= options.changeThreshold
	          );
	          const startupDue = trigger === 'startup' && options.startupCheck && (intervalDue || changeDue || noBackupDue);
	          const importDue = trigger === 'before-import' && options.remindBeforeImport && (intervalDue || changeDue || noBackupDue);
	          const regularDue = trigger !== 'startup' && trigger !== 'before-import' && (intervalDue || changeDue || noBackupDue);
	          if (!startupDue && !importDue && !regularDue) return false;

	          const cooldownMs = options.reminderCooldownHours * CONSTS.HOUR_MS;
	          const sinceLastReminder = now - state.lastReminderAt;
	          if (state.lastReminderAt > 0 && sinceLastReminder < cooldownMs && trigger !== 'before-import') return false;

	          const reason = this.describeBackupReminderReason({
	            trigger,
	            hasBackup,
	            daysSinceBackup,
	            changesSinceBackup: state.changesSinceBackup,
	            intervalDue,
	            changeDue
	          });
	          const messageTemplate = this.getTranslation('backup.reminder.message') || 'Backup recommended now: %s.';
	          const hint = this.getTranslation('backup.reminder.hint') || 'Use Export (JSON) or save a snapshot.';
	          this.showToast(`${messageTemplate.replace('%s', reason)} ${hint}`, 'warning');

	          this.backupReminderState = Object.assign({}, state, { lastReminderAt: now });
	          this.persistBackupReminderState();
	          return true;
	        },
	        recordBackupCreated(source = 'manual') {
	          const now = Date.now();
	          this.backupReminderState = this.normalizeBackupReminderState({
	            lastBackupAt: now,
	            lastReminderAt: 0,
	            changesSinceBackup: 0,
	            lastChangeAt: now
	          });
	          this.persistBackupReminderState();
	          debugLog('log', '[BACKUP REMINDER] Backup recorded', { source, timestamp: now });
	        },
	        recordBackupRelevantChange(trigger = 'save') {
	          if (this._suppressBackupReminderChangeTracking) return;
	          if (!this.dataLoaded || this.loadFailed || !this.appInitialized) return;
	          const state = this.normalizeBackupReminderState();
	          const now = Date.now();
	          state.changesSinceBackup += 1;
	          state.lastChangeAt = now;
	          this.backupReminderState = state;
	          this.persistBackupReminderState();
	          this.maybeShowBackupReminder(trigger);
	          if (!this._suppressAutomaticSnapshotTracking) {
	            const autoState = this.normalizeAutomaticSnapshotState();
	            autoState.changesSinceLastAutoSnapshot += 1;
	            autoState.lastChangeAt = now;
	            if (!autoState.sessionDirty) autoState.firstChangeSinceLastAutoSnapshotAt = now;
	            autoState.sessionDirty = true;
	            this.automaticSnapshotState = autoState;
	            this.evaluateAutomaticSnapshotRulesOnChange();
	          }
	        },
	        normalizeAutomaticSnapshotState(state = null) {
	          const source = (state && typeof state === 'object')
	            ? state
	            : (this.automaticSnapshotState || {});
	          const toNonNegativeInt = (value, fallback = 0) => {
	            const parsed = Number(value);
	            if (!Number.isFinite(parsed)) return fallback;
	            return Math.max(0, Math.round(parsed));
	          };
	          return {
	            lastAutoSnapshotAt: toNonNegativeInt(source.lastAutoSnapshotAt, 0),
	            changesSinceLastAutoSnapshot: toNonNegativeInt(source.changesSinceLastAutoSnapshot, 0),
	            firstChangeSinceLastAutoSnapshotAt: toNonNegativeInt(source.firstChangeSinceLastAutoSnapshotAt, 0),
	            lastChangeAt: toNonNegativeInt(source.lastChangeAt, 0),
	            sessionDirty: !!source.sessionDirty,
	            lastAutoReason: String(source.lastAutoReason || '').trim()
	          };
	        },
	        getAutomaticSnapshotOptions() {
	          const defaults = {
	            enabled: true,
	            beforeDestructiveActions: true,
	            onSyncConflict: true,
	            onEventThreshold: true,
	            eventThreshold: 50,
	            onTimeInterval: true,
	            intervalMinutes: 30,
	            onSessionEnd: true,
	            cooldownSeconds: 120,
	            maxAutoSnapshots: 20
	          };
	          const raw = this.data?.options?.automaticSnapshots || {};
	          const toClampedInt = (value, min, max, fallback) => {
	            const parsed = Number(value);
	            if (!Number.isFinite(parsed)) return fallback;
	            return Math.max(min, Math.min(max, Math.round(parsed)));
	          };
	          return {
	            enabled: raw.enabled !== false,
	            beforeDestructiveActions: raw.beforeDestructiveActions !== false,
	            onSyncConflict: raw.onSyncConflict !== false,
	            onEventThreshold: raw.onEventThreshold !== false,
	            eventThreshold: toClampedInt(raw.eventThreshold, 1, 1000, defaults.eventThreshold),
	            onTimeInterval: raw.onTimeInterval !== false,
	            intervalMinutes: toClampedInt(raw.intervalMinutes, 1, 1440, defaults.intervalMinutes),
	            onSessionEnd: raw.onSessionEnd !== false,
	            cooldownSeconds: toClampedInt(raw.cooldownSeconds, 0, 3600, defaults.cooldownSeconds),
	            maxAutoSnapshots: toClampedInt(raw.maxAutoSnapshots, 1, 200, defaults.maxAutoSnapshots)
	          };
	        },
	        getAutomaticSnapshotReasonLabel(reason = '') {
	          const normalized = String(reason || '').trim();
	          const keyMap = {
	            'destructive-action': 'snapshots.auto.reason.destructiveAction',
	            'sync-conflict': 'snapshots.auto.reason.syncConflict',
	            'event-threshold': 'snapshots.auto.reason.eventThreshold',
	            'time-interval': 'snapshots.auto.reason.timeInterval',
	            'session-end': 'snapshots.auto.reason.sessionEnd'
	          };
	          const fallbackMap = {
	            'destructive-action': 'Destructive action',
	            'sync-conflict': 'Sync conflict',
	            'event-threshold': 'Event threshold',
	            'time-interval': 'Time interval',
	            'session-end': 'Session end'
	          };
	          const key = keyMap[normalized] || keyMap['event-threshold'];
	          return this.getTranslation(key) || fallbackMap[normalized] || fallbackMap['event-threshold'];
	        },
	        buildAutomaticSnapshotName(reason = 'event-threshold', context = {}) {
	          const nowTs = Number(context?.timestamp) || Date.now();
	          const prefix = this.getTranslation('snapshots.auto.prefix') || 'Auto';
	          const reasonLabel = context?.reasonLabel || this.getAutomaticSnapshotReasonLabel(reason);
	          const tsLabel = (typeof moment !== 'undefined')
	            ? moment(nowTs).format('LLL')
	            : new Date(nowTs).toISOString();
	          return `[${prefix}] ${reasonLabel} - ${tsLabel}`;
	        },
	        pruneAutomaticSnapshots(maxAutoSnapshots = 20) {
	          const snapshots = Array.isArray(this.data?.snapshots) ? this.data.snapshots : [];
	          if (!snapshots.length) return false;
	          const maxAuto = Math.max(1, Number(maxAutoSnapshots) || 20);
	          let autoCount = snapshots.reduce((count, snap) => count + ((snap && snap.auto === true) ? 1 : 0), 0);
	          let changed = false;
	          if (autoCount > maxAuto) {
	            for (let i = snapshots.length - 1; i >= 0 && autoCount > maxAuto; i--) {
	              if (snapshots[i] && snapshots[i].auto === true) {
	                snapshots.splice(i, 1);
	                autoCount -= 1;
	                changed = true;
	              }
	            }
	          }
	          const hardMax = 250;
	          if (snapshots.length > hardMax) {
	            snapshots.length = hardMax;
	            changed = true;
	          }
	          return changed;
	        },
	        markSnapshotCreatedForAutomaticTracking(timestamp = Date.now(), reason = '') {
	          const state = this.normalizeAutomaticSnapshotState();
	          const ts = Number(timestamp) || Date.now();
	          state.lastAutoSnapshotAt = ts;
	          state.changesSinceLastAutoSnapshot = 0;
	          state.firstChangeSinceLastAutoSnapshotAt = 0;
	          state.lastChangeAt = ts;
	          state.sessionDirty = false;
	          state.lastAutoReason = String(reason || '').trim();
	          this.automaticSnapshotState = state;
	        },
	        queueAutomaticSnapshot(reason = 'event-threshold', context = {}) {
	          if (this._automaticSnapshotQueueBusy) return;
	          this._automaticSnapshotQueueBusy = true;
	          Promise.resolve()
	            .then(() => this.createAutomaticSnapshot(reason, context))
	            .catch((error) => {
	              debugLog('warn', '[AUTO-SNAPSHOT] create failed', error);
	            })
	            .finally(() => {
	              this._automaticSnapshotQueueBusy = false;
	            });
	        },
	        async createDestructiveActionSnapshot(context = {}) {
	          const options = this.getAutomaticSnapshotOptions();
	          if (!options.enabled || !options.beforeDestructiveActions) return false;
	          const snapshotContext = Object.assign({
	            silent: true,
	            immediateSave: true,
	            skipCooldown: true
	          }, context || {});
	          const maxAttempts = 4;
	          for (let attempt = 0; attempt < maxAttempts; attempt++) {
	            const created = await this.createAutomaticSnapshot('destructive-action', snapshotContext);
	            if (created) return true;
	            if (attempt >= (maxAttempts - 1)) break;
	            const likelyTransientBlock = this._suppressAutomaticSnapshotTracking || this._automaticSnapshotQueueBusy || !this.dataLoaded || !this.appInitialized;
	            if (!likelyTransientBlock) break;
	            await new Promise((resolve) => setTimeout(resolve, 90));
	          }
	          debugLog('warn', '[AUTO-SNAPSHOT] destructive snapshot could not be created', {
	            dataLoaded: !!this.dataLoaded,
	            appInitialized: !!this.appInitialized,
	            loadFailed: !!this.loadFailed,
	            suppressTracking: !!this._suppressAutomaticSnapshotTracking,
	            queueBusy: !!this._automaticSnapshotQueueBusy
	          });
	          return false;
	        },
	        evaluateAutomaticSnapshotRulesOnChange() {
	          const options = this.getAutomaticSnapshotOptions();
	          if (!options.enabled) return;
	          if (this._suppressAutomaticSnapshotTracking) return;
	          if (!this.dataLoaded || this.loadFailed || !this.appInitialized) return;
	          const state = this.normalizeAutomaticSnapshotState();
	          const now = Date.now();
	          const cooldownMs = Math.max(0, options.cooldownSeconds) * 1000;
	          if (state.lastAutoSnapshotAt > 0 && cooldownMs > 0 && (now - state.lastAutoSnapshotAt) < cooldownMs) return;
	          let reason = '';
	          if (options.onEventThreshold && state.changesSinceLastAutoSnapshot >= options.eventThreshold) {
	            reason = 'event-threshold';
	          }
	          if (!reason && options.onTimeInterval && state.sessionDirty) {
	            const intervalMs = Math.max(1, options.intervalMinutes) * 60 * 1000;
	            const anchor = state.lastAutoSnapshotAt || state.firstChangeSinceLastAutoSnapshotAt || 0;
	            if (anchor > 0 && (now - anchor) >= intervalMs) {
	              reason = 'time-interval';
	            }
	          }
	          if (!reason) return;
	          this.queueAutomaticSnapshot(reason, { silent: true, immediateSave: true });
	        },
	        async createAutomaticSnapshot(reason = 'event-threshold', context = {}) {
	          const options = this.getAutomaticSnapshotOptions();
	          if (!options.enabled) return false;
	          if (!this.dataLoaded || this.loadFailed || !this.appInitialized) return false;
	          if (this._suppressAutomaticSnapshotTracking) return false;
	          const reasonKey = String(reason || '').trim();
	          if (reasonKey === 'destructive-action' && !options.beforeDestructiveActions) return false;
	          if (reasonKey === 'sync-conflict' && !options.onSyncConflict) return false;
	          if (reasonKey === 'event-threshold' && !options.onEventThreshold) return false;
	          if (reasonKey === 'time-interval' && !options.onTimeInterval) return false;
	          if (reasonKey === 'session-end' && !options.onSessionEnd) return false;
	          const nowTs = Number(context?.timestamp) || Date.now();
	          const state = this.normalizeAutomaticSnapshotState();
	          const cooldownMs = Math.max(0, options.cooldownSeconds) * 1000;
	          const skipCooldown = !!context.skipCooldown || reasonKey === 'destructive-action';
	          if (!skipCooldown && state.lastAutoSnapshotAt > 0 && cooldownMs > 0 && (nowTs - state.lastAutoSnapshotAt) < cooldownMs) {
	            return false;
	          }
	          const base = this.getSavableData();
	          if (base.snapshots) base.snapshots = [];
	          if (!Array.isArray(this.data.snapshots)) this.$set(this.data, 'snapshots', []);
	          const reasonLabel = this.getAutomaticSnapshotReasonLabel(reasonKey);
	          const snap = {
	            id: this.generateUUID(),
	            name: context?.name || this.buildAutomaticSnapshotName(reasonKey, { timestamp: nowTs, reasonLabel }),
	            createdAt: nowTs,
	            payload: base,
	            auto: true,
	            autoReason: reasonKey
	          };
	          this.data.snapshots.unshift(snap);
	          this.pruneAutomaticSnapshots(options.maxAutoSnapshots);
	          this._suppressBackupReminderChangeTracking = true;
	          this._suppressAutomaticSnapshotTracking = true;
	          try {
	            if (context.immediateSave && typeof this.saveDataImmediate === 'function') {
	              await this.saveDataImmediate();
	            } else {
	              this.saveData();
	            }
	          } finally {
	            this._suppressBackupReminderChangeTracking = false;
	            this._suppressAutomaticSnapshotTracking = false;
	          }
	          this.recordBackupCreated('automatic-snapshot');
	          this.markSnapshotCreatedForAutomaticTracking(nowTs, reasonKey);
	          if (!context.silent) {
	            const messageTemplate = this.getTranslation('snapshots.auto.created') || 'Automatic snapshot created (%s)';
	            this.showToast(messageTemplate.replace('%s', reasonLabel), 'info');
	          }
	          return true;
	        },
	        handleSessionEndAutomaticSnapshot() {
	          const now = Date.now();
	          if (this._lastSessionEndAutoSnapshotAttemptAt && (now - this._lastSessionEndAutoSnapshotAttemptAt) < 5000) return;
	          this._lastSessionEndAutoSnapshotAttemptAt = now;
	          const options = this.getAutomaticSnapshotOptions();
	          if (!options.enabled || !options.onSessionEnd) return;
	          const state = this.normalizeAutomaticSnapshotState();
	          if (!state.sessionDirty && state.changesSinceLastAutoSnapshot <= 0) return;
	          this.queueAutomaticSnapshot('session-end', {
	            skipCooldown: true,
	            immediateSave: true,
	            silent: true
	          });
	        },
	        
	        // ---------- Duplicate Finder ----------

        // ---------- Snapshots ----------
	        async saveSnapshot() {
          const name = prompt(this.getTranslation('snapshots.promptName'), new Date().toISOString().slice(0, 19).replace('T', ' '));
          if (!name) return;
          const base = this.getSavableData();
          // avoid nesting snapshots within snapshots
          if (base.snapshots) base.snapshots = [];
          const snap = {
            id: this.generateUUID(), // Use UUID for snapshots too
            name: name.trim(),
            createdAt: Date.now(),
            payload: base,
          };
	          if (!Array.isArray(this.data.snapshots)) this.$set(this.data, 'snapshots', []);
	          this.data.snapshots.unshift(snap);
	          // keep last 20 snapshots
	          if (this.data.snapshots.length > 20) this.data.snapshots.length = 20;
	          this._suppressBackupReminderChangeTracking = true;
	          try {
	            if (typeof this.saveDataImmediate === 'function') await this.saveDataImmediate(); else this.saveData();
	          } finally {
	            this._suppressBackupReminderChangeTracking = false;
	          }
	          this.recordBackupCreated('snapshot');
	          this.markSnapshotCreatedForAutomaticTracking(Date.now(), 'manual');
	        },
        restoreSnapshot(id) {
          const snap = (this.data.snapshots || []).find(s => s.id === id);
          if (!snap) return;
          if (!confirm(this.getTranslation('snapshots.restore.confirm'))) return;
          // push current to history before restore
          this.historyPast.push(this.getSavableData());
          this._applySnapshot(snap.payload || snap.data || null);
        },
        async deleteSnapshot(id) {
          if (!confirm(this.getTranslation('snapshots.delete.confirm'))) return;
          const arr = this.data.snapshots || [];
          const idx = arr.findIndex(s => s.id === id);
          if (idx >= 0) {
            arr.splice(idx, 1);
            if (typeof this.saveDataImmediate === 'function') await this.saveDataImmediate(); else this.saveData();
          }
        },
        formatSnapshotLabel(s) {
          const d = new Date(s.createdAt || s.timestamp || Date.now());
          const ds = moment(d).format('LLL');
          const name = (s.name || s.label || (s.auto ? (this.getTranslation('snapshots.auto.prefix') || 'Auto') : (this.getTranslation('snapshots.title') || 'Snapshot'))).trim();
          return `${name} (${ds})`;
        },
        findDuplicateMap() {
          const map = {};
          (this.data.groups || []).forEach(g => (g.links || []).forEach(l => {
            if (!l.url) return;
            const key = this.normalizeUrl(l.url);
            if (!map[key]) map[key] = [];
            map[key].push({ group: g, link: l });
          }));
          return Object.fromEntries(Object.entries(map).filter(([, v]) => v.length > 1));
        },
        findAndResolveDuplicates() {
          const dups = this.findDuplicateMap();
          // Store duplicates with selection status
          this.duplicatesFound = {};
          Object.entries(dups).forEach(([url, items]) => {
            this.duplicatesFound[url] = items.map((item, index) => ({
              ...item,
              selected: index > 0 // By default, select all but the first occurrence
            }));
          });
          
          // Open the modal
          const modalElement = document.getElementById('duplicatesModal');
          if (modalElement) {
            const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
            modalInstance.show();
          }
        },
        toggleDuplicateSelection(url, index) {
          if (this.duplicatesFound[url] && this.duplicatesFound[url][index]) {
            this.duplicatesFound[url][index].selected = !this.duplicatesFound[url][index].selected;
          }
        },
	        async removeDuplicates() {
	          let plannedRemovals = 0;
	          Object.values(this.duplicatesFound || {}).forEach(list => {
	            if (!Array.isArray(list) || !list.length) return;
	            const selectedCount = list.filter(item => !!item?.selected).length;
	            if (!selectedCount) return;
	            if (selectedCount >= list.length) {
	              plannedRemovals += Math.max(0, list.length - 1);
	            } else {
	              plannedRemovals += selectedCount;
	            }
	          });
	          if (plannedRemovals > 0) {
	            await this.createDestructiveActionSnapshot();
	          }
	          let removedCount = 0;
	          Object.values(this.duplicatesFound).forEach(list => {
            // Check if at least one item will remain
            const hasUnselected = list.some(item => !item.selected);
            if (!hasUnselected) {
              // If all items are selected, skip the first one to keep at least one
              list[0].selected = false;
            }
            
            list.forEach((item) => {
              if (item.selected) {
                const idx = item.group.links.findIndex(x => 
                  item.link.uuid && x.uuid === item.link.uuid
                );
                if (idx >= 0) {
                  item.group.links.splice(idx, 1);
                  removedCount++;
                }
                this.getLinkColumns(item.group.links).forEach(col => 
                  this.reindexArr(item.group.links.filter(l => l.column === col))
                );
              }
            });
          });
          
          this.saveData();
          
	          // Close the modal
	          const modalElement = document.getElementById('duplicatesModal');
	          if (modalElement) {
	            const modalInstance = bootstrap.Modal.getInstance(modalElement) || bootstrap.Modal.getOrCreateInstance(modalElement);
	            if (modalInstance) {
	              modalInstance.hide();
	            }
	            // Fallback: if Bootstrap state is out of sync, ensure the modal is fully closed.
	            if (modalElement.classList.contains('show')) {
	              modalElement.classList.remove('show');
	              modalElement.style.display = 'none';
	              modalElement.setAttribute('aria-hidden', 'true');
	              modalElement.removeAttribute('aria-modal');
	              document.body.classList.remove('modal-open');
	              document.body.style.removeProperty('padding-right');
	              document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());
	            }
	          }
          
          // Show success message
          if (removedCount > 0) {
            alert(this.getTranslation('duplicates.deleted').replace('%s', removedCount));
          }
          
          // Clear duplicates data
          this.duplicatesFound = {};
        },
        // General keyboard activation helper
        onKeyActivate(evt, handler) {
          if (evt.key === 'Enter' || evt.key === ' ') {
            evt.preventDefault();
            handler();
          }
        },
        handleGlobalClick(event) {
          // Close context menus when clicking outside of them
          const groupMenu = document.getElementById('groupMenu');
          const linkMenu = document.getElementById('linkMenu');
          const t = event.target;
          if ((groupMenu && groupMenu.contains(t)) || (linkMenu && linkMenu.contains(t))) {
            return; // click inside an open menu -> ignore
          }
          this.hideMenus();
        },
        onClearClick() {
          this.filterText = '';
          this.activeKeywordFilters = [];
          if (this.data.options?.groups?.clearClosesAllGroups) {
            this.collapseAllGroups();
          }
        },
        onKeywordClick(kw) {
          const normalized = this.normalizeKeyword(kw);
          if (!normalized) return;
          const idx = (this.activeKeywordFilters || []).findIndex(item => this.normalizeKeyword(item) === normalized);
          if (idx >= 0) this.activeKeywordFilters.splice(idx, 1);
          else this.activeKeywordFilters.push(kw);
          if (this.data.options?.groups?.keywordClickExpandsAll) {
            this.expandAllGroups();
          }
        },
        normalizeKeyword(keyword) {
          return String(keyword || '').trim().toLowerCase();
        },
        sortKeywords(list) {
          return [...(list || [])].sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));
        },
        normalizeKeywordList(list) {
          const seen = new Set();
          const result = [];
          (list || []).forEach(item => {
            const label = String(item || '').trim();
            if (!label) return;
            const slug = this.normalizeKeyword(label);
            if (seen.has(slug)) return;
            seen.add(slug);
            result.push(label);
          });
          return result;
        },
        joinKeywords(list) {
          return this.normalizeKeywordList(list).join(', ');
        },
        isKeywordFilterActive(keyword) {
          const normalized = this.normalizeKeyword(keyword);
          return (this.activeKeywordFilters || []).some(item => this.normalizeKeyword(item) === normalized);
        },
        keywordListContainsAll(value, requiredKeywords = this.activeKeywordFilters) {
          const required = this.normalizeKeywordList(requiredKeywords || []).map(kw => this.normalizeKeyword(kw));
          if (!required.length) return true;
          const current = new Set(this.parseKeywords(value || '').map(kw => this.normalizeKeyword(kw)));
          return required.every(req => current.has(req));
        },
        keywordValuesContainAll(values, requiredKeywords = this.activeKeywordFilters) {
          const required = this.normalizeKeywordList(requiredKeywords || []).map(kw => this.normalizeKeyword(kw));
          if (!required.length) return true;
          const current = new Set();
          const list = Array.isArray(values) ? values : [values];
          list.forEach(value => {
            this.parseKeywords(value || '').forEach(kw => current.add(this.normalizeKeyword(kw)));
          });
          return required.every(req => current.has(req));
        },
        groupOrLinkKeywordsContainAll(group, link, requiredKeywords = this.activeKeywordFilters) {
          return this.keywordValuesContainAll([group?.keywords || '', this.getEffectiveLinkKeywords(link) || ''], requiredKeywords);
        },
        groupMatchesKeywordFilters(group, requiredKeywords = this.activeKeywordFilters) {
          if (!group) return false;
          const required = this.normalizeKeywordList(requiredKeywords || []);
          if (!required.length) return true;
          if (this.keywordListContainsAll(group.keywords || '', required)) return true;
          return (group.links || []).some(link => this.groupOrLinkKeywordsContainAll(group, link, required));
        },
        isKeywordQuickAddBadgeEnabled() {
          const buttonSetting = this.data?.options?.buttons?.showKeywordQuickAddBadge;
          if (typeof buttonSetting === 'boolean') return buttonSetting;
          const legacySetting = this.data?.options?.common?.showKeywordQuickAddBadge;
          if (typeof legacySetting === 'boolean') return legacySetting;
          return true;
        },
        shouldShowGroupKeywordQuickAddBadge(group) {
          if (!this.isKeywordQuickAddBadgeEnabled()) return false;
          return !!group?.isMouseOver;
        },
        setLinkKeywordQuickAddBadgeHover(link, isHovered) {
          if (!link) return;
          this.$set(link, 'isKeywordQuickAddBadgeHover', !!isHovered);
        },
        shouldShowLinkKeywordQuickAddBadge(group, link) {
          if (!this.isKeywordQuickAddBadgeEnabled()) return false;
          if (!this.canEdit(group)) return false;
          if (this.isSeparatorLink(link)) return false;
          return !!(link?.isMouseOver || link?.isKeywordQuickAddBadgeHover);
        },
        getAssignedKeywordsForGroup(group) {
          if (!group) return [];
          return this.sortKeywords(this.parseKeywords(group.keywords || ''));
        },
        getAssignedKeywordsForLink(link) {
          if (!link) return [];
          return this.sortKeywords(this.parseKeywords(link.keywords || ''));
        },
        getAvailableKeywordsForGroup(group) {
          const assigned = new Set(this.getAssignedKeywordsForGroup(group).map(kw => this.normalizeKeyword(kw)));
          return this.sortKeywords((this.allKeywords || []).filter(kw => !assigned.has(this.normalizeKeyword(kw))));
        },
        getAvailableKeywordsForLink(link) {
          const assigned = new Set(this.getAssignedKeywordsForLink(link).map(kw => this.normalizeKeyword(kw)));
          return this.sortKeywords((this.allKeywords || []).filter(kw => !assigned.has(this.normalizeKeyword(kw))));
        },
        addKeywordToGroup(group, keyword) {
          if (!group || !keyword) return;
          const list = this.parseKeywords(group.keywords || '');
          const normalized = this.normalizeKeyword(keyword);
          if (list.some(kw => this.normalizeKeyword(kw) === normalized)) return;
          list.push(keyword);
          this.$set(group, 'keywords', this.joinKeywords(list));
          this.touchGroup(group);
          this.saveData();
        },
        removeKeywordFromGroup(group, keyword) {
          if (!group || !keyword) return;
          const normalized = this.normalizeKeyword(keyword);
          const before = this.parseKeywords(group.keywords || '');
          const after = before.filter(kw => this.normalizeKeyword(kw) !== normalized);
          if (after.length === before.length) return;
          this.$set(group, 'keywords', this.joinKeywords(after));
          this.touchGroup(group);
          this.saveData();
        },
        addKeywordToLink(group, link, keyword) {
          if (!group || !link || !keyword) return;
          const list = this.parseKeywords(link.keywords || '');
          const normalized = this.normalizeKeyword(keyword);
          if (list.some(kw => this.normalizeKeyword(kw) === normalized)) return;
          list.push(keyword);
          this.$set(link, 'keywords', this.joinKeywords(list));
          const nowTs = this.touchLink(link);
          this.touchGroup(group, nowTs);
          this.saveData();
        },
        removeKeywordFromLink(group, link, keyword) {
          if (!group || !link || !keyword) return;
          const normalized = this.normalizeKeyword(keyword);
          const before = this.parseKeywords(link.keywords || '');
          const after = before.filter(kw => this.normalizeKeyword(kw) !== normalized);
          if (after.length === before.length) return;
          this.$set(link, 'keywords', this.joinKeywords(after));
          const nowTs = this.touchLink(link);
          this.touchGroup(group, nowTs);
          this.saveData();
        },
        focusKeywordQuickInput(maxRetries = 5) {
          const tryFocus = (attempt = 0) => {
            let input = this.$refs.keywordQuickInput;
            if (Array.isArray(input)) input = input[0];
            if (input && typeof input.focus === 'function') {
              input.focus();
              const length = String(input.value || '').length;
              if (typeof input.setSelectionRange === 'function') {
                try { input.setSelectionRange(length, length); } catch {}
              }
              this.updateQuickKeywordContext({ target: input });
              return;
            }
            if (attempt < maxRetries) {
              setTimeout(() => tryFocus(attempt + 1), 50);
            }
          };
          this.$nextTick(() => tryFocus(0));
        },
        openKeywordQuickDialogForGroup(group) {
          if (!group) return;
          this.keywordQuickDialog = {
            mode: 'group',
            group,
            link: null,
            value: ''
          };
          this.keywordQuickSuggestionContext = null;
          this.quickKeywordSuggestionStyle = null;
          const modalElement = document.getElementById('keywordQuickAddModal');
          if (!modalElement) return;
          const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
          modalInstance.show();
          this.focusKeywordQuickInput();
        },
        openKeywordQuickDialogForLink(group, link) {
          if (!group || !link) return;
          this.keywordQuickDialog = {
            mode: 'link',
            group,
            link,
            value: ''
          };
          this.keywordQuickSuggestionContext = null;
          this.quickKeywordSuggestionStyle = null;
          const modalElement = document.getElementById('keywordQuickAddModal');
          if (!modalElement) return;
          const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
          modalInstance.show();
          this.focusKeywordQuickInput();
        },
        resetKeywordQuickDialog() {
          this.keywordQuickDialog = {
            mode: '',
            group: null,
            link: null,
            value: ''
          };
          this.keywordQuickSuggestionContext = null;
          this.quickKeywordSuggestionStyle = null;
        },
        submitKeywordQuickDialog() {
          const mode = this.keywordQuickDialog?.mode;
          const group = this.keywordQuickDialog?.group;
          const link = this.keywordQuickDialog?.link;
          const rawValue = String(this.keywordQuickDialog?.value || '').trim();
          if (!rawValue) {
            this.showToast(this.getTranslation('keywords.quick.empty') || 'Please enter at least one keyword.', 'warning');
            return;
          }

          const requested = this.normalizeKeywordList(this.parseKeywords(rawValue));
          if (!requested.length) {
            this.showToast(this.getTranslation('keywords.quick.empty') || 'Please enter at least one keyword.', 'warning');
            return;
          }

          if (mode === 'link' && (!group || !link || !this.canEdit(group))) {
            this.showToast(this.getTranslation('error.perm.edit') || 'You do not have permission to edit links in this group.', 'warning');
            return;
          }

          let changed = false;
          if (mode === 'group' && group) {
            const current = this.parseKeywords(group.keywords || '');
            const currentSet = new Set(current.map(kw => this.normalizeKeyword(kw)));
            requested.forEach(kw => {
              const norm = this.normalizeKeyword(kw);
              if (!norm || currentSet.has(norm)) return;
              current.push(kw);
              currentSet.add(norm);
              changed = true;
            });
            if (changed) {
              this.$set(group, 'keywords', this.joinKeywords(current));
              this.touchGroup(group);
              this.saveData();
            }
          } else if (mode === 'link' && group && link) {
            const current = this.parseKeywords(link.keywords || '');
            const currentSet = new Set(current.map(kw => this.normalizeKeyword(kw)));
            requested.forEach(kw => {
              const norm = this.normalizeKeyword(kw);
              if (!norm || currentSet.has(norm)) return;
              current.push(kw);
              currentSet.add(norm);
              changed = true;
            });
            if (changed) {
              this.$set(link, 'keywords', this.joinKeywords(current));
              const nowTs = this.touchLink(link);
              this.touchGroup(group, nowTs);
              this.saveData();
            }
          }

          if (changed) {
            this.showToast(this.getTranslation('keywords.quick.added') || 'Keyword added.', 'success');
          } else {
            this.showToast(this.getTranslation('keywords.quick.duplicate') || 'Keyword already assigned.', 'info');
          }

          const modalElement = document.getElementById('keywordQuickAddModal');
          if (modalElement) {
            const modalInstance = bootstrap.Modal.getInstance(modalElement) || bootstrap.Modal.getOrCreateInstance(modalElement);
            if (modalInstance) {
              modalInstance.hide();
            }
            // Fallback: if Bootstrap state is out of sync, ensure the modal is fully closed.
            if (modalElement.classList.contains('show')) {
              modalElement.classList.remove('show');
              modalElement.style.display = 'none';
              modalElement.setAttribute('aria-hidden', 'true');
              modalElement.removeAttribute('aria-modal');
              document.body.classList.remove('modal-open');
              document.body.style.removeProperty('padding-right');
              document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());
            }
          }
          this.resetKeywordQuickDialog();
        },
        updateQuickKeywordContext(event) {
          const input = event?.target || this.$refs.keywordQuickInput;
          if (!input) return;
          const context = this.extractKeywordContext(
            input.value || '',
            input.selectionStart,
            input.selectionEnd
          );
          this.keywordQuickSuggestionContext = context;
          if (!context) {
            this.quickKeywordSuggestionStyle = null;
            return;
          }
          this.$nextTick(() => {
            this.updateQuickKeywordSuggestionPosition(input);
          });
        },
        clearQuickKeywordContext() {
          this.keywordQuickSuggestionContext = null;
          this.quickKeywordSuggestionStyle = null;
        },
        applyQuickKeywordSuggestion(suggestion) {
          if (!suggestion) return;
          const nextValue = (suggestion.value != null ? suggestion.value : suggestion.label || '').toString();
          if (!nextValue) return;
          this.keywordQuickDialog.value = nextValue;
          this.$nextTick(() => {
            const input = this.$refs.keywordQuickInput;
            if (input && input.value !== nextValue) input.value = nextValue;
            const cursor = typeof suggestion.cursor === 'number' ? suggestion.cursor : nextValue.length;
            if (input && typeof input.setSelectionRange === 'function') {
              try { input.setSelectionRange(cursor, cursor); } catch {}
              if (typeof input.focus === 'function') input.focus();
            }
            this.keywordQuickSuggestionContext = null;
            this.quickKeywordSuggestionStyle = null;
          });
        },
        handleQuickKeywordTab(event) {
          if (event.shiftKey) return;
          const input = event?.target || this.$refs.keywordQuickInput;
          if (!input) return;

          const context = this.extractKeywordContext(input.value || '', input.selectionStart, input.selectionEnd);
          if (!context) return;

          this.keywordQuickSuggestionContext = context;
          this.$nextTick(() => {
            this.updateQuickKeywordSuggestionPosition(input);
          });
          const candidates = this.quickKeywordSuggestionList || [];
          if (!candidates.length) return;

          const searchTerm = (context.searchTerm || '').toLowerCase();
          if (!searchTerm) return;

          const currentTokenLower = (context.currentToken || '').toLowerCase();
          let suggestion = candidates.find(item => {
            const label = (item.label || item.value || '').toString();
            const labelLower = label.toLowerCase();
            return labelLower.startsWith(searchTerm) && labelLower !== currentTokenLower;
          });
          if (!suggestion) {
            suggestion = candidates.find(item => {
              const label = (item.label || item.value || '').toString();
              return label.toLowerCase().startsWith(searchTerm);
            });
          }
          if (!suggestion) return;

          const suggestionLabel = (suggestion.label || suggestion.value || '').toString();
          if (suggestionLabel.toLowerCase() === currentTokenLower) return;

          event.preventDefault();
          this.applyQuickKeywordSuggestion(suggestion);
        },
        updateActiveKeywordFilterAfterRename(oldKeyword, newKeyword) {
          const oldNorm = this.normalizeKeyword(oldKeyword);
          const renamed = (this.activeKeywordFilters || []).map(kw => this.normalizeKeyword(kw) === oldNorm ? newKeyword : kw);
          this.activeKeywordFilters = this.normalizeKeywordList(renamed);
        },
        updateActiveKeywordFilterAfterDelete(keyword) {
          const normalized = this.normalizeKeyword(keyword);
          this.activeKeywordFilters = (this.activeKeywordFilters || []).filter(kw => this.normalizeKeyword(kw) !== normalized);
        },
        replaceKeywordEverywhere(oldKeyword, newKeyword) {
          const oldNorm = this.normalizeKeyword(oldKeyword);
          const nextKeyword = String(newKeyword || '').trim();
          if (!oldNorm || !nextKeyword) return false;
          let changed = false;
          (this.data.groups || []).forEach(group => {
            let groupChanged = false;
            const groupBefore = this.normalizeKeywordList(this.parseKeywords(group.keywords || ''));
            const groupAfter = this.normalizeKeywordList(groupBefore.map(kw => this.normalizeKeyword(kw) === oldNorm ? nextKeyword : kw));
            if (groupAfter.join('\u0001') !== groupBefore.join('\u0001')) {
              this.$set(group, 'keywords', this.joinKeywords(groupAfter));
              groupChanged = true;
              changed = true;
            }
            (group.links || []).forEach(link => {
              const linkBefore = this.normalizeKeywordList(this.parseKeywords(link.keywords || ''));
              const linkAfter = this.normalizeKeywordList(linkBefore.map(kw => this.normalizeKeyword(kw) === oldNorm ? nextKeyword : kw));
              if (linkAfter.join('\u0001') !== linkBefore.join('\u0001')) {
                this.$set(link, 'keywords', this.joinKeywords(linkAfter));
                const nowTs = this.touchLink(link);
                this.touchGroup(group, nowTs);
                groupChanged = true;
                changed = true;
              }
            });
            if (groupChanged) this.touchGroup(group);
          });
          return changed;
        },
        removeKeywordEverywhere(keyword) {
          const normalized = this.normalizeKeyword(keyword);
          if (!normalized) return false;
          let changed = false;
          (this.data.groups || []).forEach(group => {
            let groupChanged = false;
            const groupBefore = this.normalizeKeywordList(this.parseKeywords(group.keywords || ''));
            const groupAfter = groupBefore.filter(kw => this.normalizeKeyword(kw) !== normalized);
            if (groupAfter.length !== groupBefore.length) {
              this.$set(group, 'keywords', this.joinKeywords(groupAfter));
              groupChanged = true;
              changed = true;
            }
            (group.links || []).forEach(link => {
              const linkBefore = this.normalizeKeywordList(this.parseKeywords(link.keywords || ''));
              const linkAfter = linkBefore.filter(kw => this.normalizeKeyword(kw) !== normalized);
              if (linkAfter.length !== linkBefore.length) {
                this.$set(link, 'keywords', this.joinKeywords(linkAfter));
                const nowTs = this.touchLink(link);
                this.touchGroup(group, nowTs);
                groupChanged = true;
                changed = true;
              }
            });
            if (groupChanged) this.touchGroup(group);
          });
          return changed;
        },
        openKeywordManagerDialog() {
          const all = this.allKeywords || [];
          const first = all[0] || '';
          this.keywordManager.selected = first;
          this.keywordManager.newName = first;
          const modalElement = document.getElementById('keywordManagerModal');
          if (!modalElement) return;
          const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
          modalInstance.show();
        },
        selectManagedKeyword(keyword) {
          this.keywordManager.selected = keyword || '';
          this.keywordManager.newName = keyword || '';
        },
        renameManagedKeyword() {
          const current = this.keywordManager.selected;
          if (!current) {
            this.showToast(this.getTranslation('keywords.dialog.renameMissing') || 'Please select a keyword.', 'warning');
            return;
          }
          const next = (this.keywordManager.newName || '').trim();
          if (!next) {
            this.showToast(this.getTranslation('keywords.dialog.renameMissing') || 'Please select a keyword.', 'warning');
            return;
          }
          if (current === next) {
            this.showToast(this.getTranslation('keywords.dialog.renameSame') || 'Please enter a different keyword name.', 'warning');
            return;
          }
          const changed = this.replaceKeywordEverywhere(current, next);
          this.updateActiveKeywordFilterAfterRename(current, next);
          this.keywordManager.selected = next;
          this.keywordManager.newName = next;
          if (changed) {
            this.saveData();
            this.showToast(this.getTranslation('keywords.dialog.renameSuccess') || 'Keyword renamed.', 'success');
          }
        },
        deleteManagedKeyword() {
          const current = this.keywordManager.selected;
          if (!current) {
            this.showToast(this.getTranslation('keywords.dialog.renameMissing') || 'Please select a keyword.', 'warning');
            return;
          }
          const message = (this.getTranslation('keywords.dialog.confirmDelete') || 'Delete keyword "%s" everywhere?').replace('%s', current);
          if (!confirm(message)) return;
          const changed = this.removeKeywordEverywhere(current);
          this.updateActiveKeywordFilterAfterDelete(current);
          const remaining = this.allKeywords || [];
          const nextSelected = remaining[0] || '';
          this.keywordManager.selected = nextSelected;
          this.keywordManager.newName = nextSelected;
          if (changed) {
            this.saveData();
            this.showToast(this.getTranslation('keywords.dialog.deleteSuccess') || 'Keyword deleted.', 'success');
          }
        },
        openShortcutManagerDialog() {
          const list = this.normalizeGlobalShortcutList(this.data?.options?.links?.globalShortcuts || [], { ensureId: true });
          this.shortcutManager.linkFilter = '';
          this.shortcutManager.globalDrafts = list.map((entry) => ({
            id: entry.id || this.generateUUID(),
            combo: entry.combo || '',
            name: entry.name || '',
            groupIds: [...(entry.groupIds || [])],
            linkIds: [...(entry.linkIds || [])],
            legacyUrls: [...(entry.urls || [])]
          }));
          const modalElement = document.getElementById('shortcutManagerModal');
          if (!modalElement) return;
          const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
          modalInstance.show();
        },
        addGlobalShortcutDraft() {
          this.shortcutManager.globalDrafts.push({
            id: this.generateUUID(),
            combo: '',
            name: '',
            groupIds: [],
            linkIds: [],
            legacyUrls: []
          });
        },
        removeGlobalShortcutDraft(index) {
          if (!Array.isArray(this.shortcutManager.globalDrafts)) return;
          if (index < 0 || index >= this.shortcutManager.globalDrafts.length) return;
          this.shortcutManager.globalDrafts.splice(index, 1);
        },
        captureShortcutManagerDraft(index, event) {
          if (!event) return;
          if (event.key === 'Tab') return;
          if (!Array.isArray(this.shortcutManager.globalDrafts)) return;
          const draft = this.shortcutManager.globalDrafts[index];
          if (!draft) return;
          if (event.key === 'Escape' || event.key === 'Backspace' || event.key === 'Delete') {
            event.preventDefault();
            draft.combo = '';
            return;
          }
          const combo = this.normalizeShortcutFromEvent(event);
          if (!combo) {
            event.preventDefault();
            return;
          }
          if (this.isReservedShortcutCombo(combo)) {
            event.preventDefault();
            this.showToast(this.getTranslation('link.shortcut.reserved') || 'This shortcut is reserved by the browser/system.', 'warning');
            return;
          }
          event.preventDefault();
          draft.combo = combo;
        },
        clearShortcutManagerDraft(index) {
          if (!Array.isArray(this.shortcutManager.globalDrafts)) return;
          const draft = this.shortcutManager.globalDrafts[index];
          if (!draft) return;
          draft.combo = '';
        },
        normalizeShortcutIdList(value) {
          if (!Array.isArray(value)) return [];
          return [...new Set(value
            .map(item => String(item || '').trim())
            .filter(Boolean))];
        },
        getShortcutTargetIndex() {
          const groupIds = new Set();
          const linkIds = new Set();
          const linkToGroup = new Map();
          const groupToLinks = new Map();
          (this.shortcutManagerTargetGroups || []).forEach((group) => {
            const groupId = String(group?.groupId || '').trim();
            if (!groupId) return;
            groupIds.add(groupId);
            if (!groupToLinks.has(groupId)) groupToLinks.set(groupId, []);
            (group.links || []).forEach((link) => {
              const linkId = String(link?.linkId || '').trim();
              if (!linkId) return;
              linkIds.add(linkId);
              linkToGroup.set(linkId, groupId);
              groupToLinks.get(groupId).push(linkId);
            });
          });
          return { groupIds, linkIds, linkToGroup, groupToLinks };
        },
        ensureShortcutDraftSelectionState(draft) {
          if (!draft || typeof draft !== 'object') return;
          if (!Array.isArray(draft.groupIds)) this.$set(draft, 'groupIds', []);
          if (!Array.isArray(draft.linkIds)) this.$set(draft, 'linkIds', []);
          if (!Array.isArray(draft.legacyUrls)) this.$set(draft, 'legacyUrls', []);
          draft.groupIds = this.normalizeShortcutIdList(draft.groupIds);
          draft.linkIds = this.normalizeShortcutIdList(draft.linkIds);
          draft.legacyUrls = this.normalizeShortcutUrlListFromText(draft.legacyUrls);
        },
        isShortcutDraftGroupSelected(draft, groupId) {
          if (!draft || !groupId) return false;
          const selectedGroupIds = this.normalizeShortcutIdList(draft.groupIds || []);
          return selectedGroupIds.includes(String(groupId));
        },
        isShortcutDraftLinkSelected(draft, groupId, linkId) {
          if (!draft || !linkId) return false;
          if (this.isShortcutDraftGroupSelected(draft, groupId)) return true;
          const selectedLinkIds = this.normalizeShortcutIdList(draft.linkIds || []);
          return selectedLinkIds.includes(String(linkId));
        },
        getShortcutDraftGroupSelectedCount(draft, groupId) {
          const group = (this.shortcutManagerTargetGroups || []).find(item => item.groupId === String(groupId));
          if (!group) return 0;
          if (this.isShortcutDraftGroupSelected(draft, group.groupId)) return group.selectableLinkCount || 0;
          const linkIds = new Set(this.normalizeShortcutIdList(draft?.linkIds || []));
          return (group.links || []).reduce((sum, link) => {
            if (!link.validUrl) return sum;
            return sum + (linkIds.has(link.linkId) ? 1 : 0);
          }, 0);
        },
        toggleShortcutDraftGroup(index, groupId, enabled) {
          if (!Array.isArray(this.shortcutManager.globalDrafts)) return;
          const draft = this.shortcutManager.globalDrafts[index];
          if (!draft) return;
          this.ensureShortcutDraftSelectionState(draft);
          const normalizedGroupId = String(groupId || '').trim();
          if (!normalizedGroupId) return;
          const nextGroupIds = new Set(draft.groupIds);
          if (enabled) nextGroupIds.add(normalizedGroupId);
          else nextGroupIds.delete(normalizedGroupId);
          const indexData = this.getShortcutTargetIndex();
          const coveredLinkIds = new Set();
          nextGroupIds.forEach((gid) => {
            (indexData.groupToLinks.get(gid) || []).forEach((linkId) => coveredLinkIds.add(linkId));
          });
          draft.groupIds = [...nextGroupIds];
          draft.linkIds = draft.linkIds.filter((linkId) => !coveredLinkIds.has(linkId));
        },
        toggleShortcutDraftLink(index, groupId, linkId, enabled) {
          if (!Array.isArray(this.shortcutManager.globalDrafts)) return;
          const draft = this.shortcutManager.globalDrafts[index];
          if (!draft) return;
          if (this.isShortcutDraftGroupSelected(draft, groupId)) return;
          this.ensureShortcutDraftSelectionState(draft);
          const normalizedLinkId = String(linkId || '').trim();
          if (!normalizedLinkId) return;
          const nextLinkIds = new Set(draft.linkIds);
          if (enabled) nextLinkIds.add(normalizedLinkId);
          else nextLinkIds.delete(normalizedLinkId);
          draft.linkIds = [...nextLinkIds];
        },
        selectAllShortcutTargetsForDraft(index) {
          if (!Array.isArray(this.shortcutManager.globalDrafts)) return;
          const draft = this.shortcutManager.globalDrafts[index];
          if (!draft) return;
          const allGroupIds = (this.shortcutManagerTargetGroups || [])
            .filter(group => (group.selectableLinkCount || 0) > 0)
            .map(group => group.groupId);
          this.ensureShortcutDraftSelectionState(draft);
          draft.groupIds = this.normalizeShortcutIdList(allGroupIds);
          draft.linkIds = [];
        },
        clearShortcutTargetsForDraft(index) {
          if (!Array.isArray(this.shortcutManager.globalDrafts)) return;
          const draft = this.shortcutManager.globalDrafts[index];
          if (!draft) return;
          this.ensureShortcutDraftSelectionState(draft);
          draft.groupIds = [];
          draft.linkIds = [];
          draft.legacyUrls = [];
        },
        collectUrlsFromShortcutTargets(target) {
          const groupIds = new Set(this.normalizeShortcutIdList(target?.groupIds || []));
          const linkIds = new Set(this.normalizeShortcutIdList(target?.linkIds || []));
          const urls = [];
          (this.shortcutManagerTargetGroups || []).forEach((group) => {
            const groupSelected = groupIds.has(group.groupId);
            (group.links || []).forEach((link) => {
              if (!link.validUrl) return;
              if (!groupSelected && !linkIds.has(link.linkId)) return;
              const normalized = MB.Utils.ensureProtocol((link.rawUrl || '').trim());
              if (!MB.Utils.isValidHttpUrl(normalized)) return;
              urls.push(normalized);
            });
          });
          const legacyUrls = this.normalizeShortcutUrlListFromText(target?.legacyUrls || target?.urls || []);
          legacyUrls.forEach((url) => urls.push(url));
          return [...new Set(urls)];
        },
        getShortcutManagerDraftStatsText(draft) {
          const selectedGroupIds = this.normalizeShortcutIdList(draft?.groupIds || []);
          const selectedLinkIds = this.normalizeShortcutIdList(draft?.linkIds || []);
          const legacyUrls = this.normalizeShortcutUrlListFromText(draft?.legacyUrls || []);
          const groupsCount = selectedGroupIds.length;
          let linksCount = 0;
          (this.shortcutManagerTargetGroups || []).forEach((group) => {
            linksCount += this.getShortcutDraftGroupSelectedCount(draft, group.groupId);
          });
          const urlsCount = this.collectUrlsFromShortcutTargets({
            groupIds: selectedGroupIds,
            linkIds: selectedLinkIds,
            legacyUrls
          }).length;
          const template = this.getTranslation('shortcuts.manager.selectionStats') || '{groups} groups, {links} links selected, {urls} URLs will open';
          return template
            .replace('{groups}', String(groupsCount))
            .replace('{links}', String(linksCount))
            .replace('{urls}', String(urlsCount));
        },
        openUrlInNewTab(url) {
          const popup = window.open(url, '_blank');
          if (popup) {
            try { popup.opener = null; } catch {}
            return true;
          }
          return false;
        },
        openUrlsWithTabPriming(urls) {
          const uniqueUrls = [...new Set((Array.isArray(urls) ? urls : [])
            .map(url => String(url || '').trim())
            .filter(Boolean))];
          if (!uniqueUrls.length) return 0;

          const primedTabs = [];
          let openedCount = 0;

          uniqueUrls.forEach((url) => {
            let popup = null;
            try {
              popup = window.open('about:blank', '_blank');
            } catch {}

            if (popup) {
              primedTabs.push({ popup, url });
              return;
            }

            if (this.openUrlInNewTab(url)) openedCount += 1;
          });

          primedTabs.forEach(({ popup, url }) => {
            try { popup.opener = null; } catch {}
            try {
              popup.location.replace(url);
              openedCount += 1;
              return;
            } catch {}
            try {
              popup.location.href = url;
              openedCount += 1;
              return;
            } catch {}
            try { popup.close(); } catch {}
            if (this.openUrlInNewTab(url)) openedCount += 1;
          });

          return openedCount;
        },
        openShortcutUrls(urls, openInNewTab, queueKey = '') {
          const uniqueUrls = [...new Set((Array.isArray(urls) ? urls : [])
            .map(url => String(url || '').trim())
            .filter(Boolean))];
          if (!uniqueUrls.length) {
            this.shortcutOpenQueue = null;
            return { total: 0, opened: 0, openedTotal: 0, remaining: 0, queued: false };
          }

          const normalizedQueueKey = String(queueKey || '').trim();

          const forceNewTabs = uniqueUrls.length > 1 || openInNewTab;
          if (!forceNewTabs && uniqueUrls[0]) {
            this.shortcutOpenQueue = null;
            window.location.href = uniqueUrls[0];
            return { total: 1, opened: 1, openedTotal: 1, remaining: 0, queued: false };
          }

          const batchSize = 8;
          const existingQueue = this.shortcutOpenQueue && typeof this.shortcutOpenQueue === 'object'
            ? this.shortcutOpenQueue
            : null;
          const canResumeQueue = !!(
            normalizedQueueKey
            && existingQueue
            && existingQueue.key === normalizedQueueKey
            && Array.isArray(existingQueue.remainingUrls)
            && existingQueue.remainingUrls.length > 0
          );

          let total = uniqueUrls.length;
          let openedBefore = 0;
          let pendingUrls = uniqueUrls;

          if (canResumeQueue) {
            pendingUrls = [...existingQueue.remainingUrls];
            openedBefore = Number(existingQueue.opened) || 0;
            total = Number(existingQueue.total) || (openedBefore + pendingUrls.length);
          } else {
            this.shortcutOpenQueue = null;
          }

          const currentBatch = pendingUrls.slice(0, batchSize);
          const remainingUrls = pendingUrls.slice(batchSize);
          const opened = currentBatch.length > 1
            ? this.openUrlsWithTabPriming(currentBatch)
            : (this.openUrlInNewTab(currentBatch[0]) ? 1 : 0);
          const openedTotal = openedBefore + opened;

          if (remainingUrls.length > 0 && normalizedQueueKey) {
            this.shortcutOpenQueue = {
              key: normalizedQueueKey,
              total,
              opened: openedTotal,
              remainingUrls: remainingUrls
            };
          } else {
            this.shortcutOpenQueue = null;
          }

          return {
            total,
            opened,
            openedTotal,
            remaining: remainingUrls.length,
            queued: remainingUrls.length > 0
          };
        },
        showShortcutOpenResultToast(result) {
          const total = Number(result?.total) || 0;
          if (!total) return;
          const opened = Number(result?.openedTotal ?? result?.opened) || 0;
          const remaining = Number(result?.remaining) || 0;

          if (remaining > 0) {
            const template = this.getTranslation('link.shortcut.batchRemaining')
              || 'Opened {opened} of {total} link(s). {remaining} remaining. Trigger the same shortcut/action again to continue.';
            this.showToast(
              template
                .replace('{opened}', String(opened))
                .replace('{total}', String(total))
                .replace('{remaining}', String(remaining)),
              'warning'
            );
            return;
          }

          if (opened < total) {
            const template = this.getTranslation('link.shortcut.openedPartial')
              || 'Only opened {opened} of {total} link(s). Popup blocker may have blocked the rest.';
            this.showToast(
              template
                .replace('{opened}', String(opened))
                .replace('{total}', String(total)),
              'warning'
            );
            return;
          }

          this.showToast(
            (this.getTranslation('link.shortcut.opened') || 'Opened {count} link(s) via shortcut.')
              .replace('{count}', String(opened)),
            'info'
          );
        },
        openUrlsFromShortcutGroup(group) {
          if (!group || !Array.isArray(group.urls) || group.urls.length === 0) return;
          const uniqueUrls = [...new Set(group.urls)];
          const confirmThreshold = 8;
          if (uniqueUrls.length > confirmThreshold) {
            const confirmText = (this.getTranslation('link.shortcut.confirmMany') || 'Open {count} links at once?')
              .replace('{count}', uniqueUrls.length);
            if (!confirm(confirmText)) {
              this.shortcutOpenQueue = null;
              return;
            }
          }
          const openInNewTab = this.data?.options?.links?.openInNewTab !== false;
          const queueKey = `group:${String(group.combo || '').trim() || 'adhoc'}`;
          const result = this.openShortcutUrls(uniqueUrls, openInNewTab, queueKey);
          this.showShortcutOpenResultToast(result);
        },
        saveShortcutManagerDialog() {
          const drafts = Array.isArray(this.shortcutManager.globalDrafts) ? this.shortcutManager.globalDrafts : [];
          const normalizedEntries = [];
          for (let i = 0; i < drafts.length; i++) {
            const draft = drafts[i] || {};
            this.ensureShortcutDraftSelectionState(draft);
            const hasInput = !!(
              (draft.combo || '').trim()
              || (draft.name || '').trim()
              || (draft.groupIds || []).length
              || (draft.linkIds || []).length
              || (draft.legacyUrls || []).length
            );
            if (!hasInput) continue;
            const combo = this.normalizeShortcutText(draft.combo || '');
            if (!combo) {
              const msg = (this.getTranslation('shortcuts.manager.invalidCombo') || 'Please define a valid shortcut in row {row}.')
                .replace('{row}', String(i + 1));
              this.showToast(msg, 'warning');
              return;
            }
            if (this.isReservedShortcutCombo(combo)) {
              this.showToast(this.getTranslation('link.shortcut.reserved') || 'This shortcut is reserved by the browser/system.', 'warning');
              return;
            }
            const groupIds = this.normalizeShortcutIdList(draft.groupIds || []);
            const linkIds = this.normalizeShortcutIdList(draft.linkIds || []);
            const legacyUrls = this.normalizeShortcutUrlListFromText(draft.legacyUrls || []);
            const targetUrls = this.collectUrlsFromShortcutTargets({ groupIds, linkIds, legacyUrls });
            if (!targetUrls.length) {
              const msg = (this.getTranslation('shortcuts.manager.invalidTargets') || 'Please select at least one link or group in row {row}.')
                .replace('{row}', String(i + 1));
              this.showToast(msg, 'warning');
              return;
            }
            normalizedEntries.push({
              id: draft.id || this.generateUUID(),
              combo,
              name: (draft.name || '').trim(),
              groupIds,
              linkIds,
              urls: legacyUrls
            });
          }

          const mergedEntries = this.normalizeGlobalShortcutList(normalizedEntries, { ensureId: true });
          this.$set(this.data.options.links, 'globalShortcuts', mergedEntries);
          this.saveData();

          this.shortcutManager.globalDrafts = mergedEntries.map((entry) => ({
            id: entry.id || this.generateUUID(),
            combo: entry.combo || '',
            name: entry.name || '',
            groupIds: [...(entry.groupIds || [])],
            linkIds: [...(entry.linkIds || [])],
            legacyUrls: [...(entry.urls || [])]
          }));

          this.showToast(
            (this.getTranslation('shortcuts.manager.saved') || 'Saved {count} global shortcuts.')
              .replace('{count}', String(mergedEntries.length)),
            'success'
          );
          const modalElement = document.getElementById('shortcutManagerModal');
          if (modalElement) {
            const modalInstance = bootstrap.Modal.getInstance(modalElement) || bootstrap.Modal.getOrCreateInstance(modalElement);
            modalInstance.hide();
          }
        },
        isGroupMatched(g, q) {
          const query = (q || this.filterText || '').toLowerCase();
          if (!query) return true;
          return (
            g.name?.toLowerCase().includes(query)
            || (g.keywords && g.keywords.toLowerCase().includes(query))
            || (g.links && g.links.some(l =>
              l.text?.toLowerCase().includes(query)
              || (l.keywords && l.keywords.toLowerCase().includes(query))
              || (l.url && l.url.toLowerCase().includes(query))
            ))
          );
        },
        // Generic CSS parser function - parses JSON from complex colorpicker
        // ONLY applies properties that are actually SET (non-empty) in the JSON
        parseCssValue(value, defaultStyles = {}) {
          if (!value) return defaultStyles;
          
          // Try to parse as JSON from complex colorpicker
          try {
            const jsonData = JSON.parse(value);
            // Start with defaults
            const styles = { ...defaultStyles };
            
            // ONLY apply properties that have actual values (non-empty)
            // Background
            if (jsonData.backgroundColor && jsonData.backgroundColor.trim() !== '') {
              styles.backgroundColor = jsonData.backgroundColor;
            }
            
            // Text Color
            if (jsonData.color && jsonData.color.trim() !== '') {
              styles.color = jsonData.color;
            }
            
            // Opacity (only if not 100%)
            if (jsonData.opacity && jsonData.opacity < 100) {
              styles.opacity = (jsonData.opacity / 100).toFixed(2);
            }
            
            // Font properties
            if (jsonData.fontFamily && jsonData.fontFamily.trim() !== '') {
              styles.fontFamily = jsonData.fontFamily;
            }
            if (jsonData.fontSize && jsonData.fontSize !== '') {
              styles.fontSize = jsonData.fontSize + (jsonData.fontSizeUnit || 'px');
            }
            if (jsonData.fontWeight && jsonData.fontWeight.trim() !== '') {
              styles.fontWeight = jsonData.fontWeight;
            }
            if (jsonData.fontStyle && jsonData.fontStyle.trim() !== '' && jsonData.fontStyle !== 'normal') {
              styles.fontStyle = jsonData.fontStyle;
            }
            if (jsonData.textDecoration && jsonData.textDecoration.trim() !== '' && jsonData.textDecoration !== 'none') {
              styles.textDecoration = jsonData.textDecoration;
            }
            
            // Border properties - only apply if borderStyle is not 'none' or empty
            if (jsonData.borderStyle && jsonData.borderStyle !== '' && jsonData.borderStyle !== 'none') {
              styles.borderStyle = jsonData.borderStyle;
              
              // Only add width and color if border style exists and is not 'none'
              if (jsonData.borderWidth !== '' && jsonData.borderWidth !== undefined) {
                styles.borderWidth = (jsonData.borderWidth || 1) + 'px';
              }
              
              if (jsonData.borderColor && jsonData.borderColor.trim() !== '') {
                styles.borderColor = jsonData.borderColor;
              }
            }
            // If borderStyle is explicitly 'none', don't add any border properties at all
            
            // Border radius (only if > 0)
            if (jsonData.borderRadius && parseFloat(jsonData.borderRadius) > 0) {
              styles.borderRadius = jsonData.borderRadius + 'px';
            }
            
            // Box shadow (only if set)
            if (jsonData.boxShadow && jsonData.boxShadow.trim() !== '') {
              styles.boxShadow = jsonData.boxShadow;
            }
            
            // Spacing
            // Side-specific padding
            const pT = parseFloat(jsonData.paddingTop);
            const pR = parseFloat(jsonData.paddingRight);
            const pB = parseFloat(jsonData.paddingBottom);
            const pL = parseFloat(jsonData.paddingLeft);
            if (!isNaN(pT)) styles.paddingTop = pT + 'px';
            if (!isNaN(pR)) styles.paddingRight = pR + 'px';
            if (!isNaN(pB)) styles.paddingBottom = pB + 'px';
            if (!isNaN(pL)) styles.paddingLeft = pL + 'px';
            // Fallback uniform padding
            if (jsonData.padding !== undefined && jsonData.padding !== '') {
              const pv = parseFloat(jsonData.padding);
              if (!isNaN(pv)) styles.padding = pv + 'px';
            }
            // Side-specific margin
            const mT = parseFloat(jsonData.marginTop);
            const mR = parseFloat(jsonData.marginRight);
            const mB = parseFloat(jsonData.marginBottom);
            const mL = parseFloat(jsonData.marginLeft);
            if (!isNaN(mT)) styles.marginTop = mT + 'px';
            if (!isNaN(mR)) styles.marginRight = mR + 'px';
            if (!isNaN(mB)) styles.marginBottom = mB + 'px';
            if (!isNaN(mL)) styles.marginLeft = mL + 'px';
            // Fallback uniform margin
            if (jsonData.margin !== undefined && jsonData.margin !== '') {
              const mv = parseFloat(jsonData.margin);
              if (!isNaN(mv)) styles.margin = mv + 'px';
            }
            
            return styles;
          } catch (e) {
            // Not JSON - check if it's a CSS string
            if (typeof value === 'string' && value.includes(':') && value.includes(';')) {
              // Parse CSS string
              const styles = { ...defaultStyles };
              const rules = value.split(';').filter(r => r.trim());
              rules.forEach(rule => {
                const [prop, val] = rule.split(':').map(s => s.trim());
                if (prop && val) {
                  // Convert CSS property names to camelCase
                  const camelProp = prop.replace(/-([a-z])/g, (g) => g[1].toUpperCase());
                  styles[camelProp] = val;
                }
              });
              return styles;
            }
            
            // Simple value (e.g., just a color)
            if (typeof value === 'string' && value.trim()) {
              // Assume it's a background color
              return { ...defaultStyles, backgroundColor: value };
            }
            
            return defaultStyles;
          }
        },
        
        // Get primary color from parsed CSS (for calculations like gradients)
        getPrimaryColorFromCss(value, defaultColor = '') {
          if (!value) return defaultColor;
          
          try {
            const jsonData = JSON.parse(value);
            return jsonData.backgroundColor || defaultColor;
          } catch (e) {
            // Check for simple hex color
            if (typeof value === 'string' && value.match(/^#[0-9A-Fa-f]{3,6}$/)) {
              return value;
            }
            // Check for CSS string with background-color
            if (typeof value === 'string' && value.includes('background-color:')) {
              const match = value.match(/background-color:\s*([^;]+)/);
              if (match) return match[1].trim();
            }
            return defaultColor;
          }
        },
        
        // All styling is now handled via CSS variables and classes
        // Style functions have been removed - use CSS classes and variables instead
        
        calculateStorageUsage(precomputedDataString = null) {
          try {
            let totalSize = 0;
            
            // Calculate size of the main data object (stored in IndexedDB)
            if (this.data) {
              const dataString = (typeof precomputedDataString === 'string')
                ? precomputedDataString
                : JSON.stringify(this.data);
              // Each character in JavaScript strings is typically 2 bytes (UTF-16)
              // But JSON.stringify creates UTF-8, so we use the actual byte length
              totalSize = new Blob([dataString]).size;
              
              debugLog('log', '[STORAGE] Data size calculation:', {
                groups: this.data.groups?.length || 0,
                totalLinks: this.data.groups?.reduce((sum, g) => sum + (g.links?.length || 0), 0) || 0,
                snapshots: this.data.snapshots?.length || 0,
                contacts: this.data.contacts?.length || 0,
                stringLength: dataString.length,
                byteSize: totalSize
              });
            }
            
            // Also add localStorage items (like preferences, etc.)
            for (let key in localStorage) {
              if (localStorage.hasOwnProperty(key)) {
                const item = localStorage.getItem(key);
                totalSize += new Blob([key + item]).size;
              }
            }
            
            this.storageUsed = totalSize;
          } catch (e) {
            debugLog('error', 'Error calculating storage:', e);
            this.storageUsed = 0;
          }
        },
        scheduleStorageUsageRecalc(precomputedDataString = null) {
          if (!this._debouncedStorageUsage) {
            this._debouncedStorageUsage = debounce(this.calculateStorageUsage, 500).bind(this);
          }
          this._debouncedStorageUsage(precomputedDataString);
        },

        // Schedule/clear CardDAV auto-sync timer based on options
        scheduleCardDavAutoSync() {
          try { if (this.carddavTimer) { clearInterval(this.carddavTimer); this.carddavTimer = null; } } catch {}
          const backend = this.data.options?.sync?.backend || '';
          if (!this.extensionAvailable || !backend) return;
          let sec = 0;
          if (backend === 'carddav') sec = Number(this.data.options?.carddav?.syncIntervalSec || 0);
          if (backend === 'nc-bookmarks') sec = Number(this.data.options?.bookmarks?.syncIntervalSec || 0);
          if (!sec || sec <= 0) {
            sec = Number(this.data.options?.sync?.autoSyncInterval || 0);
          }
          if (!Number.isFinite(sec)) sec = 0;
          if (!sec || sec <= 0) return;
          this.carddavTimer = setInterval(() => {
            try { this.syncNowGeneric(); } catch (e) { debugLog('warn', '[SYNC] auto-sync error', e); }
          }, sec * 1000);
          debugLog('log', `[SYNC] Auto-sync scheduled every ${sec}s for backend ${backend}`);
        },
        
        formatStorageSize(bytes) {
          if (bytes < 1024) return bytes + ' B';
          if (bytes < 1048576) return (bytes / 1024).toFixed(2) + ' KB';
          if (bytes < 1073741824) return (bytes / 1048576).toFixed(2) + ' MB';
          return (bytes / 1073741824).toFixed(2) + ' GB';
        },

        getBackupUrgencyStatus() {
          const options = this.getBackupReminderOptions();
          const state = this.normalizeBackupReminderState();
          const totalLinks = this.countAllLinks();
          if (totalLinks <= 0) {
            return {
              score: 0,
              level: 'low',
              color: this.getBackupUrgencyColor(0),
              hasBackup: false,
              daysSinceBackup: 0,
              changesSinceBackup: 0,
              intervalDays: Math.max(1, Number(options.intervalDays) || 1),
              changeThreshold: Math.max(1, Number(options.changeThreshold) || 1),
              remindersEnabled: options.enabled,
              totalLinks
            };
          }

          const now = Date.now();
          const hasBackup = state.lastBackupAt > 0;
          const daysSinceBackup = hasBackup
            ? Math.max(0, Math.floor((now - state.lastBackupAt) / CONSTS.DAY_MS))
            : 0;
          const intervalDays = Math.max(1, Number(options.intervalDays) || 1);
          const changeThreshold = Math.max(1, Number(options.changeThreshold) || 1);

          // Score blends elapsed backup age (65%) + number of changes (35%).
          // If no backup exists, add a fixed urgency boost.
          const timeRatio = hasBackup ? (daysSinceBackup / intervalDays) : 0.5;
          const changeRatio = state.changesSinceBackup / changeThreshold;
          const noBackupBoost = hasBackup ? 0 : 30;

          const rawScore = (Math.max(0, timeRatio) * 65) + (Math.max(0, changeRatio) * 35) + noBackupBoost;
          const score = Math.max(0, Math.min(100, Math.round(rawScore)));

          let level = 'low';
          if (score >= 67) {
            level = 'high';
          } else if (score >= 34) {
            level = 'medium';
          }

          return {
            score,
            level,
            color: this.getBackupUrgencyColor(score),
            hasBackup,
            daysSinceBackup,
            changesSinceBackup: state.changesSinceBackup,
            intervalDays,
            changeThreshold,
            remindersEnabled: options.enabled,
            totalLinks
          };
        },
        isBackupUrgencyIndicatorVisible() {
          const options = this.getBackupReminderOptions();
          return options.showUrgencyIndicator !== false;
        },
        shouldHighlightExportByBackupUrgency() {
          const status = this.getBackupUrgencyStatus();
          return status.totalLinks > 0 && status.score >= 34; // yellow range and above
        },
        getExportBackupAlertClass() {
          if (!this.shouldHighlightExportByBackupUrgency()) return '';
          const options = this.getBackupReminderOptions();
          return {
            'mb-export-backup-alert': true,
            'mb-export-backup-alert--blink': options.exportBlinkEnabled !== false
          };
        },
        getExportBackupAlertStyle() {
          if (!this.shouldHighlightExportByBackupUrgency()) return null;
          const status = this.getBackupUrgencyStatus();
          const intensity = Math.max(0, Math.min(1, (status.score - 34) / 66));
          const blinkDuration = (1.15 - (intensity * 0.65)).toFixed(2);
          const minOpacity = (0.65 - (intensity * 0.45)).toFixed(2);
          const ringSize = `${(2 + (intensity * 8)).toFixed(1)}px`;
          const blurSize = `${(4 + (intensity * 12)).toFixed(1)}px`;
          return {
            '--mb-backup-alert-color': status.color,
            '--mb-backup-blink-duration': `${blinkDuration}s`,
            '--mb-backup-blink-min-opacity': minOpacity,
            '--mb-backup-blink-ring-size': ringSize,
            '--mb-backup-blink-blur': blurSize
          };
        },
        getBackupUrgencyColor(score) {
          const normalizedScore = Math.max(0, Math.min(100, Number(score) || 0));
          const hue = Math.round((100 - normalizedScore) * 1.2); // 0..100 => red..green
          return `hsl(${hue} 82% 44%)`;
        },
        getBackupUrgencyIndicatorStyle() {
          const status = this.getBackupUrgencyStatus();
          const borderColor = status.score >= 67
            ? 'rgba(120, 0, 0, 0.60)'
            : 'rgba(33, 37, 41, 0.35)';
          return {
            backgroundColor: status.color,
            borderColor
          };
        },
        getBackupUrgencyTooltip() {
          const status = this.getBackupUrgencyStatus();
          const levelLabel = this.getTranslation(`backup.urgency.level.${status.level}`) || status.level;
          const lines = [
            `${this.getTranslation('backup.urgency.title') || 'Backup urgency'}: ${levelLabel}`,
            `${this.getTranslation('backup.urgency.score') || 'Score'}: ${status.score}/100`
          ];

          if (status.totalLinks <= 0) {
            lines.push(this.getTranslation('backup.urgency.empty') || 'No links available yet.');
            return lines.join('\n');
          }

          if (status.hasBackup) {
            const backupTemplate = this.getTranslation('backup.urgency.lastBackup.days') || 'Last backup: {days} day(s) ago';
            lines.push(backupTemplate.replace('{days}', String(status.daysSinceBackup)));
          } else {
            lines.push(this.getTranslation('backup.urgency.lastBackup.none') || 'No backup recorded yet');
          }

          const changesTemplate = this.getTranslation('backup.urgency.changes') || 'Changes since backup: {count}';
          lines.push(changesTemplate.replace('{count}', String(status.changesSinceBackup)));

          const thresholdsTemplate = this.getTranslation('backup.urgency.thresholds') || 'Thresholds: {days} day(s) / {changes} changes';
          lines.push(
            thresholdsTemplate
              .replace('{days}', String(status.intervalDays))
              .replace('{changes}', String(status.changeThreshold))
          );

          if (!status.remindersEnabled) {
            lines.push(this.getTranslation('backup.urgency.remindersDisabled') || 'Backup reminders are currently disabled');
          }

          return lines.join('\n');
        },
        
        getStorageTooltip() {
          const used = this.formatStorageSize(this.storageUsed);
          return `${used}`;
        },
        getGroupInnerStyle(group) { return null; },
        getGroupKeywordBadgeStyle(group) {
          // Use titleFormatting which is what's actually set for group titles
          const color = group?.titleFormatting || group?.color || '#6c757d';
          return {
            backgroundColor: `${color} !important`,
            color: `${this.getContrastingTextColor(color)} !important`,
            opacity: '1 !important',
            border: 'none !important'
          };
        },
        getLinkKeywordBadgeStyle(link, group) {
          // Priority: link color > group titleColor > group color > default
          let bgColor = '#6c757d'; // default gray
          
          // Check if link has a color set
          if (link && link.color) {
            try {
              const parsed = JSON.parse(link.color);
              // If it's JSON from CSS dialog, extract the background color
              bgColor = parsed.backgroundColor || parsed.color || bgColor;
            } catch (e) {
              // Not JSON, use as-is
              bgColor = link.color;
            }
          } else {
            // Fall back to group's titleFormatting for consistency with keyword overview
            bgColor = group?.titleFormatting || group?.color || bgColor;
          }
          
          return {
            backgroundColor: `${bgColor} !important`,
            color: `${this.getContrastingTextColor(bgColor)} !important`,
            fontSize: '0.65rem',
            padding: '0.15rem 0.4rem',
            marginLeft: '0.2rem',
            opacity: '1 !important',
            border: 'none !important'
          };
        },
        groupKeywordsArray(group) {
          if (!group || !group.keywords) return [];
          return this.parseKeywords(group.keywords);
        },
        // --- Auto-expand collapsed groups on link hover ---
        scheduleExpandGroup(group) {
          if (!group || !group.collapsed) return;
          if (this.dragState !== 'link') return;
          if (!this.data.options?.groups?.hoverExpandEnabled) return;
          if (this.expandHoverTimers[group.uuid]) return;
          const delay = Math.max(0, Number(this.data.options?.groups?.hoverExpandDelayMs) || 0);
          this.expandHoverTimers[group.uuid] = setTimeout(() => {
            try {
              if (this.dragState === 'link' && group.collapsed) {
                // Expand only if still collapsed
                this.toggleGroupCollapse(group);
              }
            } finally {
              this.$delete(this.expandHoverTimers, group.uuid);
            }
          }, delay);
        },
        captureInternalLinkDragPointer(event) {
          const isInternalLinkDrag = this.dragState === 'link';
          const isExternalLinkDrag = this.externalLinkDragActive || this.isLikelyExternalLinkDrag(event);
          if (!isInternalLinkDrag && !isExternalLinkDrag) return;
          const x = Number(event?.clientX);
          const y = Number(event?.clientY);
          if (!Number.isFinite(x) || !Number.isFinite(y)) return;
          if (x < 0 || y < 0) return;
          this.internalLinkDragPointer = { x, y, ts: Date.now() };
        },
        getInternalLinkDragPoint(event) {
          const x = Number(event?.clientX);
          const y = Number(event?.clientY);
          if (Number.isFinite(x) && Number.isFinite(y) && x >= 0 && y >= 0) {
            // Some engines report 0/0 on dragend although cursor is elsewhere.
            if (!(x === 0 && y === 0)) {
              return { x, y };
            }
          }
          const cached = this.internalLinkDragPointer;
          if (!cached) return null;
          if (!Number.isFinite(cached.x) || !Number.isFinite(cached.y)) return null;
          if (!Number.isFinite(cached.ts)) return null;
          if ((Date.now() - cached.ts) > 4000) return null;
          return { x: cached.x, y: cached.y };
        },
        getElementsAtPoint(point) {
          if (!point) return [];
          try {
            if (typeof document.elementsFromPoint === 'function') {
              const elements = document.elementsFromPoint(point.x, point.y);
              if (Array.isArray(elements) && elements.length) return elements;
            }
            const single = document.elementFromPoint(point.x, point.y);
            return single ? [single] : [];
          } catch {
            return [];
          }
        },
        handleGroupDragEnter(event, group) {
          if (this.dragState !== 'link') return;
          this.captureInternalLinkDragPointer(event);
          this.scheduleExpandGroup(group);
        },
        handleGroupDragOver(event, group) {
          if (this.dragState !== 'link') return;
          this.captureInternalLinkDragPointer(event);
          this.scheduleExpandGroup(group);
        },
        handleGroupDragLeave(group) {
          const t = this.expandHoverTimers[group?.uuid];
          if (t) {
            clearTimeout(t);
            this.$delete(this.expandHoverTimers, group.uuid);
          }
        },
        clearExpandHoverTimers() {
          Object.values(this.expandHoverTimers).forEach(t => clearTimeout(t));
          this.expandHoverTimers = {};
        },
        getDataTransferTypes(dataTransfer) {
          const rawTypes = dataTransfer?.types ? Array.from(dataTransfer.types) : [];
          return rawTypes
            .map((type) => String(type || '').toLowerCase())
            .filter(Boolean);
        },
        isLikelyExternalLinkDrag(event) {
          if (this.dragState === 'group' || this.dragState === 'link') return false;
          const types = this.getDataTransferTypes(event?.dataTransfer);
          if (!types.length) return false;
          if (types.includes('files')) return false;

          const hasKnownUrlType = types.some((type) =>
            type === 'text/uri-list'
            || type === 'text/x-moz-url'
            || type === 'public.url'
            || type === 'url'
          );
          if (hasKnownUrlType) return true;

          const hasTextLikeType = types.includes('text/plain') || types.includes('text/html');
          if (!hasTextLikeType) return false;

          // Fallback: if browser already exposes a URL before drop, trust it.
          const extracted = this.extractUrlAndTitle(event?.dataTransfer);
          return !!(extracted && /^https?:\/\//i.test(extracted.url || ''));
        },
        markExternalLinkDragActivity(event) {
          if (!this.isLikelyExternalLinkDrag(event)) return;
          this.externalLinkDragActive = true;
          if (this.externalLinkDragCleanupTimer) {
            clearTimeout(this.externalLinkDragCleanupTimer);
          }
          // External drags can end without a reliable dragend in this document.
          this.externalLinkDragCleanupTimer = setTimeout(() => {
            this.resetExternalLinkDragState();
          }, 220);
        },
        resetExternalLinkDragState() {
          if (this.externalLinkDragCleanupTimer) {
            clearTimeout(this.externalLinkDragCleanupTimer);
            this.externalLinkDragCleanupTimer = null;
          }
          this.externalLinkDragActive = false;
          if (this.dropManager && this.dropManager.activeDropZone) {
            this.dropManager.activeDropZone.classList.remove('drag-over-active');
            this.dropManager.activeDropZone = null;
          }
        },
        handleGlobalExternalDragEnter(event) {
          this.captureInternalLinkDragPointer(event);
          this.markExternalLinkDragActivity(event);
        },
        handleGlobalExternalDragOver(event) {
          this.captureInternalLinkDragPointer(event);
          if (this.isLikelyExternalLinkDrag(event)) {
            event.preventDefault();
          }
          this.markExternalLinkDragActivity(event);
        },
        handleGlobalExternalDragLeave() {
          if (!this.externalLinkDragActive || this.dragState === 'group' || this.dragState === 'link') return;
          if (this.externalLinkDragCleanupTimer) clearTimeout(this.externalLinkDragCleanupTimer);
          this.externalLinkDragCleanupTimer = setTimeout(() => {
            this.resetExternalLinkDragState();
          }, 80);
        },
        isBackgroundLinkDropTarget(event) {
          const target = event?.target;
          if (!target || typeof target.closest !== 'function') return false;
          const inWorkspace = !!target.closest('.mb-groups-links-container, .mainContainer, .groupsTable');
          if (!inWorkspace) return false;
          if (target.closest('.groupContainer')) return false;
          return true;
        },
        isBackgroundPointTarget(pointElements) {
          if (!Array.isArray(pointElements) || !pointElements.length) return false;
          const inWorkspace = pointElements.some(el =>
            el && typeof el.closest === 'function' && el.closest('.mb-groups-links-container, .mainContainer, .groupsTable')
          );
          if (!inWorkspace) return false;
          const insideGroup = pointElements.some(el =>
            el && typeof el.closest === 'function' && el.closest('.groupContainer')
          );
          return !insideGroup;
        },
        async tryHandleInternalBackgroundDropFromDragEnd(event) {
          const hasInternalLinkDrag = this.dragState === 'link'
            && this.dropManager
            && this.dropManager.draggedState === 'link'
            && !!this.dropManager.oldItem;
          if (!hasInternalLinkDrag) return false;

          const sourceGroup = this.dropManager.oldArr
            ? (this.data.groups || []).find(g => g.links === this.dropManager.oldArr)
            : null;
          if (sourceGroup && !this.canDelete(sourceGroup)) {
            alert(this.getTranslation('error.perm.delete') || 'You do not have permission to remove links from this group');
            this.dropManager.reset();
            return true;
          }

          const point = this.getInternalLinkDragPoint(event);
          if (!point) return false;
          const pointElements = this.getElementsAtPoint(point);
          if (!this.isBackgroundPointTarget(pointElements)) return false;

          const newGroup = this.createGroupWithDefaults('New Group');
          const beforeCount = (newGroup.links || []).length;
          await this.dropManager.onDrop(event, newGroup.links, null, beforeCount, 0, 'link');
          const inserted = (newGroup.links || []).length > beforeCount;
          if (!inserted) {
            const newGroupIndex = (this.data.groups || []).findIndex(g => g.uuid === newGroup.uuid);
            if (newGroupIndex > -1) {
              this.data.groups.splice(newGroupIndex, 1);
              this.normalizeColumnNumbers();
              this.saveData();
            }
            return false;
          }

          this.touchGroup(newGroup, Date.now());
          this.saveData();
          this.maybeAutoAdjustGroupHeightAfterLinkChange(newGroup);
          return true;
        },
        async handleGlobalExternalDrop(event) {
          let handledBackgroundDrop = false;
          try {
            const isBackgroundDrop = this.isBackgroundLinkDropTarget(event);
            const hasInternalLinkDrop = this.dragState === 'link'
              && this.dropManager
              && this.dropManager.draggedState === 'link'
              && !!this.dropManager.oldItem;
            const extracted = this.extractUrlAndTitle(event?.dataTransfer);
            const hasExternalUrlDrop = !!(extracted && /^https?:\/\//i.test(extracted.url || ''));

            if (!isBackgroundDrop || (!hasInternalLinkDrop && !hasExternalUrlDrop)) {
              return;
            }
            handledBackgroundDrop = true;

            if (hasInternalLinkDrop) {
              const sourceGroup = this.dropManager.oldArr
                ? (this.data.groups || []).find(g => g.links === this.dropManager.oldArr)
                : null;
              if (sourceGroup && !this.canDelete(sourceGroup)) {
                alert(this.getTranslation('error.perm.delete') || 'You do not have permission to remove links from this group');
                this.dropManager.reset();
                return;
              }
            }

            event.preventDefault();
            event.stopPropagation();

            const newGroup = this.createGroupWithDefaults('New Group');
            let linkWasInserted = false;

            if (hasInternalLinkDrop) {
              const beforeCount = (newGroup.links || []).length;
              await this.dropManager.onDrop(event, newGroup.links, null, beforeCount, 0, 'link');
              linkWasInserted = (newGroup.links || []).length > beforeCount;
            } else if (hasExternalUrlDrop) {
              const beforeCount = (newGroup.links || []).length;
              await this.handleLinkDrop(event, newGroup, beforeCount, 0);
              linkWasInserted = (newGroup.links || []).length > beforeCount;
            }

            if (!linkWasInserted) {
              const newGroupIndex = (this.data.groups || []).findIndex(g => g.uuid === newGroup.uuid);
              if (newGroupIndex > -1) {
                this.data.groups.splice(newGroupIndex, 1);
                this.normalizeColumnNumbers();
                this.saveData();
              }
            } else {
              this.touchGroup(newGroup, Date.now());
              this.saveData();
              this.maybeAutoAdjustGroupHeightAfterLinkChange(newGroup);
            }
          } catch (error) {
            debugLog('warn', '[DND] Background link drop handler failed', error);
          } finally {
            if (handledBackgroundDrop) {
              this.internalLinkDragPointer = null;
            }
            this.resetExternalLinkDragState();
          }
        },

        resetAllMouseOverStates() {
          // Reset mouseover state for all groups
          if (this.data.groups) {
            this.data.groups.forEach(group => {
              group.isMouseOver = false;
              // Reset mouseover state for all links in the group
              if (group.links) {
                group.links.forEach(link => {
                  link.isMouseOver = false;
                });
              }
            });
          }
          debugLog('log', 'Reset all mouseover states for groups and links');
        },

        expandAllGroups() {
          (this.data.groups || []).forEach(g => { this.$set(g, 'collapsed', false); });
          this.saveData();
        },
        collapseAllGroups() {
          (this.data.groups || []).forEach(g => { this.$set(g, 'collapsed', true); });
          this.saveData();
        },
        resolveImplicitLinkDropColumn(group, groupElement, point, pointElements, fallbackColumn) {
          const links = Array.isArray(group?.links) ? group.links : [];
          const knownColumns = this.getLinkColumns(links);
          const fallback = Number.isFinite(Number(fallbackColumn)) ? Number(fallbackColumn) : (knownColumns[0] ?? 0);
          const cells = Array.from(groupElement?.querySelectorAll('td.linkCell') || []);
          if (!cells.length) return fallback;

          const cellToColumn = (cell, fallbackIndex = 0) => {
            const parsed = Number(cell?.dataset?.linkColumn);
            if (Number.isFinite(parsed)) return parsed;
            return knownColumns[fallbackIndex] ?? fallback;
          };

          if (Array.isArray(pointElements) && pointElements.length) {
            for (const element of pointElements) {
              if (!element || typeof element.closest !== 'function') continue;
              const cell = element.closest('td.linkCell');
              if (cell && groupElement.contains(cell)) {
                return cellToColumn(cell, cells.indexOf(cell));
              }
            }
          }

          for (let i = 0; i < cells.length; i += 1) {
            const rect = cells[i].getBoundingClientRect();
            if (point.x >= rect.left && point.x <= rect.right) {
              return cellToColumn(cells[i], i);
            }
          }

          let nearestColumn = fallback;
          let nearestDistance = Number.POSITIVE_INFINITY;
          for (let i = 0; i < cells.length; i += 1) {
            const rect = cells[i].getBoundingClientRect();
            const centerX = rect.left + (rect.width / 2);
            const distance = Math.abs(point.x - centerX);
            if (distance < nearestDistance) {
              nearestDistance = distance;
              nearestColumn = cellToColumn(cells[i], i);
            }
          }
          return nearestColumn;
        },
        resolveImplicitLinkDropIndex(group, groupElement, targetColumn, point, pointElements, fallbackIndex) {
          const links = Array.isArray(group?.links) ? group.links : [];
          const linksInColumn = links
            .filter(link => (link.column || 0) === targetColumn)
            .sort((a, b) => (a.index || 0) - (b.index || 0));
          if (!linksInColumn.length) return 0;

          if (Array.isArray(pointElements) && pointElements.length) {
            for (const element of pointElements) {
              if (!element || typeof element.closest !== 'function') continue;
              const row = element.closest('.linkContainerListItem[data-uuid]');
              if (!row || !groupElement.contains(row)) continue;
              const rowUuid = String(row.dataset.uuid || '');
              const rowPosition = linksInColumn.findIndex(link => String(link.uuid) === rowUuid);
              if (rowPosition < 0) break;
              const rect = row.getBoundingClientRect();
              const insertAfter = point.y > (rect.top + rect.height / 2);
              const insertion = rowPosition + (insertAfter ? 1 : 0);
              return Math.max(0, Math.min(insertion, linksInColumn.length));
            }
          }

          const fallback = Number.isFinite(Number(fallbackIndex)) ? Number(fallbackIndex) : linksInColumn.length;
          return Math.max(0, Math.min(fallback, linksInColumn.length));
        },
        resolveImplicitLinkDropTarget(evt, group, fallbackIndex, fallbackColumn, options = {}) {
          const allowExternal = !!options.allowExternal;
          const fallback = {
            targetIndex: Number.isFinite(Number(fallbackIndex)) ? Number(fallbackIndex) : 0,
            targetColumn: Number.isFinite(Number(fallbackColumn)) ? Number(fallbackColumn) : 0
          };
          if (this.dragState !== 'link' && !allowExternal) return fallback;

          const groupElement = evt?.currentTarget;
          if (!groupElement || !groupElement.classList || !groupElement.classList.contains('groupContainer')) {
            return fallback;
          }
          const eventGroupUuid = String(groupElement.dataset?.uuid || '');
          if (!eventGroupUuid || eventGroupUuid !== String(group?.uuid || '')) {
            return fallback;
          }

          const point = this.getInternalLinkDragPoint(evt);
          if (!point) return fallback;
          const pointElements = this.getElementsAtPoint(point);
          const targetColumn = this.resolveImplicitLinkDropColumn(group, groupElement, point, pointElements, fallback.targetColumn);
          const targetIndex = this.resolveImplicitLinkDropIndex(group, groupElement, targetColumn, point, pointElements, Number.NaN);
          debugLog('log', '[DND] Resolved implicit link drop target', {
            groupUuid: group?.uuid,
            targetColumn,
            targetIndex,
            x: point.x,
            y: point.y
          });
          return { targetIndex, targetColumn };
        },

        async handleDragEnd(evt) {
          debugLog('log', "handleDragEnd called");

          // Reset cursor for dragged element
          if (evt?.target) {
            evt.target.style.cursor = 'grab';
          }

          // Always reset mouseover states when drag ends
          this.resetAllMouseOverStates();

          // Check if we even have a drag operation in progress
          if (!this.dropManager.draggedState) {
            debugLog('log', "No drag state found, ignoring dragend (already reset)");
            this.internalLinkDragPointer = null;
            return;
          }

          // Check if enough time has passed since drag started
          const dragDuration = this.dropManager.dragStartTime ? Date.now() - this.dropManager.dragStartTime : 0;
          debugLog('log', "Drag duration:", dragDuration, "ms");

          // Browser detection
          const userAgent = navigator.userAgent;
          const isEdge = /Edg/.test(userAgent);
          
          // Edge specific: Handle immediate dragend (< 100ms) differently
          if (isEdge && dragDuration < 100) {
            debugLog('log', "Edge: Immediate dragend detected (< 100ms), keeping state for real drag");
            // This is Edge's immediate cancel - keep everything active
            // Clear the start time to allow the next attempt
            this.dropManager.dragStartTime = null;
            // Mark that we're expecting a second attempt
            this.dropManager.edgeDragPending = true;
            // Keep drag state and dropzones visible
            return;
          }
          
          // For Edge with pending drag, check if this is a real drag
          if (isEdge && this.dropManager.edgeDragPending) {
            debugLog('log', "Edge: Real drag completed after pending state");
            this.dropManager.edgeDragPending = false;
          }
          
          // For other short durations, might be a cancel
          if (dragDuration < 200) {
            debugLog('log', `Short drag duration (${dragDuration}ms), likely cancelled`);
          }

          try {
            const handledBackgroundDrop = await this.tryHandleInternalBackgroundDropFromDragEnd(evt);
            if (handledBackgroundDrop) {
              this.internalLinkDragPointer = null;
              return;
            }
          } catch (error) {
            debugLog('warn', '[DND] Dragend background drop fallback failed', error);
          }

          debugLog('log', "Processing legitimate dragend event");
          this.dropManager.reset();
          this.dropManager.edgeDragAttempt = false;
        },
        
        // Universal browser workaround for drag and drop
        prepareForDrag(event, element) {
          if (!element) return;
          
          // Detect browser engine
          const userAgent = navigator.userAgent;
          const isEdge = /Edg/.test(userAgent);
          const isChrome = /Chrome/.test(userAgent) && !isEdge;
          const isFirefox = /Firefox/.test(userAgent);
          const isSafari = /Safari/.test(userAgent) && !isChrome && !isEdge;
          
          if (event.type === 'mouseover') {
            // Always ensure element is draggable on mouseover
            if (element.getAttribute('draggable') !== 'true') {
              element.setAttribute('draggable', 'true');
              debugLog('log', `DnD: Setting draggable=true on mouseover`);
            }
            
            // Browser-specific optimizations
            if (isEdge || isChrome) {
              // Chromium-based browsers need these styles
              element.style.webkitUserDrag = 'element';
              element.style.webkitUserSelect = 'none';
            }
            
            // Universal styles for better drag experience
            element.style.userSelect = 'none';
            element.style.cursor = 'grab';
          } else if (event.type === 'mousedown') {
            // For Edge, we need to ensure draggable is still true
            if (isEdge) {
              // Double-check draggable is set for Edge
              if (element.getAttribute('draggable') !== 'true') {
                element.setAttribute('draggable', 'true');
                debugLog('log', "Edge: Re-ensuring draggable=true on mousedown");
              }
              // Don't change cursor to grabbing for Edge as it might interfere
              debugLog('log', "Edge: Mousedown handled, maintaining grab cursor");
            } else {
              // For non-Edge browsers
              element.style.cursor = 'grabbing';
              debugLog('log', `DnD: Mousedown handled for non-Edge browser`);
            }
          }
        },

        handleDropToNewColumn(evt, targetColumnIndex) {
          debugLog('log', `handleDropToNewColumn called for target column index ${targetColumnIndex}`);

          // Prevent default and stop propagation
          evt.preventDefault();
          evt.stopPropagation();

          // Get the dragged group from dropManager
          const draggedGroup = this.dropManager.oldItem;
          const draggedState = this.dropManager.draggedState;

          debugLog('log', 'Dragged group:', draggedGroup);
          debugLog('log', 'Dragged state:', draggedState);

          if (!draggedGroup || draggedState !== 'group') {
            debugLog('warn', 'No valid group being dragged');
            this.dropManager.reset();
            return;
          }

          const oldColumn = draggedGroup.column;
          const oldIndex = draggedGroup.index;
          const sourceColumnGroupCount = this.data.groups.filter(g => g.column === oldColumn).length;
          const isOnlyGroupInSourceColumn = sourceColumnGroupCount === 1;

          // Get all existing columns sorted
          const existingColumns = this.getGroupColumns();
          debugLog('log', 'Existing columns before move:', existingColumns);
          debugLog('log', `Moving group from column ${oldColumn} to dropzone at position ${targetColumnIndex}`);

          // Check if this is the same position (no move needed)
          if (targetColumnIndex !== -1) {
            // The dropzone after column X has targetColumnIndex = X + 1
            // So if we're dropping on the dropzone right after our current column, it's a no-op
            if (oldColumn === targetColumnIndex || oldColumn === targetColumnIndex - 1) {
              if (isOnlyGroupInSourceColumn) {
                debugLog('log', 'Group is alone in its column and dropping in adjacent position - no move needed');
                this.dropManager.reset();
                return;
              }
            }
          }

          let insertedColumnWidth = CONSTS.GROUP_COLUMN_WIDTH_MIN;
          if (this.isManualGroupColumnWidthEnabled()) {
            this.ensureGroupColumnWidthsInitialized(existingColumns);
            if (isOnlyGroupInSourceColumn) {
              const sourceWidth = this.normalizeGroupColumnWidth(this.getCurrentGroupColumnWidth(oldColumn));
              insertedColumnWidth = Number.isFinite(sourceWidth) ? sourceWidth : CONSTS.GROUP_COLUMN_WIDTH_MIN;
            }
          }
          let newColumnIndex;

          if (targetColumnIndex === -1) {
            // Drop before first column - all columns shift right
            newColumnIndex = 0;
            this.shiftGroupColumnWidthsRight(0);
            if (this.isManualGroupColumnWidthEnabled()) {
              this.setGroupColumnWidth(newColumnIndex, insertedColumnWidth);
            }

            // Shift all groups to the right (except the dragged one)
            this.data.groups.forEach(g => {
              if (g.uuid !== draggedGroup.uuid) {
                g.column = (g.column || 0) + 1;
              }
            });
          } else {
            // targetColumnIndex is the position where we want to insert the new column
            // This is the column index AFTER which the dropzone is located

            // The new column should be created at this exact position
            newColumnIndex = targetColumnIndex;
            this.shiftGroupColumnWidthsRight(newColumnIndex);
            if (this.isManualGroupColumnWidthEnabled()) {
              this.setGroupColumnWidth(newColumnIndex, insertedColumnWidth);
            }

            debugLog('log', `Creating new column at position ${newColumnIndex}`);

            // Shift all groups at or after the target position to the right
            // But not the dragged group itself
            this.data.groups.forEach(g => {
              if (g.uuid !== draggedGroup.uuid && g.column >= newColumnIndex) {
                g.column++;
                debugLog('log', `Shifted group "${g.name}" from column ${g.column - 1} to ${g.column}`);
              }
            });
          }

          // Update indices in the old column (remove the gap)
          const groupsInOldColumn = this.data.groups.filter(g =>
            g.column === oldColumn && g.uuid !== draggedGroup.uuid && g.index > oldIndex
          );
          groupsInOldColumn.forEach(g => {
            g.index--;
          });

          // Move the dragged group to the new column
          draggedGroup.column = newColumnIndex;
          draggedGroup.index = 0; // Place at top of new column

          debugLog('log', `Moved group "${draggedGroup.name}" from column ${oldColumn} to new column ${newColumnIndex}`);

          // Now normalize column indices to remove any gaps
          this.normalizeColumnIndices();

          // Save and reset
          this.saveData();
          this.dropManager.reset();
        },

        normalizeColumnIndices() {
          // Get all unique columns and sort them
          const columns = [...new Set(this.data.groups.map(g => g.column))].sort((a, b) => a - b);

          // Create a mapping from old column index to new normalized index
          const columnMapping = {};
          columns.forEach((col, index) => {
            columnMapping[col] = index;
          });

          // Apply the mapping to all groups
          this.data.groups.forEach(g => {
            const oldCol = g.column;
            const newCol = columnMapping[oldCol];
            if (oldCol !== newCol) {
              debugLog('log', `Normalized column for group "${g.name}": ${oldCol} -> ${newCol}`);
              g.column = newCol;
            }
          });

          this.remapGroupColumnWidths(columnMapping);
          this.ensureGroupColumnWidthsWithinViewport(this.getGroupColumns());

          debugLog('log', 'Column normalization complete. Final columns:', this.getGroupColumns());
        },

        // Combined handlers removed - using inline handlers instead
        // Edge has issues finding these methods, so we use inline expressions
        reindexArr(arr) { // Now a method of the Vue instance
          if (!arr || arr.length === 0) return;
          // Sort based on the temporary index, then re-assign sequential index
          let tmpArr = arr.sort((a, b) => a.index - b.index);
          tmpArr.forEach((item, index) => {
            item.index = index;
          });
        },

        // Make sure dropManager is initialized with the app instance
        initializeDropManager() {
          this.dropManager = new DropManager(this);
        },

        // --- Database & Data Management ---
        normalizeLocalSecurityOptions(rawSecurity = null) {
          const fallback = { enabled: false, sessionTimeoutMinutes: 30 };
          const source = (rawSecurity && typeof rawSecurity === 'object' && !Array.isArray(rawSecurity)) ? rawSecurity : {};
          const merged = Object.assign({}, fallback, source);
          merged.enabled = !!merged.enabled;
          const timeoutMinutes = Number(merged.sessionTimeoutMinutes);
          merged.sessionTimeoutMinutes = Number.isFinite(timeoutMinutes)
            ? Math.max(0, Math.min(1440, Math.round(timeoutMinutes)))
            : 30;
          return merged;
        },
        isLocalSecurityEnabled() {
          return !!this.normalizeLocalSecurityOptions(this.data?.options?.security).enabled;
        },
        isEncryptedLocalEnvelope(value) {
          return !!(
            value
            && typeof value === 'object'
            && value.__mbLocalEncrypted === true
            && Number(value.version) === 1
            && value.kdf
            && value.cipher
            && typeof value.cipher.iv === 'string'
            && typeof value.cipher.payload === 'string'
          );
        },
        normalizeLocalSecurityKdfMeta(rawKdf = null) {
          const fallback = {
            salt: B64.enc(crypto.getRandomValues(new Uint8Array(16))),
            iterations: 210000,
            hash: 'SHA-256'
          };
          const source = (rawKdf && typeof rawKdf === 'object' && !Array.isArray(rawKdf)) ? rawKdf : {};
          const salt = (typeof source.salt === 'string' && source.salt.trim()) ? source.salt.trim() : fallback.salt;
          const iterations = Number(source.iterations);
          const hash = (typeof source.hash === 'string' && source.hash.trim()) ? source.hash.trim() : fallback.hash;
          return {
            salt,
            iterations: Number.isFinite(iterations) ? Math.max(100000, Math.round(iterations)) : fallback.iterations,
            hash
          };
        },
        createLocalSecurityKdfMeta() {
          return {
            salt: B64.enc(crypto.getRandomValues(new Uint8Array(16))),
            iterations: 210000,
            hash: 'SHA-256'
          };
        },
        async deriveLocalSecurityKey(password, kdfMeta) {
          const pass = String(password || '');
          if (!pass) throw new Error('Missing password');
          const normalizedKdf = this.normalizeLocalSecurityKdfMeta(kdfMeta);
          const baseKey = await crypto.subtle.importKey(
            'raw',
            new TextEncoder().encode(pass),
            'PBKDF2',
            false,
            ['deriveKey']
          );
          return await crypto.subtle.deriveKey(
            {
              name: 'PBKDF2',
              salt: B64.dec(normalizedKdf.salt),
              iterations: normalizedKdf.iterations,
              hash: normalizedKdf.hash
            },
            baseKey,
            { name: 'AES-GCM', length: 256 },
            false,
            ['encrypt', 'decrypt']
          );
        },
        async encryptLocalSecurityEnvelope(payloadObj, key, kdfMeta) {
          const iv = crypto.getRandomValues(new Uint8Array(12));
          const plainBytes = new TextEncoder().encode(JSON.stringify(payloadObj));
          const cipherBytes = new Uint8Array(
            await crypto.subtle.encrypt({ name: 'AES-GCM', iv }, key, plainBytes)
          );
          return {
            __mbLocalEncrypted: true,
            version: 1,
            kdf: this.normalizeLocalSecurityKdfMeta(kdfMeta),
            cipher: {
              iv: B64.enc(iv),
              payload: B64.enc(cipherBytes)
            },
            updatedAt: Date.now()
          };
        },
        async decryptLocalSecurityEnvelopeWithKey(envelope, key) {
          if (!this.isEncryptedLocalEnvelope(envelope)) throw new Error('Invalid encrypted envelope');
          const iv = B64.dec(envelope.cipher.iv);
          const cipherBytes = B64.dec(envelope.cipher.payload);
          const plainBuffer = await crypto.subtle.decrypt(
            { name: 'AES-GCM', iv },
            key,
            cipherBytes
          );
          const plainText = new TextDecoder().decode(plainBuffer);
          return JSON.parse(plainText);
        },
        async decryptLocalSecurityEnvelopeWithPassword(envelope, password) {
          const normalizedKdf = this.normalizeLocalSecurityKdfMeta(envelope?.kdf);
          const key = await this.deriveLocalSecurityKey(password, normalizedKdf);
          const payload = await this.decryptLocalSecurityEnvelopeWithKey(envelope, key);
          return { payload, key, kdf: normalizedKdf };
        },
        clearLocalSecurityRuntime() {
          this._localEncryptionKey = null;
          this._localEncryptionKdf = null;
        },
        clearLocalSecuritySessionTimer() {
          if (this._localSecuritySessionTimer) {
            clearTimeout(this._localSecuritySessionTimer);
            this._localSecuritySessionTimer = null;
          }
          this.localSecurity.sessionExpiresAt = 0;
        },
        startLocalSecuritySessionTimer() {
          this.clearLocalSecuritySessionTimer();
          if (!this.localSecurity.isEncryptedStore || this.localSecurity.locked) return;
          if (!this.isLocalSecurityEnabled()) return;
          const timeoutMinutes = this.normalizeLocalSecurityOptions(this.data?.options?.security).sessionTimeoutMinutes;
          if (!Number.isFinite(timeoutMinutes) || timeoutMinutes <= 0) {
            this.localSecurity.sessionExpiresAt = 0;
            return;
          }
          const timeoutMs = Math.max(60000, timeoutMinutes * 60 * 1000);
          this.localSecurity.sessionExpiresAt = Date.now() + timeoutMs;
          this._localSecuritySessionTimer = setTimeout(() => {
            this.triggerLocalSecurityLock('timeout');
          }, timeoutMs);
        },
        focusLocalUnlockInput() {
          this.$nextTick(() => {
            const input = this.$refs.localUnlockPasswordInput;
            if (input && typeof input.focus === 'function') input.focus();
          });
        },
        focusLocalSecurityPasswordInput() {
          this.$nextTick(() => {
            const input = this.$refs.localSecurityPasswordInput;
            if (input && typeof input.focus === 'function') input.focus();
          });
        },
        enterLocalSecurityLockedState(envelope, recordId, reason = 'initial') {
          this.clearLocalSecuritySessionTimer();
          this.localSecurity.isEncryptedStore = true;
          this.localSecurity.locked = true;
          this.localSecurity.lockReason = reason || 'initial';
          this.localSecurity.unlockPassword = '';
          this.localSecurity.unlockBusy = false;
          this.localSecurity.unlockError = '';
          this.localSecurity.encryptedEnvelope = envelope;
          this.localSecurity.encryptedDataId = Number.isFinite(recordId) ? recordId : -1;
          this.clearLocalSecurityRuntime();
          this.dataLoaded = false;
          this._allowSaveDuringLoad = false;
          this.loadFailed = false;
          this.lastLoadError = '';
          this.dataId = Number.isFinite(recordId) ? recordId : -1;
          this.data = JSON.parse(JSON.stringify(initialData));
          this.fixOptions();
          this.focusLocalUnlockInput();
        },
        async captureLatestLocalSecurityEnvelope() {
          try {
            if (!linksDb?.links) return;
            const latestRecord = await linksDb.links.orderBy('id').last();
            if (!latestRecord) return;
            const parsed = JSON.parse(latestRecord.data);
            if (!this.isEncryptedLocalEnvelope(parsed)) return;
            this.localSecurity.encryptedEnvelope = parsed;
            this.localSecurity.encryptedDataId = latestRecord.id;
            this.dataId = latestRecord.id;
          } catch (error) {
            debugLog('warn', '[SECURITY] Could not capture encrypted envelope', error);
          }
        },
        async triggerLocalSecurityLock(reason = 'timeout') {
          if (!this.localSecurity.isEncryptedStore || this.localSecurity.locked) return;
          this.clearLocalSecuritySessionTimer();
          try {
            if (this._debouncedSave && this._debouncedSave.cancel) this._debouncedSave.cancel();
            await this.saveDataImmediate();
          } catch (error) {
            debugLog('warn', '[SECURITY] Failed to persist data before lock', error);
          }
          this.clearLocalSecurityRuntime();
          this.localSecurity.locked = true;
          this.localSecurity.lockReason = reason || 'timeout';
          this.localSecurity.unlockPassword = '';
          this.localSecurity.unlockBusy = false;
          this.localSecurity.unlockError = '';
          this.dataLoaded = false;
          this._allowSaveDuringLoad = false;
          this.loadFailed = false;
          this.lastLoadError = '';
          this.data = JSON.parse(JSON.stringify(initialData));
          this.fixOptions();
          if (!this.localSecurity.encryptedEnvelope) {
            await this.captureLatestLocalSecurityEnvelope();
          }
          this.focusLocalUnlockInput();
        },
        async submitLocalSecurityUnlock() {
          if (this.localSecurity.unlockBusy) return;
          const password = String(this.localSecurity.unlockPassword || '');
          if (!password) return;
          if (!this.localSecurity.encryptedEnvelope) {
            this.localSecurity.unlockError = this.getTranslation('options.security.unlockError') || 'Could not unlock data. Please check the password.';
            return;
          }
          this.localSecurity.unlockBusy = true;
          this.localSecurity.unlockError = '';
          try {
            const decrypted = await this.decryptLocalSecurityEnvelopeWithPassword(this.localSecurity.encryptedEnvelope, password);
            this._localEncryptionKey = decrypted.key;
            this._localEncryptionKdf = decrypted.kdf;
            this.localSecurity.unlockPassword = '';
            this.localSecurity.locked = false;
            this.localSecurity.lockReason = '';
            this._pendingDecryptedStoredData = decrypted.payload;
            this._pendingDecryptedRecordId = Number.isFinite(this.localSecurity.encryptedDataId)
              ? this.localSecurity.encryptedDataId
              : -1;
            await this.loadData();
          } catch (error) {
            debugLog('warn', '[SECURITY] Unlock failed', error);
            this.localSecurity.unlockError = this.getTranslation('options.security.unlockError') || 'Could not unlock data. Please check the password.';
          } finally {
            this.localSecurity.unlockBusy = false;
          }
        },
        promptForLocalSecurityPassword() {
          return new Promise((resolve) => {
            this.localSecurityPasswordDialog.password = '';
            this.localSecurityPasswordDialog.confirmPassword = '';
            this.localSecurityPasswordDialog.error = '';
            this._localSecurityPasswordPromptResult = null;
            this._localSecurityPasswordPromptResolver = resolve;
            const modalElement = document.getElementById('localSecurityPasswordModal');
            if (!modalElement) {
              this._localSecurityPasswordPromptResolver = null;
              resolve(null);
              return;
            }
            const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
            modalInstance.show();
            this.focusLocalSecurityPasswordInput();
          });
        },
        submitLocalSecurityPasswordDialog() {
          const password = String(this.localSecurityPasswordDialog.password || '');
          const confirmPassword = String(this.localSecurityPasswordDialog.confirmPassword || '');
          if (!password.trim()) {
            this.localSecurityPasswordDialog.error = this.getTranslation('options.security.passwordDialog.error.empty') || 'Please enter a password.';
            return;
          }
          if (password.length < 8) {
            this.localSecurityPasswordDialog.error = this.getTranslation('options.security.passwordDialog.error.short') || 'Password must be at least 8 characters.';
            return;
          }
          if (password !== confirmPassword) {
            this.localSecurityPasswordDialog.error = this.getTranslation('options.security.passwordDialog.error.mismatch') || 'Passwords do not match.';
            return;
          }
          this.localSecurityPasswordDialog.error = '';
          this._localSecurityPasswordPromptResult = password;
          this.hideModalById('localSecurityPasswordModal');
        },
        cancelLocalSecurityPasswordDialog() {
          this._localSecurityPasswordPromptResult = null;
          this.hideModalById('localSecurityPasswordModal');
        },
        onLocalSecurityPasswordModalHidden() {
          const resolver = this._localSecurityPasswordPromptResolver;
          if (!resolver) return;
          const result = this._localSecurityPasswordPromptResult || null;
          this._localSecurityPasswordPromptResolver = null;
          this._localSecurityPasswordPromptResult = null;
          this.localSecurityPasswordDialog.password = '';
          this.localSecurityPasswordDialog.confirmPassword = '';
          this.localSecurityPasswordDialog.error = '';
          resolver(result);
        },
        initDatabase() {
          linksDb = new Dexie('data');
          linksDb.version(1).stores({
            links: '++id',
          });
          this.loadData();
        },
        async loadData() {
          try {
            this.dataLoaded = false;
            this.loadFailed = false;
            this.lastLoadError = '';
            this._allowSaveDuringLoad = true;

            const pendingStoredData = this._pendingDecryptedStoredData || null;
            const pendingRecordId = Number.isFinite(this._pendingDecryptedRecordId) ? this._pendingDecryptedRecordId : -1;
            this._pendingDecryptedStoredData = null;
            this._pendingDecryptedRecordId = null;

            let latestRecord = null;
            let isFresh = false;
            if (pendingStoredData) {
              isFresh = false;
              this.dataId = pendingRecordId;
              this.localSecurity.isEncryptedStore = true;
              this.localSecurity.locked = false;
              this.localSecurity.lockReason = '';
              this.localSecurity.unlockError = '';
              this.localSecurity.unlockPassword = '';
              this.localSecurity.encryptedDataId = pendingRecordId;
              // Merge gespeicherte Daten auf die Standardstruktur
              this.data = Object.assign({}, JSON.parse(JSON.stringify(initialData)), pendingStoredData);
              debugLog('log', 'Loaded data from decrypted session:', pendingStoredData);
            } else {
              latestRecord = await linksDb.links.orderBy('id').last();
              isFresh = !latestRecord;
              if (latestRecord) {
                this.dataId = latestRecord.id;
                const storedRecord = JSON.parse(latestRecord.data);
                if (this.isEncryptedLocalEnvelope(storedRecord)) {
                  this._allowSaveDuringLoad = false;
                  this.enterLocalSecurityLockedState(storedRecord, latestRecord.id, 'initial');
                  return;
                }
                this.localSecurity.isEncryptedStore = false;
                this.localSecurity.locked = false;
                this.localSecurity.lockReason = '';
                this.localSecurity.unlockError = '';
                this.localSecurity.unlockPassword = '';
                this.localSecurity.encryptedEnvelope = null;
                this.localSecurity.encryptedDataId = -1;
                this.clearLocalSecurityRuntime();
                this.clearLocalSecuritySessionTimer();
                // Merge gespeicherte Daten auf die Standardstruktur
                this.data = Object.assign({}, JSON.parse(JSON.stringify(initialData)), storedRecord);
                debugLog('log', "Loaded data:", storedRecord);
                try {
                  const total = await linksDb.links.count();
                  if (total > 1) {
                    debugLog('warn', `[STORAGE] Multiple records detected (${total}). Using newest id=${this.dataId}.`);
                  }
                } catch {}
              } else {
                // DB leer -> Initialisiere mit Defaults
                this.localSecurity.isEncryptedStore = false;
                this.localSecurity.locked = false;
                this.localSecurity.lockReason = '';
                this.localSecurity.unlockError = '';
                this.localSecurity.unlockPassword = '';
                this.localSecurity.encryptedEnvelope = null;
                this.localSecurity.encryptedDataId = -1;
                this.clearLocalSecurityRuntime();
                this.clearLocalSecuritySessionTimer();
                this.data = JSON.parse(JSON.stringify(initialData));
                this.dataId = -1;
                // Optional: Default-Gruppe erstellen, wenn gewnscht
                // const tmpGroup = this.getNewGroupTemplate(this.getTranslation('options.common'));
                // this.data.groups = [tmpGroup];
              }
            }
            // Track if we need to save due to migrations
            let needsSaveForMigration = false;
            // Apply schema migrations and normalization before further processing
            try { if (this.applyMigrations && this.applyMigrations(this.data)) needsSaveForMigration = true; } catch (e) { debugLog('warn','[MIGRATION] applyMigrations failed', e); }

            // 1. Optionsstruktur sicherstellen
            this.fixOptions();
            if (!this.localSecurity.isEncryptedStore && this.data?.options?.security?.enabled) {
              this.$set(this.data.options.security, 'enabled', false);
              needsSaveForMigration = true;
              debugLog('warn', '[SECURITY] Security option was enabled but storage is not encrypted. Auto-disabling option.');
            }
            // Ensure identity exists with a UUID (needed for event-log)
            if (!this.data.identity) {
              this.$set(this.data, 'identity', { 
                uuid: this.generateUUID(), // Always generate a UUID for event-log
                name: '', 
                pubKey: '', 
                privKey: '' 
              });
            } else if (!this.data.identity.uuid) {
              // If identity exists but has no UUID, generate one
              this.$set(this.data.identity, 'uuid', this.generateUUID());
            }

            // Ensure display name: on fresh settings or if not set
            try {
              const currentName = (this.data.options?.common?.identityName || this.data.identity?.name || '').trim();
              if (isFresh || !currentName) {
                const rand = Math.random().toString(36).slice(2, 8); // 6-stellig, [a-z0-9]
                const generated = `mybookmarks_${rand}`;
                if (!this.data.options) this.$set(this.data, 'options', {});
                if (!this.data.options.common) this.$set(this.data.options, 'common', {});
                this.$set(this.data.options.common, 'identityName', generated);
                if (!this.data.identity) this.$set(this, 'identity', {});
                this.$set(this.data.identity, 'name', generated);
                debugLog('log', '[INIT] Generated default identity name:', generated);
                // Persist immediately so subsequent logic sees the identity
                this.saveData();
              }
            } catch {}
            if (!Array.isArray(this.data.contacts)) this.$set(this.data, 'contacts', []);
            if (!Array.isArray(this.data.inbox)) this.$set(this.data, 'inbox', []);
            // Ensure auxiliary arrays exist
            if (!Array.isArray(this.data.snapshots)) this.$set(this.data, 'snapshots', []);

            // Ensure all groups have required IDs and clean up shared status
            (this.data.groups || []).forEach(g => {
              // Ensure every group has a groupId (needed for event-log)
              if (!g.groupId) {
                g.groupId = g.uuid || this.generateUUID();
                if (!g.uuid) {
                  g.uuid = g.groupId;
                }
                debugLog('log', '[INIT] Added groupId to group:', g.name, g.groupId);
              }

              if (g.favicon === undefined) this.$set(g, 'favicon', '');
              if (g.faviconError === undefined) this.$set(g, 'faviconError', false);
              if (g.faviconLoading === undefined) this.$set(g, 'faviconLoading', false);
              if (g.faviconSource === undefined) this.$set(g, 'faviconSource', null);
              if (g.faviconRuleId === undefined) this.$set(g, 'faviconRuleId', null);
              if (g.snapshot && typeof g.snapshot === 'object') {
                if (g.snapshot.favicon === undefined) this.$set(g.snapshot, 'favicon', g.favicon || '');
                if (g.snapshot.faviconSource === undefined) this.$set(g.snapshot, 'faviconSource', g.faviconSource || null);
                if (g.snapshot.faviconRuleId === undefined) this.$set(g.snapshot, 'faviconRuleId', g.faviconRuleId || null);
              }

              // Add progressive loading defaults for existing groups
              if (g.linksExpanded === undefined) {
                g.linksExpanded = false; // Start collapsed for performance
              }
              if (g.initialLinkCount === undefined) {
                // Use global setting or default to 100
                const threshold = this.data.options?.links?.progressiveLoadingThreshold || CONSTS.PROGRESSIVE_LOADING_THRESHOLD;
                g.initialLinkCount = threshold;
              }
              if (g.expandedLinkCount === undefined) {
                g.expandedLinkCount = CONSTS.EXPANDED_LINK_LIMIT; // Show 500 when expanded
              }
              if (g.bodyHeight === undefined || g.bodyHeight === null) {
                g.bodyHeight = CONSTS.GROUP_BODY_HEIGHT_DEFAULT;
              } else {
                g.bodyHeight = this.normalizeGroupBodyHeight(g.bodyHeight);
              }
              
              // Clean up shared flag for groups without active members
              if (g.shared) {
                const noMembers = !g.members || g.members.length === 0;
                const onlyOwnerRemains = g.members && g.members.length === 1 && g.members[0].role === 'owner';
                const noRegularMembers = g.members && g.members.length > 0 && !g.members.some(x => x.role === 'member');
                if (noMembers || onlyOwnerRemains || noRegularMembers) {
                  debugLog('log', '[CLEANUP] Auto-unshare group without active members:', g.name);
                  g.shared = false;
                  try { if (g.groupTopic && window.sharing) window.sharing.ntfy.unsubscribe(g.groupTopic); } catch (e) { debugLog('warn','[CLEANUP] Unsubscribe failed', e); }
                }
              }
            });

            // 2. Option lesen *nach* dem Fixen
            const forceCollapseAll = this.data.options.groups.collapseGroupsOnStart;
            debugLog('log', "Option collapseGroupsOnStart:", forceCollapseAll);
            
            
            // 3. Gruppen verarbeiten und 'collapsed' Status korrekt setzen
            if (this.data.groups && Array.isArray(this.data.groups)) {
              this.data.groups.forEach(g => {

                // --- NEUE, KORRIGIERTE Logik ---
                if (forceCollapseAll) {
                  // Option ist TRUE -> Alle Gruppen einklappen, gespeicherten Zustand ignorieren
                  this.$set(g, 'collapsed', true);
                  debugLog('log', `Group "${g.name}" (ID: ${g.id}) forced collapsed=true due to option.`);
                } else {
                  // Option ist FALSE -> Gespeicherten Zustand verwenden oder auf ausgeklappt (false) setzen
                  if (g.collapsed === undefined || g.collapsed === null) {
                    // Wenn kein Zustand gespeichert, default ist AUSGEKLAPPT
                    this.$set(g, 'collapsed', false);
                    debugLog('log', `Group "${g.name}" (ID: ${g.id}) 'collapsed' state MISSING, defaulting to expanded (false).`);
                  } else {
                    // Gespeicherten Zustand (true oder false) verwenden
                    debugLog('log', `Group "${g.name}" (ID: ${g.id}) 'collapsed' state loaded from save: ${g.collapsed}`);
                    // Hier ist keine Aktion ntig, der Wert aus storedData wurde bereits bernommen
                    // Nur zur Sicherheit via $set setzen, falls Objekt nicht reaktiv war:
                    this.$set(g, 'collapsed', g.collapsed);
                  }
                }
                // --- Ende NEUE, KORRIGIERTE Logik ---

                // UUID-Migration fr Gruppen: Add UUID to existing groups that don't have one
                if (!g.uuid) {
                  this.$set(g, 'uuid', this.generateUUID());
                  needsSaveForMigration = true;
                  debugLog('log', `[MIGRATION] Added UUID to group "${g.name}": ${g.uuid}`);
                }

                // Andere Eigenschaften setzen/prfen (wie zuvor)
                if (g.column === undefined || g.column === null) this.$set(g, 'column', 0);
                this.$set(g, 'editing', false);
                this.$set(g, 'isMouseOver', false);
                this.$set(g, 'searchCollapsed', true); // Immer fr Suche initial einklappen
                this.$set(g, 'newLinkText', '');
                this.$set(g, 'newLinkUrl', '');
                if (g.shortcut === undefined) this.$set(g, 'shortcut', '');
                const collapseFieldsChanged = this.normalizeGroupLinkedCollapseFields(g);
                if (collapseFieldsChanged) {
                  needsSaveForMigration = true;
                }

                // Links verarbeiten und UUID-Migration
                if (!g.links || !Array.isArray(g.links)) {
                  this.$set(g, 'links', []);
                } else {
                  g.links.forEach(l => {
                    // UUID-Migration: Add UUID to existing links that don't have one
                    if (!l.uuid) {
                      this.$set(l, 'uuid', this.generateUUID());
                      needsSaveForMigration = true;
                      debugLog('log', `[MIGRATION] Added UUID to link "${l.text}" in group "${g.name}"`);
                    }
                    
                    if (l.column === undefined || l.column === null) this.$set(l, 'column', 0);
                    if (l.keywords === undefined) this.$set(l, 'keywords', '');
                    if (l.shortcut === undefined) this.$set(l, 'shortcut', '');
                    this.$set(l, 'editing', false);
                    this.$set(l, 'isMouseOver', false);
                  });
                  
                  // Links-Spalten innerhalb der Gruppe neu indizieren
                  this.getLinkColumns(g.links).forEach(col => this.reindexArr(g.links.filter(l => l.column === col)));
                }
              });

              // Gruppen-Spalten neu indizieren
              this.getGroupColumns().forEach(col => {
                this.reindexArr(this.data.groups.filter(g => g.column === col));
              });
              if (this.repairLinkedCollapseGroupAssignments()) {
                needsSaveForMigration = true;
              }
            } else {
              this.$set(this.data, 'groups', []);
            }

            if (this.ensureAllTimestamps()) {
              needsSaveForMigration = true;
            }

            // Initialdaten speichern, wenn DB leer war oder Migration durchgefhrt wurde
            if (this.dataId === -1 || needsSaveForMigration) {
              if (needsSaveForMigration) {
                debugLog('log', "[MIGRATION] Saving data after UUID migration - this is critical for sync!");
                // Force immediate save to ensure UUIDs are persisted before any sharing operations
                await this.saveDataImmediate();
              } else {
                debugLog('log', "Saving initial data structure.");
                this.saveData();
              }
            }

            // 4. UI-Einstellungen anwenden
            this.updateSettings();
            this.loadVisualCssRules();
            this.loadCustomRuleSets();
            this.loadCollapsedRules();
            this.loadDesignTokensCollapsed();
            this.applyVisualCssSidebarPreferences();

            // Ensure identity now that data is loaded, then subscribe pairwise
            try {
              if (sharing) {
                sharing.applyConfig();
                await sharing.ensureIdentity();
                for (const c of (this.data.contacts || [])) {
                  try { await sharing.derivePairwiseFor(c.uuid); } catch {}
                }
                // subscribe shared groups
                for (const g of (this.data.groups || [])) {
                  try { 
                    if (g.shared && g.groupTopic && g.groupKey) {
                      debugLog('log', '[INIT] Subscribing to shared group from loadData:', g.name, g.groupId);
                      sharing.subscribeGroup(g, false); // false = send update request
                    }
                  } catch(e) {
                    debugLog('warn', '[INIT] Failed to subscribe group:', g.name, e);
                  }
                }
                // Ensure owner membership on non-shared groups
                try {
                  const myUuid = this.data.identity?.uuid || '';
                  const myName = this.data.identity?.name || '';
                  (this.data.groups||[]).forEach(g => {
                    if (!g.shared) {
                      if (!Array.isArray(g.members) || !g.members.length) {
                        this.$set(g, 'members', [ { uuid: myUuid, name: myName, role: 'owner' } ]);
                      } else if (!g.members.some(m => m.uuid === myUuid && m.role === 'owner')) {
                        g.members = g.members.filter(m => m.uuid !== myUuid);
                        g.members.unshift({ uuid: myUuid, name: myName, role: 'owner' });
                      }
                    }
                  });
                  this.saveData();
                } catch (error) {
                debugLog('error', '[Sharing] Error processing message headers:', error);
              }
                // Owner-initiated sync on open
                for (const g of (this.data.groups || [])) {
                  try { await sharing.sendOwnerSync(g); } catch {}
                }
              }
            } catch {}

            // 5. Vue rendern lassen (Template Binding kmmert sich um 'show' Klasse)
	            this.$nextTick(() => {
	              debugLog('log', "Vue data processed. Template binding should set initial collapse state based on final group.collapsed values.");
	              // Stelle sicher, dass setInitialCollapseStates HIER NICHT aufgerufen wird, wenn du Template Binding nutzt.
	              try { this.lastSavedJson = JSON.stringify(this.getSavableData()); } catch { }
	              setTimeout(() => {
	                this.maybeShowBackupReminder('startup');
	              }, 300);
	            });
            this.dataLoaded = true;
            this._allowSaveDuringLoad = false;
            if (this.localSecurity.isEncryptedStore && !this.localSecurity.locked && this.isLocalSecurityEnabled()) {
              this.startLocalSecuritySessionTimer();
            } else {
              this.clearLocalSecuritySessionTimer();
            }

          } catch (e) {
            debugLog('error', "Error loading data:", e);
            this.loadFailed = true;
            this.lastLoadError = (e && e.message) ? e.message : String(e);
            this.dataLoaded = false;
            this._allowSaveDuringLoad = false;
            this.localSecurity.isEncryptedStore = false;
            this.localSecurity.locked = false;
            this.localSecurity.lockReason = '';
            this.localSecurity.encryptedEnvelope = null;
            this.localSecurity.encryptedDataId = -1;
            this.localSecurity.unlockPassword = '';
            this.localSecurity.unlockError = '';
            this.clearLocalSecurityRuntime();
            this.clearLocalSecuritySessionTimer();
            // Fallback
            this.data = JSON.parse(JSON.stringify(initialData));
            this.fixOptions();
            this.dataId = -1;
            if (!Array.isArray(this.data.snapshots)) this.$set(this.data, 'snapshots', []);
            this.updateSettings();
            this.loadVisualCssRules();
            this.loadCustomRuleSets();
            this.loadCollapsedRules();
            this.loadDesignTokensCollapsed();
            this.applyVisualCssSidebarPreferences();
            this.$nextTick(() => {
              debugLog('log', "Vue data processed after error/fallback.");
              // Stelle sicher, dass setInitialCollapseStates HIER NICHT aufgerufen wird.

              try { this.lastSavedJson = JSON.stringify(this.getSavableData()); } catch { }
            });
          }
        }, // Ende loadData
        getSavableData() {
          // Create a deep copy to avoid modifying the original data structure
          const dataToSave = JSON.parse(JSON.stringify({
            groups: this.data.groups,
            options: this.data.options,
            identity: this.data.identity,
            contacts: this.data.contacts,
            inbox: this.data.inbox,
            snapshots: this.data.snapshots || [],
            pendingNcDeletes: this.data.pendingNcDeletes || []
          }));

          // Remove transient UI properties
          dataToSave.groups.forEach(group => {
            delete group.editing;
            delete group.isMouseOver;
            delete group.newLinkText;
            delete group.newLinkUrl;
            delete group.searchCollapsed; // Don't save search-specific collapse state
            group.links.forEach(link => {
              delete link.editing;
              delete link.isMouseOver;
              delete link.isKeywordQuickAddBadgeHover;
              delete link._originalValue;
              delete link._refAliasWasEmpty;
              delete link._refEditSeedValue;
            });
          });

          return dataToSave;
        },
        // saveData defined later (debounced); keep single source of truth
        resetData() {
          if (!confirm(this.getTranslation('eraseDatabase') + ' ' + this.getTranslation('Are you sure?'))) return;
          Dexie.delete('data').then(() => {
            location.reload();
          }).catch(err => {
            debugLog('error', "Error deleting database:", err);
            alert("Could not delete the database. Please clear site data manually.");
          });
        },
        resetDataFromOptions() {
          // Show warning message first
          const warning = this.getTranslation('eraseDatabase.warning') || 'Warning! This will permanently delete ALL your bookmarks, groups, and settings. This action cannot be undone!';
          const confirmMsg = this.getTranslation('eraseDatabase.confirm') || 'Are you absolutely sure you want to delete everything?';
          
          if (!confirm(warning)) return;
          if (!confirm(confirmMsg)) return;
          
          // Close the modal first
          const modalElement = document.getElementById('optionsModal');
          if (modalElement) {
            const modalInstance = bootstrap.Modal.getInstance(modalElement);
            if (modalInstance) {
              modalInstance.hide();
            }
          }
          
          // Delete the database
          Dexie.delete('data').then(() => {
            location.reload();
          }).catch(err => {
            debugLog('error', "Error deleting database:", err);
            alert("Could not delete the database. Please clear site data manually.");
          });
        },
        // Reset all Nextcloud/Sync bindings on groups and links
        resetSyncBindingsFromOptions() {
          try {
            const msg = (this.getTranslation('sync.resetBindings.confirm') || 'This will remove all Nextcloud sync bindings (folder and bookmark IDs) from all groups and links. Your bookmarks stay, but re-sync will recreate mappings. Continue?');
            if (!confirm(msg)) return;
            let groupsCleared = 0, linksCleared = 0;
            for (const g of (this.data.groups||[])) {
              if (g.ncBookmarks) { try { this.$delete(g, 'ncBookmarks'); } catch { delete g.ncBookmarks; } groupsCleared++; }
              for (const l of (g.links||[])) {
                if (l && l.ncBookmarks) { try { this.$delete(l, 'ncBookmarks'); } catch { delete l.ncBookmarks; } linksCleared++; }
              }
            }
            // Clear cached folder hashes
            try {
              if (this.data.options && this.data.options.bookmarks) {
                this.$set(this.data.options.bookmarks, 'folderHashes', {});
              }
            } catch {}
            this.saveData();
            this.showToast((this.getTranslation('sync.resetBindings.done') || 'Sync bindings cleared') + ` (groups: ${groupsCleared}, links: ${linksCleared})`, 'success');
          } catch (e) {
            debugLog('error', '[SYNC] reset bindings failed', e);
            this.showToast((this.getTranslation('sync.resetBindings.failed') || 'Failed to clear sync bindings') + ': ' + (e?.message||String(e)), 'error');
          }
        },
        exportAndDownload() {
          // Prepare export selection data
          this.exportSelection = this.data.groups.map(group => ({
            name: group.name,
            selected: true,
            original: group,
            links: (group.links || []).filter(l => !l.deleted).map(link => ({
              text: link.text,
              url: link.url,
              keywords: Array.isArray(link.keywords) ? link.keywords.join(';') : (link.keywords || ''),
              selected: true,
              original: link
            }))
          }));
          
          // Open export dialog
          const modalElement = document.getElementById('exportModal');
          if (!modalElement) return;
          const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
          modalInstance && modalInstance.show();
        },
        
        onExportGroupChange(groupIndex) {
          const group = this.exportSelection[groupIndex];
          if (group.selected) {
            // Select all links in the group
            group.links.forEach(link => { link.selected = true; });
          }
        },
        
        onExportLinkChange(groupIndex) {
          const group = this.exportSelection[groupIndex];
          // Update group selection based on links
          const anySelected = group.links.some(l => l.selected);
          const allSelected = group.links.length > 0 && group.links.every(l => l.selected);
          group.selected = allSelected;
        },
        
        selectAllExportGroups() {
          this.exportSelection.forEach(group => {
            group.selected = true;
            group.links.forEach(link => { link.selected = true; });
          });
        },
        
        deselectAllExportGroups() {
          this.exportSelection.forEach(group => {
            group.selected = false;
            group.links.forEach(link => { link.selected = false; });
          });
        },
        
        hasExportSelection() {
          return this.exportSelection.some(g => g.links.some(l => l.selected));
        },
        
        getExportSelectionCount() {
          let count = 0;
          this.exportSelection.forEach(g => {
            count += g.links.filter(l => l.selected).length;
          });
          return count;
        },
        getFullJsonPreview() {
          try {
            return JSON.stringify(this.getSavableData(), null, 2);
          } catch { return '{}'; }
        },
        getSettingsJsonPreview() {
          try {
            return JSON.stringify({ options: this.data.options || {} }, null, 2);
          } catch { return '{}'; }
        },
        
        confirmExport() {
          const selectedGroups = [];
          if (this.exportFormat !== 'json') {
            this.exportSelection.forEach(group => {
              const selectedLinks = group.links.filter(l => l.selected);
              if (selectedLinks.length > 0) {
                selectedGroups.push({
                  ...group.original,
                  links: selectedLinks.map(l => l.original)
                });
              }
            });
            if (selectedGroups.length === 0) {
              alert('No links selected for export');
              return;
            }
          }
          
          let content = '';
          let filename = '';
          let mimeType = '';
          const dateStr = new Date().toISOString().slice(0, 10);
          
          switch (this.exportFormat) {
            case 'json':
              // JSON (Full) exports the complete application data
              content = JSON.stringify(this.getSavableData(), null, 2);
              filename = `bookmarks-export-${dateStr}.json`;
              mimeType = 'application/json;charset=utf-8';
              break;
              
            case 'json-array':
              // JSON Array of links only
              const allLinks = [];
              selectedGroups.forEach(g => {
                g.links.forEach(l => {
                  allLinks.push({
                    url: l.url,
                    text: l.text,
                    keywords: Array.isArray(l.keywords) ? l.keywords.join(';') : (l.keywords || '')
                  });
                });
              });
              content = JSON.stringify(allLinks, null, 2);
              filename = `bookmarks-links-${dateStr}.json`;
              mimeType = 'application/json;charset=utf-8';
              break;
              
            case 'csv':
              // CSV export
              let csv = 'Title,URL,Keywords\n';
              selectedGroups.forEach(g => {
                g.links.forEach(l => {
                  const title = (l.text || '').replace(/"/g, '""');
                  const url = (l.url || '').replace(/"/g, '""');
                  const keywords = (l.keywords || '').replace(/"/g, '""');
                  csv += `"${title}","${url}","${keywords}"\n`;
                });
              });
              content = csv;
              filename = `bookmarks-${dateStr}.csv`;
              mimeType = 'text/csv;charset=utf-8';
              break;
              
            case 'html':
              // HTML Bookmarks format
              let html = '<!DOCTYPE NETSCAPE-Bookmark-file-1>\n';
              html += '<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">\n';
              html += '<TITLE>Bookmarks</TITLE>\n';
              html += '<H1>Bookmarks</H1>\n';
              html += '<DL><p>\n';
              selectedGroups.forEach(g => {
                html += `    <DT><H3>${this.escapeHtml(g.name || 'Untitled')}</H3>\n`;
                html += '    <DL><p>\n';
                g.links.forEach(l => {
                  const tags = (l.keywords || '');
                  html += `        <DT><A HREF="${this.escapeHtml(l.url || '')}"`;
                  if (tags) html += ` TAGS="${this.escapeHtml(tags)}"`;
                  html += `>${this.escapeHtml(l.text || l.url || '')}</A>\n`;
                });
                html += '    </DL><p>\n';
              });
              html += '</DL><p>\n';
              content = html;
              filename = `bookmarks-${dateStr}.html`;
              mimeType = 'text/html;charset=utf-8';
              break;
          }
          
          // Download file
          try {
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
	            // Close modal
	            const modalElement = document.getElementById('exportModal');
	            const modalInstance = modalElement ? bootstrap.Modal.getInstance(modalElement) : null;
	            modalInstance && modalInstance.hide();
	            if (this.exportFormat === 'json') {
	              this.recordBackupCreated('export-json');
	            }
	          } catch (error) {
            debugLog('error', "Export failed:", error);
            alert("Export failed. See console for details.");
          }
        },
        
        escapeHtml(text) {
          const div = document.createElement('div');
          div.textContent = text;
          return div.innerHTML;
        },
        // Generate UUID for links to ensure unique identification across all members
        generateUUID() {
          try {
            // Prefer native crypto.randomUUID
            if (crypto && crypto.randomUUID) {
              return crypto.randomUUID();
            }
            // Fallback to crypto.getRandomValues with proper UUID v4 format
            if (crypto && crypto.getRandomValues) {
              const bytes = new Uint8Array(16);
              crypto.getRandomValues(bytes);
              // Set version (4) and variant bits according to UUID v4 spec
              bytes[6] = (bytes[6] & 0x0f) | 0x40; // Version 4
              bytes[8] = (bytes[8] & 0x3f) | 0x80; // Variant 10
              // Format as UUID string
              const hex = Array.from(bytes, b => b.toString(16).padStart(2, '0')).join('');
              return `${hex.substr(0,8)}-${hex.substr(8,4)}-${hex.substr(12,4)}-${hex.substr(16,4)}-${hex.substr(20,12)}`;
            }
            // Fallback to URL.createObjectURL (still better than timestamp)
            return URL.createObjectURL(new Blob()).split('/').pop();
          } catch (error) {
            debugLog('error', '[UUID] Failed to generate secure UUID:', error);
            // Last resort with better entropy
            const timestamp = Date.now().toString(36);
            const random1 = Math.random().toString(36).substr(2, 9);
            const random2 = Math.random().toString(36).substr(2, 9);
            const random3 = performance.now().toString(36).substr(2, 5);
            return `${timestamp}-${random1}-${random2}-${random3}`;
          }
        },
        // --- Options & Settings ---
        fixOptions() { // Ensures options structure exists with defaults
          const defaultOptions = initialData.options;
          this.data.options = this.data.options || {};
          this.data.options.common = Object.assign({}, defaultOptions.common, this.data.options.common);
          this.data.options.common.manualGroupColumnWidth = !!this.data.options.common.manualGroupColumnWidth;
          this.data.options.common.debugEnabled = !!this.data.options.common.debugEnabled;
          setDebugEnabled(this.data.options.common.debugEnabled);
          this.data.options.groups = Object.assign({}, defaultOptions.groups, this.data.options.groups);
          this.data.options.groups.autoAdjustHeightOnLinkChanges = !!this.data.options.groups.autoAdjustHeightOnLinkChanges;
          if (!this.data.options.groups.columnWidths || typeof this.data.options.groups.columnWidths !== 'object' || Array.isArray(this.data.options.groups.columnWidths)) {
            this.$set(this.data.options.groups, 'columnWidths', {});
          }
          this.data.options.links = Object.assign({}, defaultOptions.links || {}, this.data.options.links || {});
          this.data.options.links.showReferenceMarker = this.data.options.links.showReferenceMarker !== false;
          this.data.options.backupReminder = Object.assign({}, defaultOptions.backupReminder || {
            enabled: true,
            intervalDays: 14,
            changeThreshold: 30,
            startupCheck: true,
            remindBeforeImport: true,
            reminderCooldownHours: 24,
            showUrgencyIndicator: true,
            exportBlinkEnabled: true
          }, this.data.options.backupReminder || {});
          this.data.options.backupReminder.enabled = this.data.options.backupReminder.enabled !== false;
          this.data.options.backupReminder.startupCheck = this.data.options.backupReminder.startupCheck !== false;
          this.data.options.backupReminder.remindBeforeImport = this.data.options.backupReminder.remindBeforeImport !== false;
          this.data.options.backupReminder.showUrgencyIndicator = this.data.options.backupReminder.showUrgencyIndicator !== false;
          this.data.options.backupReminder.exportBlinkEnabled = this.data.options.backupReminder.exportBlinkEnabled !== false;
          const normalizedBackupIntervalDays = Number(this.data.options.backupReminder.intervalDays);
          this.data.options.backupReminder.intervalDays = Number.isFinite(normalizedBackupIntervalDays)
            ? Math.max(1, Math.min(365, Math.round(normalizedBackupIntervalDays)))
            : 14;
          const normalizedBackupChangeThreshold = Number(this.data.options.backupReminder.changeThreshold);
          this.data.options.backupReminder.changeThreshold = Number.isFinite(normalizedBackupChangeThreshold)
            ? Math.max(1, Math.min(1000, Math.round(normalizedBackupChangeThreshold)))
            : 30;
          const normalizedBackupReminderCooldownHours = Number(this.data.options.backupReminder.reminderCooldownHours);
          this.data.options.backupReminder.reminderCooldownHours = Number.isFinite(normalizedBackupReminderCooldownHours)
            ? Math.max(1, Math.min(168, Math.round(normalizedBackupReminderCooldownHours)))
            : 24;
          this.data.options.automaticSnapshots = Object.assign({}, defaultOptions.automaticSnapshots || {
            enabled: true,
            beforeDestructiveActions: true,
            onSyncConflict: true,
            onEventThreshold: true,
            eventThreshold: 50,
            onTimeInterval: true,
            intervalMinutes: 30,
            onSessionEnd: true,
            cooldownSeconds: 120,
            maxAutoSnapshots: 20
          }, this.data.options.automaticSnapshots || {});
          const automaticSnapshots = this.data.options.automaticSnapshots;
          automaticSnapshots.enabled = automaticSnapshots.enabled !== false;
          automaticSnapshots.beforeDestructiveActions = automaticSnapshots.beforeDestructiveActions !== false;
          automaticSnapshots.onSyncConflict = automaticSnapshots.onSyncConflict !== false;
          automaticSnapshots.onEventThreshold = automaticSnapshots.onEventThreshold !== false;
          automaticSnapshots.onTimeInterval = automaticSnapshots.onTimeInterval !== false;
          automaticSnapshots.onSessionEnd = automaticSnapshots.onSessionEnd !== false;
          const normalizedAutoEventThreshold = Number(automaticSnapshots.eventThreshold);
          automaticSnapshots.eventThreshold = Number.isFinite(normalizedAutoEventThreshold)
            ? Math.max(1, Math.min(1000, Math.round(normalizedAutoEventThreshold)))
            : 50;
          const normalizedAutoIntervalMinutes = Number(automaticSnapshots.intervalMinutes);
          automaticSnapshots.intervalMinutes = Number.isFinite(normalizedAutoIntervalMinutes)
            ? Math.max(1, Math.min(1440, Math.round(normalizedAutoIntervalMinutes)))
            : 30;
          const normalizedAutoCooldownSeconds = Number(automaticSnapshots.cooldownSeconds);
          automaticSnapshots.cooldownSeconds = Number.isFinite(normalizedAutoCooldownSeconds)
            ? Math.max(0, Math.min(3600, Math.round(normalizedAutoCooldownSeconds)))
            : 120;
          const normalizedAutoMaxSnapshots = Number(automaticSnapshots.maxAutoSnapshots);
          automaticSnapshots.maxAutoSnapshots = Number.isFinite(normalizedAutoMaxSnapshots)
            ? Math.max(1, Math.min(200, Math.round(normalizedAutoMaxSnapshots)))
            : 20;
          const hasButtonsKeywordQuickAddBadge = !!(this.data.options.buttons && Object.prototype.hasOwnProperty.call(this.data.options.buttons, 'showKeywordQuickAddBadge'));
          const legacyKeywordQuickAddBadge = (this.data.options.common && Object.prototype.hasOwnProperty.call(this.data.options.common, 'showKeywordQuickAddBadge'))
            ? this.data.options.common.showKeywordQuickAddBadge
            : undefined;
          this.data.options.buttons = Object.assign({}, defaultOptions.buttons || {}, this.data.options.buttons || {});
          if (!hasButtonsKeywordQuickAddBadge && typeof legacyKeywordQuickAddBadge === 'boolean') {
            this.$set(this.data.options.buttons, 'showKeywordQuickAddBadge', legacyKeywordQuickAddBadge);
          }
          if (typeof this.data.options.links.defaultUrlPrefix !== 'string') {
            this.$set(this.data.options.links, 'defaultUrlPrefix', CONSTS.DEFAULT_URL_PREFIX);
          } else {
            this.data.options.links.defaultUrlPrefix = this.data.options.links.defaultUrlPrefix.trim();
          }
          if (!Array.isArray(this.data.options.links.faviconRules)) {
            this.$set(this.data.options.links, 'faviconRules', getDefaultFaviconRules());
          }
          if (!Array.isArray(this.data.options.links.globalShortcuts)) {
            this.$set(this.data.options.links, 'globalShortcuts', []);
          }
          if (!Array.isArray(this.data.options.links.globalPlaceholders)) {
            this.$set(this.data.options.links, 'globalPlaceholders', []);
          } else {
            this.$set(this.data.options.links, 'globalPlaceholders', this.normalizePlaceholderList(this.data.options.links.globalPlaceholders));
          }
          // Ensure Nextcloud Bookmarks block exists and preserves saved values (including rootFolderId)
          this.data.options.bookmarks = Object.assign({}, defaultOptions.bookmarks || { serverUrl:'', username:'', password:'', rootFolderId:0, syncIntervalSec:0, folderHashes:{} }, this.data.options.bookmarks || {});
          this.data.options.sharing = Object.assign({}, defaultOptions.sharing || {}, this.data.options.sharing || {});
          this.data.options.colors = Object.assign({}, defaultOptions.colors || {}, this.data.options.colors || {});
          
          // Event-Log defaults - use initialData defaults
          this.data.options.eventlog = Object.assign({}, defaultOptions.eventlog || {
            snapshotInterval: CONSTS.EVENT_LOG_SNAPSHOT_INTERVAL,
            maxEvents: CONSTS.EVENT_LOG_MAX_EVENTS * 2, // Double for main setting
            syncStrategy: 'owner-leads'
          }, this.data.options.eventlog || {});
          const eventlogOptions = this.data.options.eventlog;
          const normalizedEventlogSnapshotInterval = Number(eventlogOptions.snapshotInterval);
          eventlogOptions.snapshotInterval = Number.isFinite(normalizedEventlogSnapshotInterval)
            ? Math.max(10, Math.min(1000, Math.round(normalizedEventlogSnapshotInterval)))
            : CONSTS.EVENT_LOG_SNAPSHOT_INTERVAL;
          const normalizedEventlogMaxEvents = Number(eventlogOptions.maxEvents);
          eventlogOptions.maxEvents = Number.isFinite(normalizedEventlogMaxEvents)
            ? Math.max(100, Math.min(10000, Math.round(normalizedEventlogMaxEvents)))
            : CONSTS.EVENT_LOG_MAX_EVENTS * 2;
          if (!['owner-leads', 'all-equal', 'smart-merge'].includes(eventlogOptions.syncStrategy)) {
            eventlogOptions.syncStrategy = 'owner-leads';
          }
          if (this.eventLogManager) {
            this.eventLogManager.maxEvents = eventlogOptions.maxEvents;
            this.eventLogManager.snapshotInterval = eventlogOptions.snapshotInterval;
          }
          
          // Sync defaults - sensible defaults for good user experience
          this.data.options.sync = Object.assign({}, {
            backend: '',
            // Good defaults for all users
            conflictNotificationLevel: 'minimal', // Show important conflicts only
            autoSyncInterval: '600', // 10 minutes - good balance
            offlineMode: 'optimistic', // Better UX for most users
            // Owner defaults
            conflictResolution: 'last-write-wins', // Fair default
            memberRateLimit: 30, // 30 changes per minute is reasonable
            validationLevel: 'moderate', // Balance between security and flexibility
            // Member defaults
            localCacheStrategy: 'full', // Keep everything for offline access
            errorHandling: 'retry' // Auto-retry is user-friendly
          }, this.data.options.sync || {});
          const syncOptions = this.data.options.sync;
          const normalizeEnum = (value, allowed, fallback) => allowed.includes(value) ? value : fallback;
          syncOptions.backend = normalizeEnum(syncOptions.backend, ['', 'carddav', 'nc-bookmarks'], '');
          syncOptions.conflictNotificationLevel = normalizeEnum(syncOptions.conflictNotificationLevel, ['silent', 'minimal', 'verbose'], 'minimal');
          syncOptions.offlineMode = normalizeEnum(syncOptions.offlineMode, ['optimistic', 'conservative'], 'optimistic');
          syncOptions.conflictResolution = normalizeEnum(syncOptions.conflictResolution, ['owner-wins', 'last-write-wins', 'manual'], 'last-write-wins');
          syncOptions.validationLevel = normalizeEnum(syncOptions.validationLevel, ['strict', 'moderate', 'permissive'], 'moderate');
          syncOptions.localCacheStrategy = normalizeEnum(syncOptions.localCacheStrategy, ['full', 'minimal'], 'full');
          syncOptions.errorHandling = normalizeEnum(syncOptions.errorHandling, ['retry', 'queue', 'discard'], 'retry');
          const normalizedAutoSyncInterval = String(syncOptions.autoSyncInterval ?? '600').trim();
          syncOptions.autoSyncInterval = ['0', '300', '600', '1800', '3600'].includes(normalizedAutoSyncInterval)
            ? normalizedAutoSyncInterval
            : '600';
          const normalizedRateLimit = Number(syncOptions.memberRateLimit);
          syncOptions.memberRateLimit = Number.isFinite(normalizedRateLimit)
            ? Math.max(0, Math.min(100, Math.floor(normalizedRateLimit)))
            : 30;

          // Performance defaults
          this.data.options.performance = Object.assign({}, defaultOptions.performance || {
            virtualizeLinks: false,
            initialLimit: 200,
            pageSize: 200
          }, this.data.options.performance || {});
          this.data.options.security = Object.assign({}, defaultOptions.security || {
            enabled: false,
            sessionTimeoutMinutes: 30
          }, this.data.options.security || {});
          this.data.options.security.enabled = !!this.data.options.security.enabled;
          const normalizedSessionTimeoutMinutes = Number(this.data.options.security.sessionTimeoutMinutes);
          this.data.options.security.sessionTimeoutMinutes = Number.isFinite(normalizedSessionTimeoutMinutes)
            ? Math.max(0, Math.min(1440, Math.round(normalizedSessionTimeoutMinutes)))
            : 30;
          // Visual CSS defaults and migration from legacy fields
          const defaultVisualCssOptions = defaultOptions.visualCss || {
            stateVersion: 0,
            rules: [],
            designTokens: [],
            selectedTemplate: null,
            customRuleSets: {},
            collapsedRules: [],
            designTokensCollapsed: false,
            sidebarWidth: 400,
            sidebarTopHeight: 300
          };
          const existingVisualCssOptions = (this.data.options.visualCss && typeof this.data.options.visualCss === 'object' && !Array.isArray(this.data.options.visualCss))
            ? this.data.options.visualCss
            : {};
          const legacyVisualCssRules = Array.isArray(this.data.options.visualCssRules) ? this.data.options.visualCssRules : null;
          const mergedVisualCssOptions = Object.assign({}, defaultVisualCssOptions, existingVisualCssOptions);
          if ((!Array.isArray(mergedVisualCssOptions.rules) || mergedVisualCssOptions.rules.length === 0)
              && Array.isArray(legacyVisualCssRules) && legacyVisualCssRules.length > 0) {
            mergedVisualCssOptions.rules = legacyVisualCssRules;
          }
          if (!Array.isArray(mergedVisualCssOptions.rules)) mergedVisualCssOptions.rules = [];
          if (!Array.isArray(mergedVisualCssOptions.designTokens)) mergedVisualCssOptions.designTokens = [];
          if (!mergedVisualCssOptions.customRuleSets || typeof mergedVisualCssOptions.customRuleSets !== 'object' || Array.isArray(mergedVisualCssOptions.customRuleSets)) {
            mergedVisualCssOptions.customRuleSets = {};
          }
          if (!Array.isArray(mergedVisualCssOptions.collapsedRules)) mergedVisualCssOptions.collapsedRules = [];
          mergedVisualCssOptions.designTokensCollapsed = !!mergedVisualCssOptions.designTokensCollapsed;
          const visualCssStateVersion = parseInt(mergedVisualCssOptions.stateVersion, 10);
          mergedVisualCssOptions.stateVersion = Number.isFinite(visualCssStateVersion) ? visualCssStateVersion : 0;
          mergedVisualCssOptions.selectedTemplate = (typeof mergedVisualCssOptions.selectedTemplate === 'string' && mergedVisualCssOptions.selectedTemplate.trim())
            ? mergedVisualCssOptions.selectedTemplate.trim()
            : null;
          const visualSidebarWidth = parseInt(mergedVisualCssOptions.sidebarWidth, 10);
          mergedVisualCssOptions.sidebarWidth = Number.isFinite(visualSidebarWidth) ? visualSidebarWidth : 400;
          const visualSidebarTopHeight = parseInt(mergedVisualCssOptions.sidebarTopHeight, 10);
          mergedVisualCssOptions.sidebarTopHeight = Number.isFinite(visualSidebarTopHeight) ? visualSidebarTopHeight : 300;
          this.$set(this.data.options, 'visualCss', mergedVisualCssOptions);
          // Keep legacy field for backwards compatibility with older code paths/imports
          this.$set(this.data.options, 'visualCssRules', mergedVisualCssOptions.rules);
          // Custom CSS default
          if (typeof this.data.options.customCss !== 'string') this.$set(this.data.options, 'customCss', '');
        },
        // Migrations/Normalization to keep schema compatible
        applyMigrations(data) {
          let migrated = false;
          try {
            if (!data.schemaVersion) { data.schemaVersion = 1; migrated = true; }
            // Example migration scaffolding for future versions
            // if (data.schemaVersion < 2) { /* transform ... */ data.schemaVersion = 2; migrated = true; }
            // Ensure structural fields exist
            if (!Array.isArray(data.groups)) { data.groups = []; migrated = true; }
            if (!data.options) { data.options = JSON.parse(JSON.stringify(initialData.options)); migrated = true; }
            // Ensure performance block exists
            if (!data.options.performance) { data.options.performance = JSON.parse(JSON.stringify(initialData.options.performance)); migrated = true; }
          } catch (e) {
            debugLog('warn', '[MIGRATION] failed to normalize data', e);
          }
          return migrated;
        },
        updateSettings() { // Applies settings to the UI
          this.fixOptions(); // Ensure options are valid before using them
          setDebugEnabled(!!this.data.options?.common?.debugEnabled);
          this.title = this.data.options.common.pageTitle || initialData.options.common.pageTitle;
          document.title = this.title; // Update browser tab title
          const normalizedGlobalShortcuts = this.normalizeGlobalShortcutList(this.data?.options?.links?.globalShortcuts || [], { ensureId: true });
          if (JSON.stringify(normalizedGlobalShortcuts) !== JSON.stringify(this.data?.options?.links?.globalShortcuts || [])) {
            this.$set(this.data.options.links, 'globalShortcuts', normalizedGlobalShortcuts);
          }
          
          // Custom colors are now handled via CSS variables

          // Initialize collapse state based on options ONLY if not already set
          this.data.groups.forEach(g => {
            if (g.collapsed === undefined) { // Check if the property exists
              this.$set(g, 'collapsed', this.data.options.groups.collapseGroupsOnStart);
            }
            // Always reset searchCollapsed state
            this.$set(g, 'searchCollapsed', true);
            // Ensure keywords property exists
            if (g.keywords === undefined) this.$set(g, 'keywords', '');
            if (g.shortcut === undefined) this.$set(g, 'shortcut', '');
            this.normalizeGroupLinkedCollapseFields(g);
            if (g.manualHeightResizeOverride === undefined) this.$set(g, 'manualHeightResizeOverride', false);
            this.$set(g, 'urlPlaceholders', this.normalizePlaceholderList(g.urlPlaceholders || []));
            (g.links || []).forEach(l => {
              if (l.keywords === undefined) this.$set(l, 'keywords', '');
              if (l.shortcut === undefined) this.$set(l, 'shortcut', '');
              const normalizedType = this.normalizeLinkItemType(l);
              this.$set(l, 'itemType', normalizedType);
              this.normalizeLinkDataForItemType(l, normalizedType);
              this.$set(l, 'urlPlaceholders', this.normalizePlaceholderList(l.urlPlaceholders || []));
              if (this.isReferenceLink(l) && l.inheritSourceKeywords === undefined) {
                this.$set(l, 'inheritSourceKeywords', true);
              }
            });
            // Ensure opacity property exists (use global default if available)
          });
          const linkedAssignmentsChanged = this.repairLinkedCollapseGroupAssignments();
          if (linkedAssignmentsChanged && this.dataLoaded) {
            this.saveData();
          }
          const existingGroupColumns = [...new Set((this.data.groups || []).map(g => g.column))];
          this.pruneGroupColumnWidths(existingGroupColumns);
          // Populate missing faviconUrl for existing links when option is enabled
          // Removed - no fallback favicon URL needed anymore
        },
        // Generic Edit Dialog Methods
        openGenericEditDialog(type, data, design, title, saveCallback, context = {}) {
          debugLog('log', 'openGenericEditDialog called with type:', type);
          debugLog('log', 'openGenericEditDialog called with type:', type);
          this.genericEditConfig = {
            title: title,
            type: type,
            design: design,
            saveCallback: saveCallback,
            context: context || {}
          };
          
          // Deep clone the data for editing
          this.genericEditData = JSON.parse(JSON.stringify(data));
          if (type === 'link') {
            const normalizedType = this.normalizeLinkItemType(this.genericEditData);
            this.$set(this.genericEditData, 'itemType', normalizedType);
            this.normalizeLinkDataForItemType(this.genericEditData, normalizedType);
          }
          this.keywordSuggestionContext = null;
          this.keywordSuggestionField = null;
          this.keywordSuggestionStyle = null;
          this.genericFilterText = '';
          this.genericExpandedSections = {};
          
          debugLog('log', 'Looking for modal element: genericEditModal');
          debugLog('log', 'Looking for modal element: genericEditModal');
          // Open the modal
          const modalElement = document.getElementById('genericEditModal');
          debugLog('log', 'Modal element:', modalElement);
          if (modalElement) {
            debugLog('log', 'Modal element found, creating instance');
            debugLog('log', 'Modal element found, creating Bootstrap instance');
            try {
              const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
              debugLog('log', 'Modal instance:', modalInstance);
              modalInstance.show();

              if (!modalElement.dataset.keywordSuggestionCleanupAttached) {
                modalElement.addEventListener('hidden.bs.modal', () => {
                  this.keywordSuggestionContext = null;
                  this.keywordSuggestionField = null;
                  this.keywordSuggestionStyle = null;
                });
                modalElement.dataset.keywordSuggestionCleanupAttached = '1';
              }
              
              // Ensure focus is set when modal is shown
              modalElement.addEventListener('shown.bs.modal', () => {
                // Prefer explicit autofocus fields, then URL inputs, else first focusable
                const auto = modalElement.querySelector('[data-autofocus="true"]');
                if (auto) { auto.focus(); return; }
                const urlInput = modalElement.querySelector('input[type="url"]');
                if (urlInput) { urlInput.focus(); return; }
                const firstFocusable = modalElement.querySelector('input:not([readonly]), button:not([disabled]), select, textarea');
                if (firstFocusable) { firstFocusable.focus(); }
              }, { once: true });
              
              debugLog('log', 'Modal show called');
              debugLog('log', 'Modal show() called successfully');
            } catch (error) {
              debugLog('error', 'Error creating/showing modal:', error);
              debugLog('error', 'Error creating/showing modal:', error);
            }
          } else {
            debugLog('error', 'Modal element genericEditModal not found!');
            debugLog('error', 'Modal element genericEditModal not found in DOM!');
          }
        },
        
        getDisplayValueForCssField(sectionKey, fieldKey, field) {
          const value = this.getGenericFieldValue(sectionKey, fieldKey);
          if (!value) return '';
          
          try {
            const jsonData = JSON.parse(value);
            // Show a summary of all set properties
            const parts = [];
            if (jsonData.backgroundColor) parts.push(`bg: ${jsonData.backgroundColor}`);
            if (jsonData.color) parts.push(`text: ${jsonData.color}`);
            if (jsonData.border) parts.push(`border: ${jsonData.border}`);
            if (jsonData.fontSize) parts.push(`size: ${jsonData.fontSize}`);
            if (jsonData.fontWeight && jsonData.fontWeight !== 'normal') parts.push(`weight: ${jsonData.fontWeight}`);
            if (jsonData.fontStyle && jsonData.fontStyle !== 'normal') parts.push(jsonData.fontStyle);
            if (jsonData.textDecoration && jsonData.textDecoration !== 'none') parts.push(jsonData.textDecoration);
            if (jsonData.boxShadow) {
              // Shorten shadow description for display
              const shadow = jsonData.boxShadow;
              if (shadow.length > 20) {
                // For long shadows, show abbreviated version
                const shortShadow = shadow.substring(0, 20) + '...';
                parts.push(`shadow: ${shortShadow}`);
              } else {
                parts.push(`shadow: ${shadow}`);
              }
            }
            if (jsonData.opacity && jsonData.opacity < 100) parts.push(`opacity: ${jsonData.opacity}%`);
            if (jsonData.fontFamily) parts.push(`font: ${jsonData.fontFamily}`);
            if (jsonData.borderStyle && jsonData.borderStyle !== 'none') {
              parts.push(`border-style: ${jsonData.borderStyle}`);
            }
            if (jsonData.borderRadius && jsonData.borderRadius > 0) parts.push(`radius: ${jsonData.borderRadius}px`);
            if (jsonData.padding && jsonData.padding > 0) parts.push(`padding: ${jsonData.padding}px`);
            if (jsonData.margin && jsonData.margin > 0) parts.push(`margin: ${jsonData.margin}px`);
            
            // If nothing is set, show placeholder
            if (parts.length === 0) {
              return 'No custom styles';
            }
            
            // Return summary (truncate if too long)
            const summary = parts.join(', ');
            if (summary.length > 60) {
              return summary.substring(0, 57) + '...';
            }
            return summary;
          } catch (e) {
            // Not JSON - could be hex color or CSS string
            if (!value) return '';
            
            // Check if it's a simple hex color
            if (value.match(/^#[0-9A-Fa-f]{3,6}$/)) {
              return `color: ${value}`;
            }
            
            // Check if it's a CSS string with multiple properties
            if (value.includes(':') && value.includes(';')) {
              // Parse CSS string and show summary
              const props = value.split(';').filter(p => p.trim());
              const parts = [];
              props.forEach(prop => {
                const [key, val] = prop.split(':').map(s => s.trim());
                if (key && val) {
                  if (key.includes('background')) parts.push(`bg: ${val}`);
                  else if (key.includes('color')) parts.push(`text: ${val}`);
                  else if (key.includes('border')) parts.push(`border: ${val}`);
                  else if (key.includes('font-size')) parts.push(`size: ${val}`);
                  else if (key.includes('font-weight')) parts.push(`weight: ${val}`);
                  else if (key.includes('shadow')) parts.push('shadow');
                  else parts.push(`${key}: ${val}`);
                }
              });
              const summary = parts.join(', ');
              return summary.length > 60 ? summary.substring(0, 57) + '...' : summary;
            }
            
            // Return as is if we can't parse it
            return value.length > 60 ? value.substring(0, 57) + '...' : value;
          }
        },
        
        isGenericSeparatorEditMode() {
          if (this.genericEditConfig?.type !== 'link') return false;
          return this.isNonUrlLink(this.genericEditData);
        },
        shouldShowGenericField(sectionKey, fieldKey, field) {
          if (this.genericEditConfig?.type !== 'link') return true;
          const itemType = this.normalizeLinkItemType(this.genericEditData);
          if (itemType !== 'separator' && itemType !== 'note') return true;
          const allowedForSeparator = new Set(['itemType', 'text']);
          const allowedForNote = new Set(['itemType', 'text', 'emoji', 'keywords', 'infoHtml']);
          if (field?.type === 'action' || field?.type === 'actions') return true;
          if (itemType === 'separator') return allowedForSeparator.has(fieldKey);
          return allowedForNote.has(fieldKey);
        },
        hasVisibleGenericSectionFields(sectionKey, section) {
          if (!section || !section.fields) return false;
          return Object.entries(section.fields).some(([fieldKey, field]) => this.shouldShowGenericField(sectionKey, fieldKey, field));
        },
        getGenericFieldValue(sectionKey, fieldKey) {
          if (this.genericEditConfig.type === 'options') {
            // For options, navigate the nested structure
            const pathParts = this.genericEditConfig.design[sectionKey].fields[fieldKey].optionPath?.split('.');
            if (pathParts) {
              let value = this.genericEditData;
              for (const part of pathParts) {
                value = value?.[part];
              }
              // Ensure select binding types match option keys
              const optPath = this.genericEditConfig.design[sectionKey].fields[fieldKey].optionPath || '';
              if (optPath === 'bookmarks.rootFolderId') return String(value ?? '0');
              return value;
            }
          }
          // For groups and links, direct access
          return this.genericEditData?.[fieldKey];
        },
        
        onGenericTextInput(sectionKey, fieldKey, event) {
          const value = event?.target?.value ?? '';
          this.setGenericFieldValue(sectionKey, fieldKey, value);
          if (this.isKeywordField(sectionKey, fieldKey)) {
            this.keywordSuggestionField = { section: sectionKey, field: fieldKey };
            this.updateKeywordSuggestionContext(value, event?.target);
          }
        },
        setGenericFieldValue(sectionKey, fieldKey, value) {
          if (this.genericEditConfig.type === 'options') {
            // For options, navigate the nested structure
            const pathParts = this.genericEditConfig.design[sectionKey].fields[fieldKey].optionPath?.split('.');
            if (pathParts) {
              let obj = this.genericEditData;
              for (let i = 0; i < pathParts.length - 1; i++) {
                if (!obj[pathParts[i]]) {
                  this.$set(obj, pathParts[i], {});
                }
                obj = obj[pathParts[i]];
              }
              // Cast value for specific options to preserve type
              const optPath = this.genericEditConfig.design[sectionKey].fields[fieldKey].optionPath || '';
              let finalValue = value;
              if (optPath === 'bookmarks.rootFolderId') finalValue = Number(value || 0);
              this.$set(obj, pathParts[pathParts.length - 1], finalValue);
            }

            // If NC-Bookmarks credentials/URL change during Options editing, refresh folder list
            if (sectionKey === 'bookmarks' && (fieldKey === 'serverUrl' || fieldKey === 'username' || fieldKey === 'password')) {
              clearTimeout(this._ncFolderRefreshTimer);
              this._ncFolderRefreshTimer = setTimeout(async () => {
                try {
                  const bk = (this.genericEditData && this.genericEditData.bookmarks) ? this.genericEditData.bookmarks : (this.data.options?.bookmarks || {});
                  const values = await this.fetchNcFolderValues((bk.serverUrl||'').trim(), bk.username||'', bk.password||'');
                  const current = String(bk.rootFolderId || '0');
                  if (!values[current]) values[current] = current === '0' ? 'All folders' : `Folder #${current}`;
                  this.$set(this.optionsDesign.bookmarks.fields.rootFolderId, 'values', values);
                } catch (e) {
                  debugLog('warn', '[NC] Refresh folder select failed', e);
                }
              }, 500);
            }
          } else {
            // For groups and links, direct access
            if (this.genericEditConfig.type === 'link' && fieldKey === 'itemType') {
              const normalizedType = this.normalizeLinkItemType({ itemType: value, refTargetUuid: this.genericEditData?.refTargetUuid });
              this.$set(this.genericEditData, 'itemType', normalizedType);
              this.normalizeLinkDataForItemType(this.genericEditData, normalizedType);
              return;
            }
            const isShortcutField = fieldKey === 'shortcut';
            const normalizedValue = isShortcutField ? this.normalizeShortcutText(value) : value;
            this.$set(this.genericEditData, fieldKey, normalizedValue);
            if (isShortcutField && value && !normalizedValue) {
              this.showToast(this.getTranslation('link.shortcut.invalid') || 'Please use Ctrl/Alt/Cmd plus a key (e.g. Ctrl+Alt+M).', 'warning');
            }

            // Auto-fetch metadata when URL changes
            if (this.genericEditConfig.type === 'link' && fieldKey === 'url') {
              if (value && !this.isGenericSeparatorEditMode()) {
                // Clear any existing timeout
                if (this.autoFetchTimeout) {
                  clearTimeout(this.autoFetchTimeout);
                }

                // Set a new timeout to fetch after user stops typing
                this.autoFetchTimeout = setTimeout(() => {
                  this.autoFetchLinkMetadata(value);
                }, 800); // Wait 800ms after user stops typing
              }
            }
          }
        },
        getGenericPlaceholderRows(fieldKey = 'urlPlaceholders') {
          if (!this.genericEditData) return [];
          const current = this.genericEditData[fieldKey];
          if (Array.isArray(current)) return current;
          this.$set(this.genericEditData, fieldKey, []);
          return this.genericEditData[fieldKey];
        },
        getGenericInheritedPlaceholderRows(fieldKey = 'urlPlaceholders') {
          if (!this.genericEditData) return [];
          const type = this.genericEditConfig?.type;
          if (type !== 'group' && type !== 'link') return [];
          const inheritedLayers = [this.getGlobalPlaceholderList()];
          if (type === 'link') {
            const parentGroup = (this.data.groups || []).find(g => g.uuid === this.genericEditConfig?.context?.parentGroupUuid) || null;
            inheritedLayers.push(this.getGroupPlaceholderList(parentGroup));
          }
          return this.mergePlaceholderRowsForEditor(inheritedLayers);
        },
        getGenericInheritedPlaceholderMap(fieldKey = 'urlPlaceholders') {
          const map = new Map();
          this.getGenericInheritedPlaceholderRows(fieldKey).forEach((row) => {
            const key = this.placeholderNameKey(row?.name);
            if (!key) return;
            map.set(key, row);
          });
          return map;
        },
        getGenericInheritedPlaceholderEntry(row, fieldKey = 'urlPlaceholders') {
          const key = this.placeholderNameKey(row?.name);
          if (!key) return null;
          return this.getGenericInheritedPlaceholderMap(fieldKey).get(key) || null;
        },
        isGenericInheritedPlaceholderRow(row, fieldKey = 'urlPlaceholders', index = -1) {
          const key = this.placeholderNameKey(row?.name);
          if (!key) return false;
          const inheritedMap = this.getGenericInheritedPlaceholderMap(fieldKey);
          if (!inheritedMap.has(key)) return false;
          const rows = this.getGenericPlaceholderRows(fieldKey);
          const rowIndex = (Number.isInteger(index) && index >= 0) ? index : rows.indexOf(row);
          if (rowIndex < 0) return true;
          const firstMatchingIndex = rows.findIndex(candidate => this.placeholderNameKey(candidate?.name) === key);
          return firstMatchingIndex === rowIndex;
        },
        getGenericInheritedPlaceholderValue(row, fieldKey = 'urlPlaceholders', index = -1) {
          if (!this.isGenericInheritedPlaceholderRow(row, fieldKey, index)) return '';
          const entry = this.getGenericInheritedPlaceholderEntry(row, fieldKey);
          return entry ? String(entry.value || '') : '';
        },
        canRestoreGenericInheritedPlaceholderRow(row, fieldKey = 'urlPlaceholders', index = -1) {
          if (!this.isGenericInheritedPlaceholderRow(row, fieldKey, index)) return false;
          const entry = this.getGenericInheritedPlaceholderEntry(row, fieldKey);
          if (!entry) return false;
          return !!String(row?.value || '').trim() || !!row?.encode;
        },
        restoreGenericInheritedPlaceholderRow(fieldKey = 'urlPlaceholders', index = 0) {
          const rows = this.getGenericPlaceholderRows(fieldKey);
          if (!Array.isArray(rows) || index < 0 || index >= rows.length) return;
          const current = rows[index];
          if (!this.isGenericInheritedPlaceholderRow(current, fieldKey, index)) return;
          const inherited = this.getGenericInheritedPlaceholderEntry(current, fieldKey);
          if (!inherited) return;
          this.$set(current, 'name', inherited.name || current.name || '');
          this.$set(current, 'value', '');
          this.$set(current, 'encode', false);
        },
        addGenericPlaceholderRow(fieldKey = 'urlPlaceholders') {
          const rows = this.getGenericPlaceholderRows(fieldKey);
          rows.push({ name: '', value: '', encode: false });
        },
        removeGenericPlaceholderRow(fieldKey = 'urlPlaceholders', index = 0) {
          const rows = this.getGenericPlaceholderRows(fieldKey);
          if (!Array.isArray(rows) || index < 0 || index >= rows.length) return;
          if (this.isGenericInheritedPlaceholderRow(rows[index], fieldKey, index)) return;
          rows.splice(index, 1);
        },
        getGenericLinkPlaceholderTemplate() {
          if (!this.genericEditData || this.genericEditConfig?.type !== 'link') return '';
          if (this.isGenericSeparatorEditMode()) return '';
          return (typeof this.genericEditData.url === 'string') ? this.genericEditData.url : '';
        },
        previewGenericLinkPlaceholderUrl(fieldKey = 'urlPlaceholders') {
          if (!this.genericEditData || this.genericEditConfig?.type !== 'link') return '';
          if (this.isGenericSeparatorEditMode()) return '';
          const template = this.getGenericLinkPlaceholderTemplate();
          if (!template) return '';
          const globalRows = this.getGlobalPlaceholderList();
          const parentGroup = (this.data.groups || []).find(g => g.uuid === this.genericEditConfig?.context?.parentGroupUuid) || null;
          const groupRows = this.getGroupPlaceholderList(parentGroup);
          const linkRows = this.getLinkPlaceholderList({ urlPlaceholders: this.getGenericPlaceholderRows(fieldKey) });
          const merged = this.mergePlaceholderLayers([globalRows, groupRows, linkRows]);
          const details = this.resolveUrlTemplatePlaceholders(template, merged);
          return details.url || '';
        },
        getGenericLinkPlaceholderUnresolved(fieldKey = 'urlPlaceholders') {
          if (!this.genericEditData || this.genericEditConfig?.type !== 'link') return [];
          if (this.isGenericSeparatorEditMode()) return [];
          const template = this.getGenericLinkPlaceholderTemplate();
          if (!template) return [];
          const globalRows = this.getGlobalPlaceholderList();
          const parentGroup = (this.data.groups || []).find(g => g.uuid === this.genericEditConfig?.context?.parentGroupUuid) || null;
          const groupRows = this.getGroupPlaceholderList(parentGroup);
          const linkRows = this.getLinkPlaceholderList({ urlPlaceholders: this.getGenericPlaceholderRows(fieldKey) });
          const merged = this.mergePlaceholderLayers([globalRows, groupRows, linkRows]);
          const details = this.resolveUrlTemplatePlaceholders(template, merged);
          return details.unresolved || [];
        },
        getGenericShortcutNoticeItems(sectionKey, fieldKey) {
          if (fieldKey !== 'shortcut') return [];
          const notices = [];
          const rawValue = this.getGenericFieldValue(sectionKey, fieldKey) || '';
          const combo = this.normalizeShortcutText(rawValue);
          const globalShortcuts = this.normalizeGlobalShortcutList(this.data?.options?.links?.globalShortcuts || []);

          if (combo) {
            const globalEntry = globalShortcuts.find((entry) => entry.combo === combo);
            if (globalEntry) {
              const urlCount = this.collectUrlsFromShortcutTargets({
                groupIds: globalEntry.groupIds || [],
                linkIds: globalEntry.linkIds || [],
                legacyUrls: globalEntry.urls || []
              }).length;
              const template = this.getTranslation('shortcut.notice.globalDefined') || 'Global shortcut "{combo}" is already defined and opens {count} URL(s).';
              notices.push({
                key: `global-${combo}`,
                className: 'text-warning',
                text: template
                  .replace('{combo}', combo)
                  .replace('{count}', String(urlCount))
              });
            }
          }

          if (this.genericEditConfig?.type === 'group') {
            const groupUuid = String(
              this.genericEditConfig?.context?.groupUuid
              || this.genericEditData?.uuid
              || ''
            ).trim();
            const groupName = String(
              this.genericEditConfig?.context?.groupName
              || this.genericEditData?.name
              || '-'
            );
            if (groupUuid) {
              globalShortcuts.forEach((entry) => {
                const groupIds = this.normalizeShortcutIdList(entry.groupIds || []);
                if (!groupIds.includes(groupUuid)) return;
                const template = this.getTranslation('shortcut.notice.groupInGlobal') || 'Group "{group}" is already part of global shortcut "{combo}".';
                notices.push({
                  key: `group-global-${groupUuid}-${entry.combo}`,
                  className: 'text-info',
                  text: template
                    .replace('{group}', groupName)
                    .replace('{combo}', entry.combo || '')
                });
              });
            }
          }

          if (this.genericEditConfig?.type === 'link') {
            const parentGroupUuid = String(this.genericEditConfig?.context?.parentGroupUuid || '').trim();
            const parentGroupNameFromContext = String(this.genericEditConfig?.context?.parentGroupName || '').trim();
            const linkUuid = String(this.genericEditData?.uuid || '').trim();
            const pushedKeys = new Set();
            if (parentGroupUuid) {
              const parentGroup = (this.data.groups || []).find((group) => String(group?.uuid || '') === parentGroupUuid);
              const parentGroupName = parentGroupNameFromContext || String(parentGroup?.name || '-');
              const groupCombo = this.normalizeShortcutText(parentGroup?.shortcut || '');
              if (groupCombo) {
                const template = this.getTranslation('shortcut.notice.linkInGroupShortcut') || 'Link is already covered by group shortcut "{combo}" (group "{group}").';
                notices.push({
                  key: `group-${parentGroupUuid}-${groupCombo}`,
                  className: 'text-info',
                  text: template
                    .replace('{group}', parentGroupName)
                    .replace('{combo}', groupCombo)
                });
              }

              globalShortcuts.forEach((entry) => {
                const groupIds = this.normalizeShortcutIdList(entry.groupIds || []);
                if (!groupIds.includes(parentGroupUuid)) return;
                const key = `link-global-group-${parentGroupUuid}-${entry.combo}`;
                if (pushedKeys.has(key)) return;
                pushedKeys.add(key);
                const template = this.getTranslation('shortcut.notice.linkInGlobalViaGroup') || 'Link is already included in global shortcut "{combo}" via group "{group}".';
                notices.push({
                  key,
                  className: 'text-info',
                  text: template
                    .replace('{group}', parentGroupName)
                    .replace('{combo}', entry.combo || '')
                });
              });
            }

            if (linkUuid) {
              globalShortcuts.forEach((entry) => {
                const linkIds = this.normalizeShortcutIdList(entry.linkIds || []);
                if (!linkIds.includes(linkUuid)) return;
                const key = `link-global-direct-${linkUuid}-${entry.combo}`;
                if (pushedKeys.has(key)) return;
                pushedKeys.add(key);
                const template = this.getTranslation('shortcut.notice.linkInGlobalDirect') || 'Link is already selected in global shortcut "{combo}".';
                notices.push({
                  key,
                  className: 'text-info',
                  text: template
                    .replace('{combo}', entry.combo || '')
                });
              });
            }
          }

          return notices;
        },
        isKeywordField(sectionKey, fieldKey) {
          return ['link', 'group'].includes(this.genericEditConfig?.type) && fieldKey === 'keywords';
        },
        isKeywordSuggestionField(sectionKey, fieldKey) {
          return this.keywordSuggestionField &&
                 this.keywordSuggestionField.section === sectionKey &&
                 this.keywordSuggestionField.field === fieldKey;
        },
        handleKeywordTab(sectionKey, fieldKey, event) {
          if (!this.isKeywordField(sectionKey, fieldKey)) return;
          if (event.shiftKey) return;
          const input = event.target;
          if (!input) return;
          const value = input.value || '';
          const selectionStart = input.selectionStart;
          const selectionEnd = input.selectionEnd;
          const context = this.extractKeywordContext(value, selectionStart, selectionEnd);
          if (!context) return;

          this.keywordSuggestionContext = context;
          this.keywordSuggestionField = { section: sectionKey, field: fieldKey };
          const candidates = this.keywordSuggestionList || [];
          if (!candidates.length) return;

          const searchTerm = (context.searchTerm || '').toLowerCase();
          if (!searchTerm) return;

          const currentTokenLower = (context.currentToken || '').toLowerCase();
          let suggestion = candidates.find(item => {
            const label = (item.label || item.value || '').toString();
            const labelLower = label.toLowerCase();
            return labelLower.startsWith(searchTerm) && labelLower !== currentTokenLower;
          });
          if (!suggestion) {
            suggestion = candidates.find(item => {
              const label = (item.label || item.value || '').toString();
              return label.toLowerCase().startsWith(searchTerm);
            });
          }
          if (!suggestion) return;
          const suggestionLabel = (suggestion.label || suggestion.value || '').toString();
          if (suggestionLabel.toLowerCase() === currentTokenLower) return;

          event.preventDefault();
          this.applyKeywordSuggestion(sectionKey, fieldKey, suggestion);
        },
        maybeUpdateKeywordContext(sectionKey, fieldKey, event) {
          if (!this.isKeywordField(sectionKey, fieldKey)) {
            if (this.isKeywordSuggestionField(sectionKey, fieldKey)) {
              this.keywordSuggestionField = null;
              this.keywordSuggestionContext = null;
              this.keywordSuggestionStyle = null;
            }
            return;
          }
          const input = event?.target;
          if (!input) return;
          this.keywordSuggestionField = { section: sectionKey, field: fieldKey };
          this.updateKeywordSuggestionContext(input.value, input);
        },
        clearKeywordContext(sectionKey, fieldKey) {
          if (!this.isKeywordField(sectionKey, fieldKey)) return;
          if (this.isKeywordSuggestionField(sectionKey, fieldKey)) {
            this.keywordSuggestionContext = null;
            this.keywordSuggestionField = null;
            this.keywordSuggestionStyle = null;
          }
        },
        handleKeywordSuggestionViewportChange() {
          if (!this.shouldShowKeywordSuggestions && !this.shouldShowQuickKeywordSuggestions) return;
          this.$nextTick(() => {
            if (this.shouldShowKeywordSuggestions) {
              this.updateKeywordSuggestionPosition();
            }
            if (this.shouldShowQuickKeywordSuggestions) {
              this.updateQuickKeywordSuggestionPosition();
            }
          });
        },
        updateKeywordSuggestionPosition(inputEl = null) {
          if (!this.shouldShowKeywordSuggestions) {
            this.keywordSuggestionStyle = null;
            return;
          }

          let input = inputEl;
          if (!input) {
            const section = this.keywordSuggestionField?.section;
            const field = this.keywordSuggestionField?.field;
            if (section && field) {
              const selector = `input.mb-edit-text-input[data-section="${section}"][data-field="${field}"]`;
              const modalElement = document.getElementById('genericEditModal');
              if (modalElement) input = modalElement.querySelector(selector);
            }
          }
          if (!input || typeof input.getBoundingClientRect !== 'function') {
            this.keywordSuggestionStyle = null;
            return;
          }

          const rect = input.getBoundingClientRect();
          if (!rect || rect.width <= 0) {
            this.keywordSuggestionStyle = null;
            return;
          }

          const viewportPadding = 8;
          const minHeight = 80;
          const maxHeight = 220;
          const minWidth = 180;

          let width = Math.max(minWidth, rect.width);
          if (width > window.innerWidth - (viewportPadding * 2)) {
            width = Math.max(minWidth, window.innerWidth - (viewportPadding * 2));
          }

          let left = rect.left;
          if (left + width > window.innerWidth - viewportPadding) {
            left = window.innerWidth - viewportPadding - width;
          }
          left = Math.max(viewportPadding, left);

          const preferredTop = rect.bottom + 4;
          const spaceBelow = window.innerHeight - preferredTop - viewportPadding;
          const spaceAbove = rect.top - viewportPadding - 4;
          const placeAbove = spaceBelow < 120 && spaceAbove > spaceBelow;
          const availableHeight = placeAbove ? spaceAbove : spaceBelow;
          const dropdownHeight = Math.max(minHeight, Math.min(maxHeight, availableHeight));
          const top = placeAbove
            ? Math.max(viewportPadding, rect.top - dropdownHeight - 4)
            : preferredTop;

          this.keywordSuggestionStyle = {
            left: `${Math.round(left)}px`,
            top: `${Math.round(top)}px`,
            width: `${Math.round(width)}px`,
            maxHeight: `${Math.round(dropdownHeight)}px`
          };
        },
        updateQuickKeywordSuggestionPosition(inputEl = null) {
          if (!this.shouldShowQuickKeywordSuggestions) {
            this.quickKeywordSuggestionStyle = null;
            return;
          }

          const input = inputEl || this.$refs.keywordQuickInput;
          if (!input || typeof input.getBoundingClientRect !== 'function') {
            this.quickKeywordSuggestionStyle = null;
            return;
          }

          const rect = input.getBoundingClientRect();
          if (!rect || rect.width <= 0) {
            this.quickKeywordSuggestionStyle = null;
            return;
          }

          const viewportPadding = 8;
          const minHeight = 80;
          const maxHeight = 220;
          const minWidth = 180;

          let width = Math.max(minWidth, rect.width);
          if (width > window.innerWidth - (viewportPadding * 2)) {
            width = Math.max(minWidth, window.innerWidth - (viewportPadding * 2));
          }

          let left = rect.left;
          if (left + width > window.innerWidth - viewportPadding) {
            left = window.innerWidth - viewportPadding - width;
          }
          left = Math.max(viewportPadding, left);

          const preferredTop = rect.bottom + 4;
          const spaceBelow = window.innerHeight - preferredTop - viewportPadding;
          const spaceAbove = rect.top - viewportPadding - 4;
          const placeAbove = spaceBelow < 120 && spaceAbove > spaceBelow;
          const availableHeight = placeAbove ? spaceAbove : spaceBelow;
          const dropdownHeight = Math.max(minHeight, Math.min(maxHeight, availableHeight));
          const top = placeAbove
            ? Math.max(viewportPadding, rect.top - dropdownHeight - 4)
            : preferredTop;

          this.quickKeywordSuggestionStyle = {
            left: `${Math.round(left)}px`,
            top: `${Math.round(top)}px`,
            width: `${Math.round(width)}px`,
            maxHeight: `${Math.round(dropdownHeight)}px`
          };
        },
        applyKeywordSuggestion(sectionKey, fieldKey, suggestion) {
          if (!this.isKeywordField(sectionKey, fieldKey) || !suggestion) return;
          const suggestionLabel = (suggestion.label || suggestion.value || '').toString();
          const suggestionValue = (suggestion.value != null ? suggestion.value : suggestionLabel).toString();
          if (!suggestionValue) return;
          this.setGenericFieldValue(sectionKey, fieldKey, suggestionValue);
          this.$nextTick(() => {
            const selector = `input.mb-edit-text-input[data-section="${sectionKey}"][data-field="${fieldKey}"]`;
            let input = document.activeElement && typeof document.activeElement.matches === 'function' && document.activeElement.matches(selector)
              ? document.activeElement
              : null;
            if (!input) {
              const modalElement = document.getElementById('genericEditModal');
              if (modalElement) {
                input = modalElement.querySelector(selector);
              }
            }
            if (input && input.value !== suggestionValue) {
              input.value = suggestionValue;
            }
            const cursor = typeof suggestion.cursor === 'number' ? suggestion.cursor : suggestionValue.length;
            if (input && typeof input.setSelectionRange === 'function') {
              try { input.setSelectionRange(cursor, cursor); } catch {}
            }
            this.keywordSuggestionContext = null;
            this.keywordSuggestionField = null;
            this.keywordSuggestionStyle = null;
          });
        },
        updateKeywordSuggestionContext(value, inputEl = null) {
          if (!['link', 'group'].includes(this.genericEditConfig?.type)) {
            this.keywordSuggestionContext = null;
            this.keywordSuggestionField = null;
            this.keywordSuggestionStyle = null;
            return;
          }
          const stringValue = value != null ? String(value) : '';
          const selectionStart = inputEl?.selectionStart ?? stringValue.length;
          const selectionEnd = inputEl?.selectionEnd ?? selectionStart;
          const context = this.extractKeywordContext(stringValue, selectionStart, selectionEnd);
          this.keywordSuggestionContext = context;
          if (!context) {
            this.keywordSuggestionField = null;
            this.keywordSuggestionStyle = null;
            return;
          }
          this.$nextTick(() => {
            this.updateKeywordSuggestionPosition(inputEl);
          });
        },
        extractKeywordContext(rawValue, selectionStart, selectionEnd = selectionStart) {
          const value = typeof rawValue === 'string' ? rawValue : (rawValue ?? '').toString();
          if (selectionStart == null) selectionStart = value.length;
          if (selectionEnd == null) selectionEnd = selectionStart;
          if (selectionStart !== selectionEnd) return null;
          const cursor = Math.max(0, Math.min(selectionStart, value.length));

          const lastComma = value.lastIndexOf(',', cursor - 1);
          const lastSemicolon = value.lastIndexOf(';', cursor - 1);
          let tokenStartRaw = Math.max(lastComma, lastSemicolon);
          tokenStartRaw = tokenStartRaw === -1 ? 0 : tokenStartRaw + 1;

          const nextCommaIndex = value.indexOf(',', cursor);
          const nextSemicolonIndex = value.indexOf(';', cursor);
          let tokenEndRaw = value.length;
          if (nextCommaIndex !== -1) tokenEndRaw = Math.min(tokenEndRaw, nextCommaIndex);
          if (nextSemicolonIndex !== -1) tokenEndRaw = Math.min(tokenEndRaw, nextSemicolonIndex);

          const rawSegment = value.slice(tokenStartRaw, tokenEndRaw);
          const leadingSpaces = rawSegment.match(/^\s*/)?.[0].length || 0;
          const trailingSpaces = rawSegment.match(/\s*$/)?.[0].length || 0;
          const tokenStart = tokenStartRaw + leadingSpaces;
          let tokenEnd = tokenEndRaw - trailingSpaces;
          if (tokenEnd < tokenStart) tokenEnd = tokenStart;

          if (cursor < tokenStart || cursor > tokenEnd) return null;

          const prefix = value.slice(0, tokenStart);
          const suffix = value.slice(tokenEnd);
          const currentToken = value.slice(tokenStart, tokenEnd);
          const partialBeforeCursor = value.slice(tokenStart, cursor);
          const searchTerm = partialBeforeCursor.trim().toLowerCase();

          return {
            prefix,
            suffix,
            currentToken,
            searchTerm,
            cursor
          };
        },

        async autoFetchLinkMetadata(url) {
          if (this.isGenericSeparatorEditMode()) return;
          // Normalize URL
          url = MB.Utils.ensureProtocol(url);
          if (!MB.Utils.isValidHttpUrl(url)) {
            debugLog('log', 'Not a valid HTTP URL yet:', url);
            return;
          }

          // Additional validation: Check if domain looks complete
          try {
            const urlObj = new URL(url);
            const hostname = urlObj.hostname;

            // Check if hostname has at least a TLD (e.g., "example.com", not just "example")
            if (!hostname.includes('.') || hostname.endsWith('.')) {
              debugLog('log', 'Domain not complete yet:', hostname);
              return;
            }

            // Check for very short domains that are likely incomplete
            const parts = hostname.split('.');
            const tld = parts[parts.length - 1];
            if (tld.length < 2) {
              debugLog('log', 'TLD too short, likely incomplete:', tld);
              return;
            }

            // Don't fetch for localhost or IP addresses during typing
            if (hostname === 'localhost' || /^\d{1,3}(\.\d{1,3}){0,3}$/.test(hostname)) {
              debugLog('log', 'Skipping auto-fetch for localhost/IP:', hostname);
              return;
            }
          } catch (e) {
            debugLog('log', 'URL parsing failed, not ready:', e.message);
            return;
          }

          // Always resolve and preview matching favicon rules in the editor.
          // Extension/network fetch remains optional and is handled below.
          try {
            const rawInput = (this.genericEditData?.url || '').trim();
            this.applyFaviconRulesToLink(this.genericEditData, null, rawInput || url);
          } catch (e) {
            debugLog('warn', '[FaviconRules] generic preview apply failed', e);
          }

          // Check if extension is available before trying to fetch
          if (!this.extensionAvailable || !window.MyBookmarksExtension) {
            debugLog('warn', 'Auto-fetch requested but extension not available');
            return;
          }

          debugLog('log', 'Auto-fetching metadata for URL:', url);

          // Set loading state for favicon
          this.$set(this.genericEditData, 'faviconLoading', true);

          // Auto-fetch title if enabled and text is empty or same as URL
          if (this.data.options?.links?.autoFetchTitle) {
            const currentText = this.genericEditData.text || '';
            // Also check if text is just "h" or similar single character (from premature fetch)
            if (!currentText || currentText === url || currentText === url.replace(/^https?:\/\//, '') || currentText.length === 1) {
              debugLog('log', 'Fetching title for URL:', url);
              try {
                const title = await this.tryFetchTitle(url);
                if (title && title !== url) {
                  debugLog('log', 'Auto-fetched title:', title);
                  this.$set(this.genericEditData, 'text', title);
                }
              } catch (e) {
                debugLog('warn', 'Title fetch failed:', e);
              }
            }
          }

          // Auto-fetch favicon if enabled
          if (this.data.options?.links?.autoFetchFavicon) {
            debugLog('log', 'Fetching favicon for URL:', url);
            try {
              await this.tryFetchAndSetFavicon(this.genericEditData, url);
            } catch (e) {
              debugLog('warn', 'Favicon fetch failed:', e);
            }
          }

          // Clear loading state
          this.$set(this.genericEditData, 'faviconLoading', false);
        },
        
        getFilteredGenericSettings() {
          if (!this.genericFilterText) {
            return this.genericEditConfig.design;
          }
          
          const filter = this.genericFilterText.toLowerCase();
          const filtered = {};
          
          for (const [sectionKey, section] of Object.entries(this.genericEditConfig.design)) {
            const sectionLabel = this.getTranslation(section.translateKey) || sectionKey;
            
            // Check if section matches
            if (sectionLabel.toLowerCase().includes(filter)) {
              filtered[sectionKey] = section;
              continue;
            }
            
            // Check if any field matches
            const matchingFields = {};
            for (const [fieldKey, field] of Object.entries(section.fields)) {
              const fieldLabel = this.getTranslation(field.translateKey) || fieldKey;
              const helpText = this.getTranslation(field.helpText) || '';
              
              if (fieldLabel.toLowerCase().includes(filter) || 
                  helpText.toLowerCase().includes(filter)) {
                matchingFields[fieldKey] = field;
              }
            }
            
            if (Object.keys(matchingFields).length > 0) {
              filtered[sectionKey] = {
                ...section,
                fields: matchingFields
              };
            }
          }
          
          return filtered;
        },
        
        isGenericSectionExpanded(sectionKey) {
          // Auto-expand if filtering
          if (this.genericFilterText) return true;
          return this.genericExpandedSections[sectionKey] !== false;
        },
        
        toggleGenericSection(sectionKey) {
          this.$set(this.genericExpandedSections, sectionKey, !this.isGenericSectionExpanded(sectionKey));
        },
        focusGenericEditSection(sectionKey, design = null) {
          const sourceDesign = design || this.genericEditConfig?.design || {};
          const keys = Object.keys(sourceDesign || {});
          if (!sectionKey || !keys.length || !keys.includes(sectionKey)) return;
          const expanded = {};
          keys.forEach((key) => {
            expanded[key] = key === sectionKey;
          });
          this.genericExpandedSections = expanded;
        },
        
        saveGenericEditDialog() {
          const type = this.genericEditConfig?.type;
          if (type === 'group') {
            const name = (this.genericEditData?.name || '').trim();
            if (!name) {
              this.showToast(this.getTranslation('group.name.required') || 'Group name is required', 'warning');
              return;
            }
            this.$set(this.genericEditData, 'name', name);
            const groupUuid = String(this.genericEditData?.uuid || this.genericEditConfig?.context?.groupUuid || '').trim();
            this.$set(
              this.genericEditData,
              'linkedCollapseGroupUuids',
              this.normalizeLinkedCollapseGroupUuidList(this.genericEditData?.linkedCollapseGroupUuids || [], groupUuid)
            );
            this.$set(
              this.genericEditData,
              'linkedCollapseOnCloseGroupUuids',
              this.normalizeLinkedCollapseGroupUuidList(this.genericEditData?.linkedCollapseOnCloseGroupUuids || [], groupUuid)
            );
            this.$set(this.genericEditData, 'urlPlaceholders', this.normalizePlaceholderList(this.genericEditData?.urlPlaceholders || []));
          } else if (type === 'link') {
            const itemType = this.normalizeLinkItemType(this.genericEditData);
            this.$set(this.genericEditData, 'itemType', itemType);
            const text = (this.genericEditData?.text || '').trim();
            if (itemType !== 'separator' && !text) {
              this.showToast(this.getTranslation('link.text.required') || 'Link text is required', 'warning');
              return;
            }
            this.$set(this.genericEditData, 'text', text);
            this.normalizeLinkDataForItemType(this.genericEditData, itemType);
          }

          if (this.genericEditConfig.saveCallback) {
            this.genericEditConfig.saveCallback(this.genericEditData);
          }
          
          // Close the modal
          const modalElement = document.getElementById('genericEditModal');
          if (modalElement) {
            const modalInstance = bootstrap.Modal.getInstance(modalElement) || bootstrap.Modal.getOrCreateInstance(modalElement);
            if (modalInstance) {
              modalInstance.hide();
            }
            // Fallback: if Bootstrap state is out of sync, ensure the modal is fully closed.
            if (modalElement.classList.contains('show')) {
              modalElement.classList.remove('show');
              modalElement.style.display = 'none';
              modalElement.setAttribute('aria-hidden', 'true');
              modalElement.removeAttribute('aria-modal');
              document.body.classList.remove('modal-open');
              document.body.style.removeProperty('padding-right');
              document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());
            }
          }
        },
        
        handleGenericAction(sectionKey, fieldKey) {
          try {
            if (sectionKey === 'bookmarks' && fieldKey === 'resetBindings') {
              this.resetSyncBindingsFromOptions();
              return;
            } else if (sectionKey === 'bookmarks' && fieldKey === 'testConnection') {
              // Run generic connection test (uses selected backend adapter)
              this.testConnectionGeneric();
              return;
            } else if (sectionKey === 'links' && fieldKey === 'faviconRulesManage') {
              this.openFaviconRulesModal();
              return;
            }
            debugLog('warn', '[OPTIONS] Unknown action', { sectionKey, fieldKey });
          } catch (e) {
            debugLog('error', '[OPTIONS] handleGenericAction failed', { sectionKey, fieldKey, error: e });
          }
        },
        openFaviconRulesModal() {
          // Ensure structure exists
          if (!this.data.options) this.$set(this, 'data', { options: {} });
          if (!this.data.options.links) this.$set(this.data.options, 'links', {});
          if (!Array.isArray(this.data.options.links.faviconRules)) this.$set(this.data.options.links, 'faviconRules', []);
          this.faviconRulesWorking = JSON.parse(JSON.stringify(this.data.options.links.faviconRules));
          this.faviconRulesWorking.forEach((rule, idx) => {
            if (rule.comment === undefined) {
              this.$set(this.faviconRulesWorking[idx], 'comment', '');
            }
          });
          this.faviconRulesTestUrl = '';
          const modalEl = document.getElementById('faviconRulesModal');
          if (modalEl && !modalEl.dataset.refreshListenerAttached) {
            modalEl.addEventListener('hidden.bs.modal', () => {
              try {
                this.onFaviconRulesClosed();
              } catch (err) {
                debugLog('warn', '[FaviconRules] hidden handler failed', err);
              }
            });
            modalEl.dataset.refreshListenerAttached = '1';
          }
          const modal = bootstrap.Modal.getOrCreateInstance(modalEl);
          modal && modal.show();
        },
        addFaviconRule() {
          const rule = {
            id: this.generateUUID ? this.generateUUID() : `${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,
            enabled: true,
            patternType: 'domain',
            pattern: '',
            iconDataUrl: '',
            comment: '',
            createdAt: Date.now()
          };
          this.faviconRulesWorking.push(rule);
        },
        restoreDefaultFaviconRules() {
          if (!Array.isArray(this.faviconRulesWorking)) {
            this.$set(this, 'faviconRulesWorking', []);
          }
          const defaults = getDefaultFaviconRules();
          const existingKeys = new Set(
            (this.faviconRulesWorking || []).map(rule => `${(rule.patternType || 'domain')}__${(rule.pattern || '').trim().toLowerCase()}`)
          );
          let added = 0;
          defaults.forEach((rule, idx) => {
            const key = `${rule.patternType || 'domain'}__${(rule.pattern || '').trim().toLowerCase()}`;
            if (!existingKeys.has(key)) {
              const newRule = Object.assign({}, rule, { createdAt: Date.now() + idx });
              this.faviconRulesWorking.push(newRule);
              existingKeys.add(key);
              added++;
            }
          });
          if (added) {
            this.showToast(this.getTranslation('favicon.rules.defaultsRestored') || 'Default favicon rules restored', 'success');
          } else {
            this.showToast(this.getTranslation('favicon.rules.defaultsAlreadyPresent') || 'All default favicon rules are already present', 'info');
          }
        },
        exportFaviconRules() {
          try {
            const data = JSON.stringify(this.faviconRulesWorking || [], null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
            a.href = url;
            a.download = `favicon-rules-${timestamp}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          } catch (error) {
            debugLog('error', '[FaviconRules] export failed', error);
            this.showToast(this.getTranslation('favicon.rules.exportError') || 'Failed to export favicon rules', 'error');
          }
        },
        estimateFaviconPayloadSize(iconDataUrl) {
          const src = (typeof iconDataUrl === 'string') ? iconDataUrl.trim() : '';
          if (!src) return 0;
          const commaIdx = src.indexOf(',');
          if (commaIdx === -1) return src.length;

          const meta = src.slice(0, commaIdx).toLowerCase();
          const payload = src.slice(commaIdx + 1).trim();
          if (!payload) return 0;

          if (meta.includes(';base64')) {
            const normalized = payload.replace(/\s+/g, '');
            const padding = normalized.endsWith('==') ? 2 : (normalized.endsWith('=') ? 1 : 0);
            return Math.max(0, Math.floor((normalized.length * 3) / 4) - padding);
          }

          try {
            return decodeURIComponent(payload).length;
          } catch {
            return payload.length;
          }
        },
        isFaviconPayloadWithinLimit(iconDataUrl, maxBytes = 256 * 1024) {
          return this.estimateFaviconPayloadSize(iconDataUrl) <= maxBytes;
        },
        onImportFaviconRules(event) {
          const input = event?.target;
          const file = input?.files?.[0];
          if (!file) return;
          const reader = new FileReader();
          reader.onload = () => {
            try {
              const text = typeof reader.result === 'string' ? reader.result : '';
              const parsed = JSON.parse(text);
              if (!Array.isArray(parsed)) {
                throw new Error('Invalid format');
              }

              if (!Array.isArray(this.faviconRulesWorking)) {
                this.$set(this, 'faviconRulesWorking', []);
              }

              const validTypes = ['domain', 'prefix', 'regex'];
              const existingKeys = new Set(
                (this.faviconRulesWorking || []).map(rule => `${(rule.patternType || 'domain')}__${(rule.pattern || '').trim().toLowerCase()}`)
              );
              let added = 0;
              let skippedTooLarge = 0;
              parsed.forEach((rule, idx) => {
                if (!rule || typeof rule !== 'object') return;
                const pattern = (rule.pattern || '').toString().trim();
                if (!pattern) return;
                const typeRaw = (rule.patternType || 'domain').toString().toLowerCase();
                const patternType = validTypes.includes(typeRaw) ? typeRaw : 'domain';
                const key = `${patternType}__${pattern.toLowerCase()}`;
                if (existingKeys.has(key)) return;

                const iconDataUrlRaw = typeof rule.iconDataUrl === 'string' ? rule.iconDataUrl.trim() : '';
                if (iconDataUrlRaw && !this.isFaviconPayloadWithinLimit(iconDataUrlRaw)) {
                  skippedTooLarge++;
                  return;
                }

                const normalized = {
                  id: rule.id || (this.generateUUID ? this.generateUUID() : `${Date.now()}-${idx}-${Math.random().toString(36).slice(2, 8)}`),
                  enabled: rule.enabled !== false,
                  patternType,
                  pattern,
                  iconDataUrl: iconDataUrlRaw,
                  comment: typeof rule.comment === 'string' ? rule.comment : '',
                  createdAt: Number(rule.createdAt) || Date.now() + idx
                };

                this.faviconRulesWorking.push(normalized);
                existingKeys.add(key);
                added++;
              });

              if (added) {
                const messageTemplate = this.getTranslation('favicon.rules.importSuccess') || 'Imported {count} favicon rules';
                this.showToast(messageTemplate.replace('{count}', added), 'success');
              } else {
                this.showToast(this.getTranslation('favicon.rules.importNothing') || 'No new favicon rules to import', 'info');
              }
              if (skippedTooLarge > 0) {
                const tooLargeMsg = this.getTranslation('link.favicon.tooLarge') || 'Image is too large (max 256KB)';
                this.showToast(`${skippedTooLarge} imported favicon rule(s) skipped: ${tooLargeMsg}`, 'warning');
              }
            } catch (error) {
              debugLog('error', '[FaviconRules] import failed', error);
              this.showToast(this.getTranslation('favicon.rules.importError') || 'Failed to import favicon rules', 'error');
            } finally {
              try { input.value = ''; } catch {}
            }
          };
          reader.onerror = () => {
            debugLog('error', '[FaviconRules] import read error');
            this.showToast(this.getTranslation('favicon.rules.importError') || 'Failed to import favicon rules', 'error');
            try { input.value = ''; } catch {}
          };
          reader.readAsText(file);
        },
        openFaviconRuleFile(idx) {
          // When using ref inside v-for, Vue returns an array of elements
          const r = this.$refs && this.$refs.frFile;
          if (Array.isArray(r)) {
            const el = r[idx];
            if (el && typeof el.click === 'function') el.click();
          } else if (r && typeof r.click === 'function') {
            r.click();
          }
        },
        deleteFaviconRule(idx) {
          this.faviconRulesWorking.splice(idx, 1);
        },
        async autoFetchRuleIcon(rule) {
          try {
            if (!rule || !rule.pattern) return;
            let sampleUrl = '';
            const raw = (rule.pattern || '').trim();
            if (rule.patternType === 'domain') {
              // Strip any protocol, slashes and wildcard prefixes, keep only hostname
              let host = raw.replace(/^https?:\/\//i, '').replace(/^\/{2}/, '');
              host = host.replace(/^\*\.?/, '');
              host = host.replace(/\/.*$/, '');
              if (!host) return;
              sampleUrl = `https://${host}`;
            } else if (rule.patternType === 'prefix') {
              sampleUrl = MB.Utils.ensureProtocol(raw);
            } else {
              // regex: use test URL if provided, else fallback
              sampleUrl = this.faviconRulesTestUrl ? MB.Utils.ensureProtocol(this.faviconRulesTestUrl) : 'https://example.com';
            }
            if (!this.extensionAvailable || !window.MyBookmarksExtension) {
              this.showToast(this.getTranslation('favicon.rules.needsExtension') || 'Extension required to auto-fetch icons', 'warning');
              return;
            }
            const md = await window.MyBookmarksExtension.fetchMetadata(sampleUrl, {});
            if (md && md.favicon) {
              rule.iconDataUrl = md.favicon;
              this.showToast(this.getTranslation('link.favicon.uploaded') || 'Favicon uploaded', 'success');
            } else {
              this.showToast('No favicon found', 'warning');
            }
          } catch (e) {
            this.showToast(e?.message || 'Auto-fetch failed', 'error');
          }
        },
        onFaviconRuleFileSelected(idx, event) {
          const file = event?.target?.files?.[0];
          if (!file) return;
          if (!file.type || !file.type.startsWith('image/')) { this.showToast(this.getTranslation('link.favicon.invalidFile') || 'Please select an image file', 'warning'); event.target.value=''; return; }
          if (file.size > 256 * 1024) { this.showToast(this.getTranslation('link.favicon.tooLarge') || 'Image is too large (max 256KB)', 'warning'); event.target.value=''; return; }
          const reader = new FileReader();
          reader.onload = () => {
            const dataUrl = reader.result;
            if (typeof dataUrl === 'string') {
              this.$set(this.faviconRulesWorking[idx], 'iconDataUrl', dataUrl);
              this.showToast(this.getTranslation('link.favicon.uploaded') || 'Favicon uploaded', 'success');
            }
            try { event.target.value=''; } catch{}
          };
          reader.onerror = () => { this.showToast(this.getTranslation('link.favicon.readError') || 'Could not read image file', 'error'); };
          reader.readAsDataURL(file);
        },
        faviconSourceClass(link) {
          const s = (link && link.faviconSource) || '';
          if (s === 'rule') return 'src-rule';
          if (s === 'upload') return 'src-upload';
          if (s === 'extension') return 'src-extension';
          return '';
        },
        faviconSourceTooltip(link) {
          try {
            if (!link || !link.favicon) return '';
            const s = link.faviconSource || '';
            if (s === 'upload') return 'Favicon (upload)';
            if (s === 'extension') return 'Favicon (extension)';
            if (s === 'rule') {
              const rules = this.data.options?.links?.faviconRules || [];
              const r = rules.find(x => x.id === link.faviconRuleId);
              if (r) return `Favicon (rule: ${r.patternType} ${r.pattern})`;
              return 'Favicon (rule)';
            }
            return '';
          } catch { return ''; }
        },
        saveFaviconRules() {
          if (!this.data.options) this.$set(this, 'data', { options: {} });
          if (!this.data.options.links) this.$set(this.data.options, 'links', {});
          this.$set(this.data.options.links, 'faviconRules', JSON.parse(JSON.stringify(this.faviconRulesWorking)));
          this.saveData();
          this.showToast(this.getTranslation('favicon.rules.saved') || 'Favicon rules saved', 'success');
          this.refreshVisibleFavicons();
          // Close the modal after saving
          try {
            const modalEl = document.getElementById('faviconRulesModal');
            const modal = modalEl ? bootstrap.Modal.getInstance(modalEl) : null;
            if (modal) modal.hide();
          } catch {}
        },
        findRuleForUrl(url, rulesOverride = null, rawInput = null) {
          try {
            if (!url && !rawInput) return null;
            const sourceRules = Array.isArray(rulesOverride) ? rulesOverride : (this.data.options?.links?.faviconRules || []);
            const rules = sourceRules.filter(r => r && r.enabled && r.iconDataUrl);
            if (!rules.length) return null;

            const normalizedSource = (url || '').trim();
            const normalizedCandidate = MB.Utils.ensureProtocol(normalizedSource);
            const normalizedLower = normalizedCandidate ? normalizedCandidate.toLowerCase() : '';

            const rawFallbackValue = rawInput != null ? rawInput : null;
            const rawFallback = rawFallbackValue != null ? String(rawFallbackValue) : normalizedSource;
            const rawTrimmed = (rawFallback || '').trim();
            const rawLower = rawTrimmed.toLowerCase();

            const candidateStrings = [];
            const addCandidate = (val) => {
              if (!val || typeof val !== 'string') return;
              const v = val.trim();
              if (!v) return;
              if (!candidateStrings.includes(v)) candidateStrings.push(v);
            };

            addCandidate(normalizedCandidate);
            addCandidate(normalizedLower);
            addCandidate(normalizedSource);
            addCandidate(normalizedSource.toLowerCase());
            addCandidate(rawTrimmed);
            addCandidate(rawLower);
            if (rawLower.includes('\\')) addCandidate(rawLower.replace(/\\+/g, '/'));
            if (normalizedLower.includes('\\')) addCandidate(normalizedLower.replace(/\\+/g, '/'));

            const configuredPrefix = (this.data?.options?.links?.defaultUrlPrefix ?? CONSTS.DEFAULT_URL_PREFIX) || '';
            const prefixStripList = Array.from(new Set([
              typeof configuredPrefix === 'string' ? configuredPrefix.trim().toLowerCase() : '',
              'http://',
              'https://'
            ].filter(Boolean)));
            const existingCandidates = candidateStrings.slice();
            prefixStripList.forEach(pref => {
              existingCandidates.forEach(candidate => {
                if (candidate.toLowerCase().startsWith(pref)) {
                  addCandidate(candidate.slice(pref.length));
                }
              });
            });
            candidateStrings.slice().forEach(candidate => {
              if (candidate.startsWith('//')) addCandidate(candidate.slice(2));
            });

            let host = '';
            let parsedUrl = null;
            if (normalizedCandidate) {
              try {
                parsedUrl = new URL(normalizedCandidate);
                host = parsedUrl.hostname.toLowerCase();
              } catch {
                parsedUrl = null;
                host = '';
              }
            }
            let best = null; let bestLen = -1;
            for (const r of rules) {
              const patternRaw = (r.pattern || '').toString().trim();
              if (!patternRaw) continue;
              if (r.patternType === 'domain') {
                const patRaw = patternRaw.toLowerCase();
                // Normalize: strip scheme, //, wildcard, and path
                let pat = patRaw
                  .replace(/^https?:\/\//, '')
                  .replace(/^\/\//, '')
                  .replace(/^\*\.?/, '')
                  .replace(/\/.*$/, '')
                  .replace(/\.+$/, '');
                if (!pat) continue;
                if (host && (host === pat || host.endsWith('.' + pat))) {
                  const len = pat.length; if (len > bestLen) { best = r; bestLen = len; }
                }
              } else if (r.patternType === 'prefix') {
                const patRaw = patternRaw.toLowerCase();
                const trimSlash = (s) => s.replace(/\/+$/, '');
                const patternVariants = [];
                const addPatternVariant = (val) => {
                  if (!val) return;
                  const v = trimSlash(val.toLowerCase());
                  if (!v) return;
                  if (!patternVariants.includes(v)) patternVariants.push(v);
                };
                addPatternVariant(patRaw);
                addPatternVariant(patRaw.replace(/^[a-z]+:\/\//, ''));
                addPatternVariant(MB.Utils.ensureProtocol(patternRaw).toLowerCase());
                const matchedVariant = patternVariants.reduce((bestLocalLen, patt) => {
                  const len = patt.length;
                  if (!len) return bestLocalLen;
                  const found = candidateStrings.some(candidate => {
                    const target = trimSlash(candidate.toLowerCase());
                    return target.startsWith(patt);
                  });
                  return found ? Math.max(bestLocalLen, len) : bestLocalLen;
                }, -1);
                if (matchedVariant > bestLen) { best = r; bestLen = matchedVariant; }
              } else if (r.patternType === 'regex') {
                try {
                  // Be forgiving: unescape \/ to /
                  let rxSrc = patternRaw.replace(/\\\//g, '/');
                  const re = new RegExp(rxSrc, 'i');
                  const matched = candidateStrings.some(candidate => {
                    try { return re.test(candidate); } finally { re.lastIndex = 0; }
                  });
                  if (matched) {
                    const len = rxSrc.length;
                    if (len > bestLen) { best = r; bestLen = len; }
                  }
                } catch {}
              }
            }
            return best;
          } catch { return null; }
        },
        findRuleIconForUrl(url, rulesOverride = null, rawInput = null) {
          const r = this.findRuleForUrl(url, rulesOverride, rawInput);
          return r ? r.iconDataUrl : null;
        },

        getEnabledFaviconRules() {
          const rules = this.data?.options?.links?.faviconRules;
          if (!Array.isArray(rules)) return [];
          return rules.filter(r => r && r.enabled && r.iconDataUrl);
        },

        applyFaviconRulesToLink(link, rulesOverride = null, rawInput = null) {
          try {
            if (!link || !link.url) return false;
            const enabledRules = Array.isArray(rulesOverride) ? rulesOverride : this.getEnabledFaviconRules();
            if (!enabledRules.length) {
              if (link.faviconSource === 'rule' && (link.favicon || link.faviconRuleId)) {
                this.$set(link, 'favicon', null);
                this.$set(link, 'faviconError', false);
                this.$set(link, 'faviconSource', null);
                this.$set(link, 'faviconRuleId', null);
                return true;
              }
              return false;
            }

            const incomingRaw = rawInput != null ? rawInput : (link.rawUrlInput ?? null);
            const normalizedRaw = incomingRaw != null ? String(incomingRaw).trim() : null;
            const rule = this.findRuleForUrl(link.url, enabledRules, normalizedRaw);
            if (rule && rule.iconDataUrl) {
              const ruleIcon = rule.iconDataUrl;
              const ruleId = rule.id ?? null;
              if (link.favicon !== ruleIcon || link.faviconSource !== 'rule' || link.faviconRuleId !== ruleId) {
                this.$set(link, 'favicon', ruleIcon);
                this.$set(link, 'faviconError', false);
                this.$set(link, 'faviconSource', 'rule');
                this.$set(link, 'faviconRuleId', ruleId);
                if (normalizedRaw !== null && link.rawUrlInput !== normalizedRaw) {
                  this.$set(link, 'rawUrlInput', normalizedRaw || '');
                }
                return true;
              }
              return false;
            }

            if (link.faviconSource === 'rule' && (link.favicon || link.faviconRuleId)) {
              this.$set(link, 'favicon', null);
              this.$set(link, 'faviconError', false);
              this.$set(link, 'faviconSource', null);
              this.$set(link, 'faviconRuleId', null);
              if (normalizedRaw !== null && link.rawUrlInput !== normalizedRaw) {
                this.$set(link, 'rawUrlInput', normalizedRaw || '');
              }
              return true;
            }
            return false;
          } catch (err) {
            debugLog('warn', '[FaviconRules] applyFaviconRulesToLink failed', err);
            return false;
          }
        },

        onFaviconRulesClosed() {
          this.refreshVisibleFavicons();
        },

        refreshVisibleFavicons() {
          try {
            const groups = Array.isArray(this.data?.groups) ? this.data.groups : [];
            if (!groups.length) return;

            const enabledRules = this.getEnabledFaviconRules();

            let changed = false;

            groups.forEach(group => {
              if (!group || group.deleted) return;
              const links = Array.isArray(group.links) ? group.links : [];
              links.forEach(link => {
                if (!link || link.deleted || !link.url) return;
                if (this.applyFaviconRulesToLink(link, enabledRules)) changed = true;
              });
            });

            if (changed) {
              this.saveData();
            }
          } catch (err) {
            debugLog('warn', '[FaviconRules] refreshVisibleFavicons failed', err);
          }
        },

      showOptionsDialog() {
        debugLog('log', 'showOptionsDialog called');
        // Ensure options structure is complete before editing
        this.fixOptions();
        // Remember current identity name to detect changes on save
        this.prevIdentityName = this.data.identity?.name || '';
          
          debugLog('log', 'this.optionsDesign:', this.optionsDesign);
          debugLog('log', 'this.data.options:', this.data.options);
          debugLog('log', 'Opening generic dialog with:', {
            type: 'options',
            design: this.optionsDesign,
            title: this.getTranslation('options')
          });
          
        // Prepare dynamic NC folder select values before opening
        try { this.prepareNcFolderSelectInOptions(); } catch {}

        // Use the generic dialog
        this.openGenericEditDialog(
          'options',
          this.data.options,
          this.optionsDesign,
          this.getTranslation('options'),
            async (editedData) => {
              try {
              const previousSecurity = this.normalizeLocalSecurityOptions(this.data.options?.security);
              // Apply the edited options
              const wasAutoHeightOnLinkChanges = !!this.data.options?.groups?.autoAdjustHeightOnLinkChanges;
              const wasManualGroupColumnWidth = !!this.data.options?.common?.manualGroupColumnWidth;
              Object.assign(this.data.options, editedData);
              this.fixOptions();
              let currentSecurity = this.normalizeLocalSecurityOptions(this.data.options?.security);
              if (!previousSecurity.enabled && currentSecurity.enabled) {
                const password = await this.promptForLocalSecurityPassword();
                if (!password) {
                  this.$set(this.data.options.security, 'enabled', false);
                  this.localSecurity.isEncryptedStore = false;
                  this.clearLocalSecurityRuntime();
                  this.showToast(this.getTranslation('options.security.enableCanceled') || 'Encryption was not enabled (password entry canceled).', 'warning');
                } else {
                  try {
                    const kdf = this.createLocalSecurityKdfMeta();
                    const key = await this.deriveLocalSecurityKey(password, kdf);
                    this._localEncryptionKey = key;
                    this._localEncryptionKdf = kdf;
                    this.localSecurity.isEncryptedStore = true;
                    this.localSecurity.locked = false;
                    this.localSecurity.lockReason = '';
                    this.localSecurity.unlockError = '';
                    this.localSecurity.unlockPassword = '';
                    this.localSecurity.encryptedEnvelope = null;
                    this.localSecurity.encryptedDataId = this.dataId;
                    this.showToast(this.getTranslation('options.security.enabledSuccess') || 'Local data encryption enabled.', 'success');
                  } catch (error) {
                    debugLog('error', '[SECURITY] Could not enable encryption', error);
                    this.$set(this.data.options.security, 'enabled', false);
                    this.localSecurity.isEncryptedStore = false;
                    this.clearLocalSecurityRuntime();
                    this.showToast(this.getTranslation('options.security.enableFailed') || 'Could not enable encryption.', 'error');
                  }
                }
              } else if (previousSecurity.enabled && !currentSecurity.enabled) {
                const confirmText = this.getTranslation('options.security.disable.confirm')
                  || 'Disable local encryption and store data unencrypted?';
                if (!confirm(confirmText)) {
                  this.$set(this.data.options.security, 'enabled', true);
                } else {
                  this.localSecurity.isEncryptedStore = false;
                  this.localSecurity.locked = false;
                  this.localSecurity.lockReason = '';
                  this.localSecurity.encryptedEnvelope = null;
                  this.localSecurity.encryptedDataId = -1;
                  this.localSecurity.unlockError = '';
                  this.localSecurity.unlockPassword = '';
                  this.clearLocalSecurityRuntime();
                  this.clearLocalSecuritySessionTimer();
                  this.showToast(this.getTranslation('options.security.disabledSuccess') || 'Local data encryption disabled.', 'success');
                }
              }
              this.fixOptions();
              currentSecurity = this.normalizeLocalSecurityOptions(this.data.options?.security);
              const securityModeChanged = previousSecurity.enabled !== currentSecurity.enabled;
              const isAutoHeightOnLinkChanges = !!this.data.options?.groups?.autoAdjustHeightOnLinkChanges;
              const isManualGroupColumnWidth = !!this.data.options?.common?.manualGroupColumnWidth;
              setDebugEnabled(!!this.data.options?.common?.debugEnabled);
              // Normalize and ensure identity name
              try {
                let newIdentityName = this.data.options?.common?.identityName || '';
                // Trim and auto-generate if empty on save
                newIdentityName = (typeof newIdentityName === 'string') ? newIdentityName.trim() : '';
                if (!newIdentityName) {
                  const rand = Math.random().toString(36).slice(2, 8); // 6 chars
                  newIdentityName = `mybookmarks_${rand}`;
                  if (!this.data.options) this.$set(this, 'options', {});
                  if (!this.data.options.common) this.$set(this.data.options, 'common', {});
                  this.$set(this.data.options.common, 'identityName', newIdentityName);
                  debugLog('log', '[OPTIONS] Auto-generated identityName on empty save:', newIdentityName);
                }
                if (!this.data.identity) this.$set(this, 'identity', {});
                this.$set(this.data.identity, 'name', newIdentityName);
              } catch {}
              if (securityModeChanged) {
                await this.saveDataImmediate();
              } else {
                this.saveData();
              }
              if (currentSecurity.enabled && this.localSecurity.isEncryptedStore && !this.localSecurity.locked) {
                this.startLocalSecuritySessionTimer();
              } else {
                this.clearLocalSecuritySessionTimer();
              }
              this.applyCustomColors();
              try { this.scheduleCardDavAutoSync(); } catch {}
              
              // Update page title if changed
              if (this.data.options.common.pageTitle !== this.title) {
                this.title = this.data.options.common.pageTitle;
                document.title = this.title;
              }
              
              // Refresh groups if identity name changed
              if (this.prevIdentityName !== this.data.identity?.name) {
                this.data.groups.forEach(group => {
                  if (group.members) {
                    group.members.forEach(member => {
                      if (member.uuid === this.data.identity?.uuid) {
                        member.name = this.data.identity?.name || '';
                      }
                    });
                  }
                });
              }

              if (isAutoHeightOnLinkChanges && !wasAutoHeightOnLinkChanges) {
                this.autoAdjustAllGroupHeightsForAutoMode();
              }
              if (!isManualGroupColumnWidth && wasManualGroupColumnWidth) {
                this.endGroupColumnResize();
              }
              if (isManualGroupColumnWidth && !wasManualGroupColumnWidth) {
                this.$nextTick(() => {
                  const columns = this.getGroupColumns();
                  this.ensureGroupColumnWidthsInitialized(columns);
                  this.ensureGroupColumnWidthsWithinViewport(columns);
                  this.saveData();
                });
              }
              } catch (error) {
                debugLog('error', '[OPTIONS] Failed to apply options', error);
                const reason = error?.message ? ` ${error.message}` : '';
                this.showToast((this.getTranslation('options.applyError') || 'Could not apply options.') + reason, 'error');
              }
            }
          );
        },
        
        // Populate NC-Bookmarks folder select in Options dialog
        async prepareNcFolderSelectInOptions() {
          try {
            const bk = this.data.options?.bookmarks || {};
            const serverUrl = (bk.serverUrl || '').trim();
            const username = bk.username || '';
            const password = bk.password || '';
            const values = await this.fetchNcFolderValues(serverUrl, username, password);
            // Ensure current selection exists
            const current = String(bk.rootFolderId || '0');
            if (!values[current]) values[current] = current === '0' ? 'All folders' : `Folder #${current}`;
            this.$set(this.optionsDesign.bookmarks.fields.rootFolderId, 'values', values);
          } catch (e) {
            debugLog('warn', '[NC] Could not populate folder select:', e);
            // Fallback to only "All folders"
            this.$set(this.optionsDesign.bookmarks.fields.rootFolderId, 'values', { '0': 'All folders' });
          }
        },
        async fetchNcFolderValues(serverUrl, username, password) {
          const map = { '0': 'All folders' };
          if (!serverUrl) return map;
          try {
            await MB.Extension.setDavAuth(serverUrl, username||'', password||'');
            const url = MB.CardDAV.joinUrl(serverUrl, '/index.php/apps/bookmarks/public/rest/v2/folder');
            const auth = MB.CardDAV.buildBasicAuthHeader(username||'', password||'');
            const res = await MB.Extension.davRequest({ method:'GET', url, headers:{ 'Accept':'application/json', 'OCS-APIREQUEST':'true', 'X-Requested-With':'XMLHttpRequest', 'Authorization':auth }, username, password });
            if (!res.ok) return map;
            let parsed=null; try { parsed = JSON.parse(res.bodyText||'[]'); } catch {}
            const list = Array.isArray(parsed) ? parsed : (parsed && Array.isArray(parsed.data) ? parsed.data : []);
            for (const f of list) {
              if (!f || f.id === undefined) continue;
              const id = String(f.id);
              map[id] = f.title ? `${f.title} (#${f.id})` : `Folder #${f.id}`;
            }
          } catch (e) {
            debugLog('warn', '[NC] fetchNcFolderValues failed', e);
          }
          return map;
        },
        
        // --- Generic Options Dialog Methods ---
        getFilteredSettings() {
          // Backend-aware section filtering
          const backend = this.data.options?.sync?.backend || (this.data.options?.carddav?.enabled ? 'carddav' : null);
          const design = {};
          Object.entries(this.optionsDesign).forEach(([key, section]) => {
            // Hide provider-specific sections that don't match backend
            if (key === 'carddav' && backend && backend !== 'carddav') return;
            if (key === 'bookmarks' && backend && backend !== 'nc-bookmarks') return;
            design[key] = section;
          });
          if (!this.settingsFilterText) return design;
          
          const filter = this.settingsFilterText.toLowerCase();
          const filtered = {};
          
          for (const [sectionKey, section] of Object.entries(design)) {
            // Skip if not an object with fields
            if (!section.fields) continue;
            
            const filteredFields = {};
            let sectionMatches = false;
            
            // Check section title
            const sectionTitle = this.getTranslation(section.translateKey) || sectionKey;
            if (sectionTitle.toLowerCase().includes(filter)) {
              sectionMatches = true;
            }
            
            // Check fields
            for (const [fieldKey, field] of Object.entries(section.fields)) {
              const fieldLabel = this.getTranslation(field.translateKey) || fieldKey;
              const fieldHelp = this.getTranslation(field.helpText) || '';
              
              if (fieldLabel.toLowerCase().includes(filter) || fieldHelp.toLowerCase().includes(filter)) {
                filteredFields[fieldKey] = field;
                sectionMatches = true;
              }
            }
            
            if (sectionMatches) {
              filtered[sectionKey] = {
                ...section,
                fields: Object.keys(filteredFields).length > 0 ? filteredFields : section.fields
              };
            }
          }
          
          return filtered;
        },
        
        isSectionExpanded(sectionKey) {
          // Auto-expand if filter is active and section has matches
          if (this.settingsFilterText && this.getFilteredSettings()[sectionKey]) {
            return true;
          }
          // Otherwise use stored state (default to false)
          return this.expandedSections[sectionKey] || false;
        },
        
        toggleSection(sectionKey) {
          this.$set(this.expandedSections, sectionKey, !this.expandedSections[sectionKey]);
        },
        
        getFieldComponent(type) {
          // Map field types to component names
          const componentMap = {
            'text': 'text-field',
            'number': 'number-field',
            'checkbox': 'checkbox-field',
            'select': 'select-field',
            'color': 'color-field'
          };
          return componentMap[type] || 'text-field';
        },
        
        
        // --- Group Edit Dialog Methods ---
        isGroupSectionExpanded(sectionKey) {
          // Auto-expand all sections by default
          if (this.expandedGroupSections[sectionKey] === undefined) {
            this.$set(this.expandedGroupSections, sectionKey, true);
          }
          return this.expandedGroupSections[sectionKey];
        },
        toggleGroupSection(sectionKey) {
          this.$set(this.expandedGroupSections, sectionKey, !this.expandedGroupSections[sectionKey]);
        },
        
        // --- Link Edit Dialog Methods ---
        isLinkSectionExpanded(sectionKey) {
          // Auto-expand all sections by default
          if (this.expandedLinkSections[sectionKey] === undefined) {
            this.$set(this.expandedLinkSections, sectionKey, true);
          }
          return this.expandedLinkSections[sectionKey];
        },
        toggleLinkSection(sectionKey) {
          this.$set(this.expandedLinkSections, sectionKey, !this.expandedLinkSections[sectionKey]);
        },

        // --- Ref-Link Edit Dialog Methods ---
        isRefAliasSectionExpanded(sectionKey) {
          if (this.refAliasExpandedSections[sectionKey] === undefined) {
            this.$set(this.refAliasExpandedSections, sectionKey, true);
          }
          return this.refAliasExpandedSections[sectionKey];
        },
        toggleRefAliasSection(sectionKey) {
          this.$set(this.refAliasExpandedSections, sectionKey, !this.isRefAliasSectionExpanded(sectionKey));
        },
        
        // --- Translation ---
        getTranslation(key, values) {
          const lang = this.data.options?.common?.language || 'en';
          // Use i18n translations
          let text = (this.i18n?.[lang]?.[key]) || (this.i18n?.['en']?.[key]) || '';
          
          // Fallback: show key if no translation found
          if (!text) text = key;
          
          // Replace placeholders with values
          if (values && Array.isArray(values)) {
            values.forEach(val => { 
              text = text.replace('%s', (val !== undefined && val !== null) ? val : ''); 
            });
          }
          return text;
        },
        // --- Groups ---
        normalizeLinkedCollapseGroupUuidList(value, selfUuid = '') {
          const self = String(selfUuid || '').trim();
          const source = Array.isArray(value) ? value : [];
          const seen = new Set();
          const result = [];
          source.forEach((item) => {
            const normalized = String(item || '').trim();
            if (!normalized || normalized === self || seen.has(normalized)) return;
            seen.add(normalized);
            result.push(normalized);
          });
          return result;
        },
        isLinkedCollapseFieldKey(fieldKey = '') {
          return fieldKey === 'linkedCollapseGroupUuids' || fieldKey === 'linkedCollapseOnCloseGroupUuids';
        },
        getGenericGroupLinkOptions(fieldKey = 'linkedCollapseGroupUuids') {
          if (this.genericEditConfig?.type !== 'group') return [];
          if (!this.isLinkedCollapseFieldKey(fieldKey) && fieldKey !== 'linkedCollapseBehaviors') return [];
          const currentUuid = String(
            this.genericEditConfig?.context?.groupUuid
            || this.genericEditData?.uuid
            || ''
          ).trim();
          return (this.data.groups || [])
            .filter(group => String(group?.uuid || '').trim() && String(group.uuid) !== currentUuid)
            .map(group => ({
              uuid: String(group.uuid),
              name: (group.name || '').trim() || 'Group'
            }))
            .sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()));
        },
        getGenericGroupLinkSelection(fieldKey = 'linkedCollapseGroupUuids') {
          if (!this.genericEditData || !this.isLinkedCollapseFieldKey(fieldKey)) return [];
          const currentUuid = String(
            this.genericEditConfig?.context?.groupUuid
            || this.genericEditData?.uuid
            || ''
          ).trim();
          const normalized = this.normalizeLinkedCollapseGroupUuidList(this.genericEditData[fieldKey] || [], currentUuid);
          if (JSON.stringify(normalized) !== JSON.stringify(this.genericEditData[fieldKey] || [])) {
            this.$set(this.genericEditData, fieldKey, normalized);
          }
          return normalized;
        },
        isGenericGroupLinkSelected(fieldKey = 'linkedCollapseGroupUuids', groupUuid = '') {
          const targetUuid = String(groupUuid || '').trim();
          if (!targetUuid) return false;
          return this.getGenericGroupLinkSelection(fieldKey).includes(targetUuid);
        },
        toggleGenericGroupLinkSelection(fieldKey = 'linkedCollapseGroupUuids', groupUuid = '', enabled = false) {
          if (!this.genericEditData || !this.isLinkedCollapseFieldKey(fieldKey)) return;
          const targetUuid = String(groupUuid || '').trim();
          if (!targetUuid) return;
          const currentUuid = String(
            this.genericEditConfig?.context?.groupUuid
            || this.genericEditData?.uuid
            || ''
          ).trim();
          const currentSelection = this.getGenericGroupLinkSelection(fieldKey);
          const nextSelection = enabled
            ? [...currentSelection, targetUuid]
            : currentSelection.filter(uuid => uuid !== targetUuid);
          this.$set(
            this.genericEditData,
            fieldKey,
            this.normalizeLinkedCollapseGroupUuidList(nextSelection, currentUuid)
          );
        },
        normalizeGroupLinkedCollapseFields(group) {
          if (!group) return false;
          const groupUuid = String(group?.uuid || '').trim();
          let changed = false;
          const normalizedExpand = this.normalizeLinkedCollapseGroupUuidList(group.linkedCollapseGroupUuids || [], groupUuid);
          if (JSON.stringify(group.linkedCollapseGroupUuids || []) !== JSON.stringify(normalizedExpand)) {
            this.$set(group, 'linkedCollapseGroupUuids', normalizedExpand);
            changed = true;
          }
          const normalizedCollapse = this.normalizeLinkedCollapseGroupUuidList(group.linkedCollapseOnCloseGroupUuids || [], groupUuid);
          if (JSON.stringify(group.linkedCollapseOnCloseGroupUuids || []) !== JSON.stringify(normalizedCollapse)) {
            this.$set(group, 'linkedCollapseOnCloseGroupUuids', normalizedCollapse);
            changed = true;
          }
          return changed;
        },
        applyLinkedCollapseAssignmentsForField(group, fieldKey, requestedUuids = [], groupByUuid = new Map(), timestamp = Date.now()) {
          if (!group || !this.isLinkedCollapseFieldKey(fieldKey)) return false;
          const groupUuid = String(group.uuid || '').trim();
          if (!groupUuid) return false;
          const previous = this
            .normalizeLinkedCollapseGroupUuidList(group[fieldKey] || [], groupUuid)
            .filter(uuid => groupByUuid.has(uuid));
          const requested = this
            .normalizeLinkedCollapseGroupUuidList(requestedUuids || [], groupUuid)
            .filter(uuid => groupByUuid.has(uuid));

          let changed = false;
          if (JSON.stringify(group[fieldKey] || []) !== JSON.stringify(requested)) {
            this.$set(group, fieldKey, requested);
            changed = true;
          }

          const requestedSet = new Set(requested);
          previous.forEach((otherUuid) => {
            if (requestedSet.has(otherUuid)) return;
            const otherGroup = groupByUuid.get(otherUuid);
            if (!otherGroup) return;
            const otherList = this.normalizeLinkedCollapseGroupUuidList(otherGroup[fieldKey] || [], otherUuid);
            if (!otherList.includes(groupUuid)) return;
            const next = otherList.filter(uuid => uuid !== groupUuid);
            this.$set(otherGroup, fieldKey, next);
            this.touchGroup(otherGroup, timestamp);
            changed = true;
          });

          requested.forEach((otherUuid) => {
            const otherGroup = groupByUuid.get(otherUuid);
            if (!otherGroup) return;
            const otherList = this.normalizeLinkedCollapseGroupUuidList(otherGroup[fieldKey] || [], otherUuid);
            if (otherList.includes(groupUuid)) return;
            otherList.push(groupUuid);
            this.$set(otherGroup, fieldKey, otherList);
            this.touchGroup(otherGroup, timestamp);
            changed = true;
          });

          return changed;
        },
        applyLinkedCollapseAssignmentsForGroup(group, requestedExpandUuids = null, requestedCollapseUuids = null, timestamp = Date.now()) {
          if (!group) return false;
          let expandInput = requestedExpandUuids;
          let collapseInput = requestedCollapseUuids;
          let ts = timestamp;

          if (typeof expandInput === 'number') {
            ts = expandInput;
            expandInput = null;
            collapseInput = null;
          } else if (typeof collapseInput === 'number') {
            ts = collapseInput;
            collapseInput = null;
          }
          if (!Number.isFinite(ts)) ts = Date.now();

          const groups = Array.isArray(this.data?.groups) ? this.data.groups : [];
          const groupByUuid = new Map();
          groups.forEach((entry) => {
            const uuid = String(entry?.uuid || '').trim();
            if (uuid) groupByUuid.set(uuid, entry);
          });
          const groupUuid = String(group.uuid || '').trim();
          if (!groupUuid) return false;

          const normalizedExpand = this
            .normalizeLinkedCollapseGroupUuidList(
              Array.isArray(expandInput) ? expandInput : (group.linkedCollapseGroupUuids || []),
              groupUuid
            )
            .filter(uuid => groupByUuid.has(uuid));
          const normalizedCollapse = this
            .normalizeLinkedCollapseGroupUuidList(
              Array.isArray(collapseInput) ? collapseInput : (group.linkedCollapseOnCloseGroupUuids || []),
              groupUuid
            )
            .filter(uuid => groupByUuid.has(uuid));

          const changedExpand = this.applyLinkedCollapseAssignmentsForField(
            group,
            'linkedCollapseGroupUuids',
            normalizedExpand,
            groupByUuid,
            ts
          );
          const changedCollapse = this.applyLinkedCollapseAssignmentsForField(
            group,
            'linkedCollapseOnCloseGroupUuids',
            normalizedCollapse,
            groupByUuid,
            ts
          );
          const changed = changedExpand || changedCollapse;
          if (changed) this.touchGroup(group, ts);
          return changed;
        },
        removeGroupFromLinkedCollapseAssignments(groupUuid = '', timestamp = Date.now()) {
          const removedUuid = String(groupUuid || '').trim();
          if (!removedUuid) return false;
          const fieldKeys = ['linkedCollapseGroupUuids', 'linkedCollapseOnCloseGroupUuids'];
          let changed = false;
          (this.data.groups || []).forEach((group) => {
            const currentUuid = String(group?.uuid || '').trim();
            if (!currentUuid || currentUuid === removedUuid) return;
            fieldKeys.forEach((fieldKey) => {
              const normalized = this.normalizeLinkedCollapseGroupUuidList(group[fieldKey] || [], currentUuid);
              if (!normalized.includes(removedUuid)) return;
              const next = normalized.filter(uuid => uuid !== removedUuid);
              this.$set(group, fieldKey, next);
              this.touchGroup(group, timestamp);
              changed = true;
            });
          });
          return changed;
        },
        repairLinkedCollapseGroupAssignments() {
          const groups = Array.isArray(this.data?.groups) ? this.data.groups : [];
          if (!groups.length) return false;
          const fieldKeys = ['linkedCollapseGroupUuids', 'linkedCollapseOnCloseGroupUuids'];
          const groupByUuid = new Map();
          groups.forEach((group) => {
            const uuid = String(group?.uuid || '').trim();
            if (uuid) groupByUuid.set(uuid, group);
          });
          let changed = false;

          groups.forEach((group) => {
            const groupUuid = String(group?.uuid || '').trim();
            if (!groupUuid) return;
            fieldKeys.forEach((fieldKey) => {
              const normalized = this
                .normalizeLinkedCollapseGroupUuidList(group[fieldKey] || [], groupUuid)
                .filter(uuid => groupByUuid.has(uuid));
              if (JSON.stringify(normalized) !== JSON.stringify(group[fieldKey] || [])) {
                this.$set(group, fieldKey, normalized);
                changed = true;
              }
            });
          });

          fieldKeys.forEach((fieldKey) => {
            groups.forEach((group) => {
              const groupUuid = String(group?.uuid || '').trim();
              if (!groupUuid) return;
              const linked = this.normalizeLinkedCollapseGroupUuidList(group[fieldKey] || [], groupUuid)
                .filter(uuid => groupByUuid.has(uuid));
              linked.forEach((otherUuid) => {
                const otherGroup = groupByUuid.get(otherUuid);
                if (!otherGroup) return;
                const otherList = this.normalizeLinkedCollapseGroupUuidList(otherGroup[fieldKey] || [], otherUuid);
                if (otherList.includes(groupUuid)) return;
                otherList.push(groupUuid);
                this.$set(otherGroup, fieldKey, otherList);
                changed = true;
              });
            });
          });

          return changed;
        },
        propagateLinkedCollapseGroupsByField(sourceGroup, fieldKey, targetCollapsedValue = false) {
          if (!sourceGroup || !this.isLinkedCollapseFieldKey(fieldKey)) return;
          const sourceUuid = String(sourceGroup?.uuid || '').trim();
          if (!sourceUuid) return;
          const groups = Array.isArray(this.data?.groups) ? this.data.groups : [];
          if (!groups.length) return;
          const groupByUuid = new Map();
          groups.forEach((entry) => {
            const uuid = String(entry?.uuid || '').trim();
            if (uuid) groupByUuid.set(uuid, entry);
          });
          if (!groupByUuid.has(sourceUuid)) return;

          const visited = new Set([sourceUuid]);
          const queue = [sourceUuid];
          while (queue.length) {
            const currentUuid = queue.shift();
            const currentGroup = groupByUuid.get(currentUuid);
            if (!currentGroup) continue;
            const linked = this
              .normalizeLinkedCollapseGroupUuidList(currentGroup[fieldKey] || [], currentUuid)
              .filter(uuid => groupByUuid.has(uuid));
            linked.forEach((linkedUuid) => {
              if (visited.has(linkedUuid)) return;
              visited.add(linkedUuid);
              queue.push(linkedUuid);
              const linkedGroup = groupByUuid.get(linkedUuid);
              if (linkedGroup && (!!linkedGroup.collapsed !== !!targetCollapsedValue)) {
                this.toggleGroupCollapse(linkedGroup, { skipLinkedPropagation: true, skipSave: true });
              }
            });
          }
        },
        expandLinkedCollapseGroups(sourceGroup) {
          this.propagateLinkedCollapseGroupsByField(sourceGroup, 'linkedCollapseGroupUuids', false);
        },
        collapseLinkedCollapseGroups(sourceGroup) {
          this.propagateLinkedCollapseGroupsByField(sourceGroup, 'linkedCollapseOnCloseGroupUuids', true);
        },
        getNewGroupTemplate(name) {
          const groupUuid = this.generateUUID();
          const nowTs = Date.now();
          const newGroup = {
            uuid: groupUuid, // Every group gets a permanent UUID from creation
            groupId: groupUuid, // Use the same UUID as groupId for all groups (needed for event-log)
            name: name,
            emoji: '',
            keywords: '',
            shortcut: '',
            linkedCollapseGroupUuids: [],
            linkedCollapseOnCloseGroupUuids: [],
            urlPlaceholders: [],
            favicon: '',
            faviconError: false,
            faviconLoading: false,
            faviconSource: null,
            faviconRuleId: null,
            links: [],
            index: this.data.groups.length > 0 ? Math.max(...this.data.groups.map(g => g.index)) + 1 : 0,
            column: 0,
            createdAt: nowTs,
            lastModified: nowTs,
            // Transient UI state defaults
            collapsed: this.data.options.groups.collapseGroupsOnStart, // Use option default
            searchCollapsed: true,
            editing: false,
            isMouseOver: false,
            newLinkText: '', // Moved from main data
            newLinkUrl: '',    // Moved from main data
            // Progressive loading state
            linksExpanded: false, // Start with limited links for performance
            bodyHeight: CONSTS.GROUP_BODY_HEIGHT_DEFAULT,
            manualHeightResizeOverride: false,
            // If true, disable colored background and use neutral styling
            shared: false,
            members: [ { uuid: this.data.identity?.uuid || '', name: this.data.identity?.name || '', role: 'owner' } ],
            // Enable event-log by default for all new groups
            useEventLog: true,
            eventLog: [],
            snapshot: null,
            headEventId: null,
            vectorClock: {}
          };
          
          // Create initial snapshot event for the new group
          // Ensure we have an identity UUID for event-log
          if (!this.data.identity?.uuid) {
            if (!this.data.identity) {
              this.$set(this.data, 'identity', { 
                uuid: this.generateUUID(),
                name: '', 
                pubKey: '', 
                privKey: '' 
              });
            } else {
              this.$set(this.data.identity, 'uuid', this.generateUUID());
            }
          }
          
          const author = this.data.identity.uuid;
          const migrationEvent = {
            eventId: 'creation-' + groupUuid,
            parentId: null,
            timestamp: nowTs,
            author: author,
            type: 'snapshot',
            data: {
              groupId: groupUuid,
              name: name,
              emoji: '',
              favicon: '',
              links: [],
              keywords: '',
              shortcut: '',
              urlPlaceholders: [],
              linkedCollapseGroupUuids: [],
              linkedCollapseOnCloseGroupUuids: [],
              members: newGroup.members
            }
          };
          
          newGroup.eventLog = [migrationEvent];
          newGroup.snapshot = migrationEvent.data;
          newGroup.headEventId = migrationEvent.eventId;
          newGroup.vectorClock = { [author]: 1 };
          
          return newGroup;
        },
        createGroupWithDefaults(name = 'New Group', preferredColumn = null) {
          const newGroup = this.getNewGroupTemplate(name);
          // apply default colors from settings
          newGroup.color = this.data.options?.groups?.defaultGroupFormatting || '';
          newGroup.titleFormatting = this.data.options?.groups?.defaultGroupTitleFormatting || '';
          newGroup.linkFormatting = this.data.options?.groups?.defaultGroupLinkFormatting || '';
          newGroup.badgeFormatting = this.data.options?.groups?.defaultGroupBadgeFormatting || '';
          newGroup.pillFormatting = this.data.options?.groups?.defaultGroupPillFormatting || '';
          newGroup.pillColor = '';

          if (!Array.isArray(this.data.groups)) {
            this.$set(this.data, 'groups', []);
          }

          let targetColumn = Number(preferredColumn);
          if (!Number.isFinite(targetColumn)) {
            const columns = this.getGroupColumns();
            targetColumn = 0;
            if (columns.length > 0) {
              const counts = columns.map(col => this.data.groups.filter(g => g.column === col).length);
              const minCount = Math.min(...counts);
              targetColumn = Number(columns[counts.indexOf(minCount)] ?? 0);
            }
          }

          newGroup.column = targetColumn;
          newGroup.index = this.getMaxIndexForColumn(this.data.groups, targetColumn) + 1; // Add to end of target column
          this.data.groups.push(newGroup);
          return newGroup;
        },
        addGroup() {
          this.createGroupWithDefaults('New Group');
          // No need to reindex all if adding to end
          // reindexArr(this.data.groups.filter(g => g.column === newGroup.column));
          this.saveData();
        },
        // --- Sharing: context actions ---
        // Preserve original confirmShare to allow extension
        // _originalConfirmShare removed; extend confirmShare in-place
        async shareGroup(group) {
          try {
            this.openShareDialog('group', group);
          } catch (e) { debugLog('error', e); alert('Send failed'); }
        },
        async shareLink(link) {
          try {
            this.openShareDialog('link', link);
          } catch (e) { debugLog('error', e); alert('Send failed'); }
        },
        openShareDialog(mode, payload) {
          this.shareDialog.visible = true;
          this.shareDialog.mode = mode;
          this.shareDialog.payload = payload;
          this.shareDialog.selectedContacts = {};
          
          // Check online status for all contacts when dialog opens
          this.checkAllContactsStatus();
          
          const modalElement = document.getElementById('shareModal');
          if (modalElement) bootstrap.Modal.getOrCreateInstance(modalElement).show();
          this.hideMenus();
        },
        async confirmShare() {
          if (this.shareDialog?.mode === 'owner-transfer') {
            const selected = Object.entries(this.shareDialog.selectedContacts||{}).filter(([,v])=>!!v).map(([k])=>k);
            if (selected.length !== 1) { alert(this.getTranslation('dialog.transfer.select')||'Select new owner:'); return; }
            const g = this.shareDialog.group;
            if (!g) return;
            await this.transferOwnership(g, selected[0]);
            this.shareDialog.visible=false; const modalElement = document.getElementById('shareModal'); if (modalElement) bootstrap.Modal.getOrCreateInstance(modalElement).hide();
            return;
          }
          const selectedContacts = Object.entries(this.shareDialog.selectedContacts).filter(([,v])=>!!v).map(([k])=>k);
          if (selectedContacts.length===0) { alert('Select at least one contact'); return; }
          const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' };
          const base = { v:1, ts: Date.now(), from, schemaVersion:1, msgId: (Math.random().toString(36).slice(2)+Date.now()) };
          if (this.shareDialog.mode==='link') {
            const l = this.shareDialog.payload;
            const selection = { groups: [], links: [this.serializeLinkForSync(l)] };
            // to contacts
            for (const uuid of selectedContacts) {
              await sharing.sendToContact(uuid, Object.assign({}, base, { type:'share', mode:'merge', selection }));
            }
          } else if (this.shareDialog.mode==='group') {
            const g0 = this.shareDialog.payload;
            const gPayload = { 
              uuid:g0.uuid, 
              name:g0.name, 
              color:g0.color, 
              opacity:g0.opacity, 
              keywords:g0.keywords, 
              urlPlaceholders: this.normalizePlaceholderList(g0.urlPlaceholders || []),
              linkedCollapseGroupUuids: this.normalizeLinkedCollapseGroupUuidList(g0.linkedCollapseGroupUuids || [], g0.uuid || ''),
              linkedCollapseOnCloseGroupUuids: this.normalizeLinkedCollapseGroupUuidList(g0.linkedCollapseOnCloseGroupUuids || [], g0.uuid || ''),
              favicon:g0.favicon || '',
              faviconSource:g0.faviconSource || null,
              links:(g0.links||[]).map(l=>this.serializeLinkForSync(l)),
              // Include event-log data if available
              useEventLog: g0.useEventLog || false,
              eventLog: g0.eventLog || [],
              snapshot: g0.snapshot || null,
              headEventId: g0.headEventId || null,
              vectorClock: g0.vectorClock || {}
            };
            const selection = { groups:[gPayload], links:[] };
            for (const uuid of selectedContacts) {
              await sharing.sendToContact(uuid, Object.assign({}, base, { type:'share', mode:'merge', selection }));
            }
          } else if (this.shareDialog.mode==='invite-group') {
            const g = this.shareDialog.payload;
            // ensure group is shared and has topic/key
            await sharing.inviteContactToGroup(g, selectedContacts[0] || '');
            for (let i=1;i<selectedContacts.length;i++) {
              await sharing.inviteContactToGroup(g, selectedContacts[i]);
            }
          }
          this.shareDialog.visible=false; const modalElement = document.getElementById('shareModal'); if (modalElement) bootstrap.Modal.getOrCreateInstance(modalElement).hide();
          // Removed alert - modal will close to indicate success
        },
        inviteMembers(group) {
          // For non-shared groups, allow current user to initiate sharing (becomes owner)
          if (group?.shared && !this.isOwnerOfGroup(group)) { alert(this.getTranslation('error.onlyOwner')); return; }
          // reuse share dialog to pick contacts; on confirm, send invites
          this.shareDialog.visible = true;
          this.shareDialog.mode = 'invite-group';
          this.shareDialog.payload = group;
          this.shareDialog.selectedContacts = {};

          // Check online status for all contacts when dialog opens
          this.checkAllContactsStatus();

          const modalElement = document.getElementById('shareModal');
          if (modalElement) bootstrap.Modal.getOrCreateInstance(modalElement).show();
          this.hideMenus();
        },
        duplicateGroup(group) {
          if (!group) return;
          const copy = {
            uuid: this.generateUUID(), // Generate new UUID for the duplicated group
            name: `${group.name} (Kopie)`,
            keywords: group.keywords || '',
            urlPlaceholders: this.normalizePlaceholderList(group.urlPlaceholders || []),
            linkedCollapseGroupUuids: [],
            linkedCollapseOnCloseGroupUuids: [],
            links: [],
            index: (this.data.groups && this.data.groups.length ? Math.max(...this.data.groups.map(g=>g.index)) + 1 : 0),
            column: group.column || 0,
            collapsed: !!group.collapsed,
            searchCollapsed: true,
            editing: false,
            isMouseOver: false,
            newLinkText: '',
            newLinkUrl: '',
            color: group.color || '',
            titleFormatting: group.titleFormatting || '',
            linkFormatting: group.linkFormatting || '',
            badgeFormatting: group.badgeFormatting || '',
            pillFormatting: group.pillFormatting || '',
            favicon: group.favicon || '',
            faviconError: false,
            faviconLoading: false,
            faviconSource: group.faviconSource || null,
            faviconRuleId: group.faviconRuleId || null,
            shared: false,
            members: [ { uuid: this.data.identity?.uuid || '', name: this.data.identity?.name || '', role: 'owner' } ]
          };
          const nowTs = Date.now();
          copy.createdAt = nowTs;
          copy.lastModified = nowTs;
          (group.links||[]).forEach((l, idx)=>{
            const linkCreated = this.normalizeTimestampValue(l.createdAt) ?? nowTs;
            const linkModified = this.normalizeTimestampValue(l.lastModified) ?? linkCreated;
            copy.links.push({ 
              uuid: this.generateUUID(), // New UUID for duplicated link
              text: l.text||l.url, 
              url: l.url, 
              urlPlaceholders: this.normalizePlaceholderList(l.urlPlaceholders || []),
              keywords: l.keywords||'', 
              shortcut: l.shortcut || '',
              color: l.color || '',
              refTargetUuid: l.refTargetUuid || '',
              inheritSourceKeywords: l.inheritSourceKeywords !== false,
              column: 0, 
              index: idx, 
              editing:false, 
              isMouseOver:false,
              createdAt: linkCreated,
              lastModified: linkModified
            });
          });
          if (!Array.isArray(this.data.groups)) this.$set(this.data, 'groups', []);
          this.data.groups.push(copy);
          this.touchGroup(copy, nowTs);
          this.saveData();
          this.hideMenus();
        },
	        async delGroup(group) {
	          const needConfirm = !!this.data?.options?.common?.confirmDeleteGroup;
	          if (needConfirm) {
	            const msg = this.getTranslation('confirm.deleteGroup', [group?.name || '']);
	            if (!confirm(msg)) return;
	          }
	          const removedGroupUuid = String(group?.uuid || '').trim();
	          const oldColumn = group.column; // Spalte merken
	          const index = this.data.groups.findIndex(g => g.uuid === group.uuid);
	          if (index > -1) {
	            await this.createDestructiveActionSnapshot();
	          }
	          const isOwner = (group.members||[]).some(m=>m.role==='owner' && m.uuid===this.data.identity?.uuid);
          // If this is a shared group and we are NOT the owner, notify owner that we left; owner's group stays intact
          if (group.shared && !isOwner) {
            try {
              const owner = (group.members||[]).find(m=>m.role==='owner') || (group.members||[]).find(m=>m.uuid!==this.data.identity?.uuid);
              if (owner) {
                const env = { v:1, type:'group-member-left', ts:Date.now(), from:{ uuid:this.data.identity?.uuid, name:this.data.identity?.name||'' }, groupId: group.groupId, memberUuid: this.data.identity?.uuid };
                await sharing.sendToContact(owner.uuid, env);
              }
            } catch {}
            try { sharing.ntfy.unsubscribe(group.groupTopic); } catch {}
          }
          if (index > -1) {
            this.data.groups.splice(index, 1);
            if (removedGroupUuid) {
              this.removeGroupFromLinkedCollapseAssignments(removedGroupUuid, Date.now());
            }
            this.reindexArr(this.data.groups.filter(g => g.column === oldColumn)); // Alte Spalte neu indizieren
            this.normalizeColumnNumbers(); // <-- HIER AUFRUFEN
            this.saveData(); // Speichern nach Normalisierung und Reindexierung
          }
          this.hideMenus();
        },
        normalizeGroupColumnWidth(value) {
          const parsed = Number(value);
          if (!Number.isFinite(parsed)) return null;
          const rounded = Math.round(parsed);
          return Math.max(CONSTS.GROUP_COLUMN_WIDTH_MIN, rounded);
        },
        isManualGroupColumnWidthEnabled() {
          return !!this.data?.options?.common?.manualGroupColumnWidth;
        },
        ensureGroupColumnWidthStore() {
          if (!this.data?.options) this.$set(this.data, 'options', {});
          if (!this.data.options.groups) this.$set(this.data.options, 'groups', {});
          if (!this.data.options.groups.columnWidths || typeof this.data.options.groups.columnWidths !== 'object' || Array.isArray(this.data.options.groups.columnWidths)) {
            this.$set(this.data.options.groups, 'columnWidths', {});
          }
          return this.data.options.groups.columnWidths;
        },
        getStoredGroupColumnWidth(columnIndex) {
          if (columnIndex === undefined || columnIndex === null) return null;
          if (!this.isManualGroupColumnWidthEnabled()) return null;
          const widths = this.ensureGroupColumnWidthStore();
          const normalized = this.normalizeGroupColumnWidth(widths[String(columnIndex)]);
          return Number.isFinite(normalized) ? normalized : null;
        },
        setGroupColumnWidth(columnIndex, width) {
          if (columnIndex === undefined || columnIndex === null) return;
          const normalized = this.normalizeGroupColumnWidth(width);
          if (!Number.isFinite(normalized)) return;
          const widths = this.ensureGroupColumnWidthStore();
          const key = String(columnIndex);
          if (widths[key] !== normalized) {
            this.$set(widths, key, normalized);
          }
        },
        getMeasuredGroupColumnWidth(columnIndex) {
          if (columnIndex === undefined || columnIndex === null) return null;
          if (typeof document === 'undefined') return null;
          const cell = document.querySelector(`.groupCell[data-column-index="${columnIndex}"]`);
          if (!cell) return null;
          const measured = this.normalizeGroupColumnWidth(cell.getBoundingClientRect().width);
          return Number.isFinite(measured) ? measured : null;
        },
        getCurrentGroupColumnWidth(columnIndex) {
          return this.getStoredGroupColumnWidth(columnIndex) ?? this.getMeasuredGroupColumnWidth(columnIndex);
        },
        getGroupColumnCellStyle(columnIndex) {
          if (!this.isManualGroupColumnWidthEnabled()) return null;
          const width = this.getStoredGroupColumnWidth(columnIndex);
          if (!Number.isFinite(width)) {
            return {
              minWidth: `${CONSTS.GROUP_COLUMN_WIDTH_MIN}px`
            };
          }
          return {
            width: `${width}px`,
            minWidth: `${width}px`,
            maxWidth: `${width}px`
          };
        },
        getGroupColumnWidthLabel(columnIndex) {
          const width = this.getCurrentGroupColumnWidth(columnIndex);
          if (!Number.isFinite(width)) return '0px';
          return `${Math.round(width)}px`;
        },
        equalizeGroupColumnWidths() {
          if (!this.isManualGroupColumnWidthEnabled()) return;
          const columns = this.getGroupColumns();
          if (!columns.length) return;
          const minWidth = CONSTS.GROUP_COLUMN_WIDTH_MIN;
          const availableWidth = this.getAvailableGroupColumnWidthSpace(columns);
          let baseWidth = minWidth;
          let remainder = 0;

          if (Number.isFinite(availableWidth) && availableWidth > 0) {
            baseWidth = Math.max(minWidth, Math.floor(availableWidth / columns.length));
            const used = baseWidth * columns.length;
            remainder = Math.max(0, availableWidth - used);
          }

          columns.forEach((col, idx) => {
            const extra = idx < remainder ? 1 : 0;
            this.setGroupColumnWidth(col, baseWidth + extra);
          });

          const changedByFit = this.ensureGroupColumnWidthsWithinViewport(columns);
          this.saveData();
          if (changedByFit) this.$forceUpdate();
        },
        ensureGroupColumnWidthsInitialized(columns = null) {
          if (!this.isManualGroupColumnWidthEnabled()) return;
          const cols = Array.isArray(columns) ? columns : this.getGroupColumns();
          const widths = this.ensureGroupColumnWidthStore();
          cols.forEach(col => {
            const key = String(col);
            const existing = this.normalizeGroupColumnWidth(widths[key]);
            if (Number.isFinite(existing)) {
              if (widths[key] !== existing) this.$set(widths, key, existing);
              return;
            }
            const measured = this.getMeasuredGroupColumnWidth(col);
            if (Number.isFinite(measured)) {
              this.$set(widths, key, measured);
            }
          });
        },
        shiftGroupColumnWidthsRight(fromColumnIndex) {
          const widths = this.ensureGroupColumnWidthStore();
          const entries = Object.entries(widths)
            .map(([k, v]) => ({ col: Number(k), width: this.normalizeGroupColumnWidth(v) }))
            .filter(entry => Number.isFinite(entry.col) && Number.isFinite(entry.width))
            .sort((a, b) => b.col - a.col);

          entries.forEach(({ col, width }) => {
            if (col >= fromColumnIndex) {
              this.$set(widths, String(col + 1), width);
              this.$delete(widths, String(col));
            }
          });
        },
        remapGroupColumnWidths(columnMapping) {
          const widths = this.ensureGroupColumnWidthStore();
          const remapped = {};
          Object.entries(columnMapping || {}).forEach(([oldCol, newCol]) => {
            const width = this.normalizeGroupColumnWidth(widths[String(oldCol)]);
            if (!Number.isFinite(width) || newCol === undefined || newCol === null) return;
            remapped[String(newCol)] = width;
          });
          this.$set(this.data.options.groups, 'columnWidths', remapped);
        },
        pruneGroupColumnWidths(validColumns = null) {
          const widths = this.ensureGroupColumnWidthStore();
          const valid = new Set((validColumns || this.getGroupColumns()).map(col => String(col)));
          Object.keys(widths).forEach(key => {
            if (!valid.has(key)) this.$delete(widths, key);
          });
        },
        getGroupColumnDropzoneWidthPx() {
          if (typeof document === 'undefined') return 10;
          const zone = document.querySelector('.groupsTable .verticalDropZone');
          const measured = Number(zone?.getBoundingClientRect().width || 0);
          if (Number.isFinite(measured) && measured > 0) return measured;
          return 10;
        },
        getAvailableGroupColumnWidthSpace(columns = null) {
          if (typeof document === 'undefined') return null;
          const cols = Array.isArray(columns) ? columns : this.getGroupColumns();
          if (!cols.length) return null;
          const containerEl = document.querySelector('.mb-groups-links-container') || document.querySelector('.mainContainer');
          if (!containerEl) return null;
          const containerWidth = Number(containerEl.clientWidth || containerEl.getBoundingClientRect().width || 0);
          if (!Number.isFinite(containerWidth) || containerWidth <= 0) return null;
          let tablePaddingX = 0;
          const tableEl = document.querySelector('.groupsTable');
          if (tableEl && typeof window !== 'undefined' && typeof window.getComputedStyle === 'function') {
            const styles = window.getComputedStyle(tableEl);
            const leftPad = Number.parseFloat(styles.paddingLeft || '0');
            const rightPad = Number.parseFloat(styles.paddingRight || '0');
            tablePaddingX = (Number.isFinite(leftPad) ? leftPad : 0) + (Number.isFinite(rightPad) ? rightPad : 0);
          }
          const dropZoneWidth = this.getGroupColumnDropzoneWidthPx();
          const dropZoneTotal = dropZoneWidth * (cols.length + 1);
          const available = Math.floor(containerWidth - tablePaddingX - dropZoneTotal);
          return Number.isFinite(available) && available > 0 ? available : null;
        },
        ensureGroupColumnWidthsWithinViewport(columns = null) {
          if (!this.isManualGroupColumnWidthEnabled()) return false;
          const cols = Array.isArray(columns) ? columns : this.getGroupColumns();
          if (!cols.length) return false;
          const widths = this.ensureGroupColumnWidthStore();
          const minWidth = CONSTS.GROUP_COLUMN_WIDTH_MIN;
          let changed = false;
          const resolved = cols.map(col => {
            const key = String(col);
            let width = this.normalizeGroupColumnWidth(widths[key]);
            if (!Number.isFinite(width)) {
              const measured = this.getMeasuredGroupColumnWidth(col);
              width = this.normalizeGroupColumnWidth(measured);
            }
            if (!Number.isFinite(width)) width = minWidth;
            if (widths[key] !== width) {
              this.$set(widths, key, width);
              changed = true;
            }
            return { key, col, width };
          });

          const availableWidth = this.getAvailableGroupColumnWidthSpace(cols);
          if (!Number.isFinite(availableWidth)) return changed;

          let totalWidth = resolved.reduce((sum, entry) => sum + entry.width, 0);
          if (!Number.isFinite(totalWidth) || totalWidth <= availableWidth) return changed;

          let overflow = totalWidth - availableWidth;
          while (overflow > 0) {
            let largest = null;
            resolved.forEach(entry => {
              if (entry.width <= minWidth) return;
              if (!largest || entry.width > largest.width) {
                largest = entry;
              }
            });
            if (!largest) break;
            const reducible = Math.max(0, largest.width - minWidth);
            if (reducible <= 0) break;
            const reduceBy = Math.min(reducible, overflow);
            largest.width = this.normalizeGroupColumnWidth(largest.width - reduceBy);
            overflow -= reduceBy;
          }

          resolved.forEach(entry => {
            if (widths[entry.key] !== entry.width) {
              this.$set(widths, entry.key, entry.width);
              changed = true;
            }
          });

          if (overflow > 0) {
            debugLog('warn', '[GROUP-COLUMNS] Remaining overflow after fitting to viewport', {
              overflow,
              availableWidth,
              minWidth,
              columns: cols.length
            });
          }
          return changed;
        },
        startGroupColumnResize(event, leftColumn, rightColumn) {
          if (!this.isManualGroupColumnWidthEnabled()) return;
          if (event && event.button !== undefined && event.button !== 0) return;
          if (leftColumn === undefined || leftColumn === null || rightColumn === undefined || rightColumn === null) return;
          if (leftColumn === rightColumn) return;
          if (this.isGroupHeightResizing) return;
          const columns = this.getGroupColumns();
          if (!columns.includes(leftColumn) || !columns.includes(rightColumn)) return;

          this.ensureGroupColumnWidthsInitialized(columns);
          const leftWidth = this.getCurrentGroupColumnWidth(leftColumn);
          const rightWidth = this.getCurrentGroupColumnWidth(rightColumn);
          if (!Number.isFinite(leftWidth) || !Number.isFinite(rightWidth)) return;

          this.isGroupColumnResizing = true;
          this.groupColumnResizeState = {
            leftColumn,
            rightColumn,
            startX: event.clientX,
            startLeftWidth: leftWidth,
            startRightWidth: rightWidth
          };
          document.body.classList.add('mb-group-column-resizing');
          document.addEventListener('mousemove', this.handleGroupColumnResize);
          document.addEventListener('mouseup', this.endGroupColumnResize);
        },
        handleGroupColumnResize(event) {
          if (!this.isGroupColumnResizing) return;
          const state = this.groupColumnResizeState || {};
          const leftColumn = state.leftColumn;
          const rightColumn = state.rightColumn;
          if (leftColumn === null || rightColumn === null) return;

          const minWidth = CONSTS.GROUP_COLUMN_WIDTH_MIN;
          const total = Number(state.startLeftWidth || 0) + Number(state.startRightWidth || 0);
          if (!Number.isFinite(total) || total <= 0) return;

          const deltaX = event.clientX - state.startX;
          let nextLeft = Number(state.startLeftWidth || 0) + deltaX;
          let nextRight = Number(state.startRightWidth || 0) - deltaX;

          if (nextLeft < minWidth) {
            nextLeft = minWidth;
            nextRight = total - minWidth;
          }
          if (nextRight < minWidth) {
            nextRight = minWidth;
            nextLeft = total - minWidth;
          }

          nextLeft = this.normalizeGroupColumnWidth(nextLeft);
          nextRight = this.normalizeGroupColumnWidth(nextRight);
          if (!Number.isFinite(nextLeft) || !Number.isFinite(nextRight)) return;

          this.setGroupColumnWidth(leftColumn, nextLeft);
          this.setGroupColumnWidth(rightColumn, nextRight);
        },
        endGroupColumnResize() {
          if (!this.isGroupColumnResizing) return;
          this.isGroupColumnResizing = false;
          this.groupColumnResizeState = {
            leftColumn: null,
            rightColumn: null,
            startX: 0,
            startLeftWidth: 0,
            startRightWidth: 0
          };
          document.removeEventListener('mousemove', this.handleGroupColumnResize);
          document.removeEventListener('mouseup', this.endGroupColumnResize);
          document.body.classList.remove('mb-group-column-resizing');
          this.saveData();
        },
        getGroupColumns() {
          if (!this.data.groups || this.data.groups.length === 0) return [0]; // Default to one column if empty
          const columns = [...new Set(this.data.groups.map(g => g.column))];
          return columns.sort((a, b) => a - b);
        },
        getMaxIndexForColumn(arr, column) {
          const itemsInColumn = arr.filter(item => item.column === column);
          return itemsInColumn.length > 0 ? Math.max(...itemsInColumn.map(item => item.index)) : -1;
        },
        getGroupsByColumn(colIndex) {
          const query = (this.filterText || '').trim().toLowerCase();
          const activeKeywords = this.activeKeywordFilters || [];
          return this.data.groups
            .filter(g => {
              if (g.column !== colIndex) return false;
              const matchesText = (
                !query ||
                g.name?.toLowerCase().includes(query) ||
                (g.keywords && g.keywords.toLowerCase().includes(query)) ||
                (g.links && g.links.some(l =>
                  l.text?.toLowerCase().includes(query) ||
                  (l.keywords && l.keywords.toLowerCase().includes(query)) ||
                  (l.url && l.url.toLowerCase().includes(query))
                ))
              );
              if (!matchesText) return false;
              if (!activeKeywords.length) return true;
              return this.groupMatchesKeywordFilters(g, activeKeywords);
            })
            .sort((a, b) => a.index - b.index);
        },
        // Innerhalb von methods: { ... } der Vue-Instanz 'app'
        normalizeColumnNumbers() {
          const groups = this.data.groups;
          if (!groups || groups.length === 0) {
            this.pruneGroupColumnWidths([]);
            return;
          } // Nichts zu tun, wenn keine Gruppen da sind

          const currentColumns = this.getGroupColumns(); // Holt sortierte, eindeutige Spalten, z.B. [0, 2, 3]
          if (currentColumns.length === 0) return; // Sollte nicht passieren, aber sicher ist sicher

          let expectedCol = 0;
          let changed = false;
          const columnMapping = {}; // Objekt zum Speichern der Zuordnung: alteSpalte -> neueSpalte

          // 1. Mapping erstellen
          for (const currentCol of currentColumns) {
            if (currentCol !== expectedCol) {
              // Lcke oder erster Eintrag ist nicht 0 (sollte nicht sein, aber zur Sicherheit)
              columnMapping[currentCol] = expectedCol; // Weise die erwartete Nummer zu
            } else {
              columnMapping[currentCol] = currentCol; // Keine nderung fr diese Spalte
            }
            expectedCol++; // Erhhe die erwartete Nummer fr die nchste Iteration
          }

          // 2. Mapping auf alle Gruppen anwenden
          groups.forEach(group => {
            const oldCol = group.column;
            if (columnMapping[oldCol] !== undefined && columnMapping[oldCol] !== oldCol) {
              // Nur ndern, wenn eine neue Zuordnung existiert und sie anders ist
              this.$set(group, 'column', columnMapping[oldCol]);
              changed = true;
            }
          });

          if (changed) {
            debugLog('log', "Columns normalized. New mapping:", columnMapping);
            this.remapGroupColumnWidths(columnMapping);
            this.$forceUpdate(); // Erzwinge UI-Update nach Spaltennderung
            // Wichtig: saveData() wird in der aufrufenden Funktion (moveGroup/delGroup/onDrop) gemacht!
          } else {
            this.pruneGroupColumnWidths(currentColumns);
          }
          this.ensureGroupColumnWidthsWithinViewport(this.getGroupColumns());
        },
        toggleGroupCollapse(group, options = {}) {
          if (!group) return;
          const wasCollapsed = !!group.collapsed;
          // 1. Toggle den Vue-Datenzustand (fr Icon etc.)
          this.$set(group, 'collapsed', !group.collapsed);

          // Apply favicon rules (and optionally extension fetch if enabled) on expand
          if (!group.collapsed) {
            this.loadFaviconsForGroup(group);
          }

          // 2. Hole das Bootstrap Collapse Element
          const elementId = 'collapseGroup-' + group.uuid;
          const collapseElement = document.getElementById(elementId);

          if (collapseElement) {
            // 3. Hole oder erstelle die Bootstrap Instanz
            let bsCollapseInstance = bootstrap.Collapse.getInstance(collapseElement);
            if (!bsCollapseInstance) {
              bsCollapseInstance = new bootstrap.Collapse(collapseElement, { toggle: false });
            }
            // 4. Trigger Bootstrap's Toggle-Funktion
            bsCollapseInstance.toggle();

            if (wasCollapsed && !group.collapsed && !options.skipLinkedPropagation) {
              this.expandLinkedCollapseGroups(group);
            } else if (!wasCollapsed && group.collapsed && !options.skipLinkedPropagation) {
              this.collapseLinkedCollapseGroups(group);
            }
            if (!options.skipSave) {
              this.saveData();
            }

          } else {
            debugLog('warn', "Could not find collapse element to toggle:", elementId);
            if (!options.skipSave) {
              this.saveData();
            }
          }
        },

        async loadFaviconsForGroup(group, linksOverride = null) {
          const targetLinks = Array.isArray(linksOverride) ? linksOverride : (group.links || []);
          if (!targetLinks.length) return;

          debugLog('log', `Loading favicons for group: ${group.name}`, { overrideCount: linksOverride ? targetLinks.length : undefined });

          // Track which links already have favicons
          const linksToFetch = targetLinks.filter(link => {
            const fav = link && link.favicon ? String(link.favicon) : '';
            const isBase64 = fav.startsWith('data:');
            return !this.isNonUrlLink(link) && link.url && !isBase64 && !link.faviconLoading;
          });

          if (linksToFetch.length === 0) {
            debugLog('log', 'All links already have favicons');
            return;
          }

          // Mark links as loading to prevent duplicate fetches
          linksToFetch.forEach(link => {
            this.$set(link, 'faviconLoading', true);
          });

          // Fetch favicons in batches
          const batchSize = 5;
          for (let i = 0; i < linksToFetch.length; i += batchSize) {
            const batch = linksToFetch.slice(i, i + batchSize);

            // Fetch metadata for each link in the batch
            const fetchPromises = batch.map(async (link) => {
              try {
                await this.tryFetchAndSetFavicon(link, link.url, link.rawUrlInput ?? null);
              } catch (error) {
                debugLog('warn', `Failed to fetch favicon for ${link.url}:`, error);
              } finally {
                this.$set(link, 'faviconLoading', false);
              }
            });

            // Wait for batch to complete before continuing
            await Promise.all(fetchPromises);

            // Small delay between batches to avoid overwhelming the extension
            if (i + batchSize < linksToFetch.length) {
              await new Promise(resolve => setTimeout(resolve, 100));
            }
          }

          // Save data after all favicons are loaded
          this.saveData();
          debugLog('log', `Finished loading favicons for group: ${group.name}`);
        },
        // --- Links ---
        getNewLinkTemplate(group) {
          const rawInput = (group.newLinkUrl || '').trim();
          // Basic URL normalization using configured default prefix
          let url = MB.Utils.ensureProtocol(rawInput);
          const nowTs = Date.now();

          return {
            uuid: this.generateUUID(), // UUID is the only identifier
            itemType: 'link',
            text: group.newLinkText.trim() || url || '', // Links can have empty text
            url: url || '', // Empty string instead of null for consistency
            rawUrlInput: rawInput || '',
            urlPlaceholders: [],
            keywords: '', // Add keywords field
            emoji: '', // Add emoji field for custom icons
            shortcut: '',
            index: group.links.length > 0 ? Math.max(...group.links.map(link => link.index)) + 1 : 0,
            column: 0, // Default to first column within the group
            // Timestamps for conflict resolution
            createdAt: nowTs,
            lastModified: nowTs,
            // Transient UI state defaults
            editing: false,
            isMouseOver: false,
          };
        },
        async addLink(group) {
          debugLog('log', '[addLink] Function called for group:', {
            groupName: group.name,
            groupId: group.groupId,
            useEventLog: group.useEventLog,
            hasEventLog: !!group.eventLog,
            isShared: group.shared
          });
          
          if (!this.canAdd(group)) { alert(this.getTranslation('error.perm.add')); return; }
          if (!group.newLinkText.trim() && !group.newLinkUrl.trim()) return; // Require at least text or URL
          const rawNewLinkInput = group.newLinkUrl;
          const newLink = this.getNewLinkTemplate(group);
          debugLog('log', '[DEBUG] Created new link:', { 
            uuid: newLink.uuid, 
            text: newLink.text, 
            url: newLink.url, 
            hasUrl: !!newLink.url && newLink.url !== '',
            urlLength: newLink.url ? newLink.url.length : 0
          });
          
          group.links.push(newLink);
          const newLinkTimestamp = this.touchLink(newLink, newLink.createdAt);
          this.touchGroup(group, newLinkTimestamp);
          group.newLinkText = '';
          group.newLinkUrl = '';

          const rawInputTrimmed = typeof rawNewLinkInput === 'string' ? rawNewLinkInput.trim() : rawNewLinkInput;
          if (rawInputTrimmed !== undefined && rawInputTrimmed !== null) {
            this.$set(newLink, 'rawUrlInput', rawInputTrimmed || '');
          }

          if (newLink.url) {
            try {
              if (!this.applyFaviconRulesToLink(newLink, null, rawInputTrimmed)) {
                await this.tryFetchAndSetFavicon(newLink, newLink.url, rawInputTrimmed);
              }
            } catch (err) {
              debugLog('warn', '[addLink] Failed to apply favicon for new link', { error: err, url: newLink.url });
            }
          }

          if (!group.collapsed && this.data.options?.links?.autoFetchFavicon) {
            this.loadFaviconsForGroup(group, [newLink]);
          }

          // Update version for sync tracking
          if (group.shared) {
            group.version = (group.version || 0) + 1;
            debugLog('log', '[SYNC] Updated group version after adding link', { groupId: group.groupId, version: group.version });
          }
          
          // EVENT-LOG: Create and send event for link addition (for ALL groups with event-log)
          debugLog('log', '[LINK-ADD] Checking event-log for group:', {
            groupName: group.name,
            groupId: group.groupId,
            useEventLog: group.useEventLog,
            hasEventLog: !!group.eventLog,
            isShared: group.shared
          });
          
          if (group.useEventLog) {
            debugLog('log', '[LINK-ADD] Creating event-log entry for link addition');
            this.createAndApplyEvent(group, {
              type: 'link-add',
              linkId: newLink.uuid,
              data: {
                uuid: newLink.uuid,  // Include UUID in data for consistency
                text: newLink.text || '',
                url: newLink.url || '',
                rawUrlInput: newLink.rawUrlInput || '',
                keywords: newLink.keywords || '',
                emoji: newLink.emoji || '',
                shortcut: newLink.shortcut || '',
                itemType: newLink.itemType || 'link',
                refTargetUuid: newLink.refTargetUuid || '',
                inheritSourceKeywords: newLink.inheritSourceKeywords !== false,
                urlPlaceholders: this.normalizePlaceholderList(newLink.urlPlaceholders || []),
                column: newLink.column || 0,
                index: newLink.index || 0,
                createdAt: newLink.createdAt || newLinkTimestamp,
                lastModified: newLink.lastModified || newLinkTimestamp
              }
            });
          } else {
            debugLog('warn', '[LINK-ADD] Event-log is disabled for this group');
          }
          
          this.saveData();
          this.maybeAutoAdjustGroupHeightAfterLinkChange(group);
          // Broadcast to shared group (legacy for backward compatibility)
          try {
            if (group.shared && group.groupTopic && group.groupKey && !group.useEventLog) {
              const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
              const linkToShare = this.serializeLinkForSync(newLink);
              debugLog('log', '[SYNC] Broadcasting new link', { 
                uuid: linkToShare.uuid, 
                text: linkToShare.text, 
                url: linkToShare.url,
                hasUrl: !!linkToShare.url && linkToShare.url !== '',
                urlLength: linkToShare.url ? linkToShare.url.length : 0,
                rawEnvelope: JSON.stringify(linkToShare)
              });
              const env = { v:1, type:'share-links', ts:Date.now(), from, groupId: group.groupId, selection:{ groups:[], links:[linkToShare] }, mode:'merge', msgId:(Math.random().toString(36).slice(2)+Date.now()) };
              await sharing.sendToGroup(group, env);
            }
          } catch {}
        },
        // Accept external link drops (from browser address bar or page links) or fall back to internal reordering
        async handleLinkDrop(evt, group, targetIndex, targetColumn) {
          const ext = this.extractUrlAndTitle(evt.dataTransfer);
          const isExternalUrlDrop = !!(ext && ext.url && /^https?:\/\//i.test(ext.url));
          const resolvedImplicitDrop = this.resolveImplicitLinkDropTarget(
            evt,
            group,
            targetIndex,
            targetColumn,
            { allowExternal: isExternalUrlDrop }
          );
          targetIndex = resolvedImplicitDrop.targetIndex;
          targetColumn = resolvedImplicitDrop.targetColumn;

          // Try external data first
          if (isExternalUrlDrop) {
            if (!this.canAdd(group)) { alert(this.getTranslation('error.perm.add')); return; }
            const url = ext.url.trim();
            const title = (ext.title || '').trim();
            const nowTs = Date.now();
            const newLink = {
              uuid: this.generateUUID(), // UUID is the only identifier
              itemType: 'link',
              text: title || url,
              url,
              rawUrlInput: url,
              urlPlaceholders: [],
              keywords: '',
              shortcut: '',
              column: targetColumn,
              index: 0,
              editing: false,
              isMouseOver: false,
              createdAt: nowTs,
              lastModified: nowTs,
            };
            if (!Array.isArray(group.links)) this.$set(group, 'links', []);
            group.links.push(newLink);
            // Reindex target column with new link inserted at requested position
            const colLinks = group.links.filter(l => l.column === targetColumn).sort((a, b) => a.index - b.index);
            const before = colLinks.slice(0, Math.max(0, Math.min(targetIndex, colLinks.length)));
            const after = colLinks.slice(Math.max(0, Math.min(targetIndex, colLinks.length)));
            const ordered = [...before, newLink, ...after.filter(l => l !== newLink)];
            ordered.forEach((l, i) => l.index = i);
            const newLinkTs = this.touchLink(newLink, nowTs);
            this.touchGroup(group, newLinkTs);
            // Always apply favicon rules; extension fetch stays gated inside tryFetchAndSetFavicon
            await this.tryFetchAndSetFavicon(newLink, url, url);
            if (this.data.options?.links?.autoFetchTitle && (!title || title === url)) {
              // best effort, non-blocking
              this.tryFetchTitle(url).then(tt => { if (tt) newLink.text = tt; this.saveData(); }).catch(() => { });
            }
            // EVENT-LOG: Create event for external link drop (for ALL groups with event-log)
            if (group.useEventLog) {
              this.createAndApplyEvent(group, {
                type: 'link-add',
                linkId: newLink.uuid,
                data: {
                  uuid: newLink.uuid,
                  text: newLink.text || '',
                  url: newLink.url || '',
                  rawUrlInput: newLink.rawUrlInput || '',
                  keywords: newLink.keywords || '',
                  shortcut: newLink.shortcut || '',
                  itemType: newLink.itemType || 'link',
                  refTargetUuid: newLink.refTargetUuid || '',
                  inheritSourceKeywords: newLink.inheritSourceKeywords !== false,
                  urlPlaceholders: this.normalizePlaceholderList(newLink.urlPlaceholders || []),
                  column: newLink.column || 0,
                  index: newLink.index || 0,
                  createdAt: newLink.createdAt || newLinkTs,
                  lastModified: newLink.lastModified || newLinkTs
                }
              });
            }
            
            this.saveData();
            this.maybeAutoAdjustGroupHeightAfterLinkChange(group);
            // Broadcast to shared group (legacy only)
            try {
              if (group.shared && group.groupTopic && group.groupKey && !group.useEventLog) {
                const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
                const linkToShare = this.serializeLinkForSync(newLink);
                debugLog('log', '[SYNC] Broadcasting dropped link', { uuid: linkToShare.uuid, hasUrl: !!linkToShare.url, text: linkToShare.text });
                const env = { v:1, type:'share-links', ts:Date.now(), from, groupId: group.groupId, selection:{ groups:[], links:[linkToShare] }, mode:'merge', msgId:(Math.random().toString(36).slice(2)+Date.now()) };
                await sharing.sendToGroup(group, env);
              }
            } catch {}
            return;
          }
          // No external URL -> if we're dragging an internal link, delegate to DropManager
          if (this.dragState === 'link' && this.dropManager && this.dropManager.oldItem) {
            const draggedLink = this.dropManager.oldItem;
            const sourceGroup = this.dropManager.oldArr ? this.data.groups.find(g => g.links === this.dropManager.oldArr) : null;
            await this.dropManager.onDrop(evt, group.links, null, targetIndex, targetColumn, 'link');
            const nowTs = Date.now();
            const linkTs = draggedLink ? this.touchLink(draggedLink, nowTs) : nowTs;
            this.touchGroup(group, linkTs);
            if (sourceGroup && sourceGroup !== group) this.touchGroup(sourceGroup, nowTs);
            this.saveData();
            if (sourceGroup && sourceGroup !== group) {
              this.maybeAutoAdjustGroupHeightAfterLinkChange(group);
              this.maybeAutoAdjustGroupHeightAfterLinkChange(sourceGroup);
            }
          }
        },

        handleLinkDropToNewColumn(evt, group, targetColumnIndex) {
          debugLog('log', `handleLinkDropToNewColumn called for group ${group.name}, target column index ${targetColumnIndex}`);

          // Prevent default and stop propagation
          evt.preventDefault();
          evt.stopPropagation();

          // Get the dragged link from dropManager
          const draggedLink = this.dropManager.oldItem;
          const draggedState = this.dropManager.draggedState;
          const sourceGroup = this.dropManager.oldArr ? this.data.groups.find(g => g.links === this.dropManager.oldArr) : null;

          debugLog('log', 'Dragged link:', draggedLink);
          debugLog('log', 'Dragged state:', draggedState);
          debugLog('log', 'Source group:', sourceGroup);
          debugLog('log', 'Target group:', group);

          if (!draggedLink || draggedState !== 'link') {
            debugLog('warn', 'No valid link being dragged');
            this.dropManager.reset();
            return;
          }

          const moveTimestamp = Date.now();
          let linkMoveTimestamp = moveTimestamp;

          const oldColumn = draggedLink.column || 0;
          const oldIndex = draggedLink.index || 0;

          // Check if this is a cross-group move
          const isCrossGroup = sourceGroup && sourceGroup !== group;

          if (isCrossGroup) {
            debugLog('log', 'Cross-group move detected');

            // Check permissions BEFORE making any changes
            if (!this.canDelete(sourceGroup)) {
              alert(this.getTranslation('error.perm.delete') || 'You do not have permission to remove links from this group');
              this.dropManager.reset();
              return;
            }

            if (!this.canAdd(group)) {
              alert(this.getTranslation('error.perm.add') || 'You do not have permission to add links to this group');
              this.dropManager.reset();
              return;
            }

            // Remove link from source group (only after permission check)
            const linkIndex = sourceGroup.links.findIndex(l => l.uuid === draggedLink.uuid);
            if (linkIndex !== -1) {
              sourceGroup.links.splice(linkIndex, 1);

              // Update indices in the old column of source group
              const remainingLinksInOldColumn = sourceGroup.links.filter(l =>
                (l.column || 0) === oldColumn && (l.index || 0) > oldIndex
              );
              remainingLinksInOldColumn.forEach(l => {
                l.index = (l.index || 0) - 1;
              });

              this.touchGroup(sourceGroup, moveTimestamp);
            }

            // Add link to target group
            if (!Array.isArray(group.links)) {
              this.$set(group, 'links', []);
            }
            group.links.push(draggedLink);
            this.touchGroup(group, moveTimestamp);
          }

          // Get all existing link columns in target group
          const existingColumns = this.getLinkColumns(group.links);
          debugLog('log', 'Existing link columns before move:', existingColumns);
          debugLog('log', `Moving link from column ${oldColumn} to dropzone at position ${targetColumnIndex}`);

          // For same-group moves, check if this link is alone in its column
          if (!isCrossGroup) {
            const linksInOldColumn = group.links.filter(l => (l.column || 0) === oldColumn);
            const isAloneInColumn = linksInOldColumn.length === 1;

            // Check if this is effectively no move
            if (isAloneInColumn) {
              if ((targetColumnIndex === -1 && oldColumn === 0) ||
                  (targetColumnIndex !== -1 && targetColumnIndex === oldColumn) ||
                  (targetColumnIndex !== -1 && targetColumnIndex - 1 === oldColumn)) {
                debugLog('log', 'Link is alone in column and target position is same - no move needed');
                this.dropManager.reset();
                return;
              }
            }
          }

          let newColumnIndex;

          if (targetColumnIndex === -1) {
            // Drop before first column - all columns shift right
            newColumnIndex = 0;

            // Shift all links to the right (except the dragged one)
            group.links.forEach(l => {
              if (l.uuid !== draggedLink.uuid) {
                l.column = (l.column || 0) + 1;
              }
            });
          } else {
            // targetColumnIndex is the position where we want to insert the new column
            // This is the column index AFTER which the dropzone is located

            // The new column should be created at this exact position
            newColumnIndex = targetColumnIndex;

            debugLog('log', `Creating new link column at position ${newColumnIndex}`);

            // Shift all links at or after the target position to the right
            // But not the dragged link itself
            group.links.forEach(l => {
              if (l.uuid !== draggedLink.uuid && (l.column || 0) >= newColumnIndex) {
                l.column = (l.column || 0) + 1;
                debugLog('log', `Shifted link "${l.text}" from column ${l.column - 1} to ${l.column}`);
              }
            });
          }

          // Update indices in the old column (remove the gap) - only for same-group moves
          if (!isCrossGroup) {
            const remainingLinksInOldColumn = group.links.filter(l =>
              (l.column || 0) === oldColumn && l.uuid !== draggedLink.uuid && (l.index || 0) > oldIndex
            );
            remainingLinksInOldColumn.forEach(l => {
              l.index = (l.index || 0) - 1;
            });
          }

          // Move the dragged link to the new column
          draggedLink.column = newColumnIndex;
          draggedLink.index = 0; // Place at top of new column
          linkMoveTimestamp = this.touchLink(draggedLink, moveTimestamp);
          if (!isCrossGroup) {
            this.touchGroup(group, moveTimestamp);
          }

          debugLog('log', `Moved link "${draggedLink.text}" from column ${oldColumn} to new column ${newColumnIndex}`);

          // Now normalize link column indices to remove any gaps
          this.normalizeLinkColumnIndices(group);

          // Also normalize source group if it was a cross-group move
          if (isCrossGroup && sourceGroup) {
            this.normalizeLinkColumnIndices(sourceGroup);

            // Handle sync for cross-group moves
            // Send DELETE event/message to source group if it's shared
            if (sourceGroup.shared) {
              if (sourceGroup.useEventLog && this.eventLogManager) {
                // Create link-delete event for source group
                this.createAndApplyEvent(sourceGroup, {
                  type: 'link-delete',
                  linkId: draggedLink.uuid,
                  data: {
                    deletedLink: {
                      uuid: draggedLink.uuid,
                      text: draggedLink.text,
                      url: draggedLink.url,
                      column: oldColumn,
                      index: oldIndex
                    }
                  }
                });
                debugLog('log', '[DND EVENT-LOG] Created link-delete event for source group:', sourceGroup.name);
              } else if (sourceGroup.groupTopic && sourceGroup.groupKey) {
                // Legacy sync for source group
                try {
                  const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' };
                  const deleteEnv = {
                    v: 1,
                    type: 'link-delete',
                    ts: Date.now(),
                    from,
                    groupId: sourceGroup.groupId,
                    link: { uuid: draggedLink.uuid, url: draggedLink.url || null },
                    version: sourceGroup.version || CONSTS.VERSION_FALLBACK,
                    msgId: (Math.random().toString(36).slice(2) + Date.now())
                  };
                  debugLog('log', '[DRAG] Sending link-delete to source shared group:', sourceGroup.name, draggedLink.uuid);
                  if (typeof sharing !== 'undefined' && sharing) {
                    sharing.sendToGroup(sourceGroup, deleteEnv);
                  }
                } catch (error) {
                  debugLog('error', '[DRAG] Error sending link-delete:', error);
                }
              }
            }

            // Send ADD event/message to target group if it's shared
            if (group.shared) {
              if (group.useEventLog && this.eventLogManager) {
                // Create link-add event for target group
                this.createAndApplyEvent(group, {
                  type: 'link-add',
                  linkId: draggedLink.uuid,
                    data: {
                      uuid: draggedLink.uuid,
                      text: draggedLink.text || '',
                      url: draggedLink.url || '',
                      rawUrlInput: draggedLink.rawUrlInput || '',
                      keywords: draggedLink.keywords || '',
                      shortcut: draggedLink.shortcut || '',
                      itemType: this.normalizeLinkItemType(draggedLink),
                      refTargetUuid: draggedLink.refTargetUuid || '',
                      inheritSourceKeywords: draggedLink.inheritSourceKeywords !== false,
                      urlPlaceholders: this.normalizePlaceholderList(draggedLink.urlPlaceholders || []),
                      column: draggedLink.column || 0,
                      index: draggedLink.index || 0,
                      createdAt: draggedLink.createdAt || linkMoveTimestamp,
                      lastModified: draggedLink.lastModified || linkMoveTimestamp
                    }
                });
                debugLog('log', '[DND EVENT-LOG] Created link-add event for target group:', group.name);
              } else if (group.groupTopic && group.groupKey) {
                // Legacy sync for target group
                try {
                  const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' };
                  const linkData = this.serializeLinkForSync(draggedLink);
                  const addEnv = {
                    v: 1,
                    type: 'share-links',
                    ts: Date.now(),
                    from,
                    groupId: group.groupId,
                    selection: { groups: [], links: [linkData] },
                    mode: 'merge',
                    msgId: (Math.random().toString(36).slice(2) + Date.now())
                  };
                  debugLog('log', '[DRAG] Sending share-links to target shared group:', group.name, linkData);
                  if (typeof sharing !== 'undefined' && sharing) {
                    sharing.sendToGroup(group, addEnv);
                  }
                } catch (error) {
                  debugLog('error', '[DRAG] Error sending share-links:', error);
                }
              }
            }
          } else if (group.shared && !isCrossGroup) {
            // Within same group movement - send position update for shared groups
            if (group.useEventLog && this.eventLogManager) {
              // For event-log groups, create a link-update event
              this.createAndApplyEvent(group, {
                type: 'link-update',
                linkId: draggedLink.uuid,
                data: {
                  uuid: draggedLink.uuid,
                  text: draggedLink.text || '',
                  url: draggedLink.url || '',
                  keywords: draggedLink.keywords || '',
                  shortcut: draggedLink.shortcut || '',
                  itemType: this.normalizeLinkItemType(draggedLink),
                  refTargetUuid: draggedLink.refTargetUuid || '',
                  inheritSourceKeywords: draggedLink.inheritSourceKeywords !== false,
                  urlPlaceholders: this.normalizePlaceholderList(draggedLink.urlPlaceholders || []),
                  column: draggedLink.column || 0,
                  index: draggedLink.index || 0,
                  lastModified: draggedLink.lastModified || linkMoveTimestamp
                }
              });
              debugLog('log', '[DND EVENT-LOG] Created link-update event for position change:', group.name);
            } else if (group.groupTopic && group.groupKey) {
              // Legacy sync - send position update
              try {
                const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' };
                const linkData = this.serializeLinkForSync(draggedLink);
                const env = {
                  v: 1,
                  type: 'share-links',
                  ts: Date.now(),
                  from,
                  groupId: group.groupId,
                  selection: { groups: [], links: [linkData] },
                  mode: 'merge',
                  msgId: (Math.random().toString(36).slice(2) + Date.now())
                };
                debugLog('log', '[DRAG] Sending share-links update within same group:', linkData);
                if (typeof sharing !== 'undefined' && sharing) {
                  sharing.sendToGroup(group, env);
                }
              } catch (error) {
                debugLog('error', '[DRAG] Error sending share-links update:', error);
              }
            }
          }

          // Save and reset
          this.touchGroup(group, moveTimestamp);
          if (isCrossGroup && sourceGroup) {
            this.touchGroup(sourceGroup, moveTimestamp);
          }
          this.saveData();
          if (isCrossGroup && sourceGroup) {
            this.maybeAutoAdjustGroupHeightAfterLinkChange(group);
            this.maybeAutoAdjustGroupHeightAfterLinkChange(sourceGroup);
          }
          this.dropManager.reset();
        },

        normalizeLinkColumnIndices(group) {
          // Get all unique columns and sort them
          const columns = [...new Set(group.links.map(l => l.column || 0))].sort((a, b) => a - b);

          // Create mapping from old to new column indices
          const columnMapping = {};
          columns.forEach((col, index) => {
            columnMapping[col] = index;
          });

          // Update all links with new column indices
          group.links.forEach(l => {
            const oldCol = l.column || 0;
            const newCol = columnMapping[oldCol];
            if (oldCol !== newCol) {
              l.column = newCol;
              debugLog('log', `Normalized link "${l.text}" from column ${oldCol} to ${newCol}`);
            }
          });
        },

        extractUrlAndTitle(dt) {
          if (!dt) return { url: '', title: '' };
          const safeGet = (t) => { try { return dt.getData(t) || ''; } catch { return ''; } };
          // 1) text/uri-list
          const uriListRaw = safeGet('text/uri-list');
          if (uriListRaw) {
            const lines = uriListRaw.split('\n').map(s => s.trim()).filter(s => s && !s.startsWith('#'));
            if (lines.length && /^https?:\/\//i.test(lines[0])) return { url: lines[0], title: '' };
          }
          // 2) Firefox: text/x-moz-url => "URL\nTitel"
          const moz = safeGet('text/x-moz-url');
          if (moz) {
            const [url, title] = moz.split('\n');
            if (url && /^https?:\/\//i.test(url)) return { url, title: title || '' };
          }
          // 3) text/html: <a href="..">Titel</a>
          const html = safeGet('text/html');
          if (html) {
            try {
              const doc = new DOMParser().parseFromString(html, 'text/html');
              const a = doc.querySelector('a[href]');
              const href = a?.getAttribute('href') || '';
              const title = (a?.textContent || '').trim();
              if (/^https?:\/\//i.test(href)) return { url: href, title };
            } catch { }
          }
          // 4) text/plain
          const plain = safeGet('text/plain').trim();
          if (/^https?:\/\//i.test(plain)) return { url: plain, title: '' };
          return { url: '', title: '' };
        },
        async deleteLink(link) {
          const needConfirm = !!this.data?.options?.common?.confirmDeleteLink;
          if (needConfirm) {
            const msg = this.isReferenceLink(link)
              ? (this.getTranslation('confirm.deleteRefLink') || this.getTranslation('confirm.deleteLink'))
              : this.getTranslation('confirm.deleteLink');
            if (!confirm(msg)) return;
          }
          try {
            const refCount = this.countReferenceLinksTo(link?.uuid);
            if (refCount > 0) {
              const msg = (this.getTranslation('link.ref.deleteSourceConfirm') || 'This link is used by {count} reference link(s). Delete anyway?')
                .replace('{count}', String(refCount));
              if (!confirm(msg)) return;
            }
          } catch {}
          const group = this.data.groups.find(g => g.links.some(l => 
            link.uuid && l.uuid === link.uuid
          ));
	          if (group) {
	            if (!this.canDelete(group)) { alert(this.getTranslation('error.perm.delete')); return; }
	            const linkIndex = group.links.findIndex(l => 
	              link.uuid && l.uuid === link.uuid
	            );
	            if (linkIndex > -1) {
	              await this.createDestructiveActionSnapshot();
	              const nowTs = Date.now();
	              const removed = group.links.splice(linkIndex, 1)[0];
              const noteState = this.data?.options?.links?.noteCollapsedState;
              if (removed?.uuid && noteState && Object.prototype.hasOwnProperty.call(noteState, removed.uuid)) {
                this.$delete(noteState, removed.uuid);
              }
              // Queue deletion to Nextcloud if this link was synced
              try {
                const nid = removed?.ncBookmarks?.id;
                const fid = removed?.ncBookmarks?.folderId;
                if (nid) {
                  if (!Array.isArray(this.data.pendingNcDeletes)) this.$set(this.data, 'pendingNcDeletes', []);
                  this.data.pendingNcDeletes.push({ id: nid, folderId: fid||null, url: removed.url||'', ts: Date.now() });
                  debugLog('log', '[NC SYNC] Queued NC deletion', { id: nid, folderId: fid });
                }
              } catch {}

              // Update version for sync tracking (only for shared groups)
              if (group.shared) {
                group.version = (group.version || 0) + 1;
                debugLog('log', '[SYNC] Updated group version after deleting link', { groupId: group.groupId, version: group.version });
              }

              // Event-log integration for delete (for ALL groups with event-log)
              if (group.useEventLog) {
                this.createAndApplyEvent(group, {
                  type: 'link-delete',
                  linkId: removed.uuid,
                  data: {
                    deletedLink: {
                      uuid: removed.uuid,
                      text: removed.text,
                      url: removed.url,
                      column: removed.column,
                      index: removed.index
                    }
                  }
                });
              }
              this.reindexArr(group.links.filter(l => l.column === link.column)); // Reindex affected column
              this.touchGroup(group, nowTs);
              this.saveData();
              this.maybeAutoAdjustGroupHeightAfterLinkChange(group);
              // Propagate delete to group members (legacy sync)
              try {
                if (group.shared && group.groupTopic && group.groupKey) {
                  const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
                  const env = { 
                    v:1, 
                    type:'link-delete', 
                    ts:Date.now(), 
                    from, 
                    groupId: group.groupId, 
                    link:{ uuid: removed.uuid, url: removed.url||null }, 
                    version: group.version || 0,  // Include version for delete operations
                    msgId:(Math.random().toString(36).slice(2)+Date.now()) 
                  };
                  await sharing.sendToGroup(group, env);
                }
              } catch (error) {
                debugLog('error', '[Sharing] Error processing message headers:', error);
              }
            }
          }
          this.hideMenus();
        },
        getLinkColumns(links) {
          if (!links || links.length === 0) return [0];
          const columns = [...new Set(links.map(l => l.column))];
          return columns.sort((a, b) => a - b);
        },
        getLinksByColumn(links, colIndex) {
          // First, find the group that contains these links
          const group = this.data.groups.find(g => g.links === links);
          const rawFilter = (this.filterText || '').trim();
          const activeKeywords = this.activeKeywordFilters || [];
          // Tokenize search text
          const tokens = rawFilter ? rawFilter.toLowerCase().split(/\s+/).filter(Boolean) : [];
          // If any token matches group keywords, show all links
          const groupHasKeyword = group && tokens.length && this.parseKeywords(group.keywords || '')
            .map(k => k.toLowerCase()).some(kw => tokens.some(t => kw.includes(t)));
          
          let result = links
            .filter(l => {
              if (l.column !== colIndex) return false;
              const matchesText = (tokens.length === 0 || groupHasKeyword || (function() {
                const text = (this.getEffectiveLinkText(l) || '').toLowerCase();
                const url = (this.getEffectiveLinkUrl(l) || '').toLowerCase();
                const kws = (Array.isArray(this.getEffectiveLinkKeywords(l)) ? this.getEffectiveLinkKeywords(l) : (typeof this.getEffectiveLinkKeywords(l) === 'string' ? this.getEffectiveLinkKeywords(l).split(/[,;]+/) : []))
                  .map(s => String(s).trim().toLowerCase()).join(' ');
                return tokens.every(t => text.includes(t) || url.includes(t) || kws.includes(t));
              }).call(this));
              if (!matchesText) return false;
              if (!activeKeywords.length) return true;
              return this.groupOrLinkKeywordsContainAll(group, l, activeKeywords);
            })
            .sort((a, b) => a.index - b.index); // Sort by index

          // Progressive loading: limit display if not expanded
          if (group && !this.filterText && (!activeKeywords || activeKeywords.length === 0)) {
            const threshold = this.data.options?.links?.progressiveLoadingThreshold || 100;
            const expandedLimit = CONSTS.EXPANDED_LINK_LIMIT;

            if (!group.linksExpanded && result.length > threshold) {
              // Show limited links when not expanded
              const columnCount = this.getLinkColumns(links).length || 1;
              const perColumnLimit = Math.ceil(threshold / columnCount);
              result = result.slice(0, perColumnLimit);
            } else if (group.linksExpanded && result.length > expandedLimit) {
              // Even when expanded, limit to expandedLimit for performance
              const columnCount = this.getLinkColumns(links).length || 1;
              const perColumnLimit = Math.ceil(expandedLimit / columnCount);
              result = result.slice(0, perColumnLimit);
            }
          }

          // Optional simple virtualization by limit to reduce DOM on huge lists
          try {
            const perf = this.data?.options?.performance || {};
            if (perf.virtualizeLinks) {
              const init = Number(perf.initialLimit || 200);
              const groupKey = group?.uuid || 'default';
              if (!this._visibleLimits) this._visibleLimits = {};
              if (!this._visibleLimits[groupKey]) this._visibleLimits[groupKey] = init;
              result = result.slice(0, this._visibleLimits[groupKey]);
            }
          } catch {}

          return result;
        },
        getMaxGroupBodyHeight() {
          const viewportHeight = (typeof window !== 'undefined' && window.innerHeight) ? window.innerHeight : 1000;
          return Math.max(CONSTS.GROUP_BODY_HEIGHT_MIN + 40, Math.floor(viewportHeight * 0.85));
        },
        normalizeGroupBodyHeight(value) {
          const numeric = Number(value);
          const fallback = CONSTS.GROUP_BODY_HEIGHT_DEFAULT;
          const safeValue = Number.isFinite(numeric) ? numeric : fallback;
          const min = CONSTS.GROUP_BODY_HEIGHT_MIN;
          const max = this.getMaxGroupBodyHeight();
          return Math.round(Math.min(Math.max(safeValue, min), max));
        },
        getGroupBodyHeight(group) {
          return this.normalizeGroupBodyHeight(group?.bodyHeight);
        },
        isAutoAdjustGroupHeightOnLinkChangesEnabled() {
          return !!this.data?.options?.groups?.autoAdjustHeightOnLinkChanges;
        },
        isGroupManualHeightResizeOverride(group) {
          return !!group?.manualHeightResizeOverride;
        },
        canManuallyResizeGroupHeight(group) {
          if (!group || group.collapsed) return false;
          if (!this.isAutoAdjustGroupHeightOnLinkChangesEnabled()) return true;
          return this.isGroupManualHeightResizeOverride(group);
        },
        shouldAutoAdjustGroupHeightAfterLinkChange(group) {
          if (!group || group.collapsed) return false;
          if (!this.isAutoAdjustGroupHeightOnLinkChangesEnabled()) return false;
          if (this.isGroupManualHeightResizeOverride(group)) return false;
          return true;
        },
        measureGroupContentHeight(group) {
          if (!group) return null;
          const bodyEl = document.getElementById(`collapseGroup-${group.uuid}`);
          if (!bodyEl) return null;
          const prevHeight = bodyEl.style.height;
          const prevOverflowY = bodyEl.style.overflowY;
          bodyEl.style.height = 'auto';
          bodyEl.style.overflowY = 'visible';
          const contentHeight = Number(bodyEl.scrollHeight || bodyEl.getBoundingClientRect().height || 0);
          bodyEl.style.height = prevHeight;
          bodyEl.style.overflowY = prevOverflowY;
          if (!Number.isFinite(contentHeight) || contentHeight <= 0) return null;
          return contentHeight;
        },
        applyAutoAdjustedGroupHeight(group, { save = false } = {}) {
          if (!group || group.collapsed) return false;
          const contentHeight = this.measureGroupContentHeight(group);
          if (!Number.isFinite(contentHeight)) return false;
          const targetHeight = this.normalizeGroupBodyHeight(contentHeight + 2);
          const currentHeight = this.getGroupBodyHeight(group);
          const hasOverflow = contentHeight > currentHeight + 1;
          const hasExtraSpace = contentHeight < currentHeight - 1;
          const missingStoredHeight = group.bodyHeight === undefined || group.bodyHeight === null;
          if (!hasOverflow && !hasExtraSpace && !missingStoredHeight) return false;
          if (!missingStoredHeight && currentHeight === targetHeight) return false;
          this.$set(group, 'bodyHeight', targetHeight);
          if (save) this.saveData();
          return true;
        },
        maybeAutoAdjustGroupHeightAfterLinkChange(group) {
          if (!this.shouldAutoAdjustGroupHeightAfterLinkChange(group)) return;
          this.$nextTick(() => {
            const apply = () => {
              if (this.applyAutoAdjustedGroupHeight(group)) {
                this.saveData();
              }
            };
            if (typeof window !== 'undefined' && typeof window.requestAnimationFrame === 'function') {
              window.requestAnimationFrame(apply);
            } else {
              setTimeout(apply, 0);
            }
          });
        },
        autoAdjustAllGroupHeightsForAutoMode() {
          this.$nextTick(() => {
            const apply = () => {
              let changed = false;
              (this.data.groups || []).forEach(group => {
                if (!this.shouldAutoAdjustGroupHeightAfterLinkChange(group)) return;
                if (this.applyAutoAdjustedGroupHeight(group)) changed = true;
              });
              if (changed) this.saveData();
            };
            if (typeof window !== 'undefined' && typeof window.requestAnimationFrame === 'function') {
              window.requestAnimationFrame(apply);
            } else {
              setTimeout(apply, 0);
            }
          });
        },
        startGroupHeightResize(event, group) {
          if (!group || group.collapsed) return;
          if (!this.canManuallyResizeGroupHeight(group)) return;
          if (event && event.button !== undefined && event.button !== 0) return;
          const currentHeight = this.getGroupBodyHeight(group);
          if (group.bodyHeight === undefined || group.bodyHeight === null) {
            this.$set(group, 'bodyHeight', currentHeight);
          }
          this.isGroupHeightResizing = true;
          this.groupHeightResizeState = {
            groupUuid: group.uuid,
            startY: event.clientY,
            startHeight: currentHeight
          };
          document.body.classList.add('mb-group-resizing');
          document.addEventListener('mousemove', this.handleGroupHeightResize);
          document.addEventListener('mouseup', this.endGroupHeightResize);
        },
        handleGroupHeightResize(event) {
          if (!this.isGroupHeightResizing || !this.groupHeightResizeState?.groupUuid) return;
          const group = (this.data.groups || []).find(g => g.uuid === this.groupHeightResizeState.groupUuid);
          if (!group) return;
          const deltaY = event.clientY - this.groupHeightResizeState.startY;
          const nextHeight = this.normalizeGroupBodyHeight(this.groupHeightResizeState.startHeight + deltaY);
          this.$set(group, 'bodyHeight', nextHeight);
        },
        endGroupHeightResize() {
          if (!this.isGroupHeightResizing) return;
          this.isGroupHeightResizing = false;
          this.groupHeightResizeState = { groupUuid: null, startY: 0, startHeight: 0 };
          document.removeEventListener('mousemove', this.handleGroupHeightResize);
          document.removeEventListener('mouseup', this.endGroupHeightResize);
          document.body.classList.remove('mb-group-resizing');
          this.saveData();
        },
        autoFitGroupHeight(group) {
          if (!this.canManuallyResizeGroupHeight(group)) return;
          if (!group || group.collapsed) return;
          const bodyEl = document.getElementById(`collapseGroup-${group.uuid}`);
          let targetHeight = this.getGroupBodyHeight(group);
          if (bodyEl) {
            const prevHeight = bodyEl.style.height;
            const prevOverflowY = bodyEl.style.overflowY;
            bodyEl.style.height = 'auto';
            bodyEl.style.overflowY = 'visible';
            const contentHeight = Number(bodyEl.scrollHeight || bodyEl.getBoundingClientRect().height || 0);
            bodyEl.style.height = prevHeight;
            bodyEl.style.overflowY = prevOverflowY;
            if (Number.isFinite(contentHeight) && contentHeight > 0) {
              targetHeight = this.normalizeGroupBodyHeight(contentHeight + 2);
            }
          }
          const currentHeight = this.getGroupBodyHeight(group);
          if (currentHeight !== targetHeight || group.bodyHeight === undefined || group.bodyHeight === null) {
            this.$set(group, 'bodyHeight', targetHeight);
            this.saveData();
          }
        },
        // --- Sorting helpers for links ---
        _getLocaleCollator() {
          try {
            const lang = (this.data?.options?.common?.language || navigator.language || 'en').toString();
            return new Intl.Collator(lang, { numeric: true, sensitivity: 'base' });
          } catch { return new Intl.Collator('en', { numeric: true, sensitivity: 'base' }); }
        },
        _normalizeLinkSortKey(link, { ignoreArticles = true } = {}) {
          const raw = (link?.text || link?.url || '').toString().trim().toLowerCase();
          if (!ignoreArticles) return raw;
          const lang = (this.data?.options?.common?.language || 'en').toString().toLowerCase();
          // Minimal article lists (customize as needed)
          const articles = {
            en: ['the ', 'a ', 'an '],
            de: ['der ', 'die ', 'das ', 'ein ', 'eine ']
          };
          const list = articles[lang] || [];
          const match = list.find(p => raw.startsWith(p));
          return match ? raw.slice(match.length) : raw;
        },
        _compareLinks(a, b, collator, { direction = 'asc', ignoreArticles = true } = {}) {
          const ka = this._normalizeLinkSortKey(a, { ignoreArticles });
          const kb = this._normalizeLinkSortKey(b, { ignoreArticles });
          const c = collator.compare(ka, kb) || collator.compare(a.url||'', b.url||'');
          return direction === 'desc' ? -c : c;
        },
        // Sort links in a group by text (or URL as fallback)
        // strategy:
        //  - 'within-columns' (default): sort each column independently
        //  - 'preserve-counts': global sort, then slice back into current column counts (keeps visual balance)
        //  - 'rebalance-columns': global sort, then distribute as evenly as possible across columns
        sortGroupLinksByText(group, { strategy = 'within-columns', direction = 'asc', ignoreArticles = true } = {}) {
          if (!group || !Array.isArray(group.links) || group.links.length === 0) return;
          const hasSeparators = group.links.some(link => this.isSeparatorLink(link));
          if (hasSeparators && strategy !== 'within-columns') {
            this.showToast(
              this.getTranslation('menu.group.sort.separatorFallback') || 'Groups with separators can only be sorted within columns.',
              'info'
            );
            strategy = 'within-columns';
          }
          const collator = this._getLocaleCollator();
          const columns = this.getLinkColumns(group.links);
          const byCol = (col) => group.links.filter(l => l.column === col);
          if (strategy === 'within-columns') {
            columns.forEach(col => {
              const list = byCol(col).sort((a, b) => (a.index || 0) - (b.index || 0));
              const sortable = list
                .filter(link => !this.isSeparatorLink(link))
                .sort((a, b) => this._compareLinks(a, b, collator, { direction, ignoreArticles }));
              let sortablePos = 0;
              const reordered = list.map((entry) => {
                if (this.isSeparatorLink(entry)) return entry;
                const next = sortable[sortablePos];
                sortablePos += 1;
                return next;
              });
              reordered.forEach((l, idx) => {
                l.column = col;
                l.index = idx;
              });
            });
            this.saveData();
            return;
          }
          // Global sort for the remaining strategies
          const all = [...group.links].sort((a, b) => this._compareLinks(a, b, collator, { direction, ignoreArticles }));
          let counts = [];
          if (strategy === 'preserve-counts') {
            counts = columns.map(col => byCol(col).length);
          } else if (strategy === 'rebalance-columns') {
            const total = all.length;
            const base = Math.floor(total / columns.length);
            const extra = total % columns.length;
            counts = columns.map((_, i) => base + (i < extra ? 1 : 0));
          }
          // Assign back according to counts
          let pos = 0;
          columns.forEach((col, ci) => {
            const take = counts[ci] || 0;
            const slice = all.slice(pos, pos + take);
            pos += take;
            slice.forEach((l, idx) => { l.column = col; l.index = idx; });
          });
          this.saveData();
        },
        // Helper methods for progressive loading
        shouldShowExpandButton(group) {
          if (!group || !group.links || this.filterText || (this.activeKeywordFilters && this.activeKeywordFilters.length > 0)) return false;

          const totalLinks = group.links.length;
          const initialLimit = this.data.options?.links?.progressiveLoadingThreshold || CONSTS.PROGRESSIVE_LOADING_THRESHOLD;

          return totalLinks > initialLimit;
        },
        toggleGroupExpansion(group) {
          if (!group) return;
          group.linksExpanded = !group.linksExpanded;
          this.saveData();
        },
        getRemainingLinksCount(group) {
          if (!group || !group.links) return 0;
          const totalLinks = group.links.length;
          const initialLimit = group.initialLinkCount || 100;
          return Math.max(0, totalLinks - initialLimit);
        },
        increaseVisibleLinks(group) {
          try {
            const perf = this.data?.options?.performance || {};
            const page = Number(perf.pageSize || 200);
            const key = group?.uuid || 'default';
            if (!this._visibleLimits) this._visibleLimits = {};
            this._visibleLimits[key] = (this._visibleLimits[key] || Number(perf.initialLimit || 200)) + page;
            this.$forceUpdate();
          } catch {}
        },
        getNoteCollapsedStateMap() {
          const map = this.data?.options?.links?.noteCollapsedState;
          if (!map || typeof map !== 'object' || Array.isArray(map)) return {};
          return map;
        },
        ensureNoteCollapsedStateMap() {
          if (!this.data.options) this.$set(this.data, 'options', {});
          if (!this.data.options.links) this.$set(this.data.options, 'links', {});
          const current = this.data.options.links.noteCollapsedState;
          if (!current || typeof current !== 'object' || Array.isArray(current)) {
            this.$set(this.data.options.links, 'noteCollapsedState', {});
          }
          return this.data.options.links.noteCollapsedState;
        },
        isNoteCollapsed(link) {
          if (!this.isNoteLink(link) || !link?.uuid) return false;
          const map = this.getNoteCollapsedStateMap();
          return !!map[link.uuid];
        },
        toggleNoteCollapsed(link) {
          if (!this.isNoteLink(link) || !link?.uuid) return;
          const stateMap = this.ensureNoteCollapsedStateMap();
          if (stateMap[link.uuid]) {
            this.$delete(stateMap, link.uuid);
          } else {
            this.$set(stateMap, link.uuid, true);
          }
          this.saveData();
        },

        onLinkRowDblClick(link) {
          if (!link) return;
          if (this.isReferenceLink(link)) {
            this.openReferenceAliasDialog(link);
            return;
          }
          if (this.isSeparatorLink(link) || this.isNoteLink(link)) {
            this.showLinkEditModal(link);
            return;
          }
          this.startEditing(link);
        },
        showModalById(modalId) {
          const modalElement = document.getElementById(modalId);
          if (!modalElement) return null;
          const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
          modalInstance.show();
          return modalInstance;
        },
        hideModalById(modalId) {
          const modalElement = document.getElementById(modalId);
          if (!modalElement) return;
          const modalInstance = bootstrap.Modal.getInstance(modalElement);
          if (modalInstance) modalInstance.hide();
        },
        openReferenceAliasDialog(link) {
          const targetLink = (link && link.uuid) ? (this.findLinkByUuid(link.uuid) || link) : link;
          if (!targetLink) return;
          if (!this.isReferenceLink(targetLink)) {
            this.startEditing(targetLink);
            return;
          }

          const parentGroup = this.findGroupContainingLinkUuid(targetLink.uuid);
          if (parentGroup && !this.canEdit(parentGroup)) {
            alert(this.getTranslation('error.perm.edit'));
            this.hideMenus();
            return;
          }

          const source = this.getReferenceSourceLink(targetLink);
          const sourceKeywords = source?.keywords || '';
          const sourceUrlTemplate = (typeof source?.url === 'string') ? source.url : '';
          const inheritedRefRows = this.mergePlaceholderRowsForEditor([
            this.getGlobalPlaceholderList(),
            this.getGroupPlaceholderList(parentGroup),
            this.getLinkPlaceholderList(source)
          ]);
          this.refAliasExpandedSections = {
            basic: true,
            keywords: true,
            placeholders: true
          };
          this.refAliasEditData = {
            linkUuid: targetLink.uuid,
            aliasText: typeof targetLink.text === 'string' ? targetLink.text : '',
            sourceTitle: source ? this.getLinkDisplayTitle(source) : '',
            sourceUrlTemplate,
            sourceMissing: !source,
            sourceKeywords: sourceKeywords,
            sourceKeywordsLabel: this.joinKeywords(this.parseKeywords(sourceKeywords || '')),
            inheritSourceKeywords: targetLink.inheritSourceKeywords !== false,
            localKeywords: typeof targetLink.keywords === 'string' ? targetLink.keywords : '',
            placeholderRows: this.buildPlaceholderRowsForTemplate(
              sourceUrlTemplate,
              this.getLinkPlaceholderList(targetLink),
              inheritedRefRows
            )
          };

          this.hideMenus();
          this.$nextTick(() => {
            this.showModalById('referenceAliasModal');
            this.$nextTick(() => {
              const inputRef = this.$refs.refAliasInput;
              const inputElement = Array.isArray(inputRef) ? inputRef[0] : inputRef;
              if (inputElement && typeof inputElement.focus === 'function') {
                inputElement.focus();
                if (typeof inputElement.select === 'function') inputElement.select();
              }
            });
          });
        },
        previewReferenceAliasResolvedUrl() {
          const editData = this.refAliasEditData;
          if (!editData?.linkUuid) return '';
          const link = this.findLinkByUuid(editData.linkUuid);
          if (!link) return '';
          const details = this.getEffectiveLinkUrlDetails(link, {
            refLinkRows: editData.placeholderRows || []
          });
          return details.url || '';
        },
        getReferenceAliasUnresolvedPlaceholders() {
          const editData = this.refAliasEditData;
          if (!editData?.linkUuid) return [];
          const link = this.findLinkByUuid(editData.linkUuid);
          if (!link) return [];
          const details = this.getEffectiveLinkUrlDetails(link, {
            refLinkRows: editData.placeholderRows || []
          });
          return details.unresolved || [];
        },
        getReferenceAliasInheritedPlaceholderRows() {
          const editData = this.refAliasEditData;
          if (!editData?.linkUuid) return [];
          const link = this.findLinkByUuid(editData.linkUuid);
          if (!link) return [];
          const source = this.getReferenceSourceLink(link);
          const refGroup = this.findGroupContainingLinkUuid(link.uuid);
          return this.mergePlaceholderRowsForEditor([
            this.getGlobalPlaceholderList(),
            this.getGroupPlaceholderList(refGroup),
            this.getLinkPlaceholderList(source)
          ]);
        },
        getReferenceAliasInheritedPlaceholderMap() {
          const map = new Map();
          this.getReferenceAliasInheritedPlaceholderRows().forEach((row) => {
            const key = this.placeholderNameKey(row?.name);
            if (!key) return;
            map.set(key, row);
          });
          return map;
        },
        getReferenceAliasInheritedPlaceholderEntry(row) {
          const key = this.placeholderNameKey(row?.name);
          if (!key) return null;
          return this.getReferenceAliasInheritedPlaceholderMap().get(key) || null;
        },
        isReferenceAliasInheritedPlaceholder(row) {
          return !!this.getReferenceAliasInheritedPlaceholderEntry(row);
        },
        getReferenceAliasInheritedPlaceholderValue(row) {
          const entry = this.getReferenceAliasInheritedPlaceholderEntry(row);
          return entry ? String(entry.value || '') : '';
        },
        canRestoreReferenceAliasPlaceholder(row) {
          if (!this.isReferenceAliasInheritedPlaceholder(row)) return false;
          return !!String(row?.value || '').trim() || !!row?.encode;
        },
        restoreReferenceAliasPlaceholder(index = 0) {
          const rows = this.refAliasEditData?.placeholderRows;
          if (!Array.isArray(rows) || index < 0 || index >= rows.length) return;
          const current = rows[index];
          const inherited = this.getReferenceAliasInheritedPlaceholderEntry(current);
          if (!inherited) return;
          this.$set(current, 'name', inherited.name || current.name || '');
          this.$set(current, 'value', '');
          this.$set(current, 'encode', false);
        },
        saveReferenceAliasDialog() {
          const editData = this.refAliasEditData;
          if (!editData || !editData.linkUuid) {
            this.cancelReferenceAliasDialog();
            return;
          }

          const link = this.findLinkByUuid(editData.linkUuid);
          if (!link || !this.isReferenceLink(link)) {
            this.cancelReferenceAliasDialog();
            return;
          }

          const parentGroup = this.findGroupContainingLinkUuid(link.uuid);
          if (parentGroup && !this.canEdit(parentGroup)) {
            alert(this.getTranslation('error.perm.edit'));
            return;
          }

          const currentAlias = typeof link.text === 'string' ? link.text : '';
          const currentLocalKeywords = typeof link.keywords === 'string' ? link.keywords : '';
          const currentInherit = link.inheritSourceKeywords !== false;
          const currentRefRows = this.getLinkPlaceholderList(link);
          const nextAlias = String(editData.aliasText || '').trim();
          const nextLocalKeywords = this.joinKeywords(this.parseKeywords(editData.localKeywords || ''));
          const nextInherit = editData.inheritSourceKeywords !== false;
          const nextRefRows = this.normalizePlaceholderList(editData.placeholderRows || []);

          let changed = false;
          if (nextAlias !== currentAlias) {
            this.$set(link, 'text', nextAlias);
            changed = true;
          }
          if (nextLocalKeywords !== currentLocalKeywords) {
            this.$set(link, 'keywords', nextLocalKeywords);
            changed = true;
          }
          if (nextInherit !== currentInherit) {
            this.$set(link, 'inheritSourceKeywords', nextInherit);
            changed = true;
          }
          if (JSON.stringify(nextRefRows) !== JSON.stringify(currentRefRows)) {
            this.$set(link, 'urlPlaceholders', nextRefRows);
            changed = true;
          }

          if (changed) {
            const nowTs = this.touchLink(link);
            if (parentGroup) {
              this.touchGroup(parentGroup, nowTs);
              if (parentGroup.shared) parentGroup.version = (parentGroup.version || 0) + 1;

              if (parentGroup.useEventLog && this.eventLogManager) {
                const changes = {};
                if (nextAlias !== currentAlias) changes.text = nextAlias;
                if (nextLocalKeywords !== currentLocalKeywords) changes.keywords = nextLocalKeywords;
                if (nextInherit !== currentInherit) changes.inheritSourceKeywords = nextInherit;
                if (JSON.stringify(nextRefRows) !== JSON.stringify(currentRefRows)) changes.urlPlaceholders = nextRefRows;
                changes.lastModified = nowTs;
                this.createAndApplyEvent(parentGroup, {
                  type: 'link-edit',
                  linkId: link.uuid,
                  data: changes
                });
              } else if (parentGroup.shared && parentGroup.groupTopic && parentGroup.groupKey) {
                try {
                  const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name || '' };
                  const linkToShare = this.serializeLinkForSync(link);
                  const env = {
                    v: 1,
                    type: 'share-links',
                    ts: Date.now(),
                    from,
                    groupId: parentGroup.groupId || parentGroup.uuid,
                    selection: { groups: [], links: [linkToShare] },
                    mode: 'merge',
                    msgId: (Math.random().toString(36).slice(2) + Date.now())
                  };
                  sharing.sendToGroup(parentGroup, env);
                } catch {}
              }
            }
            this.saveData();
          }
          this.cancelReferenceAliasDialog();
        },
        cancelReferenceAliasDialog() {
          this.hideModalById('referenceAliasModal');
          this.refAliasEditData = null;
          this.refAliasExpandedSections = {};
        },
        openGlobalPlaceholderDialog() {
          this.globalPlaceholderRows = this.getGlobalPlaceholderList().map(row => ({ ...row }));
          this.hideMenus();
          this.$nextTick(() => this.showModalById('globalPlaceholdersModal'));
        },
        addGlobalPlaceholderRow() {
          if (!Array.isArray(this.globalPlaceholderRows)) this.$set(this, 'globalPlaceholderRows', []);
          this.globalPlaceholderRows.push({ name: '', value: '', encode: false });
        },
        removeGlobalPlaceholderRow(index) {
          if (!Array.isArray(this.globalPlaceholderRows)) return;
          this.globalPlaceholderRows.splice(index, 1);
        },
        saveGlobalPlaceholderDialog() {
          if (!this.data.options) this.$set(this.data, 'options', {});
          if (!this.data.options.links) this.$set(this.data.options, 'links', {});
          const current = this.getGlobalPlaceholderList();
          const nextRows = this.normalizePlaceholderList(this.globalPlaceholderRows || []);
          if (JSON.stringify(current) !== JSON.stringify(nextRows)) {
            this.$set(this.data.options.links, 'globalPlaceholders', nextRows);
            this.saveData();
          }
          this.hideModalById('globalPlaceholdersModal');
        },
        // --- Inline Editing (Vue way) ---
        startEditing(item) {
          // Cancel any other active editing
          this.data.groups.forEach(g => {
            if (g.editing && g.uuid !== item.uuid) g.editing = false;
            g.links.forEach(l => {
              if (l.editing && l.uuid !== item.uuid) l.editing = false;
            });
          });
          // Permission enforcement: block inline edit for links in shared groups
          try {
            if (item && item.url !== undefined) { // treat as link
              const group = (this.data.groups||[]).find(g => Array.isArray(g.links) && g.links.some(l => l.uuid === item.uuid));
              if (group && group.shared && !this.canEdit(group)) {
                alert(this.getTranslation('error.perm.edit'));
                return;
              }
            }
          } catch {}
          const isLinkItem = !!(item && item.url !== undefined);
          const isRefLink = isLinkItem && this.isReferenceLink(item);
          // Store original value in case of escape
          if (item && item.name !== undefined) {
            item._originalValue = item.name || '';
          } else {
            const originalText = item?.text || '';
            item._originalValue = originalText;
            // For reference links without local alias, prefill inline editor with effective text.
            if (isRefLink && !String(originalText).trim()) {
              const seedValue = this.getEffectiveLinkText(item) || '';
              this.$set(item, 'text', seedValue);
              item._refAliasWasEmpty = true;
              item._refEditSeedValue = seedValue;
            } else {
              delete item._refAliasWasEmpty;
              delete item._refEditSeedValue;
            }
          }
          this.$set(item, 'editing', true); // Ensure reactivity
          if (isLinkItem) {
            this.hideLinkPopover();
          }
          // Focus handled by v-focus directive
        },
        saveEditing(item) {
          if (!item) return;
          const isLinkItem = !!(item && item.url !== undefined);
          const isRefLink = isLinkItem && this.isReferenceLink(item);
          // Trim and check if changed
          let newValue = (item.name !== undefined ? item.name : item.text || '').trim();
          const oldValue = item._originalValue || '';
          const valueKey = item.name !== undefined ? 'name' : 'text';

          // Permission enforcement for links
          try {
            if (isLinkItem) { // link
              const group = (this.data.groups||[]).find(g => Array.isArray(g.links) && g.links.some(l => l.uuid === item.uuid));
              if (group && group.shared && !this.canEdit(group)) {
                alert(this.getTranslation('error.perm.edit'));
                // revert if was editing
                if (item._originalValue !== undefined) item[valueKey] = item._originalValue;
                item.editing = false;
                delete item._originalValue;
                delete item._refAliasWasEmpty;
                delete item._refEditSeedValue;
                return;
              }
            }
          } catch {}

          if (isRefLink && item._refAliasWasEmpty && newValue === String(item._refEditSeedValue || '').trim()) {
            // Seed value was untouched -> keep no local alias
            newValue = '';
          }

          if (!isRefLink && newValue === '') { // Revert if empty
            item[valueKey] = oldValue;
          } else {
            item[valueKey] = newValue; // Update with trimmed value
            if (newValue !== oldValue) {
              const nowTs = isLinkItem
                ? this.touchLink(item)
                : this.touchGroup(item);
              this.saveData();
              // Mark local edit timestamp + hash for conflict resolution (links only)
              try {
                if (isLinkItem) {
                  const nb = Object.assign({}, item.ncBookmarks||{}, { localUpdatedAt: nowTs });
                  // Do NOT update lastHash here; keep last synced signature as baseline
                  this.$set(item, 'ncBookmarks', nb);
                  debugLog('log', '[NC SYNC] Inline edit marked localUpdatedAt', { id: nb.id, localUpdatedAt: nb.localUpdatedAt });
                }
              } catch {}
              // If this is a link editing its text inline, broadcast to shared group
              try {
                // Check if item is a link (has url property, even if empty)
                if (isLinkItem) {
                  const group = (this.data.groups||[]).find(g=>Array.isArray(g.links) && g.links.some(l=>
                    item.uuid && l.uuid === item.uuid
                  ));
                  if (group) {
                    this.touchGroup(group, nowTs);
                    // Update version for sync tracking (only for shared groups)
                    if (group.shared) {
                      group.version = (group.version || 0) + 1;
                      debugLog('log', '[SYNC] Updated group version after inline edit', { groupId: group.groupId, version: group.version });
                    }

                    // Event-log integration for inline edit (for ALL groups with event-log)
                    if (group.useEventLog && group.eventLog && this.eventLogManager) {
                      // Only track what actually changed
                      const changes = {};
                      const oldValues = {};

                      // For inline edit, we mainly change the text
                      if (oldValue !== newValue) {
                        changes.text = newValue;
                        oldValues.text = oldValue;
                      }

                      changes.lastModified = nowTs;

                      debugLog('log', '[INLINE-EDIT] Creating event-log entry for link edit:', {
                        groupName: group.name,
                        groupId: group.groupId,
                        linkId: item.uuid,
                        oldText: oldValue,
                        newText: newValue,
                        isShared: group.shared
                      });

                      // Create and apply event using helper
                      this.createAndApplyEvent(group, {
                        type: 'link-edit',
                        linkId: item.uuid,
                        data: changes  // Just the changes, not wrapped
                      });
                    } else if (group.shared && group.groupTopic && group.groupKey && !group.useEventLog) {
                      // Legacy sync ONLY if event-log is NOT active and group is shared
                      const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
                      const linkToShare = this.serializeLinkForSync(item);
                      debugLog('log', '[SYNC] Broadcasting inline-edited link (legacy)', {
                        uuid: linkToShare.uuid,
                        text: linkToShare.text,
                        url: linkToShare.url,
                        hasUrl: !!linkToShare.url && linkToShare.url !== ''
                      });
                      const env = { v:1, type:'share-links', ts:Date.now(), from, groupId: group.groupId, selection:{ groups:[], links:[linkToShare] }, mode:'merge', msgId:(Math.random().toString(36).slice(2)+Date.now()) };
                      sharing.sendToGroup(group, env);
                    }
                  }
                }
              } catch (error) {
                debugLog('error', '[SYNC] Failed to broadcast inline edit:', error);
              }
            }
          }
          item.editing = false;
          delete item._originalValue;
          delete item._refAliasWasEmpty;
          delete item._refEditSeedValue;
        },
        cancelEditing(item) {
          if (item && item.editing) {
            const valueKey = item.name !== undefined ? 'name' : 'text';
            if (item._originalValue !== undefined) {
              item[valueKey] = item._originalValue; // Revert to original
            }
            item.editing = false;
            delete item._originalValue;
            delete item._refAliasWasEmpty;
            delete item._refEditSeedValue;
          }
        },

        // --- Context Menus (Vue way) ---
        showMenu(event, type, item, groupContext = null) {
          event.preventDefault();
          event.stopPropagation(); // Verhindert, dass der globale Klick-Listener sofort schliet

          this.hideMenus(); // Andere Mens ausblenden

          this.contextMenuTarget = { type: type, item: item, groupContext: groupContext };

          // Verwende nextTick, um sicherzustellen, dass das Men-Element (falls neu gerendert) im DOM ist
        this.$nextTick(() => {
          const menuId = type === 'link' ? 'linkMenu' : 'groupMenu';
          const menu = document.getElementById(menuId);
          if (!menu) {
            debugLog('error', "Context menu element not found:", menuId);
            return;
          }

            // Stelle sicher, dass das Men sichtbar ist, um Dimensionen zu messen (kann kurz unsichtbar bleiben)
            const initialDisplay = menu.style.display;
            const initialVisibility = menu.style.visibility;
            menu.style.display = 'block'; // Muss block sein fr offsetWidth/Height
            menu.style.visibility = 'hidden'; // Aber noch nicht sichtbar machen

            const menuWidth = menu.offsetWidth;
            const menuHeight = menu.offsetHeight;

            // Reset styles before calculating final position
            menu.style.display = initialDisplay; // Zurcksetzen, falls es vorher none war
            menu.style.visibility = initialVisibility; // Zurcksetzen

            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            const padding = 5; // Kleiner Abstand zum Rand
            const clamp = (value, min, max) => {
              const low = Math.min(min, max);
              const high = Math.max(min, max);
              return Math.min(Math.max(value, low), high);
            };

            let x = event.clientX;
            let y = event.clientY;

            const menuMaxWidth = Math.max(1, windowWidth - (padding * 2));
            const menuMaxHeight = Math.max(1, windowHeight - (padding * 2));
            const boundedMenuWidth = Math.min(menuWidth, menuMaxWidth);
            const boundedMenuHeight = Math.min(menuHeight, menuMaxHeight);

            // Berechne maximale erlaubte X/Y-Koordinaten
            const maxX = windowWidth - boundedMenuWidth - padding;
            const maxY = windowHeight - boundedMenuHeight - padding;

            // Stelle sicher, dass x und y innerhalb der Grenzen liegen
            x = clamp(x, padding, maxX);
            y = clamp(y, padding, maxY);

            // Setze den Stil und mache das Men sichtbar
          this.contextMenuStyle = {
            top: `${y}px`,
            left: `${x}px`,
            maxWidth: `${Math.floor(menuMaxWidth)}px`,
            maxHeight: `${Math.floor(menuMaxHeight)}px`,
            overflowX: menuWidth > menuMaxWidth ? 'auto' : '',
            overflowY: menuHeight > menuMaxHeight ? 'auto' : ''
          };
          if (type === 'link') this.isLinkMenuVisible = true;
          if (type === 'group') this.isGroupMenuVisible = true;

          // After showing, clamp submenus so they never leave the viewport
          this.$nextTick(() => {
            try {
              const padding2 = 8;
              const winW = window.innerWidth;
              const winH = window.innerHeight;
              const subs = menu.querySelectorAll('.submenu');
              subs.forEach((li) => {
                const fly = li.querySelector(':scope > .context-submenu');
                if (!fly) return;

                // Temporarily show to measure
                const prevDisp = fly.style.display;
                const prevVis = fly.style.visibility;
                fly.style.display = 'block';
                fly.style.visibility = 'hidden';
                fly.style.position = 'fixed';
                fly.style.left = '0px';
                fly.style.right = 'auto';
                fly.style.top = '0px';
                fly.style.bottom = 'auto';
                fly.style.maxWidth = '';
                fly.style.maxHeight = '';
                fly.style.overflowX = '';
                fly.style.overflowY = '';

                const flyW = fly.offsetWidth || 220;
                const flyH = fly.offsetHeight || 240;

                // Position check relative to viewport
                const liRect = li.getBoundingClientRect();
                const viewportMaxW = Math.max(1, winW - (padding2 * 2));
                let boundedFlyW = Math.min(flyW, viewportMaxW);
                if (flyW > viewportMaxW) {
                  fly.style.maxWidth = `${Math.floor(viewportMaxW)}px`;
                  fly.style.overflowX = 'auto';
                }

                // Keep submenu inside viewport vertically
                const viewportMaxH = Math.max(1, winH - (padding2 * 2));
                const cssMaxHRaw = parseFloat(window.getComputedStyle(fly).maxHeight || '');
                const cssMaxH = Number.isFinite(cssMaxHRaw) ? cssMaxHRaw : Infinity;
                const effectiveMaxH = Math.min(viewportMaxH, cssMaxH);
                const boundedFlyH = Math.min(flyH, effectiveMaxH);

                if (flyH > effectiveMaxH) {
                  fly.style.maxHeight = `${Math.floor(effectiveMaxH)}px`;
                  fly.style.overflowY = 'auto';
                }

                const rightX = liRect.right;
                const leftX = liRect.left - boundedFlyW;
                const rightFits = (rightX + boundedFlyW + padding2) <= winW;
                const leftFits = leftX >= padding2;
                let openLeft = false;
                let submenuX = rightX;

                if (rightFits) {
                  submenuX = rightX;
                } else if (leftFits) {
                  submenuX = leftX;
                  openLeft = true;
                } else {
                  submenuX = clamp(rightX, padding2, winW - boundedFlyW - padding2);
                  openLeft = submenuX < rightX;
                }

                submenuX = clamp(submenuX, padding2, winW - boundedFlyW - padding2);
                if (openLeft) li.classList.add('open-left');
                else li.classList.remove('open-left');

                let submenuY = liRect.top;
                if (submenuY + boundedFlyH + padding2 > winH) submenuY = winH - boundedFlyH - padding2;
                if (submenuY < padding2) submenuY = padding2;

                fly.style.left = `${Math.round(submenuX)}px`;
                fly.style.top = `${Math.round(submenuY)}px`;

                // restore
                fly.style.display = prevDisp;
                fly.style.visibility = prevVis;
              });
            } catch (e) { debugLog('warn', 'submenu adjust failed', e); }
          });

            // Optional: Kleiner Timeout, falls es immer noch Probleme gibt (normalerweise nicht ntig)
            /*
            setTimeout(() => {
                if (type === 'link') this.isLinkMenuVisible = true;
                if (type === 'group') this.isGroupMenuVisible = true;
            }, 0);
            */
          });
        },
        showLinkMenu(event, group, link) {
          this.showMenu(event, 'link', link, group);
        },
        showGroupMenu(event, group) {
          this.showMenu(event, 'group', group);
        },
        hideMenus() {
          this.isLinkMenuVisible = false;
          this.isGroupMenuVisible = false;
          this.contextMenuTarget = null; // Clear the target
        },
        createReferenceLinkFromContext(sourceGroup, sourceLink) {
          if (!sourceLink) {
            this.hideMenus();
            return;
          }

          if (this.isReferenceLink(sourceLink) || this.isSeparatorLink(sourceLink) || this.isNoteLink(sourceLink)) {
              this.showToast(
              this.getTranslation('link.ref.createFromRefDisabled') || 'Create ref link is only available for original URL links.',
              'info'
            );
            this.hideMenus();
            return;
          }

          const source = sourceLink;
          if (!source?.uuid) {
            alert(this.getTranslation('link.ref.sourceMissing') || 'Original link could not be resolved.');
            this.hideMenus();
            return;
          }

          const targetGroup = sourceGroup || this.findGroupContainingLinkUuid(sourceLink.uuid);
          if (!targetGroup) {
            alert(this.getTranslation('link.ref.invalidTarget') || 'Invalid group selection.');
            this.hideMenus();
            return;
          }

          if (!this.canAdd(targetGroup)) {
            alert(this.getTranslation('error.perm.add'));
            this.hideMenus();
            return;
          }

          // No alias prompt on creation: new ref should mirror original text by default.
          this.createReferenceLink(source, targetGroup, '', {
            insertAfterLinkUuid: sourceLink.uuid
          });
          this.hideMenus();
        },
        createReferenceLink(sourceLink, targetGroup, aliasText = '', options = {}) {
          if (!sourceLink?.uuid || !targetGroup || this.isSeparatorLink(sourceLink) || this.isNoteLink(sourceLink)) return;

          const nowTs = Date.now();
          if (!Array.isArray(targetGroup.links)) this.$set(targetGroup, 'links', []);
          const links = targetGroup.links;

          const insertAfterLink = options?.insertAfterLinkUuid
            ? links.find(l => l.uuid === options.insertAfterLinkUuid)
            : null;
          const targetColumn = Number.isFinite(options?.targetColumn)
            ? Number(options.targetColumn)
            : Number(insertAfterLink?.column ?? 0);

          let nextIndex = 0;
          if (insertAfterLink) {
            nextIndex = Number(insertAfterLink.index || 0) + 1;
            links.forEach(link => {
              if ((link.column || 0) === targetColumn && (link.index || 0) >= nextIndex) {
                link.index = (link.index || 0) + 1;
              }
            });
          } else {
            const columnLinks = links.filter(l => (l.column || 0) === targetColumn);
            nextIndex = columnLinks.length ? Math.max(...columnLinks.map(l => Number(l.index) || 0)) + 1 : 0;
          }

          const refLink = {
            uuid: this.generateUUID(),
            itemType: 'ref',
            text: String(aliasText || '').trim(),
            url: '',
            urlPlaceholders: [],
            keywords: '',
            inheritSourceKeywords: true,
            shortcut: '',
            color: '',
            infoHtml: '',
            emoji: '',
            column: targetColumn,
            index: nextIndex,
            refTargetUuid: sourceLink.uuid,
            isReference: true,
            editing: false,
            isMouseOver: false,
            createdAt: nowTs,
            lastModified: nowTs
          };

          links.push(refLink);

          const refTs = this.touchLink(refLink, nowTs);
          this.touchGroup(targetGroup, refTs);
          this.saveData();
          this.maybeAutoAdjustGroupHeightAfterLinkChange(targetGroup);
          this.showToast(this.getTranslation('link.ref.created') || 'Reference link created.', 'success');
        },
        editOriginalLinkFromReference(link) {
          const source = this.getReferenceSourceLink(link);
          if (!source) {
            this.showToast(this.getTranslation('link.ref.sourceMissing') || 'Original link could not be resolved.', 'warning');
            this.hideMenus();
            return;
          }
          this.showLinkEditModal(source);
        },
        shareResolvedLink(link) {
          const effectiveUrl = this.getEffectiveLinkUrl(link);
          if (!effectiveUrl) return;
          const payload = Object.assign({}, link, {
            itemType: 'link',
            text: this.getEffectiveLinkText(link) || effectiveUrl,
            url: effectiveUrl,
            keywords: this.getEffectiveLinkKeywords(link),
            infoHtml: this.getEffectiveLinkInfoHtml(link),
            emoji: this.getEffectiveLinkEmoji(link),
            favicon: this.getEffectiveLinkFavicon(link),
            faviconError: this.getEffectiveLinkFaviconError(link),
            refTargetUuid: '',
            inheritSourceKeywords: true,
            urlPlaceholders: []
          });
          this.shareLink(payload);
        },
        // Search removed by request
        showLinkEditModal(link, options = {}) {
          if (this.isReferenceLink(link)) {
            this.openReferenceAliasDialog(link);
            return;
          }
          // Find the original link object in the data to ensure reactivity
          let originalLink = null;
          let parentGroup = null;
          for (const group of this.data.groups) {
            originalLink = group.links.find(l => 
              link.uuid && l.uuid === link.uuid
            );
            if (originalLink) {
              parentGroup = group;
              break;
            }
          }
          if (originalLink) {
            if (!this.canEdit(parentGroup)) { alert(this.getTranslation('error.perm.edit')); return; }
            
            // Prepare link data with defaults
            const linkData = JSON.parse(JSON.stringify(originalLink));
            if (linkData.infoHtml === undefined) linkData.infoHtml = '';
            if (linkData.keywords === undefined) linkData.keywords = '';
            if (linkData.color === undefined) linkData.color = '';
            if (linkData.shortcut === undefined) linkData.shortcut = '';
            if (linkData.itemType === undefined) linkData.itemType = this.normalizeLinkItemType(originalLink);
            this.normalizeLinkDataForItemType(linkData, linkData.itemType || 'link');
            // Include favicon fields in edit dialog data
            if (linkData.favicon === undefined) linkData.favicon = null;
            if (linkData.faviconError === undefined) linkData.faviconError = false;
            const inheritedLinkRows = this.mergePlaceholderRowsForEditor([
              this.getGlobalPlaceholderList(),
              this.getGroupPlaceholderList(parentGroup)
            ]);
            linkData.urlPlaceholders = this.isNonUrlLink(linkData)
              ? []
              : this.buildPlaceholderRowsForTemplate(
                '',
                this.getLinkPlaceholderList(originalLink),
                inheritedLinkRows
              );

            // Store original values for event-log comparison
            const originalValues = {
              text: originalLink.text || '',
              url: originalLink.url || '',
              keywords: originalLink.keywords || '',
              color: originalLink.color || '',
              infoHtml: originalLink.infoHtml || '',
              emoji: originalLink.emoji || '',
              shortcut: originalLink.shortcut || '',
              urlPlaceholders: JSON.stringify(this.getLinkPlaceholderList(originalLink)),
              itemType: this.normalizeLinkItemType(originalLink)
            };
            const editTitle = this.isSeparatorLink(originalLink)
              ? (this.getTranslation('menu.link.editSeparator') || this.getTranslation('menu.link.editLink'))
              : (this.isNoteLink(originalLink)
                ? (this.getTranslation('menu.link.editNote') || this.getTranslation('menu.link.editLink'))
                : this.getTranslation('menu.link.editLink'));
            
            // Use the generic dialog
            this.openGenericEditDialog(
              'link',
              linkData,
              this.linkEditDesign,
              editTitle,
              async (editedData) => {
                const previousUrl = (originalLink?.url || '').trim();
                const previousRawUrlInput = (originalLink?.rawUrlInput || '').trim();
                const itemType = this.normalizeLinkItemType(editedData);
                this.$set(editedData, 'itemType', itemType);
                // Normalize URL
                let url = '';
                if (!this.isNonUrlItemType(itemType)) {
                  url = MB.Utils.ensureProtocol((editedData.url || '').trim());
                }
                editedData.url = url;
                editedData.shortcut = this.normalizeShortcutText(editedData.shortcut || '');
                this.normalizeLinkDataForItemType(editedData, itemType);
                
                // Apply changes to the original link
                Object.assign(originalLink, editedData);
                this.$set(originalLink, 'keywords', (editedData.keywords || '').trim());
                const nowTs = this.touchLink(originalLink);
                originalLink.lastEdited = nowTs;
                this.touchGroup(parentGroup, nowTs);

                // Ensure favicon fields are properly copied
                if ('favicon' in editedData) {
                  this.$set(originalLink, 'favicon', editedData.favicon);
                }
                if ('faviconError' in editedData) {
                  this.$set(originalLink, 'faviconError', editedData.faviconError);
                }
                if ('faviconSource' in editedData) {
                  this.$set(originalLink, 'faviconSource', editedData.faviconSource);
                }
                if ('faviconRuleId' in editedData) {
                  this.$set(originalLink, 'faviconRuleId', editedData.faviconRuleId);
                }
                await this.refreshLinkFaviconAfterUrlChange(originalLink, previousUrl, previousRawUrlInput);
                
                // Event log for changes
                const changes = [];
                if (originalValues.text !== (editedData.text || '')) changes.push('text');
                if (originalValues.url !== url) changes.push('url');
                if (originalValues.keywords !== (editedData.keywords || '')) changes.push('keywords');
                if (originalValues.color !== (editedData.color || '')) changes.push('color');
                if (originalValues.infoHtml !== (editedData.infoHtml || '')) changes.push('info');
                if (originalValues.emoji !== (editedData.emoji || '')) changes.push('emoji');
                if (originalValues.shortcut !== (editedData.shortcut || '')) changes.push('shortcut');
                if (originalValues.urlPlaceholders !== JSON.stringify(editedData.urlPlaceholders || [])) changes.push('urlPlaceholders');
                if (originalValues.itemType !== itemType) changes.push('itemType');
                
                // Event-Log sync for shared groups with event-log enabled
                if (changes.length > 0 && parentGroup && parentGroup.useEventLog && this.eventLogManager) {
                  const changedData = {};
                  if (changes.includes('text')) changedData.text = editedData.text || '';
                  if (changes.includes('url')) changedData.url = url || '';
                  if (changes.includes('keywords')) changedData.keywords = editedData.keywords || '';
                  if (changes.includes('color')) changedData.color = editedData.color || '';
                  if (changes.includes('info')) changedData.infoHtml = this.sanitizeHtml(editedData.infoHtml || '');
                  if (changes.includes('emoji')) changedData.emoji = editedData.emoji || '';
                  if (changes.includes('shortcut')) changedData.shortcut = editedData.shortcut || '';
                  if (changes.includes('urlPlaceholders')) changedData.urlPlaceholders = editedData.urlPlaceholders || [];
                  if (changes.includes('itemType')) changedData.itemType = itemType;
                  changedData.lastModified = nowTs;

                  this.createAndApplyEvent(parentGroup, {
                    type: 'link-edit',
                    linkId: originalLink.uuid,
                    data: changedData
                  });
                }
                
                if (changes.length > 0 && parentGroup && (!parentGroup.useEventLog || !this.eventLogManager)) {
                  const event = {
                    type: 'link-edited',
                    ts: nowTs,
                    by: this.data.identity?.uuid || 'unknown',
                    linkId: originalLink.uuid,
                    text: `Edited link "${editedData.text || url}" (${changes.join(', ')})`
                  };
                  this.eventLogManager.addEvent(event, parentGroup);
                }
                
                // Save and sync
                this.saveData();
                
                // Sync to group members if this is a shared/synced group with proper topic/key
                try {
                  const sharing = window.sharing;
                  const canSyncGroup = sharing && parentGroup && parentGroup.shared && parentGroup.groupId && parentGroup.groupTopic && parentGroup.groupKey && !parentGroup.groupKey.startsWith('contact:');
                  if (canSyncGroup) {
                    const snapshot = {
                      action: 'update',
                      element: 'link',
                      group: this.serializeGroupMetaForSync(parentGroup),
                      link: this.serializeLinkForSync(originalLink),
                      ts: Date.now()
                    };
                    sharing.sendToGroup(parentGroup, snapshot);
                  }
                } catch {}
              },
              {
                parentGroupUuid: parentGroup?.uuid || '',
                parentGroupName: parentGroup?.name || ''
              }
            );
            if (options?.focusSection) {
              this.$nextTick(() => {
                this.focusGenericEditSection(options.focusSection, this.linkEditDesign);
              });
            }
          }
          this.hideMenus();
        },
        async saveLinkEditModal() {
          if (!this.editLink) return;
          let originalLink = null;
          let parentGroup = null;
          // Find the original link to update
          for (const group of this.data.groups) {
            originalLink = group.links.find(l => 
              this.editLink.uuid && l.uuid === this.editLink.uuid
            );
            if (originalLink) {
              parentGroup = group;
              break;
            }
          }
          // Normalize URL
          let url = MB.Utils.ensureProtocol(this.editLink.url || '');
          const editItemType = this.normalizeLinkItemType(this.editLink);
          if (this.isNonUrlItemType(editItemType)) url = '';

          if (originalLink) {
            if (!this.canEdit(parentGroup)) { alert(this.getTranslation('error.perm.edit')); return; }
            const previousUrl = (originalLink.url || '').trim();
            const previousRawUrlInput = (originalLink.rawUrlInput || '').trim();
            // Update existing link
            this.$set(originalLink, 'text', this.editLink.text.trim() || '');
            this.$set(originalLink, 'itemType', editItemType);
            this.$set(originalLink, 'url', url || ''); // Use empty string instead of null
            this.$set(originalLink, 'keywords', this.editLink.keywords?.trim() || '');
            this.$set(originalLink, 'shortcut', this.normalizeShortcutText(this.editLink.shortcut || ''));
            this.$set(originalLink, 'color', this.editLink.color || '');
            this.$set(originalLink, 'infoHtml', this.sanitizeHtml(this.editLink.infoHtml?.trim() || ''));
            this.normalizeLinkDataForItemType(originalLink, editItemType);
            // Update local timestamps for conflict resolution
            const nowTs = this.touchLink(originalLink);
            try {
              const nb = Object.assign({}, originalLink.ncBookmarks||{}, { localUpdatedAt: nowTs });
              // Do NOT update lastHash here; keep last synced signature as baseline
              this.$set(originalLink, 'ncBookmarks', nb);
              debugLog('log', '[NC SYNC] Marked local link edit', { id: nb.id, localUpdatedAt: nb.localUpdatedAt });
            } catch {}

            // Copy favicon from dialog state if present
            if (this.editLink.favicon) {
              this.$set(originalLink, 'favicon', this.editLink.favicon);
              this.$set(originalLink, 'faviconError', false);
            } else if (this.editLink.faviconError) {
              this.$set(originalLink, 'faviconError', true);
            }
            await this.refreshLinkFaviconAfterUrlChange(originalLink, previousUrl, previousRawUrlInput);
            // Update version for sync tracking
            this.touchGroup(parentGroup, nowTs);
            if (parentGroup.shared) {
              parentGroup.version = (parentGroup.version || 0) + 1;
              debugLog('log', '[SYNC] Updated group version after editing link', { groupId: parentGroup.groupId, version: parentGroup.version });
              
              // Event-log integration for edit
              debugLog('log', '[EVENT-LOG] Checking for event-log edit', {
                hasEventLog: !!parentGroup.eventLog,
                hasManager: !!this.eventLogManager,
                eventLogLength: parentGroup.eventLog?.length || 0
              });
              
              if (parentGroup.useEventLog && parentGroup.eventLog && this.eventLogManager) {
                // Capture what actually changed using stored original values
                const changes = {};
                const oldValues = {};
                
                // Use the stored original values, not the current link values
                const origValues = this.editLinkOriginalValues || {};
                
                const newText = this.editLink.text.trim() || '';
                const oldText = origValues.text || '';
                if (newText !== oldText) {
                  changes.text = newText;
                  oldValues.text = oldText;
                }
                
                const newUrl = url || '';
                const oldUrl = origValues.url || '';
                if (newUrl !== oldUrl) {
                  changes.url = newUrl;
                  oldValues.url = oldUrl;
                }
                
                const newKeywords = this.editLink.keywords?.trim() || '';
                const oldKeywords = origValues.keywords || '';
                if (newKeywords !== oldKeywords) {
                  changes.keywords = newKeywords;
                  oldValues.keywords = oldKeywords;
                }
                
                const newColor = this.editLink.color || '';
                const oldColor = origValues.color || '';
                // Only track color changes if it actually changed (not both empty/default)
                if (newColor !== oldColor && !((!newColor || newColor === 'default') && (!oldColor || oldColor === 'default'))) {
                  changes.color = newColor;
                  oldValues.color = oldColor;
                }
                
                const newInfo = this.sanitizeHtml(this.editLink.infoHtml?.trim() || '');
                const oldInfo = origValues.infoHtml || '';
                // Only track info changes if content actually changed
                if (newInfo !== oldInfo && !(newInfo === '' && oldInfo === '')) {
                  changes.infoHtml = newInfo;
                  oldValues.infoHtml = oldInfo;
                }
                
                // Only create event if something actually changed
                // Emoji change
                const newEmoji = (this.editLink.emoji || '').trim();
                const oldEmoji = (origValues.emoji || '').trim();
                if (newEmoji !== oldEmoji) {
                  changes.emoji = newEmoji;
                  oldValues.emoji = oldEmoji;
                }

                const newShortcut = this.normalizeShortcutText(this.editLink.shortcut || '');
                const oldShortcut = this.normalizeShortcutText(origValues.shortcut || '');
                if (newShortcut !== oldShortcut) {
                  changes.shortcut = newShortcut;
                  oldValues.shortcut = oldShortcut;
                }

                const newItemType = editItemType;
                const oldItemType = this.normalizeLinkItemType({ itemType: origValues.itemType || '', refTargetUuid: origValues.refTargetUuid || '' });
                if (newItemType !== oldItemType) {
                  changes.itemType = newItemType;
                  oldValues.itemType = oldItemType;
                }

                if (Object.keys(changes).length > 0) {
                  changes.lastModified = nowTs;
                  // Create and apply event using helper
                  this.createAndApplyEvent(parentGroup, {
                    type: 'link-edit',
                    linkId: originalLink.uuid,
                    data: changes  // Just the changes, not wrapped
                  });
                } // Close if (Object.keys(changes).length > 0)
              }
            }
            
            this.saveData();
            // Broadcast change to shared group (legacy sync only)
            try {
              if (parentGroup.shared && parentGroup.groupTopic && parentGroup.groupKey && !parentGroup.useEventLog) {
                const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
                const linkToShare = this.serializeLinkForSync(originalLink);
                debugLog('log', '[SYNC] Broadcasting edited link', { uuid: linkToShare.uuid, hasUrl: !!linkToShare.url, text: linkToShare.text });
                const env = { v:1, type:'share-links', ts:Date.now(), from, groupId: parentGroup.groupId||parentGroup.uuid, selection:{ groups:[], links:[linkToShare] }, mode:'merge', msgId:(Math.random().toString(36).slice(2)+Date.now()) };
                await sharing.sendToGroup(parentGroup, env);
              }
            } catch {}
          } else {
            // Create new link via dialog
            const targetGroup = (this.data.groups || []).find(g => g.uuid === this.pendingNewLinkGroupId);
            if (!targetGroup) { debugLog('warn', 'No target group for new link'); return; }
            if (!this.canAdd(targetGroup)) { alert(this.getTranslation('error.perm.add')); return; }
            const nowTs = Date.now();
            const itemType = this.normalizeLinkItemType(this.editLink);
            const newLink = {
              uuid: this.generateUUID(), // UUID is the only identifier
              itemType,
              text: this.editLink.text.trim(),
              url: this.isNonUrlItemType(itemType) ? '' : (url || ''),
              rawUrlInput: this.isNonUrlItemType(itemType) ? '' : (this.editLink.url || '').trim(),
              urlPlaceholders: this.isNonUrlItemType(itemType) ? [] : this.normalizePlaceholderList(this.editLink.urlPlaceholders || []),
              keywords: itemType === 'separator' ? '' : (this.editLink.keywords?.trim() || ''),
              shortcut: itemType === 'separator' ? '' : this.normalizeShortcutText(this.editLink.shortcut || ''),
              color: this.editLink.color || '',
              emoji: itemType === 'separator' ? '' : (this.editLink.emoji || ''),
              infoHtml: itemType === 'separator' ? '' : this.sanitizeHtml(this.editLink.infoHtml?.trim() || ''),
              index: (targetGroup.links && targetGroup.links.length ? Math.max(...targetGroup.links.map(l => l.index)) + 1 : 0),
              column: 0,
              favicon: this.editLink.favicon || null,
              faviconError: this.editLink.faviconError || false,
              editing: false,
              isMouseOver: false,
              createdAt: nowTs,
              lastModified: nowTs,
            };
            this.normalizeLinkDataForItemType(newLink, itemType);
            targetGroup.links.push(newLink);
            const linkTimestamp = this.touchLink(newLink, nowTs);
            this.touchGroup(targetGroup, linkTimestamp);

            // Always apply favicon rules; extension fetch stays gated inside tryFetchAndSetFavicon
            if (url && MB.Utils.isValidHttpUrl(url)) {
              await this.tryFetchAndSetFavicon(newLink, url, this.editLink?.url || url);
            }

            this.saveData();
            this.maybeAutoAdjustGroupHeightAfterLinkChange(targetGroup);

            // Update version for sync tracking (only for shared groups)
            if (targetGroup.shared) {
              targetGroup.version = (targetGroup.version || 0) + 1;
            }

            // Event-log integration for new link from dialog (for ALL groups with event-log)
            if (targetGroup.useEventLog && targetGroup.eventLog && this.eventLogManager) {
              const event = {
                type: 'link-add',
                data: {
                  linkId: newLink.uuid,
                  data: {
                    uuid: newLink.uuid,
                    text: newLink.text || '',
                    url: newLink.url || '',
                    rawUrlInput: newLink.rawUrlInput || '',
                    keywords: newLink.keywords || '',
                    shortcut: newLink.shortcut || '',
                    color: newLink.color || '',
                    emoji: newLink.emoji || '',
                    infoHtml: this.sanitizeHtml(newLink.infoHtml || ''),
                    itemType: newLink.itemType || 'link',
                    refTargetUuid: newLink.refTargetUuid || '',
                    inheritSourceKeywords: newLink.inheritSourceKeywords !== false,
                    urlPlaceholders: this.normalizePlaceholderList(newLink.urlPlaceholders || []),
                    column: newLink.column || 0,
                    index: newLink.index || 0,
                    createdAt: newLink.createdAt || linkTimestamp,
                    lastModified: newLink.lastModified || linkTimestamp
                  }
                },
                authorId: this.data.identity?.uuid,
                timestamp: Date.now()
              };

              debugLog('log', '[EVENT-LOG] Creating link-add event from dialog', event);

              // Apply event locally
              const added = this.eventLogManager.addEvent(event, targetGroup);
              debugLog('log', '[EVENT-LOG] Event added:', added, 'New event count:', targetGroup.eventLog?.length || 0);

              // Send event to all members (only for shared groups)
              if (targetGroup.shared) {
                const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
                const syncEvent = {
                  v: 1,
                  type: 'sync-event',
                  ts: Date.now(),
                  from,
                  groupId: targetGroup.groupId,
                  event: event,
                  msgId: (Math.random().toString(36).slice(2) + Date.now())
                };

                try {
                  await sharing.sendToGroup(targetGroup, syncEvent);
                  debugLog('log', '[EVENT-LOG] Sent link-add event to group members', {
                    groupId: targetGroup.groupId,
                    linkId: newLink.uuid
                  });
                } catch (error) {
                  debugLog('error', '[EVENT-LOG] Failed to send add event:', error);
                }
              }
            }
            
            // Broadcast to shared group (legacy only)
            try {
              if (targetGroup.shared && targetGroup.groupTopic && targetGroup.groupKey && !targetGroup.useEventLog) {
                const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
                const linkToShare = this.serializeLinkForSync(newLink);
                debugLog('log', '[SYNC] Broadcasting new link from dialog', { uuid: linkToShare.uuid, hasUrl: !!linkToShare.url, text: linkToShare.text });
                const env = { v:1, type:'share-links', ts:Date.now(), from, groupId: targetGroup.groupId||targetGroup.uuid, selection:{ groups:[], links:[linkToShare] }, mode:'merge', msgId:(Math.random().toString(36).slice(2)+Date.now()) };
                await sharing.sendToGroup(targetGroup, env);
              }
            } catch {}
          }
          // Close generic edit dialog if open
          const genModal = document.getElementById('genericEditModal');
          if (genModal) {
            const inst = bootstrap.Modal.getInstance(genModal);
            if (inst) inst.hide();
          }
          // Reset states
          this.linkModalVisible = false;
          this.editLink = null;
          this.editLinkOriginalValues = null;
          this.pendingNewLinkGroupId = null;
        },
        openAddLinkDialog(group, options = {}) {
          if (!group) return;
          if (!this.canAdd(group)) { alert(this.getTranslation('error.perm.add')); return; }
          const targetGroup = group;
          const initialItemType = this.normalizeLinkItemType({ itemType: options?.initialItemType || 'link' });
          const inheritedLinkRows = this.mergePlaceholderRowsForEditor([
            this.getGlobalPlaceholderList(),
            this.getGroupPlaceholderList(targetGroup)
          ]);
          const linkData = {
            itemType: initialItemType,
            text: '',
            url: '',
            urlPlaceholders: this.isNonUrlItemType(initialItemType) ? [] : this.buildPlaceholderRowsForTemplate('', [], inheritedLinkRows),
            keywords: '',
            shortcut: '',
            color: '',
            emoji: '',
            infoHtml: '',
            favicon: null,
            faviconError: false,
            faviconUrl: ''
          };
          const title = initialItemType === 'separator'
            ? (this.getTranslation('group.separator.add') || 'Add separator')
            : (initialItemType === 'note'
              ? (this.getTranslation('group.note.add') || this.getTranslation('group.link.add') || 'Add')
              : (this.getTranslation('group.link.add') || 'Add'));
          this.openGenericEditDialog(
            'link',
            linkData,
            this.linkEditDesign,
            title,
            async (edited) => {
              try {
                if (!this.canAdd(targetGroup)) { alert(this.getTranslation('error.perm.add')); return; }
                const itemType = this.normalizeLinkItemType(edited);
                const rawInput = this.isNonUrlItemType(itemType) ? '' : (edited.url || '').trim();
                const url = this.isNonUrlItemType(itemType) ? '' : MB.Utils.ensureProtocol(edited.url || '');
                const neighbors = (targetGroup.links || []).filter(l => l.column === 0).sort((a,b)=>a.index-b.index);
                const last = neighbors[neighbors.length - 1];
                const nowTs = Date.now();
                const newLink = {
                  uuid: this.generateUUID(),
                  itemType,
                  text: (edited.text || '').trim(),
                  url: url || '',
                  rawUrlInput: rawInput,
                  urlPlaceholders: this.isNonUrlItemType(itemType) ? [] : this.normalizePlaceholderList(edited.urlPlaceholders || []),
                  keywords: itemType === 'separator' ? '' : (edited.keywords || '').trim(),
                  shortcut: itemType === 'separator' ? '' : this.normalizeShortcutText(edited.shortcut || ''),
                  color: edited.color || '',
                  emoji: itemType === 'separator' ? '' : (edited.emoji || ''),
                  infoHtml: itemType === 'separator' ? '' : this.sanitizeHtml((edited.infoHtml || '').trim()),
                  index: last ? (last.index + 1) : 0,
                  column: 0,
                  favicon: null,
                  faviconError: false,
                  editing: false,
                  isMouseOver: false,
                  createdAt: nowTs,
                  lastModified: nowTs
                };
                this.normalizeLinkDataForItemType(newLink, itemType);
                if (!Array.isArray(targetGroup.links)) this.$set(targetGroup, 'links', []);
                targetGroup.links.push(newLink);
                const newLinkTs = this.touchLink(newLink, nowTs);
                this.touchGroup(targetGroup, newLinkTs);

                // Always apply favicon rules; extension fetch stays gated inside tryFetchAndSetFavicon
                if (!this.isNonUrlLink(newLink) && url) {
                  await this.tryFetchAndSetFavicon(newLink, url, rawInput);
                }

                this.saveData();
                this.maybeAutoAdjustGroupHeightAfterLinkChange(targetGroup);

                // Update version for sync tracking (only for shared groups)
                if (targetGroup.shared) {
                  targetGroup.version = (targetGroup.version || 0) + 1;
                }

                // Event-log integration (for ALL groups with event-log)
                if (targetGroup.useEventLog && targetGroup.eventLog && this.eventLogManager) {
                  const event = {
                    type: 'link-add',
                    data: { linkId: newLink.uuid, data: {
                      uuid: newLink.uuid,
                      text: newLink.text || '',
                      url: newLink.url || '',
                      rawUrlInput: newLink.rawUrlInput || '',
                      keywords: newLink.keywords || '',
                      shortcut: newLink.shortcut || '',
                      color: newLink.color || '',
                      emoji: newLink.emoji || '',
                      infoHtml: newLink.infoHtml || '',
                      itemType: newLink.itemType || 'link',
                      refTargetUuid: newLink.refTargetUuid || '',
                      inheritSourceKeywords: newLink.inheritSourceKeywords !== false,
                      urlPlaceholders: this.normalizePlaceholderList(newLink.urlPlaceholders || []),
                      column: newLink.column || 0,
                      index: newLink.index || 0,
                      createdAt: newLink.createdAt || newLinkTs,
                      lastModified: newLink.lastModified || newLinkTs
                    }},
                    authorId: this.data.identity?.uuid,
                    timestamp: Date.now()
                  };
                  this.eventLogManager.addEvent(event, targetGroup);
                  // Only send sync events for shared groups
                  if (targetGroup.shared) {
                    try {
                      const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
                      const syncEvent = MB.Sync.buildEnvelope(this, 'sync-event', { groupId: targetGroup.groupId, event });
                      await sharing.sendToGroup(targetGroup, syncEvent);
                    } catch (e) { debugLog('warn','[EVENT-LOG] send add failed', e); }
                  }
                }
                // Legacy share-links broadcast
                try {
                  if (targetGroup.shared && targetGroup.groupTopic && targetGroup.groupKey) {
                    const from = { uuid: this.data.identity?.uuid, name: this.data.identity?.name||'' };
                    const linkToShare = this.serializeLinkForSync(newLink);
                    const env = MB.Sync.buildEnvelope(this, 'share-links', { from, groupId: targetGroup.groupId||targetGroup.uuid, selection:{ groups:[], links:[linkToShare] }, mode:'merge' });
                    await sharing.sendToGroup(targetGroup, env);
                  }
                } catch {}
              } catch (e) {
                debugLog('error', '[ADD] failed', e);
              }
            },
            {
              parentGroupUuid: targetGroup?.uuid || '',
              parentGroupName: targetGroup?.name || ''
            }
          );
        },
        openAddSeparatorDialog(group) {
          this.openAddLinkDialog(group, { initialItemType: 'separator' });
        },
        openAddNoteDialog(group) {
          this.openAddLinkDialog(group, { initialItemType: 'note' });
        },
        async fetchMetadataForEditLink(force) {
          try {
            const url = (this.editLink?.url || '').trim();
            if (!url) return;
            this.metadataMessage = '';
            // Title
            if (force || (this.data.options?.links?.autoFetchTitle && (!this.editLink.text || this.editLink.text === this.editLink.url))) {
              this.titleFetchState = 'loading';
              const title = await this.tryFetchTitle(url);
              if (title) {
                this.editLink.text = title;
                this.titleFetchState = 'ok';
              } else {
                this.titleFetchState = 'fail';
              }
            }
            // Favicon
            if (this.data.options?.links?.autoFetchFavicon) {
              this.faviconFetchState = 'loading';
              try {
                await this.tryFetchAndSetFavicon(this.editLink, url);
                this.faviconFetchState = 'ok';
              } catch {
                this.faviconFetchState = 'fail';
              }
            }
          } catch (e) {
            this.metadataMessage = 'Metadata fetch failed';
            this.titleFetchState = this.titleFetchState === 'loading' ? 'fail' : this.titleFetchState;
            this.faviconFetchState = this.faviconFetchState === 'loading' ? 'fail' : this.faviconFetchState;
          }
        },
        isLikelyValidUrl(url) {
          if (!url) return false;
          const s = url.trim();
          // Allow schemes like http, https, ftp, smb, nfs, file, mailto, ws, wss
          const re = /^(?:([a-zA-Z][a-zA-Z0-9+.-]*):)(?:\/\/)?\S+$/;
          // Also allow mailto: with address
          const mail = /^mailto:\S+@\S+$/i;
          return re.test(s) || mail.test(s);
        },
        async tryFetchTitle(url) {
          if (!url) return null;

          // Only use extension for all web requests
          if (this.extensionAvailable) {
            try {
              const metadata = await MB.Extension.fetchMetadata(url);
              if (metadata.title) {
                debugLog('log', 'Extension fetched title:', metadata.title);
                return metadata.title;
              }
            } catch (e) {
              debugLog('warn', 'Extension title fetch failed:', e.message);
            }
          }

          // Fallback: derive a readable title from the hostname/path if extension not available
          try {
            const u = new URL(url);
            const host = (u.hostname || '').replace(/^www\./i, '');
            // Use last non-empty path segment if present
            const segs = (u.pathname || '').split('/').filter(Boolean);
            const last = segs.length ? segs[segs.length - 1] : '';
            const pretty = (s) => s.replace(/[-_]+/g, ' ').replace(/\s+/g, ' ').trim();
            return pretty(last || host) || host || url;
          } catch {
            return url;
          }
        },
        async tryFetchAndSetFavicon(link, url, rawInput = null) {
          if (!url) return;
          if (this.isNonUrlLink(link)) return;

          // 0) Apply favicon rules first (no network if match exists)
          const rawCandidate = rawInput != null ? rawInput : (link?.rawUrlInput ?? null);
          const normalizedRaw = rawCandidate != null ? String(rawCandidate).trim() : null;
          if (this.applyFaviconRulesToLink(link, null, normalizedRaw)) return;

          // Extension fetch is optional and controlled by autoFetchFavicon only
          if (!this.data.options?.links?.autoFetchFavicon) return;

          // 1) Use extension for all web requests
          if (this.extensionAvailable) {
            try {
              const metadata = await MB.Extension.fetchMetadata(url);

              if (metadata.favicon) {
                debugLog('log', 'Extension fetched favicon successfully');
                // Store base64 favicon directly
                this.$set(link, 'favicon', metadata.favicon);
                this.$set(link, 'faviconError', false);
                this.$set(link, 'faviconSource', 'extension');
                this.$set(link, 'faviconRuleId', null);
              } else {
                debugLog('warn', 'Extension could not fetch favicon');
                this.$set(link, 'faviconError', true);
              }
            } catch (e) {
              debugLog('warn', 'Extension favicon fetch failed:', e.message);
              this.$set(link, 'faviconError', true);
            }
          } else if (this.data.options?.links?.autoFetchFavicon) {
            // 2) Extension not available but option is enabled - mark as error
            debugLog('warn', 'Favicon fetch requested but extension not available');
            this.$set(link, 'faviconError', true);
          }
        },
        async refreshLinkFaviconAfterUrlChange(link, previousUrl = '', previousRawUrlInput = '') {
          try {
            if (!link || this.isNonUrlLink(link)) return;

            const nextUrl = (link.url || '').trim();
            const nextRaw = (link.rawUrlInput || '').trim();
            const prevUrl = (previousUrl || '').trim();
            const prevRaw = (previousRawUrlInput || '').trim();

            if (nextUrl === prevUrl && nextRaw === prevRaw) return;

            // Keep manual uploads untouched when URL changes.
            if (link.faviconSource === 'upload') return;

            this.$set(link, 'favicon', null);
            this.$set(link, 'faviconError', false);
            this.$set(link, 'faviconSource', null);
            this.$set(link, 'faviconRuleId', null);

            if (!nextUrl) return;
            await this.tryFetchAndSetFavicon(link, nextUrl, nextRaw || null);
          } catch (err) {
            debugLog('warn', '[FaviconRules] refreshLinkFaviconAfterUrlChange failed', err);
          }
        },
        
        // Link detail popover helpers
        shouldShowLinkPopover() {
          const linksOptions = this.data?.options?.links;
          return linksOptions?.showLinkPopover !== false
            && !this.dragState
            && !this.externalLinkDragActive;
        },
        normalizeTimestampValue(value) {
          if (value === null || value === undefined) return null;
          if (value instanceof Date) return value.getTime();
          if (typeof value === 'number' && Number.isFinite(value)) return value;
          if (typeof value === 'string') {
            const trimmed = value.trim();
            if (!trimmed) return null;
            const numeric = Number(trimmed);
            if (!Number.isNaN(numeric) && Number.isFinite(numeric)) return numeric;
            const parsed = Date.parse(trimmed);
            if (!Number.isNaN(parsed)) return parsed;
          }
          return null;
        },
        isReferenceLink(link) {
          return !!(link && typeof link === 'object' && link.refTargetUuid);
        },
        normalizeLinkItemType(linkLike) {
          const source = (linkLike && typeof linkLike === 'object') ? linkLike : {};
          const rawType = String(source.itemType || '').trim().toLowerCase();
          if (rawType === 'separator') return 'separator';
          if (rawType === 'note') return 'note';
          if (rawType === 'ref') return 'ref';
          if (source.refTargetUuid) return 'ref';
          return 'link';
        },
        isSeparatorLink(link) {
          return this.normalizeLinkItemType(link) === 'separator';
        },
        isNoteLink(link) {
          return this.normalizeLinkItemType(link) === 'note';
        },
        isNonUrlItemType(itemType, refTargetUuid = '') {
          const normalized = this.normalizeLinkItemType({ itemType, refTargetUuid });
          return normalized === 'separator' || normalized === 'note';
        },
        isNonUrlLink(link) {
          const source = (link && typeof link === 'object') ? link : { itemType: link };
          return this.isNonUrlItemType(source.itemType || '', source.refTargetUuid || '');
        },
        getGroupLinkCount(group) {
          const links = Array.isArray(group?.links) ? group.links : [];
          return links.filter(link => !this.isSeparatorLink(link)).length;
        },
        normalizeLinkDataForItemType(linkObj, fallbackType = 'link') {
          const target = (linkObj && typeof linkObj === 'object') ? linkObj : {};
          const normalizedType = this.normalizeLinkItemType({ itemType: target.itemType || fallbackType, refTargetUuid: target.refTargetUuid || '' });
          target.itemType = normalizedType;
          if (normalizedType === 'separator') {
            target.refTargetUuid = '';
            target.inheritSourceKeywords = true;
            target.url = '';
            target.rawUrlInput = '';
            target.urlPlaceholders = [];
            target.keywords = '';
            target.shortcut = '';
            target.emoji = '';
            target.infoHtml = '';
            target.favicon = null;
            target.faviconError = false;
            target.faviconSource = null;
            target.faviconRuleId = null;
          } else if (normalizedType === 'note') {
            target.refTargetUuid = '';
            target.inheritSourceKeywords = true;
            target.url = '';
            target.rawUrlInput = '';
            target.urlPlaceholders = [];
            target.shortcut = '';
            target.favicon = null;
            target.faviconError = false;
            target.faviconSource = null;
            target.faviconRuleId = null;
            target.itemType = 'note';
          } else {
            target.urlPlaceholders = this.normalizePlaceholderList(target.urlPlaceholders || []);
            if (normalizedType === 'ref' || target.refTargetUuid) {
              target.itemType = 'ref';
            } else {
              target.refTargetUuid = '';
              target.itemType = 'link';
            }
          }
          return target;
        },
        findGroupContainingLinkUuid(linkUuid) {
          if (!linkUuid) return null;
          return (this.data.groups || []).find(g => Array.isArray(g.links) && g.links.some(l => l.uuid === linkUuid)) || null;
        },
        findLinkByUuid(linkUuid) {
          if (!linkUuid) return null;
          const group = this.findGroupContainingLinkUuid(linkUuid);
          if (!group) return null;
          return group.links.find(l => l.uuid === linkUuid) || null;
        },
        countReferenceLinksTo(linkUuid) {
          if (!linkUuid) return 0;
          let count = 0;
          (this.data.groups || []).forEach(group => {
            (group.links || []).forEach(link => {
              if (link && link.refTargetUuid === linkUuid) count += 1;
            });
          });
          return count;
        },
        getReferenceSourceLink(link, maxDepth = 12) {
          if (!this.isReferenceLink(link)) return null;
          const visited = new Set();
          if (link.uuid) visited.add(link.uuid);
          let currentUuid = link.refTargetUuid;
          let source = null;
          let depth = 0;
          while (currentUuid && depth < maxDepth) {
            if (visited.has(currentUuid)) break;
            visited.add(currentUuid);
            const target = this.findLinkByUuid(currentUuid);
            if (!target) break;
            source = target;
            if (!this.isReferenceLink(target)) return target;
            currentUuid = target.refTargetUuid;
            depth += 1;
          }
          return source;
        },
        getEffectiveLink(link) {
          if (!link) return null;
          if (this.isSeparatorLink(link)) return link;
          const source = this.getReferenceSourceLink(link);
          return source || link;
        },
        normalizePlaceholderName(name) {
          return String(name === undefined || name === null ? '' : name).trim();
        },
        placeholderNameKey(name) {
          return this.normalizePlaceholderName(name).toLowerCase();
        },
        normalizePlaceholderList(rows) {
          const list = Array.isArray(rows) ? rows : [];
          const normalized = [];
          const indexByKey = new Map();
          list.forEach((row) => {
            const normalizedName = this.normalizePlaceholderName(row?.name);
            if (!normalizedName) return;
            const key = this.placeholderNameKey(normalizedName);
            if (!key) return;
            const nextRow = {
              name: normalizedName,
              value: row?.value === undefined || row?.value === null ? '' : String(row.value),
              encode: !!row?.encode
            };
            if (indexByKey.has(key)) {
              normalized[indexByKey.get(key)] = nextRow;
            } else {
              indexByKey.set(key, normalized.length);
              normalized.push(nextRow);
            }
          });
          return normalized;
        },
        extractUrlPlaceholderNames(urlTemplate) {
          const template = (typeof urlTemplate === 'string') ? urlTemplate : '';
          if (!template) return [];
          const regex = /\{\{([^{}]+)\}\}/g;
          const names = [];
          const seen = new Set();
          let match = null;
          while ((match = regex.exec(template)) !== null) {
            const normalizedName = this.normalizePlaceholderName(match[1]);
            const key = this.placeholderNameKey(normalizedName);
            if (!normalizedName || seen.has(key)) continue;
            seen.add(key);
            names.push(normalizedName);
          }
          return names;
        },
        mergePlaceholderRowsForEditor(layers) {
          const merged = new Map();
          (Array.isArray(layers) ? layers : []).forEach((layer) => {
            this.normalizePlaceholderList(layer).forEach((entry) => {
              const key = this.placeholderNameKey(entry.name);
              if (!key) return;
              const value = (entry.value === undefined || entry.value === null) ? '' : String(entry.value);
              const existing = merged.get(key);
              const nextRow = {
                name: this.normalizePlaceholderName(entry.name),
                value,
                encode: !!entry.encode
              };
              if (!existing) {
                merged.set(key, nextRow);
                return;
              }
              // Empty values should not override an existing non-empty inherited value.
              if (value.trim() || !String(existing.value || '').trim()) {
                merged.set(key, nextRow);
              }
            });
          });
          return Array.from(merged.values());
        },
        buildPlaceholderRowsForTemplate(urlTemplate, scopedRows, inheritedRows = []) {
          const templateNames = this.extractUrlPlaceholderNames(urlTemplate);
          const scoped = this.normalizePlaceholderList(scopedRows || []);
          const inherited = this.normalizePlaceholderList(inheritedRows || []);
          const scopedByKey = new Map(scoped.map(row => [this.placeholderNameKey(row.name), row]));
          const orderedNames = [];
          const seenKeys = new Set();
          const addName = (rawName) => {
            const normalizedName = this.normalizePlaceholderName(rawName);
            const key = this.placeholderNameKey(normalizedName);
            if (!normalizedName || seenKeys.has(key)) return;
            seenKeys.add(key);
            orderedNames.push(normalizedName);
          };

          templateNames.forEach(addName);
          inherited.forEach((row) => addName(row.name));
          scoped.forEach((row) => addName(row.name));

          return orderedNames.map((name) => {
            const key = this.placeholderNameKey(name);
            const existing = scopedByKey.get(key);
            return existing
              ? { name: existing.name || name, value: existing.value || '', encode: !!existing.encode }
              : { name, value: '', encode: false };
          });
        },
        getGlobalPlaceholderList(overrideRows = null) {
          const source = overrideRows !== null ? overrideRows : (this.data?.options?.links?.globalPlaceholders || []);
          return this.normalizePlaceholderList(source);
        },
        getGroupPlaceholderList(group, overrideRows = null) {
          const source = overrideRows !== null ? overrideRows : (group?.urlPlaceholders || []);
          return this.normalizePlaceholderList(source);
        },
        getLinkPlaceholderList(link, overrideRows = null) {
          const source = overrideRows !== null ? overrideRows : (link?.urlPlaceholders || []);
          return this.normalizePlaceholderList(source);
        },
        mergePlaceholderLayers(layers) {
          const merged = new Map();
          (Array.isArray(layers) ? layers : []).forEach((layer) => {
            this.normalizePlaceholderList(layer).forEach((entry) => {
              const key = this.placeholderNameKey(entry.name);
              if (!key) return;
              const value = (entry.value === undefined || entry.value === null) ? '' : String(entry.value);
              // Empty = not set -> do not override lower layers
              if (!value.trim()) return;
              merged.set(key, {
                name: this.normalizePlaceholderName(entry.name),
                value,
                encode: !!entry.encode
              });
            });
          });
          return merged;
        },
        resolveUrlTemplatePlaceholders(urlTemplate, placeholderMap) {
          const template = (typeof urlTemplate === 'string') ? urlTemplate : '';
          if (!template) return { url: '', unresolved: [] };

          const unresolved = [];
          const unresolvedKeys = new Set();
          const regex = /\{\{([^{}]+)\}\}/g;
          const url = template.replace(regex, (fullMatch, rawName) => {
            const name = this.normalizePlaceholderName(rawName);
            const key = this.placeholderNameKey(name);
            if (!key) return '';
            const entry = (placeholderMap instanceof Map) ? placeholderMap.get(key) : null;
            if (!entry || !String(entry.value || '').trim()) {
              if (!unresolvedKeys.has(key)) {
                unresolvedKeys.add(key);
                unresolved.push(name);
              }
              return '';
            }
            const value = String(entry.value);
            return entry.encode ? encodeURIComponent(value) : value;
          });

          return { url, unresolved };
        },
        getEffectiveLinkUrlTemplate(link) {
          if (!link) return '';
          if (this.isNonUrlLink(link)) return '';
          if (this.isReferenceLink(link)) {
            const source = this.getReferenceSourceLink(link);
            if (source && typeof source.url === 'string') return source.url;
            return (typeof link.url === 'string') ? link.url : '';
          }
          return (typeof link.url === 'string') ? link.url : '';
        },
        getEffectiveLinkUrlDetails(link, overrides = {}) {
          if (!link) return { url: '', unresolved: [], template: '' };
          if (this.isNonUrlLink(link)) return { url: '', unresolved: [], template: '' };
          const template = this.getEffectiveLinkUrlTemplate(link);
          if (!template || template.indexOf('{{') === -1) {
            return { url: template || '', unresolved: [], template: template || '' };
          }
          const globalRows = this.getGlobalPlaceholderList(overrides.globalRows ?? null);

          if (this.isReferenceLink(link)) {
            const sourceLink = this.getReferenceSourceLink(link);
            const refGroup = this.findGroupContainingLinkUuid(link.uuid);
            const refGroupRows = this.getGroupPlaceholderList(refGroup, overrides.refGroupRows ?? null);
            const sourceLinkRows = this.getLinkPlaceholderList(sourceLink, overrides.sourceLinkRows ?? null);
            const refLinkRows = this.getLinkPlaceholderList(link, overrides.refLinkRows ?? null);
            const merged = this.mergePlaceholderLayers([globalRows, refGroupRows, sourceLinkRows, refLinkRows]);
            const resolved = this.resolveUrlTemplatePlaceholders(template, merged);
            return { ...resolved, template };
          }

          const group = this.findGroupContainingLinkUuid(link.uuid);
          const groupRows = this.getGroupPlaceholderList(group, overrides.groupRows ?? null);
          const linkRows = this.getLinkPlaceholderList(link, overrides.linkRows ?? null);
          const merged = this.mergePlaceholderLayers([globalRows, groupRows, linkRows]);
          const resolved = this.resolveUrlTemplatePlaceholders(template, merged);
          return { ...resolved, template };
        },
        getEffectiveLinkText(link) {
          if (!link) return '';
          if (this.isSeparatorLink(link)) return (typeof link.text === 'string') ? link.text : '';
          if (this.isReferenceLink(link)) {
            const alias = typeof link.text === 'string' ? link.text : '';
            if (alias.trim()) return alias;
          }
          const base = this.getEffectiveLink(link);
          const text = typeof base?.text === 'string' ? base.text : '';
          if (text.trim()) return text;
          const url = typeof base?.url === 'string' ? base.url : '';
          return url || '';
        },
        getEffectiveLinkUrl(link) {
          return this.getEffectiveLinkUrlDetails(link).url || '';
        },
        getEffectiveLinkKeywords(link) {
          if (!link) return '';
          if (this.isSeparatorLink(link)) return '';
          const localKeywords = (typeof link.keywords === 'string') ? link.keywords : '';
          if (!this.isReferenceLink(link)) return localKeywords;

          const inheritSourceKeywords = link.inheritSourceKeywords !== false;
          if (!inheritSourceKeywords) return localKeywords;

          const source = this.getReferenceSourceLink(link);
          const sourceKeywords = (typeof source?.keywords === 'string') ? source.keywords : '';
          if (!sourceKeywords) return localKeywords;
          if (!localKeywords) return sourceKeywords;

          return this.joinKeywords([
            ...this.parseKeywords(sourceKeywords),
            ...this.parseKeywords(localKeywords)
          ]);
        },
        getEffectiveLinkInfoHtml(link) {
          if (this.isSeparatorLink(link)) return '';
          const base = this.getEffectiveLink(link);
          return (base && typeof base.infoHtml === 'string') ? base.infoHtml : '';
        },
        getEffectiveLinkEmoji(link) {
          if (this.isSeparatorLink(link)) return '';
          const base = this.getEffectiveLink(link);
          return (base && typeof base.emoji === 'string') ? base.emoji : '';
        },
        getEffectiveLinkFavicon(link) {
          if (this.isSeparatorLink(link)) return '';
          const base = this.getEffectiveLink(link);
          return (base && typeof base.favicon === 'string') ? base.favicon : '';
        },
        getEffectiveLinkFaviconError(link) {
          if (this.isSeparatorLink(link)) return false;
          const base = this.getEffectiveLink(link);
          return !!base?.faviconError;
        },
        getEffectiveLinkRawUrlInput(link) {
          if (this.isSeparatorLink(link)) return '';
          const base = this.getEffectiveLink(link);
          return (base && typeof base.rawUrlInput === 'string') ? base.rawUrlInput : '';
        },
        getReferenceMarkerTitle(link) {
          if (!this.isReferenceLink(link)) return '';
          const source = this.getReferenceSourceLink(link);
          if (!source) return this.getTranslation('link.ref.missing') || 'Reference link (original missing)';
          const sourceTitle = this.getLinkDisplayTitle(source);
          return (this.getTranslation('link.ref.markerTitle') || 'Reference link') + `: ${sourceTitle}`;
        },
        getLinkDisplayTitle(link) {
          if (!link) return '';
          const text = this.getEffectiveLinkText(link).trim();
          if (text) return text;
          if (this.isSeparatorLink(link)) return this.getTranslation('link.separator.defaultLabel') || 'Separator';
          if (this.isNoteLink(link)) return this.getTranslation('link.note.defaultLabel') || 'Note';

          const url = (this.getEffectiveLinkUrl(link) || '').trim();
          if (!url) return this.getTranslation('link.popover.untitled') || 'Untitled link';

          try {
            const parsed = new URL(url);
            const host = (parsed.hostname || '').replace(/^www\./i, '');
            const segments = (parsed.pathname || '').split('/').filter(Boolean);
            const lastSegment = segments.length ? segments[segments.length - 1] : '';
            const candidate = lastSegment || host;
            if (!candidate) return url;
            return candidate.replace(/[-_]+/g, ' ');
          } catch {
            return url;
          }
        },
        buildLinkDisplayUrl(url) {
          if (!url) return '';
          try {
            const parsed = new URL(url);
            const host = (parsed.hostname || '').replace(/^www\./i, '');
            let display = host;
            if (parsed.pathname && parsed.pathname !== '/') display += parsed.pathname;
            if (parsed.search) display += parsed.search;
            if (display.length > 80) display = display.slice(0, 77) + '';
            return display;
          } catch {
            return url.length > 80 ? url.slice(0, 77) + '' : url;
          }
        },
        formatPopoverTimestamp(value) {
          const notAvailable = this.getTranslation('link.popover.notAvailable') || '';
          const normalized = this.normalizeTimestampValue(value);
          if (normalized === null) {
            return { full: notAvailable, relative: '', raw: null };
          }

          const locale = (this.data?.options?.common?.language || navigator.language || 'en').toString();
          let full = '';
          try {
            full = new Intl.DateTimeFormat(locale, { dateStyle: 'medium', timeStyle: 'medium' }).format(new Date(normalized));
          } catch {
            try {
              full = new Date(normalized).toLocaleString();
            } catch {
              full = String(normalized);
            }
          }

          let relative = '';
          if (typeof Intl !== 'undefined' && typeof Intl.RelativeTimeFormat === 'function') {
            try {
              const diffSeconds = Math.round((normalized - Date.now()) / 1000);
              const absSeconds = Math.abs(diffSeconds);
              const units = [
                { unit: 'year', value: 31557600 },
                { unit: 'month', value: 2629800 },
                { unit: 'week', value: 604800 },
                { unit: 'day', value: 86400 },
                { unit: 'hour', value: 3600 },
                { unit: 'minute', value: 60 }
              ];
              let selectedUnit = 'second';
              let divisor = 1;
              for (const entry of units) {
                if (absSeconds >= entry.value) {
                  selectedUnit = entry.unit;
                  divisor = entry.value;
                  break;
                }
              }
              const formatter = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });
              const valueInUnit = selectedUnit === 'second'
                ? diffSeconds
                : Math.round(diffSeconds / divisor);
              relative = formatter.format(valueInUnit, selectedUnit);
            } catch {}
          }

          return { full, relative, raw: normalized };
        },
        getPopoverFavicon(link) {
          if (!link) return '';
          if (this.data?.options?.links?.allowExternalFaviconService === false) {
            return '';
          }
          const effectiveFavicon = this.getEffectiveLinkFavicon(link);
          if (effectiveFavicon) return effectiveFavicon;

          const utils = (typeof MB !== 'undefined' && MB && MB.Utils) ? MB.Utils : null;
          const rawUrl = this.getEffectiveLinkUrl(link) || '';
          const ensuredUrl = utils?.ensureProtocol ? utils.ensureProtocol(rawUrl) : rawUrl;
          const isValid = utils?.isValidHttpUrl ? utils.isValidHttpUrl(ensuredUrl) : /^https?:\/\//i.test(ensuredUrl);
          if (!isValid) {
            return '';
          }

          try {
            const parsed = new URL(ensuredUrl);
            const domainParam = encodeURIComponent(parsed.origin || parsed.href);
            return `https://www.google.com/s2/favicons?sz=64&domain_url=${domainParam}`;
          } catch {
            return '';
          }
        },
        showLinkPopover(event, link) {
          try {
            if (!this.shouldShowLinkPopover()) {
              this.hideLinkPopover();
              return;
            }
            if (!link || link.editing || this.isSeparatorLink(link)) {
              this.hideLinkPopover();
              return;
            }

            if (this.linkPopoverHideTimer) {
              clearTimeout(this.linkPopoverHideTimer);
              this.linkPopoverHideTimer = null;
            }

            const isPointerCoarse = window.matchMedia && window.matchMedia('(pointer: coarse)').matches;
            if (isPointerCoarse && event?.type !== 'focusin') return;

            const target = event?.currentTarget || (event?.target && typeof event.target.closest === 'function'
              ? event.target.closest('.linkContainerListItem')
              : null);
            if (!target) return;

            const popover = this.linkPopover;
            popover.link = link;
            popover.url = this.getEffectiveLinkUrl(link) || '';
            popover.displayUrl = this.buildLinkDisplayUrl(this.getEffectiveLinkUrl(link) || '');
            popover.titleHtml = this.sanitizeInlineNoAnchor(this.getLinkDisplayTitle(link));
            popover.rawUrlInput = this.getEffectiveLinkRawUrlInput(link) || '';
            popover.favicon = this.getPopoverFavicon(link);
            let needsSave = false;
            let createdDisplay = this.formatPopoverTimestamp(link.createdAt);
            if (createdDisplay.raw === null) {
              const fallbackCreated = this.touchLink(link);
              createdDisplay = this.formatPopoverTimestamp(fallbackCreated);
              needsSave = true;
            }

            let updatedDisplay = this.formatPopoverTimestamp(link.lastModified ?? link.updatedAt ?? link.modifiedAt ?? null);
            if (updatedDisplay.raw === null) {
              const fallbackUpdated = this.touchLink(link);
              updatedDisplay = this.formatPopoverTimestamp(fallbackUpdated);
              needsSave = true;
            }

            if (createdDisplay.raw && updatedDisplay.raw && updatedDisplay.raw < createdDisplay.raw) {
              updatedDisplay = createdDisplay;
            }

            popover.createdAt = createdDisplay;
            popover.updatedAt = updatedDisplay;
            if (needsSave) {
              const parentGroup = (this.data.groups || []).find(g => Array.isArray(g.links) && g.links.includes(link));
              const referenceTs = updatedDisplay.raw || createdDisplay.raw;
              if (parentGroup && referenceTs) {
                this.touchGroup(parentGroup, referenceTs);
              }
              this.saveData();
            }
            popover.keywords = this.parseKeywords(this.getEffectiveLinkKeywords(link));
            popover.emoji = (this.getEffectiveLinkEmoji(link) || '').trim();
            popover.uuid = link.uuid || '';

            const rect = target.getBoundingClientRect();
            const viewportWidth = window.innerWidth || document.documentElement.clientWidth;
            const viewportHeight = window.innerHeight || document.documentElement.clientHeight;
            const margin = 16;
            const widthHint = 320;

            let left = rect.right + margin;
            let top = rect.top;

            if (left + widthHint > viewportWidth - margin) {
              left = rect.left - widthHint - margin;
            }
            if (left < margin) left = Math.max(margin, rect.left);
            if (top < margin) top = margin;

            popover.style = {
              top: `${top}px`,
              left: `${left}px`
            };
            popover.visible = true;

            this.$nextTick(() => {
              const el = document.querySelector('.link-detail-popover');
              if (!el) return;
              const popRect = el.getBoundingClientRect();
              let adjustedLeft = popRect.left;
              let adjustedTop = popRect.top;

              if (popRect.right > viewportWidth - margin) {
                adjustedLeft = Math.max(margin, viewportWidth - popRect.width - margin);
              }
              if (popRect.left < margin) {
                adjustedLeft = margin;
              }
              if (popRect.bottom > viewportHeight - margin) {
                adjustedTop = Math.max(margin, viewportHeight - popRect.height - margin);
              }
              if (popRect.top < margin) {
                adjustedTop = margin;
              }

              if (adjustedLeft !== popRect.left || adjustedTop !== popRect.top) {
                this.linkPopover.style = {
                  top: `${adjustedTop}px`,
                  left: `${adjustedLeft}px`
                };
              }
            });
          } catch (e) {
            debugLog('warn', '[POPOVER] Failed to show link popover', e);
          }
        },
        queueHideLinkPopover() {
          if (this.linkPopoverHideTimer) {
            clearTimeout(this.linkPopoverHideTimer);
          }
          this.linkPopoverHideTimer = setTimeout(() => {
            this.hideLinkPopover();
          }, 150);
        },
        cancelHideLinkPopover() {
          if (this.linkPopoverHideTimer) {
            clearTimeout(this.linkPopoverHideTimer);
            this.linkPopoverHideTimer = null;
          }
        },
        hideLinkPopover() {
          this.cancelHideLinkPopover();
          if (this.linkPopover.visible) {
            this.linkPopover.visible = false;
            this.linkPopover.link = null;
          }
        },
        touchGroup(group, timestamp = Date.now()) {
          if (!group) return;
          const normalized = this.normalizeTimestampValue(timestamp);
          const ts = normalized ?? Date.now();
          const created = this.normalizeTimestampValue(group.createdAt) ?? ts;
          this.$set(group, 'createdAt', created);
          this.$set(group, 'lastModified', ts);
          return ts;
        },
        touchLink(link, timestamp = Date.now()) {
          if (!link) return Date.now();
          const normalized = this.normalizeTimestampValue(timestamp);
          const ts = normalized ?? Date.now();
          const created = this.normalizeTimestampValue(link.createdAt) ?? ts;
          this.$set(link, 'createdAt', created);
          this.$set(link, 'lastModified', ts);
          return ts;
        },
        ensureAllTimestamps() {
          const now = Date.now();
          let updated = false;
          (this.data.groups || []).forEach(group => {
            const groupCreated = this.normalizeTimestampValue(group.createdAt);
            const groupModified = this.normalizeTimestampValue(group.lastModified);
            if (groupCreated === null) {
              this.$set(group, 'createdAt', now);
              updated = true;
            } else if (group.createdAt !== groupCreated) {
              this.$set(group, 'createdAt', groupCreated);
            }
            if (groupModified === null) {
              this.$set(group, 'lastModified', groupCreated ?? now);
              updated = true;
            } else if (group.lastModified !== groupModified) {
              this.$set(group, 'lastModified', groupModified);
            }
            (group.links || []).forEach(link => {
              const linkCreated = this.normalizeTimestampValue(link.createdAt);
              const linkModified = this.normalizeTimestampValue(link.lastModified);
              if (linkCreated === null) {
                this.$set(link, 'createdAt', now);
                updated = true;
              } else if (link.createdAt !== linkCreated) {
                this.$set(link, 'createdAt', linkCreated);
              }
              if (linkModified === null) {
                this.$set(link, 'lastModified', linkCreated ?? now);
                updated = true;
              } else if (link.lastModified !== linkModified) {
                this.$set(link, 'lastModified', linkModified);
              }
            });
          });
          return updated;
        },
        
        // Info popup methods
        showInfoPopup(event, htmlContent) {
          if (this.infoPopupTimer) {
            clearTimeout(this.infoPopupTimer);
          }
          
          this.infoPopupContent = this.sanitizeHtml(String(htmlContent || ''));
          const popup = document.getElementById('infoPopup');
          if (!popup) return;
          
          popup.classList.add('show');
          
          // Position the popup near the cursor
          const rect = event.target.getBoundingClientRect();
          const popupWidth = 400; // max-width from CSS
          const popupHeight = 300; // max-height from CSS
          
          let left = rect.right + 10;
          let top = rect.top;
          
          // Adjust if popup would go off screen
          if (left + popupWidth > window.innerWidth) {
            left = rect.left - popupWidth - 10;
          }
          if (top + popupHeight > window.innerHeight) {
            top = window.innerHeight - popupHeight - 10;
          }
          
          popup.style.left = left + 'px';
          popup.style.top = top + 'px';
        },
        
        hideInfoPopup() {
          // Add a small delay to prevent flickering when moving between elements
          this.infoPopupTimer = setTimeout(() => {
            const popup = document.getElementById('infoPopup');
            if (popup) {
              popup.classList.remove('show');
              this.infoPopupContent = '';
            }
          }, 200);
        },
        
        toggleGroupInfo(group) {
          this.$set(group, 'infoExpanded', !group.infoExpanded);
        },
        
        // Helper methods for JSON serialization to avoid redundancy
        serializeLinkForSync(link) {
          const safe = link || {};
          const normalized = this.normalizeLinkDataForItemType(Object.assign({}, safe), this.normalizeLinkItemType(safe));
          const payload = {
            uuid: normalized.uuid || '',
            itemType: normalized.itemType || 'link',
            text: normalized.text || normalized.url || '',
            url: normalized.url || '',
            rawUrlInput: normalized.rawUrlInput || '',
            keywords: normalized.keywords || '',
            emoji: normalized.emoji || '',
            shortcut: normalized.shortcut || '',
            infoHtml: normalized.infoHtml || '',
            color: normalized.color || '',
            refTargetUuid: normalized.refTargetUuid || '',
            inheritSourceKeywords: normalized.inheritSourceKeywords !== false,
            urlPlaceholders: this.normalizePlaceholderList(normalized.urlPlaceholders || []),
            column: normalized.column || 0,
            index: typeof normalized.index === 'number' ? normalized.index : 0
          };
          const createdAt = this.normalizeTimestampValue(normalized.createdAt);
          const lastModified = this.normalizeTimestampValue(normalized.lastModified ?? normalized.updatedAt ?? normalized.modifiedAt ?? null);
          if (createdAt !== null) payload.createdAt = createdAt;
          if (lastModified !== null) payload.lastModified = lastModified;
          return payload;
        },
        
        serializeGroupMetaForSync(group) {
          return {
            name: group.name || '',
            emoji: group.emoji || '',
            shortcut: group.shortcut || '',
            color: group.color || '',
            favicon: group.favicon || '',
            faviconSource: group.faviconSource || null,
            faviconRuleId: group.faviconRuleId || null,
            infoHtml: group.infoHtml || '',
            urlPlaceholders: this.normalizePlaceholderList(group.urlPlaceholders || []),
            linkedCollapseGroupUuids: this.normalizeLinkedCollapseGroupUuidList(group.linkedCollapseGroupUuids || [], group.uuid || ''),
            linkedCollapseOnCloseGroupUuids: this.normalizeLinkedCollapseGroupUuidList(group.linkedCollapseOnCloseGroupUuids || [], group.uuid || '')
          };
        },
        
        serializeGroupForSync(group) {
          return {
            ...this.serializeGroupMetaForSync(group),
            groupId: group.groupId || group.uuid,
            links: (group.links || []).map(l => this.serializeLinkForSync(l)),
            version: group.version || 0,  // CRITICAL: Always include version for sync
            // Include event-log data if available
            useEventLog: group.useEventLog || false,
            eventLog: group.eventLog || [],
            snapshot: group.snapshot || null,
            headEventId: group.headEventId || null,
            vectorClock: group.vectorClock || {}
          };
        },
        // Innerhalb von methods: { ... } der Vue-Instanz 'app'
        showGroupEditModal(group, options = {}) {
          const originalGroup = this.data.groups.find(g => g.uuid === group.uuid);
          if (originalGroup) {
            // Prepare group data with defaults
            const groupData = JSON.parse(JSON.stringify(originalGroup));
            // Ensure prefs structure exists
            if (!groupData.prefs) groupData.prefs = { inbound: { perMember: {} } };
            if (!groupData.prefs.inbound) groupData.prefs.inbound = { perMember: {} };
            if (!groupData.prefs.inbound.perMember) groupData.prefs.inbound.perMember = {};
            if (groupData.emoji === undefined) groupData.emoji = '';
            if (groupData.keywords === undefined) groupData.keywords = '';
            if (groupData.shortcut === undefined) groupData.shortcut = '';
            if (groupData.linkedCollapseGroupUuids === undefined) groupData.linkedCollapseGroupUuids = [];
            if (groupData.linkedCollapseOnCloseGroupUuids === undefined) groupData.linkedCollapseOnCloseGroupUuids = [];
            if (groupData.manualHeightResizeOverride === undefined) groupData.manualHeightResizeOverride = false;
            if (groupData.color === undefined) groupData.color = '';
            if (groupData.titleFormatting === undefined) groupData.titleFormatting = '';
            if (groupData.linkColor === undefined) groupData.linkColor = '';
            if (groupData.infoHtml === undefined) groupData.infoHtml = '';
            if (groupData.favicon === undefined) groupData.favicon = '';
            if (groupData.faviconError === undefined) groupData.faviconError = false;
            if (groupData.faviconLoading === undefined) groupData.faviconLoading = false;
            if (groupData.faviconSource === undefined) groupData.faviconSource = null;
            if (groupData.faviconRuleId === undefined) groupData.faviconRuleId = null;
            groupData.linkedCollapseGroupUuids = this.normalizeLinkedCollapseGroupUuidList(groupData.linkedCollapseGroupUuids || [], groupData.uuid || '');
            groupData.linkedCollapseOnCloseGroupUuids = this.normalizeLinkedCollapseGroupUuidList(groupData.linkedCollapseOnCloseGroupUuids || [], groupData.uuid || '');
            const inheritedGroupRows = this.mergePlaceholderRowsForEditor([
              this.getGlobalPlaceholderList()
            ]);
            groupData.urlPlaceholders = this.buildPlaceholderRowsForTemplate(
              '',
              this.getGroupPlaceholderList(originalGroup),
              inheritedGroupRows
            );
            
            // Use the generic dialog
            this.openGenericEditDialog(
              'group',
              groupData,
              this.groupEditDesign,
              this.getTranslation('menu.group.editGroup'),
              (editedData) => {
                editedData.shortcut = this.normalizeShortcutText(editedData.shortcut || '');
                const linkedCollapseGroupUuids = this.normalizeLinkedCollapseGroupUuidList(
                  editedData.linkedCollapseGroupUuids || [],
                  originalGroup.uuid
                );
                const linkedCollapseOnCloseGroupUuids = this.normalizeLinkedCollapseGroupUuidList(
                  editedData.linkedCollapseOnCloseGroupUuids || [],
                  originalGroup.uuid
                );
                // Apply changes to the original group
                const nowTs = Date.now();
                Object.assign(originalGroup, editedData);
                this.$set(originalGroup, 'keywords', (editedData.keywords || '').trim());
                this.$set(originalGroup, 'shortcut', editedData.shortcut || '');
                this.$set(originalGroup, 'linkedCollapseGroupUuids', linkedCollapseGroupUuids);
                this.$set(originalGroup, 'linkedCollapseOnCloseGroupUuids', linkedCollapseOnCloseGroupUuids);
                this.applyLinkedCollapseAssignmentsForGroup(originalGroup, linkedCollapseGroupUuids, linkedCollapseOnCloseGroupUuids, nowTs);
                originalGroup.lastEdited = nowTs;
                this.touchGroup(originalGroup, nowTs);

                // Save and sync
                this.saveData();
                this.maybeAutoAdjustGroupHeightAfterLinkChange(originalGroup);
                
                // Sync to group members if this is a shared/synced group with proper topic/key
                try {
                  const sharing = window.sharing;
                  const canSyncGroup = sharing && originalGroup && originalGroup.shared && originalGroup.groupId && originalGroup.groupTopic && originalGroup.groupKey && !originalGroup.groupKey.startsWith('contact:');
                  if (canSyncGroup) {
                    const snapshot = {
                      action: 'update',
                      element: 'group',
                      group: this.serializeGroupMetaForSync(originalGroup),
                      ts: Date.now()
                    };
                    sharing.sendToGroup(originalGroup, snapshot);
                  }
                } catch {}
              },
              {
                groupUuid: originalGroup?.uuid || '',
                groupName: originalGroup?.name || ''
              }
            );
            if (options?.focusSection) {
              this.$nextTick(() => {
                this.focusGenericEditSection(options.focusSection, this.groupEditDesign);
              });
            }
          } else {
            debugLog('error', "Original group not found for editing:", group.uuid);
          }
          this.hideMenus(); // Men trotzdem schlieen
        },
        saveGroupEditModal() {
          if (!this.editGroup) return;
          const originalGroup = this.data.groups.find(g => g.uuid === this.editGroup.uuid);
          if (originalGroup) {
            const nowTs = Date.now();
            this.$set(originalGroup, 'name', this.editGroup.name.trim() || 'Group');
            this.$set(originalGroup, 'keywords', this.editGroup.keywords?.trim() || '');
            this.$set(originalGroup, 'shortcut', this.normalizeShortcutText(this.editGroup.shortcut || ''));
            this.$set(originalGroup, 'color', this.editGroup.color || '');
            this.$set(originalGroup, 'titleFormatting', this.editGroup.titleFormatting || '');
            this.$set(originalGroup, 'infoHtml', this.sanitizeHtml(this.editGroup.infoHtml?.trim() || ''));
            // Persist formatting fields correctly (override precedence: defaults < group < link)
            this.$set(originalGroup, 'linkFormatting', this.editGroup.linkFormatting || '');
            this.$set(originalGroup, 'badgeFormatting', this.editGroup.badgeFormatting || '');
            this.$set(originalGroup, 'pillFormatting', this.editGroup.pillFormatting || '');
            this.$set(originalGroup, 'infoHtml', this.editGroup.infoHtml?.trim() || '');
            const linkedCollapseGroupUuids = this.normalizeLinkedCollapseGroupUuidList(
              this.editGroup.linkedCollapseGroupUuids !== undefined
                ? (this.editGroup.linkedCollapseGroupUuids || [])
                : (originalGroup.linkedCollapseGroupUuids || []),
              originalGroup.uuid
            );
            const linkedCollapseOnCloseGroupUuids = this.normalizeLinkedCollapseGroupUuidList(
              this.editGroup.linkedCollapseOnCloseGroupUuids !== undefined
                ? (this.editGroup.linkedCollapseOnCloseGroupUuids || [])
                : (originalGroup.linkedCollapseOnCloseGroupUuids || []),
              originalGroup.uuid
            );
            this.$set(originalGroup, 'linkedCollapseGroupUuids', linkedCollapseGroupUuids);
            this.$set(originalGroup, 'linkedCollapseOnCloseGroupUuids', linkedCollapseOnCloseGroupUuids);
            this.applyLinkedCollapseAssignmentsForGroup(originalGroup, linkedCollapseGroupUuids, linkedCollapseOnCloseGroupUuids, nowTs);
            const op = Number(this.editGroup.opacity);
            const clamped = isNaN(op) ? 100 : Math.max(0, Math.min(100, op));
            this.$set(originalGroup, 'opacity', clamped);
            this.touchGroup(originalGroup, nowTs);
            this.saveData();
            // Broadcast group-meta and snapshot if shared (Owner only)
            try {
              if (originalGroup.shared && originalGroup.groupTopic && originalGroup.groupKey && this.isOwnerOfGroup(originalGroup)) {
                const from = { uuid: this.data.identity?.uuid, name:this.data.identity?.name||'' };
                sharing.sendToGroup(originalGroup, { 
                  v:1, 
                  type:'group-meta', 
                  ts:Date.now(), 
                  from, 
                  groupId: originalGroup.groupId||originalGroup.uuid, 
                  ...this.serializeGroupMetaForSync(originalGroup) 
                });
                const snapshot = { 
                  v:1, 
                  type:'group-update', 
                  ts:Date.now(), 
                  from, 
                  ...this.serializeGroupForSync(originalGroup), 
                  msgId:(Math.random().toString(36).slice(2)+Date.now()) 
                };
                sharing.sendToGroup(originalGroup, snapshot);
              }
            } catch {}
          }
          // Use Bootstrap 5 JS API
          const modalElement = document.getElementById('groupEditModal');
          const modalInstance = bootstrap.Modal.getInstance(modalElement);
          if (modalInstance) {
            modalInstance.hide();
          }
          this.editGroup = null; // Clear edit state
        },
        
        // JSON Inspector methods
        inspectGroupJSON(group) {
          const originalGroup = this.data.groups.find(g => g.uuid === group.uuid);
          if (originalGroup) {
            this.inspectedGroup = originalGroup;
            // Pretty print JSON with 2 space indentation
            this.inspectedGroupJSON = JSON.stringify(originalGroup, null, 2);
            
            // Show the modal
            this.$nextTick(() => {
              const modalElement = document.getElementById('jsonInspectorModal');
              if (modalElement) {
                const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
                modalInstance.show();
              }
            });
          }
        },
        
        copyGroupJSON() {
          if (!this.inspectedGroupJSON) return;
          
          // Create a temporary textarea to copy from
          const textarea = document.createElement('textarea');
          textarea.value = this.inspectedGroupJSON;
          textarea.style.position = 'fixed';
          textarea.style.opacity = '0';
          document.body.appendChild(textarea);
          textarea.select();
          
          try {
            document.execCommand('copy');
            // Show success feedback
            const copyBtn = event.target.closest('button');
            if (copyBtn) {
              const originalText = copyBtn.innerHTML;
              copyBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/></svg> Copied!';
              setTimeout(() => {
                copyBtn.innerHTML = originalText;
              }, 2000);
            }
          } catch (err) {
            debugLog('error', 'Failed to copy JSON:', err);
            alert('Failed to copy JSON to clipboard');
          } finally {
            document.body.removeChild(textarea);
          }
        },
        
        formatBytes(bytes) {
          if (bytes === 0) return '0 Bytes';
          const k = 1024;
          const sizes = ['Bytes', 'KB', 'MB', 'GB'];
          const i = Math.floor(Math.log(bytes) / Math.log(k));
          return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        },
        
        // Event Log Helper Methods
        getSortedEventLog(eventLog) {
          if (!eventLog || !Array.isArray(eventLog)) return [];
          // Sort by timestamp descending (newest first)
          return [...eventLog].sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0));
        },
        
        formatEventTime(timestamp) {
          if (!timestamp) return 'N/A';
          const date = new Date(timestamp);
          const now = new Date();
          const diffMs = now - date;
          const diffMins = Math.floor(diffMs / CONSTS.MINUTE_MS);
          const diffHours = Math.floor(diffMs / 3600000);
          const diffDays = Math.floor(diffMs / 86400000);
          
          // Format full date and time with seconds
          const fullDateTime = moment(date).format('L LTS'); // Date + time with seconds
          
          // Calculate relative time
          let relativeTime;
          if (diffMins < 1) relativeTime = 'Just now';
          else if (diffMins < 60) relativeTime = `${diffMins} min ago`;
          else if (diffHours < 24) relativeTime = `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;
          else if (diffDays < 7) relativeTime = `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;
          else relativeTime = null;
          
          // Return both: full date/time and relative time (if recent)
          if (relativeTime) {
            return `${fullDateTime} (${relativeTime})`;
          } else {
            return fullDateTime;
          }
        },
        
        getEventTypeBadgeClass(type) {
          const typeClasses = {
            'link-add': 'bg-success',
            'link-edit': 'bg-primary',
            'link-delete': 'bg-danger',
            'snapshot': 'bg-info',
            'member-join': 'bg-warning',
            'member-leave': 'bg-secondary'
          };
          return typeClasses[type] || 'bg-secondary';
        },
        
        getAuthorName(authorId) {
          if (!authorId) return 'System';
          if (authorId === 'system') return 'System';
          if (authorId === this.data.identity?.uuid) return 'You';
          
          // Try to find in contacts
          const contact = this.data.contacts?.find(c => c.uuid === authorId);
          if (contact) return contact.name;
          
          // Try to find in group members
          if (this.inspectedGroup && this.inspectedGroup.members) {
            const member = this.inspectedGroup.members.find(m => m.uuid === authorId);
            if (member) return member.name;
          }
          
          // Show shortened UUID as fallback
          return authorId.substring(0, 8) + '...';
        },
        
        getEventDetailsFormatted(event) {
          const details = this.getEventDetails(event);
          
          // Support both event structures
          const eventType = event.operation?.type || event.type;
          const eventData = event.operation?.data || event.data;
          
          // For multi-field edits, format as list
          if (eventType === 'link-edit' && eventData) {
            // For operation structure, data contains changes directly
            // For legacy structure, data.changes contains the changes
            const changes = event.operation ? eventData : (eventData.changes || eventData);
            const lines = [];
            
            if (!eventData.oldValues) {
              // Reconstruct old values from history
              const eventLog = this.inspectedGroup?.eventLog;
              const reconstructed = this.reconstructOldValues(event, eventLog);
              const oldValues = reconstructed || {};
              
              // Show reconstructed old  new format
              if (changes.text !== undefined) {
                const oldText = oldValues.text || '';
                const newText = changes.text || '';
                const oldDisplay = oldText ? `"${this.escapeHtml(oldText)}"` : '<em>empty</em>';
                const newDisplay = newText ? `"${this.escapeHtml(newText)}"` : '<em>empty</em>';
                lines.push(`<strong>Text:</strong> ${oldDisplay}  ${newDisplay}`);
              }
              if (changes.url !== undefined) {
                const oldUrl = oldValues.url || '';
                const newUrl = changes.url || '';
                const shortOld = oldUrl.length > 40 ? oldUrl.substring(0, 40) + '...' : oldUrl;
                const shortNew = newUrl.length > 40 ? newUrl.substring(0, 40) + '...' : newUrl;
                const oldDisplay = oldUrl ? `"${this.escapeHtml(shortOld)}"` : '<em>empty</em>';
                const newDisplay = newUrl ? `"${this.escapeHtml(shortNew)}"` : '<em>empty</em>';
                lines.push(`<strong>URL:</strong> ${oldDisplay}  ${newDisplay}`);
              }
              if (changes.keywords !== undefined) {
                const oldKeywords = oldValues.keywords || '';
                const newKeywords = changes.keywords || '';
                const oldDisplay = oldKeywords ? `"${this.escapeHtml(oldKeywords)}"` : '<em>empty</em>';
                const newDisplay = newKeywords ? `"${this.escapeHtml(newKeywords)}"` : '<em>empty</em>';
                lines.push(`<strong>Keywords:</strong> ${oldDisplay}  ${newDisplay}`);
              }
              if (changes.color !== undefined) {
                const oldColor = oldValues.color || 'default';
                const newColor = changes.color || 'default';
                lines.push(`<strong>Color:</strong> <span style="background-color: ${oldColor === 'default' ? '#f8f9fa' : oldColor}; padding: 2px 6px; border-radius: 3px;">${this.escapeHtml(oldColor)}</span>  <span style="background-color: ${newColor === 'default' ? '#f8f9fa' : newColor}; padding: 2px 6px; border-radius: 3px;">${this.escapeHtml(newColor)}</span>`);
              }
              if (changes.infoHtml !== undefined) {
                lines.push(`<strong>Info text:</strong> updated`);
              }
            } else {
              // New events with oldValues - show old  new format
              const oldValues = eventData.oldValues;
              
              if (changes.text !== undefined) {
                const oldText = oldValues.text || '';
                const newText = changes.text || '';
                const oldDisplay = oldText ? `"${this.escapeHtml(oldText)}"` : '<em>empty</em>';
                const newDisplay = newText ? `"${this.escapeHtml(newText)}"` : '<em>empty</em>';
                lines.push(`<strong>Text:</strong> ${oldDisplay}  ${newDisplay}`);
              }
              if (changes.url !== undefined) {
                const oldUrl = oldValues.url || '';
                const newUrl = changes.url || '';
                const shortOld = oldUrl.length > 40 ? oldUrl.substring(0, 40) + '...' : oldUrl;
                const shortNew = newUrl.length > 40 ? newUrl.substring(0, 40) + '...' : newUrl;
                const oldDisplay = oldUrl ? `"${this.escapeHtml(shortOld)}"` : '<em>empty</em>';
                const newDisplay = newUrl ? `"${this.escapeHtml(shortNew)}"` : '<em>empty</em>';
                lines.push(`<strong>URL:</strong> ${oldDisplay}  ${newDisplay}`);
              }
              if (changes.keywords !== undefined) {
                const oldKeywords = oldValues.keywords || '';
                const newKeywords = changes.keywords || '';
                const oldDisplay = oldKeywords ? `"${this.escapeHtml(oldKeywords)}"` : '<em>empty</em>';
                const newDisplay = newKeywords ? `"${this.escapeHtml(newKeywords)}"` : '<em>empty</em>';
                lines.push(`<strong>Keywords:</strong> ${oldDisplay}  ${newDisplay}`);
              }
              if (changes.color !== undefined) {
                const oldColor = oldValues.color || 'default';
                const newColor = changes.color || 'default';
                lines.push(`<strong>Color:</strong> <span style="background-color: ${oldColor === 'default' ? '#f8f9fa' : oldColor}; padding: 2px 6px; border-radius: 3px;">${this.escapeHtml(oldColor)}</span>  <span style="background-color: ${newColor === 'default' ? '#f8f9fa' : newColor}; padding: 2px 6px; border-radius: 3px;">${this.escapeHtml(newColor)}</span>`);
              }
              if (changes.infoHtml !== undefined) {
                lines.push(`<strong>Info text:</strong> updated`);
              }
            }
            
            return this.sanitizeHtml(lines.join('<br>'));
          }
          
          // For simple cases, escape HTML and return sanitized
          return this.sanitizeHtml(this.escapeHtml(details));
        },
        
        escapeHtml(text) {
          const map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
          };
          return text.replace(/[&<>"']/g, m => map[m]);
        },
        // Sanitize strings for safe v-html usage (small allowlist)
        sanitizeHtml(input) {
          try {
            const html = String(input || '');
            const allowedTags = new Set(['b','i','strong','em','u','br','p','ul','ol','li','span','a','small','code','pre']);
            const allowedAttrs = { a: new Set(['href','title','target','rel']) };
            const div = document.createElement('div');
            div.innerHTML = html;
            const traverse = (node) => {
              // Remove script/style and disallowed nodes
              if (node.nodeType === 1) {
                const tag = node.tagName.toLowerCase();
                if (!allowedTags.has(tag)) {
                  node.replaceWith(document.createTextNode(node.textContent || ''));
                  return;
                }
                // Remove event handlers and non-allowed attributes
                [...node.attributes].forEach(attr => {
                  const name = attr.name.toLowerCase();
                  if (name.startsWith('on')) node.removeAttribute(attr.name);
                  if (tag === 'a') {
                    if (!allowedAttrs.a.has(name)) node.removeAttribute(attr.name);
                    if (name === 'href') {
                      const href = (attr.value || '').trim();
                      const safe = /^(https?:|mailto:)/i.test(href) ? href : '#';
                      node.setAttribute('href', safe);
                      node.setAttribute('rel', 'noopener noreferrer');
                    }
                    if (name === 'target') {
                      node.setAttribute('target', '_blank');
                    }
                  } else {
                    if (name !== 'title') node.removeAttribute(attr.name);
                  }
                });
              }
              // Recurse children
              for (const child of [...node.childNodes]) traverse(child);
            };
            for (const child of [...div.childNodes]) traverse(child);
            return div.innerHTML;
          } catch (e) {
            debugLog('warn', 'sanitizeHtml failed', e);
            return '';
          }
        },
        // Sanitize inline HTML for link text inside an <a>: unwrap any nested anchors
        sanitizeInlineNoAnchor(input) {
          try {
            const html = this.sanitizeHtml(input || '');
            const div = document.createElement('div');
            div.innerHTML = html;
            const anchors = div.querySelectorAll('a');
            anchors.forEach(a => {
              const span = document.createElement('span');
              span.innerHTML = a.innerHTML; // keep inner formatting, drop href/target
              a.parentNode.replaceChild(span, a);
            });
            return div.innerHTML;
          } catch (e) {
            debugLog('warn', 'sanitizeInlineNoAnchor failed', e);
            return '';
          }
        },
        // Central keyword parsing helper
        parseKeywords(value) {
          if (!value) return [];
          if (Array.isArray(value)) return value.map(s => String(s).trim()).filter(Boolean);
          if (typeof value === 'string') return value.split(/[,;]+/).map(s => s.trim()).filter(Boolean);
          return [];
        },
        
        reconstructOldValues(event, allEvents) {
          // Find the previous state of this link by going through history
          // Support both event structures
          const linkId = event.operation?.linkId || event.data?.linkId;
          if (!linkId || !allEvents) return null;
          
          // Find events for this link before the current event
          const linkEvents = allEvents.filter(e => {
            const eLinkId = e.operation?.linkId || e.data?.linkId;
            return eLinkId === linkId && e.timestamp < event.timestamp;
          }).sort((a, b) => a.timestamp - b.timestamp);
          
          // Start with initial values (from link-add or snapshot)
          let currentState = {
            text: '',
            url: '', 
            keywords: '',
            color: '',
            infoHtml: ''
          };
          
          // Apply all changes up to (but not including) this event
          for (const evt of linkEvents) {
            const evtType = evt.operation?.type || evt.type;
            const evtData = evt.operation?.data || evt.data;
            
            if (evtType === 'link-add') {
              // Initial creation - data is either directly in evtData or in evtData.data
              const linkData = evt.operation ? evtData : (evtData?.data || evtData);
              if (linkData) {
                currentState = {
                  text: linkData.text || '',
                  url: linkData.url || '',
                  keywords: linkData.keywords || '',
                  color: linkData.color || '',
                  infoHtml: linkData.infoHtml || ''
                };
              }
            } else if (evtType === 'link-edit') {
              // Apply changes - for operation structure, changes are directly in evtData
              // For legacy structure, changes are in evtData.changes
              const changes = evt.operation ? evtData : (evtData?.changes || evtData);
              if (changes) {
                if (changes.text !== undefined) currentState.text = changes.text;
                if (changes.url !== undefined) currentState.url = changes.url;
                if (changes.keywords !== undefined) currentState.keywords = changes.keywords;
                if (changes.color !== undefined) currentState.color = changes.color;
                if (changes.infoHtml !== undefined) currentState.infoHtml = changes.infoHtml;
              }
            }
          }
          
          return currentState;
        },
        
        getEventDetails(event) {
          // Support both event structures
          const eventType = event.operation?.type || event.type;
          const eventData = event.operation?.data || event.data;
          
          if (!event || !eventData) return '';
          
          switch(eventType) {
            case 'link-add':
              // For operation structure, data contains link data directly
              // For legacy structure, data.data contains the link data
              const addedLink = event.operation ? eventData : (eventData.data || eventData);
              if (!addedLink) return 'Added link';
              return `Added: "${addedLink.text || 'Untitled'}"  ${addedLink.url || 'No URL'}`;
            
            case 'link-edit':
              // For operation structure, data contains changes directly
              // For legacy structure, data.changes contains the changes  
              const changes = event.operation ? eventData : (eventData.changes || eventData);
              if (!changes) return 'Edited link';
              
              const changeDetails = [];
              
              // For old events without oldValues, reconstruct from history
              if (!eventData.oldValues) {
                // Get the event log from the current inspected group
                const eventLog = this.inspectedGroup?.eventLog;
                const reconstructed = this.reconstructOldValues(event, eventLog);
                const oldValues = reconstructed || {};
                // Use reconstructed old values
                if (changes.text !== undefined) {
                  const oldText = oldValues.text || '';
                  const newText = changes.text || '';
                  const oldDisplay = oldText || '(empty)';
                  const newDisplay = newText || '(empty)';
                  changeDetails.push(`Text: "${oldDisplay}"  "${newDisplay}"`);
                }
                
                if (changes.url !== undefined) {
                  const oldUrl = oldValues.url || '';
                  const newUrl = changes.url || '';
                  const shortOld = oldUrl ? (oldUrl.length > 30 ? oldUrl.substring(0, 30) + '...' : oldUrl) : '(empty)';
                  const shortNew = newUrl ? (newUrl.length > 30 ? newUrl.substring(0, 30) + '...' : newUrl) : '(empty)';
                  changeDetails.push(`URL: ${shortOld}  ${shortNew}`);
                }
                
                if (changes.keywords !== undefined) {
                  const oldKeywords = oldValues.keywords || '';
                  const newKeywords = changes.keywords || '';
                  const oldDisplay = oldKeywords || '(empty)';
                  const newDisplay = newKeywords || '(empty)';
                  changeDetails.push(`Keywords: "${oldDisplay}"  "${newDisplay}"`);
                }
                
                if (changes.color !== undefined) {
                  const oldColor = oldValues.color || '';
                  const newColor = changes.color || '';
                  if (!((!oldColor || oldColor === 'default') && (!newColor || newColor === 'default'))) {
                    const oldDisplay = oldColor || 'default';
                    const newDisplay = newColor || 'default';
                    changeDetails.push(`Color: ${oldDisplay}  ${newDisplay}`);
                  }
                }
                
                if (changes.infoHtml !== undefined) {
                  const oldInfo = oldValues.infoHtml || '';
                  const newInfo = changes.infoHtml || '';
                  if (oldInfo || newInfo) {
                    changeDetails.push('Info text updated');
                  }
                }
              } else {
                // New events with oldValues - show old  new format
                const oldValues = eventData.oldValues;
                if (changes.text !== undefined) {
                  const oldText = oldValues.text || '';
                  const newText = changes.text || '';
                  const oldDisplay = oldText || '(empty)';
                  const newDisplay = newText || '(empty)';
                  changeDetails.push(`Text: "${oldDisplay}"  "${newDisplay}"`);
                }
                
                if (changes.url !== undefined) {
                  const oldUrl = oldValues.url || '';
                  const newUrl = changes.url || '';
                  // Shorten URLs if too long
                  const shortOld = oldUrl ? (oldUrl.length > 30 ? oldUrl.substring(0, 30) + '...' : oldUrl) : '(empty)';
                  const shortNew = newUrl ? (newUrl.length > 30 ? newUrl.substring(0, 30) + '...' : newUrl) : '(empty)';
                  changeDetails.push(`URL: ${shortOld}  ${shortNew}`);
                }
                
                if (changes.keywords !== undefined) {
                  const oldKeywords = oldValues.keywords || '';
                  const newKeywords = changes.keywords || '';
                  const oldDisplay = oldKeywords || '(empty)';
                  const newDisplay = newKeywords || '(empty)';
                  changeDetails.push(`Keywords: "${oldDisplay}"  "${newDisplay}"`);
                }
                
                if (changes.color !== undefined) {
                  const oldColor = oldValues.color || '';
                  const newColor = changes.color || '';
                  // Only show if really changed
                  if (!((!oldColor || oldColor === 'default') && (!newColor || newColor === 'default'))) {
                    const oldDisplay = oldColor || 'default';
                    const newDisplay = newColor || 'default';
                    changeDetails.push(`Color: ${oldDisplay}  ${newDisplay}`);
                  }
                }
                
                if (changes.infoHtml !== undefined) {
                  const oldInfo = oldValues.infoHtml || '';
                  const newInfo = changes.infoHtml || '';
                  if (oldInfo || newInfo) {
                    changeDetails.push('Info text updated');
                  }
                }
              }
              
              if (changeDetails.length === 0) {
                return 'Link edited';
              }
              
              // If only one change, show it directly
              if (changeDetails.length === 1) {
                return changeDetails[0];
              }
              
              // Multiple changes: show count and first change
              return `${changeDetails.length} changes: ${changeDetails[0]}`;
            
            case 'link-delete':
              // For operation structure, data.deletedLink contains the deleted link
              // For legacy structure, data.deletedLink also contains it
              const deletedLink = eventData.deletedLink || eventData;
              const linkId = event.operation?.linkId || eventData.linkId;
              if (!deletedLink || !deletedLink.text) return `Deleted link ID: ${linkId}`;
              return `Deleted: "${deletedLink.text || 'Untitled'}" (${deletedLink.url || 'No URL'})`;
            
            case 'snapshot':
              const snapshotData = eventData.data || eventData;
              if (!snapshotData) return 'Created snapshot';
              return `Snapshot: ${snapshotData.links?.length || 0} links, ${snapshotData.members?.length || 0} members`;
            
            default:
              return JSON.stringify(eventData).substring(0, 100);
          }
        },
        
        showQrCodeModal(url) {
          this.hideMenus();
          if (!url) return;
          this.qrCodeUrl = url;
          Vue.nextTick(() => { // Ensure modal structure is ready
            const qrCodeDiv = document.getElementById('qrCodeDiv');
            if (qrCodeDiv) {
              qrCodeDiv.innerHTML = ''; // Clear previous QR code
              try {
                new QRCode(qrCodeDiv, {
                  text: url,
                  width: 256, // Adjust size as needed
                  height: 256,
                  colorDark: "#000000",
                  colorLight: "#ffffff",
                  correctLevel: QRCode.CorrectLevel.H
                });
              } catch (e) {
                debugLog('error', "QR Code generation failed:", e);
                qrCodeDiv.innerHTML = "Could not generate QR Code.";
              }
            }
            // Use Bootstrap 5 JS API
            const modalElement = document.getElementById('qrCodeModal');
            const modalInstance = bootstrap.Modal.getOrCreateInstance(modalElement);
            modalInstance.show();
          });
        },

        copyLinkToClipboard(link, explicitUrl = null) {
          const effectiveUrl = explicitUrl || this.getEffectiveLinkUrl(link);
          if (!link || !effectiveUrl) return;

          // Get customizable format from options
          const format = this.data.options?.links?.copyUrlFormat || '{title}: {url}';

          // Replace placeholders with actual values
          const title = this.getEffectiveLinkText(link) || effectiveUrl;
          const keywords = this.getEffectiveLinkKeywords(link) || '';
          const clipboardText = format
            .replace('{title}', title)
            .replace('{url}', effectiveUrl)
            .replace('{text}', title) // Alternative placeholder
            .replace('{keywords}', keywords)
            .replace('{date}', new Date().toLocaleDateString())
            .replace('{time}', new Date().toLocaleTimeString());

          // Copy to clipboard
          navigator.clipboard.writeText(clipboardText).then(() => {
            // Show success toast
            toastManager.success(
              this.getTranslation('link.urlCopied') || 'URL copied',
              `<code style="word-break: break-all;">${this.escapeHtml(clipboardText.substring(0, 100))}${clipboardText.length > 100 ? '...' : ''}</code>`,
              3000
            );
            debugLog('log', `Copied to clipboard: ${clipboardText}`);
          }).catch(err => {
            // Fallback for older browsers
            const textArea = document.createElement('textarea');
            textArea.value = clipboardText;
            textArea.style.position = 'fixed';
            textArea.style.top = '-9999px';
            document.body.appendChild(textArea);
            textArea.select();
            try {
              document.execCommand('copy');
              toastManager.success(
                this.getTranslation('link.urlCopied') || 'URL copied',
                `<code style="word-break: break-all;">${this.escapeHtml(clipboardText.substring(0, 100))}${clipboardText.length > 100 ? '...' : ''}</code>`,
                3000
              );
              debugLog('log', `Copied to clipboard (fallback): ${clipboardText}`);
            } catch (fallbackErr) {
              debugLog('error', 'Failed to copy to clipboard:', fallbackErr);
              toastManager.error(
                this.getTranslation('link.copyFailed') || 'Failed to copy URL',
                this.getTranslation('link.copyError') || 'Could not access clipboard',
                5000
              );
            }
            document.body.removeChild(textArea);
          });
        },

        normalizeShortcutKeyName(key) {
          return MB.Shortcuts.normalizeKeyName(key);
        },
        normalizeShortcutText(value) {
          return MB.Shortcuts.normalizeText(value);
        },
        normalizeShortcutFromEvent(event) {
          return MB.Shortcuts.normalizeFromEvent(event);
        },
        isReservedShortcutCombo(combo) {
          return MB.Shortcuts.isReserved(combo);
        },
        invalidateShortcutUrlCache() {
          if (!this._shortcutUrlCache) {
            this._shortcutUrlCache = { dirty: true, byCombo: new Map() };
            return;
          }
          this._shortcutUrlCache.dirty = true;
        },
        ensureShortcutUrlCache() {
          if (!this._shortcutUrlCache) {
            this._shortcutUrlCache = { dirty: true, byCombo: new Map() };
          }
          if (this._shortcutUrlCache.dirty) {
            this._shortcutUrlCache.byCombo = MB.Shortcuts.buildUrlIndex(this);
            this._shortcutUrlCache.dirty = false;
          }
          return this._shortcutUrlCache;
        },
        parseShortcutUrlsInput(value) {
          if (Array.isArray(value)) return value.map(v => String(v || '').trim()).filter(Boolean);
          const text = String(value || '');
          return text
            .split(/\r?\n|[,;]/)
            .map(part => part.trim())
            .filter(Boolean);
        },
        normalizeShortcutUrlListFromText(value) {
          const tokens = this.parseShortcutUrlsInput(value);
          const urls = [];
          tokens.forEach((token) => {
            const normalized = MB.Utils.ensureProtocol(token);
            if (!MB.Utils.isValidHttpUrl(normalized)) return;
            urls.push(normalized);
          });
          return [...new Set(urls)];
        },
        normalizeGlobalShortcutList(list, { ensureId = false } = {}) {
          if (!Array.isArray(list)) return [];
          const indexData = this.getShortcutTargetIndex();
          const merged = new Map();
          list.forEach((entry) => {
            const combo = this.normalizeShortcutText(entry?.combo || entry?.shortcut || '');
            if (!combo) return;
            const selectedGroupIds = this.normalizeShortcutIdList(entry?.groupIds || entry?.groups || [])
              .filter((groupId) => indexData.groupIds.has(groupId));
            const coveredLinkIds = new Set();
            selectedGroupIds.forEach((groupId) => {
              (indexData.groupToLinks.get(groupId) || []).forEach((linkId) => coveredLinkIds.add(linkId));
            });
            const selectedLinkIds = this.normalizeShortcutIdList(entry?.linkIds || entry?.links || [])
              .filter((linkId) => indexData.linkIds.has(linkId) && !coveredLinkIds.has(linkId));
            const urls = this.normalizeShortcutUrlListFromText(entry?.urls || entry?.urlsText || '');
            if (!selectedGroupIds.length && !selectedLinkIds.length && !urls.length) return;
            const current = merged.get(combo) || {
              id: '',
              combo,
              name: '',
              groupIds: [],
              linkIds: [],
              urls: []
            };
            if (!current.id && entry?.id) current.id = String(entry.id);
            if (!current.name && entry?.name) current.name = String(entry.name || '').trim();
            current.groupIds = [...new Set([...(current.groupIds || []), ...selectedGroupIds])];
            current.linkIds = [...new Set([...(current.linkIds || []), ...selectedLinkIds])];
            current.urls = [...new Set([...(current.urls || []), ...urls])];
            merged.set(combo, current);
          });
          return Array.from(merged.values())
            .map((entry) => {
              const groupIds = this.normalizeShortcutIdList(entry.groupIds || [])
                .filter((groupId) => indexData.groupIds.has(groupId));
              const coveredLinkIds = new Set();
              groupIds.forEach((groupId) => {
                (indexData.groupToLinks.get(groupId) || []).forEach((linkId) => coveredLinkIds.add(linkId));
              });
              const linkIds = this.normalizeShortcutIdList(entry.linkIds || [])
                .filter((linkId) => indexData.linkIds.has(linkId) && !coveredLinkIds.has(linkId));
              const urls = this.normalizeShortcutUrlListFromText(entry.urls || []);
              return {
                id: entry.id || (ensureId ? this.generateUUID() : ''),
                combo: entry.combo,
                name: entry.name || '',
                groupIds,
                linkIds,
                urls
              };
            })
            .sort((a, b) => a.combo.localeCompare(b.combo));
        },
        collectUrlsForShortcutCombo(combo) {
          const normalizedCombo = this.normalizeShortcutText(combo || '');
          if (!normalizedCombo) return [];
          const cache = this.ensureShortcutUrlCache();
          const urlSet = cache.byCombo.get(normalizedCombo);
          return urlSet ? Array.from(urlSet) : [];
        },
        captureShortcutField(sectionKey, fieldKey, event) {
          if (!event) return;
          if (event.key === 'Tab') return;
          if (event.key === 'Escape' || event.key === 'Backspace' || event.key === 'Delete') {
            event.preventDefault();
            this.setGenericFieldValue(sectionKey, fieldKey, '');
            return;
          }
          const combo = this.normalizeShortcutFromEvent(event);
          if (!combo) {
            event.preventDefault();
            return;
          }
          if (this.isReservedShortcutCombo(combo)) {
            event.preventDefault();
            this.showToast(this.getTranslation('link.shortcut.reserved') || 'This shortcut is reserved by the browser/system.', 'warning');
            return;
          }
          event.preventDefault();
          this.setGenericFieldValue(sectionKey, fieldKey, combo);
        },
        clearShortcutField(sectionKey, fieldKey) {
          this.setGenericFieldValue(sectionKey, fieldKey, '');
        },
        tryHandleLinkShortcut(event) {
          const active = document.activeElement;
          if (active && (active.isContentEditable || ['INPUT', 'TEXTAREA', 'SELECT'].includes(active.tagName))) return false;
          if (document.querySelector('.modal.show')) return false;

          const combo = this.normalizeShortcutFromEvent(event);
          if (!combo) return false;
          if (this.isReservedShortcutCombo(combo)) return false;

          const uniqueUrls = this.collectUrlsForShortcutCombo(combo);
          if (!uniqueUrls.length) return false;

          event.preventDefault();
          event.stopPropagation();

          const confirmThreshold = 8;
          if (uniqueUrls.length > confirmThreshold) {
            const confirmText = (this.getTranslation('link.shortcut.confirmMany') || 'Open {count} links at once?')
              .replace('{count}', uniqueUrls.length);
            if (!confirm(confirmText)) {
              this.shortcutOpenQueue = null;
              return true;
            }
          }

          const openInNewTab = this.data?.options?.links?.openInNewTab !== false;
          const queueKey = `combo:${combo}`;
          const result = this.openShortcutUrls(uniqueUrls, openInNewTab, queueKey);
          this.showShortcutOpenResultToast(result);
          return true;
        },
        handleGlobalKeyDown(event) {
          if (this.localSecurity.locked) return;
          if (this.tryHandleLinkShortcut(event)) return;
          if (this.data?.options?.common?.searchAsYouType &&
            !event.ctrlKey && !event.metaKey && !event.altKey && // Ignore modifier keys
            event.key.length === 1 && // Detect printable characters
            !['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName)) // Ignore if typing in input/textarea
          {
            const searchInput = document.getElementById('searchFilter');
            if (searchInput && document.activeElement !== searchInput) {
              searchInput.focus();
              // Note: The character typed won't automatically appear,
              // but focus is now set for subsequent typing.
              // To add the first char: searchInput.value += event.key; this.filterText = searchInput.value;
            }
          }
        },
        // Debounced saving to reduce IndexedDB writes
        saveData() {
          if (!this._debouncedSave) {
            this._debouncedSave = debounce(this.saveDataImmediate, 300).bind(this);
          }
          this._debouncedSave();
        },
        async saveDataImmediate() {
          try {
            if (!this.dataLoaded && !this._allowSaveDuringLoad) {
              debugLog('warn', '[SAVE] Skipping save: data not loaded yet.');
              return;
            }
            if (this.loadFailed) {
              debugLog('warn', '[SAVE] Skipping save: last load failed.');
              return;
	            }
	            const savableData = this.getSavableData();
	            const plainJson = JSON.stringify(savableData);
	            const hasDataChanged = !!this.lastSavedJson && this.lastSavedJson !== plainJson;
	            let parsed = plainJson;
            const shouldEncryptLocalData = this.isLocalSecurityEnabled();
            if (shouldEncryptLocalData) {
              if (!this._localEncryptionKey || !this._localEncryptionKdf) {
                debugLog('warn', '[SAVE] Encryption enabled but no active key is available. Save skipped.');
                return;
              }
              const envelope = await this.encryptLocalSecurityEnvelope(savableData, this._localEncryptionKey, this._localEncryptionKdf);
              parsed = JSON.stringify(envelope);
              this.localSecurity.isEncryptedStore = true;
              this.localSecurity.encryptedEnvelope = envelope;
              this.localSecurity.encryptedDataId = this.dataId;
            } else {
              this.localSecurity.isEncryptedStore = false;
              this.localSecurity.encryptedEnvelope = null;
              this.localSecurity.encryptedDataId = -1;
            }
            // History tracking
	            if (this.appInitialized && !this.historyLock) {
	              if (hasDataChanged) {
	                try { this.historyPast.push(JSON.parse(this.lastSavedJson)); } catch { }
	                if (this.historyPast.length > 20) this.historyPast.shift();
	                this.historyFuture = [];
	              }
	            }
            if (this.dataId === -1) {
              const newId = await linksDb.links.add({ data: parsed });
              this.dataId = newId;
              if (this.localSecurity.isEncryptedStore) this.localSecurity.encryptedDataId = newId;
            } else {
              const updated = await linksDb.links.update(this.dataId, { data: parsed });
              if (!updated) {
                debugLog('warn', '[SAVE] Update returned 0 rows. Creating new record.');
                const newId = await linksDb.links.add({ data: parsed });
                this.dataId = newId;
                if (this.localSecurity.isEncryptedStore) this.localSecurity.encryptedDataId = newId;
              }
	            }
	            if (this.localSecurity.isEncryptedStore) this.localSecurity.encryptedDataId = this.dataId;
	            if (hasDataChanged) {
	              this.recordBackupRelevantChange('changes');
	            }
	            this.lastSavedJson = plainJson;
            // Update storage usage after save (debounced to reduce repeated JSON work)
            this.scheduleStorageUsageRecalc(parsed);
          } catch (error) {
            debugLog('error', "Error saving data:", error);
          }
        },

      }, // end methods
    });

    // Make app global for options access (simple approach)
    window.app = app;

  </script>

  <script>
    (() => {
      new Vue({
        el: '#footer',
        data: {
          version: '2026-03-01', // Updated version string
        },
      });
    })();
  </script>

 </body>

</html>
